cscope 15 /home/mdl/amk7371/video_analytics/HM/source/Lib/TLibCommon               0001271944
	@AccessUnit.h

39 #¥agm®
⁄˚


41 #i‚de‡
__ACCESSUNIT__


42 
	#__ACCESSUNIT__


	)

44 
	~<li°
>

45 
	~"NAL.h
"

62 
˛ass
 
	gAc˚ssUnô
 : 
public
 
°d
::
li°
<
NALUnôEBSP
*>

64 
public
:

65 ~
Ac˚ssUnô
()

67 
Ac˚ssUnô
::
ôî©‹
 
ô
 = 
this
->
begö
(); 
	gô
 !this->
íd
(); it++)

69 
dñëe
 *
	gô
;

	@CommonDef.h

38 #i‚de‡
__COMMONDEF__


39 
	#__COMMONDEF__


	)

41 
	~<Æg‹ôhm
>

42 
	~<io°ªam
>

43 #unde‡
NDEBUG


44 
	~<as£π.h
>

45 
	~<limôs
>

47 #i‡
_MSC_VER
 > 1000

49 #¥agm®
w¨nög
–
dißbÀ
 : 4018 )

51 #¥agm®
w¨nög
–
dißbÀ
 : 4800 )

53 
	~"Ty≥Def.h
"

55 #ifde‡
_MSC_VER


56 #i‡
_MSC_VER
 <= 1500

57 
ölöe
 
I¡64
 
	$abs
 (
I¡64
 
x
Ë{  
	`_abs64
(x); 
	}
};

68 
	#NV_VERSION
 "16.23"

69 

	)

74 #ifde‡
__GNUC__


75 
	#NVM_COMPILEDBY
 "[GCC %d.%d.%d]", 
__GNUC__
, 
__GNUC_MINOR__
, 
__GNUC_PATCHLEVEL__


	)

76 #ifde‡
__IA64__


77 
	#NVM_ONARCH
 "[⁄ 64-bô] "

	)

79 
	#NVM_ONARCH
 "[⁄ 32-bô] "

	)

83 #ifde‡
__INTEL_COMPILER


84 
	#NVM_COMPILEDBY
 "[ICC %d]", 
__INTEL_COMPILER


	)

85 #ñi‡ 
_MSC_VER


86 
	#NVM_COMPILEDBY
 "[VS %d]", 
_MSC_VER


	)

89 #i‚de‡
NVM_COMPILEDBY


90 
	#NVM_COMPILEDBY
 "[Unk-CXX]"

	)

93 #ifde‡
_WIN32


94 
	#NVM_ONOS
 "[Wödows]"

	)

95 #ñi‡ 
__löux


96 
	#NVM_ONOS
 "[Löux]"

	)

97 #ñi‡ 
__CYGWIN__


98 
	#NVM_ONOS
 "[Cygwö]"

	)

99 #ñi‡
__APPLE__


100 
	#NVM_ONOS
 "[Ma¯OS X]"

	)

102 
	#NVM_ONOS
 "[Unk-OS]"

	)

105 
	#NVM_BITS
 "[%d bô] ", ((
Void
*) == 8 ? 64 : 32)

106 

	)

107 #i‚de‡
NULL


108 
	#NULL
 0

	)

115 c⁄° 
UI¡
 
	gMAX_UINT
 = 0xFFFFFFFFU;

116 c⁄° 
I¡
 
	gMAX_INT
 = 2147483647;

117 c⁄° 
DoubÀ
 
	gMAX_DOUBLE
 = 1.7e+308;

124 c⁄° 
I¡
 
	gMAX_GOP
 = 64;

125 c⁄° 
I¡
 
	gMAX_NUM_REF_PICS
 = 16;

126 c⁄° 
I¡
 
	gMAX_NUM_REF
 = 16;

127 c⁄° 
I¡
 
	gMAX_QP
 = 51;

128 c⁄° 
I¡
 
	gNOT_VALID
 = -1;

130 c⁄° 
I¡
 
	gAMVP_MAX_NUM_CANDS
 = 2;

131 c⁄° 
I¡
 
	gAMVP_DECIMATION_FACTOR
 = 4;

132 c⁄° 
I¡
 
	gMRG_MAX_NUM_CANDS
 = 5;

135 c⁄° 
I¡
 
	gMAX_TLAYER
 = 7;

137 c⁄° 
I¡
 
	gADAPT_SR_SCALE
 = 1;

139 c⁄° 
I¡
 
	gMAX_NUM_PICS_IN_SOP
 = 1024;

141 c⁄° 
I¡
 
	gMAX_NESTING_NUM_OPS
 = 1024;

142 c⁄° 
I¡
 
	gMAX_NESTING_NUM_LAYER
 = 64;

144 c⁄° 
I¡
 
	gMAX_VPS_NUM_HRD_PARAMETERS
 = 1;

145 c⁄° 
I¡
 
	gMAX_VPS_OP_SETS_PLUS1
 = 1024;

146 c⁄° 
I¡
 
	gMAX_VPS_NUH_RESERVED_ZERO_LAYER_ID_PLUS1
 = 1;

148 c⁄° 
I¡
 
	gMAXIMUM_INTRA_FILTERED_WIDTH
 = 16;

149 c⁄° 
I¡
 
	gMAXIMUM_INTRA_FILTERED_HEIGHT
 = 16;

151 c⁄° 
I¡
 
	gMAX_CPB_CNT
 = 32;

152 c⁄° 
I¡
 
	gMAX_NUM_LAYER_IDS
 = 64;

154 c⁄° 
I¡
 
	gCOEF_REMAIN_BIN_REDUCTION
 = 3;

156 c⁄° 
I¡
 
	gCU_DQP_TU_CMAX
 = 5;

157 c⁄° 
I¡
 
	gCU_DQP_EG_k
 = 0;

159 c⁄° 
I¡
 
	gSBH_THRESHOLD
 = 4;

161 c⁄° 
I¡
 
	gC1FLAG_NUMBER
 = 8;

162 c⁄° 
I¡
 
	gC2FLAG_NUMBER
 = 1;

164 c⁄° 
I¡
 
	gMAX_NUM_VPS
 = 16;

165 c⁄° 
I¡
 
	gMAX_NUM_SPS
 = 16;

166 c⁄° 
I¡
 
	gMAX_NUM_PPS
 = 64;

169 c⁄° 
I¡
 
	gMLS_GRP_NUM
 = 64;

170 c⁄° 
I¡
 
	gMLS_CG_LOG2_WIDTH
 = 2;

171 c⁄° 
I¡
 
	gMLS_CG_LOG2_HEIGHT
 = 2;

172 c⁄° 
I¡
 
	gMLS_CG_SIZE
 = 4;

174 #i‡
ADAPTIVE_QP_SELECTION


175 c⁄° 
I¡
 
	gARL_C_PRECISION
 = 7;

176 c⁄° 
I¡
 
	gLEVEL_RANGE
 = 30;

179 c⁄° 
I¡
 
	gRVM_VCEGAM10_M
 = 4;

181 c⁄° 
I¡
 
	gFAST_UDI_MAX_RDMODE_NUM
 = 35;

183 c⁄° 
I¡
 
	gNUM_INTRA_MODE
 = 36;

184 c⁄° 
I¡
 
	gPLANAR_IDX
 = 0;

185 c⁄° 
I¡
 
	gVER_IDX
 = 26;

186 c⁄° 
I¡
 
	gHOR_IDX
 = 10;

187 c⁄° 
I¡
 
	gDC_IDX
 = 1;

188 c⁄° 
I¡
 
	gNUM_CHROMA_MODE
 = 5;

189 c⁄° 
I¡
 
	gDM_CHROMA_IDX
 = 36;

191 c⁄° 
I¡
 
	gMDCS_ANGLE_LIMIT
 = 4;

192 c⁄° 
I¡
 
	gMDCS_MAXIMUM_WIDTH
 = 8;

193 c⁄° 
I¡
 
	gMDCS_MAXIMUM_HEIGHT
 = 8;

196 c⁄° 
I¡
 
	gLOG2_MAX_NUM_COLUMNS_MINUS1
 = 7;

197 c⁄° 
I¡
 
	gLOG2_MAX_NUM_ROWS_MINUS1
 = 7;

199 c⁄° 
I¡
 
	gCABAC_INIT_PRESENT_FLAG
 = 1;

201 c⁄° 
I¡
 
	gLUMA_INTERPOLATION_FILTER_SUB_SAMPLE_POSITIONS
 = 4;

202 c⁄° 
I¡
 
	gCHROMA_INTERPOLATION_FILTER_SUB_SAMPLE_POSITIONS
 = 8;

204 c⁄° 
I¡
 
	gMAX_NUM_LONG_TERM_REF_PICS
 = 33;

205 c⁄° 
I¡
 
	gNUM_LONG_TERM_REF_PIC_SPS
 = 0;

208 c⁄° 
I¡
 
	gMAX_QP_OFFSET_LIST_SIZE
 = 6;

211 c⁄° 
I¡
 
	gLOSSLESS_AND_MIXED_LOSSLESS_RD_COST_TEST_QP
 = 0;

212 c⁄° 
I¡
 
	gLOSSLESS_AND_MIXED_LOSSLESS_RD_COST_TEST_QP_PRIME
 =4;

214 c⁄° 
I¡
 
	gRExt__GOLOMB_RICE_ADAPTATION_STATISTICS_SETS
 = 4;

215 c⁄° 
I¡
 
	gRExt__GOLOMB_RICE_INCREMENT_DIVISOR
 = 4;

217 c⁄° 
I¡
 
	gRExt__PREDICTION_WEIGHTING_ANALYSIS_DC_PRECISION
 = 0;

219 c⁄° 
I¡
 
	gMAX_TIMECODE_SEI_SETS
 = 3;

221 c⁄° 
I¡
 
	gMAX_CU_DEPTH
 = 6;

222 c⁄° 
I¡
 
	gMAX_CU_SIZE
 = 64;

223 c⁄° 
I¡
 
	gMIN_PU_SIZE
 = 4;

224 c⁄° 
I¡
 
	gMIN_TU_SIZE
 = 4;

225 c⁄° 
I¡
 
	gMAX_TU_SIZE
 = 32;

226 c⁄° 
I¡
 
	gMAX_NUM_PART_IDXS_IN_CTU_WIDTH
 = 
MAX_CU_SIZE
/
MIN_PU_SIZE
;

227 c⁄° 
I¡
 
	gSCALING_LIST_REM_NUM
 = 6;

229 c⁄° 
I¡
 
	gQUANT_SHIFT
 = 14;

230 c⁄° 
I¡
 
	gIQUANT_SHIFT
 = 6;

231 c⁄° 
I¡
 
	gSCALE_BITS
 = 15;

233 c⁄° 
I¡
 
	gSCALING_LIST_NUM
 = 
MAX_NUM_COMPONENT
 * 
NUMBER_OF_PREDICTION_MODES
;

235 c⁄° 
I¡
 
	gSCALING_LIST_START_VALUE
 = 8 ;

236 c⁄° 
I¡
 
	gMAX_MATRIX_COEF_NUM
 = 64 ;

237 c⁄° 
I¡
 
	gMAX_MATRIX_SIZE_NUM
 = 8 ;

238 c⁄° 
I¡
 
	gSCALING_LIST_BITS
 = 8 ;

239 c⁄° 
I¡
 
	gLOG2_SCALING_LIST_NEUTRAL_VALUE
 = 4 ;

240 c⁄° 
I¡
 
	gSCALING_LIST_DC
 = 16 ;

242 c⁄° 
I¡
 
	gCONTEXT_STATE_BITS
 = 6 ;

243 c⁄° 
I¡
 
	gLAST_SIGNIFICANT_GROUPS
 = 10 ;

245 c⁄° 
I¡
 
	gMAX_ENCODER_DEBLOCKING_QUALITY_LAYERS
 = 8 ;

247 c⁄° 
UI¡
 
	gLUMA_LEVEL_TO_DQP_LUT_MAXSIZE
 = 1024;

249 #i‡
FGS_RDD5_ENABLE


250 c⁄° 
I¡
 
	gMAX_NUM_INTENSITIES
 = 256;

251 c⁄° 
I¡
 
	gMAX_NUM_MODEL_VALUES
 = 6;

257 
	gãm∂©e
 <
ty≥«me
 
	gT
> 
ölöe
 
T
 
	$Clù3
 (c⁄° 
T
 
möVÆ
, c⁄° T 
maxVÆ
, c⁄° T 
a
Ë{  
°d
::
mö
<T> (°d::
max
<T> (möVÆ,áË, maxVÆ); 
	}
}

258 
	gãm∂©e
 <
ty≥«me
 
	gT
> 
ölöe
 
T
 
	$ClùBD
(c⁄° 
T
 
x
, c⁄° 
I¡
 
bôDïth
Ë{  
	`Clù3
(
	`T
(0), T((1 << bôDïth)-1), x); 
	}
}

260 
	gãm∂©e
 <
ty≥«me
 
	gT
> 
ölöe
 
Void
 
	$Check3
–
T
 
möVÆ
, T 
maxVÆ
, T 
a
)

262 i‡((
a
 > 
maxVÆ
Ë|| (®< 
möVÆ
))

264 
°d
::
˚º
 << "ERROR: R™gêcheck " << 
möVÆ
 << " >" << 
a
 << " <" << 
maxVÆ
 << " faûed" << std::
ídl
;

265 
	`as£π
(
Ál£
);

266 
	`exô
(1);

268 
	}
}

270 
	#DATA_ALIGN
 1

271 #i‡ 
DATA_ALIGN
 && 
_WIN32
 && ( 
_MSC_VER
 > 1300 )

	)

272 
	#xMÆloc
–
ty≥
, 
Àn
 ) 
	`_Æig√d_mÆloc
–—y≥)*÷í), 32 )

	)

273 
	#xFªe
–
±r
 ) 
	`_Æig√d_‰ì
 (Öå )

	)

275 
	#xMÆloc
–
ty≥
, 
Àn
 ) 
	`mÆloc
 ( —y≥)*÷íË)

	)

276 
	#xFªe
–
±r
 ) 
	`‰ì
 (Öå )

	)

279 
	#FATAL_ERROR_0
(
MESSAGE
, 
EXITCODE
) \

281 
	`¥ötf
(
MESSAGE
); \

282 
	`exô
(
EXITCODE
); \

283 }

	)

285 
	gãm∂©e
 <
ty≥«me
 
	gVÆueTy≥
> 
ölöe
 
VÆueTy≥
 
	$À·Shi·
 (c⁄° 
VÆueTy≥
 
vÆue
, c⁄° 
I¡
 
shi·
Ë{  (shi· >0Ë? ( vÆuê<< shi·Ë: ( vÆuê>> -shi·); 
	}
}

286 
	gãm∂©e
 <
ty≥«me
 
	gVÆueTy≥
> 
ölöe
 
VÆueTy≥
 
	$rightShi·
 (c⁄° 
VÆueTy≥
 
vÆue
, c⁄° 
I¡
 
shi·
Ë{  (shi· >0Ë? ( vÆuê>> shi·Ë: ( vÆuê<< -shi·); 
	}
}

287 
	gãm∂©e
 <
ty≥«me
 
	gVÆueTy≥
> 
ölöe
 
VÆueTy≥
 
	$À·Shi·_round
 (c⁄° 
VÆueTy≥
 
vÆue
, c⁄° 
I¡
 
shi·
Ë{  (shi· >0Ë? ( vÆuê<< shi·Ë: ((vÆuê+ (
	`VÆueTy≥
(1Ë<< (-shi· - 1))Ë>> -shi·); 
	}
}

288 
	gãm∂©e
 <
ty≥«me
 
	gVÆueTy≥
> 
ölöe
 
VÆueTy≥
 
	$rightShi·_round
(c⁄° 
VÆueTy≥
 
vÆue
, c⁄° 
I¡
 
shi·
Ë{  (shi· >0Ë? ((vÆuê+ (
	`VÆueTy≥
(1Ë<< (shi· - 1))Ë>> shi·Ë: ( vÆuê<< -shi·); 
	}
}

289 #i‡
O0043_BEST_EFFORT_DECODING


294 
	gãm∂©e
 <
ty≥«me
 
	gVÆueTy≥
> 
ölöe
 
VÆueTy≥
 
	$rightShi·EvíRoundög
(c⁄° 
VÆueTy≥
 
vÆue
, c⁄° 
UI¡
 
shi·
Ë{  (shi· =0Ë? vÆuê: ((vÆuê+ (1<<(shi·-1))-1 + ((vÆue>>shi·)&1)Ë>> shi·Ë; 
	}
}

	@ContextModel.cpp

38 
	~<Æg‹ôhm
>

40 
	~"C⁄ãxtModñ.h
"

42 
usög
 
«me•a˚
 
	g°d
;

56 
Void
 
	gC⁄ãxtModñ
::
	$öô
–
I¡
 
qp
, I¡ 
öôVÆue
 )

58 
qp
 = 
	`Clù3
(0, 51, qp);

60 
I¡
 
¶›e
 = (
öôVÆue
>>4)*5 - 45;

61 
I¡
 
off£t
 = ((
öôVÆue
&15)<<3)-16;

62 
I¡
 
öôSèã
 = 
	`mö
–
	`max
–1, ( ( ( 
¶›e
 * 
qp
 ) >> 4 ) + 
off£t
 ) ), 126 );

63 
UI¡
 
mpSèã
 = (
öôSèã
 >= 64 );

64 
m_ucSèã
 = ( (
mpSèã
? (
öôSèã
 - 64):(63 - initState)) <<1) + mpState;

65 
	}
}

67 c⁄° 
UCh¨
 
	gC⁄ãxtModñ
::
m_aucNextSèãMPS
[ 
C⁄ãxtModñ
::
m_tŸÆSèãs
 ] =

79 c⁄° 
UCh¨
 
	gC⁄ãxtModñ
::
m_aucNextSèãLPS
[ 
C⁄ãxtModñ
::
m_tŸÆSèãs
 ] =

91 #i‡
FAST_BIT_EST


92 
UCh¨
 
	gC⁄ãxtModñ
::
m_√xtSèã
[ 
C⁄ãxtModñ
::
m_tŸÆSèãs
 ][2 ];

94 
Void
 
	gC⁄ãxtModñ
::
	$buûdNextSèãTabÀ
()

96 
I¡
 
i
 = 0; i < 
C⁄ãxtModñ
::
m_tŸÆSèãs
; i++)

98 
I¡
 
j
 = 0; j < 2; j++)

100 
m_√xtSèã
[
i
][
j
] = ((i&1Ë=jË? 
m_aucNextSèãMPS
[i] : 
m_aucNextSèãLPS
[i];

103 
	}
}

106 c⁄° 
I¡
 
	gC⁄ãxtModñ
::
m_íå›yBôs
[ 
C⁄ãxtModñ
::
m_tŸÆSèãs
 ] =

108 #i‡
FAST_BIT_EST


	@ContextModel.h

39 #i‚de‡
__CONTEXTMODEL__


40 
	#__CONTEXTMODEL__


	)

42 #i‡
_MSC_VER
 > 1000

43 #¥agm®
⁄˚


46 
	~"Comm⁄Def.h
"

47 
	~"TComRom.h
"

57 ˛as†
	cC⁄ãxtModñ


59 
	mpublic
:

60 
	$C⁄ãxtModñ
 (Ë{ 
m_ucSèã
 = 0; 
m_bösCoded
 = 0; }

61 ~
	$C⁄ãxtModñ
 (Ë{
	}
}

63 
UCh¨
 
	$gëSèã
 (Ë{  ( 
m_ucSèã
 >> 1 ); 
	}
}

64 
UCh¨
 
	$gëMps
 (Ë{  ( 
m_ucSèã
 & 1 ); 
	}
}

65 
Void
 
	$£tSèãAndMps
–
UCh¨
 
ucSèã
, UCh¨ 
ucMPS
Ë{ 
m_ucSèã
 = (ucSèã << 1Ë+ ucMPS; 
	}
}

67 
Void
 
öô
 ( 
I¡
 
qp
, I¡ 
öôVÆue
 );

69 
Void
 
	$upd©eLPS
 ()

71 
m_ucSèã
 = 
m_aucNextSèãLPS
[ m_ucState ];

72 
	}
}

74 
Void
 
	$upd©eMPS
 ()

76 
m_ucSèã
 = 
m_aucNextSèãMPS
[ m_ucState ];

77 
	}
}

79 
I¡
 
	$gëE¡r›yBôs
(
Sh‹t
 
vÆ
Ë{  
m_íå›yBôs
[
m_ucSèã
 ^ vÆ]; 
	}
}

81 #i‡
FAST_BIT_EST


82 
Void
 
	$upd©e
–
I¡
 
böVÆ
 )

84 
m_ucSèã
 = 
m_√xtSèã
[m_ucSèã][
böVÆ
];

85 
	}
}

86 
Void
 
buûdNextSèãTabÀ
();

87 
I¡
 
	$gëE¡r›yBôsTrm
–
I¡
 
vÆ
 ) {  
m_íå›yBôs
[126 ^ vÆ]; 
	}
}

89 
Void
 
	$£tBösCoded
(
UI¡
 
vÆ
Ë{ 
m_bösCoded
 = vÆ; 
	}
}

90 
UI¡
 
	$gëBösCoded
(Ë{  
m_bösCoded
; 
	}
}

92 
	g¥iv©e
:

93 
UCh¨
 
m_ucSèã
;

95 c⁄° 
UI¡
 
	gm_tŸÆSèãs
 = (1 << 
CONTEXT_STATE_BITS
) * 2;

96 c⁄° 
UCh¨
 
	gm_aucNextSèãMPS
[
m_tŸÆSèãs
];

97 c⁄° 
UCh¨
 
	gm_aucNextSèãLPS
[
m_tŸÆSèãs
];

98 c⁄° 
I¡
 
	gm_íå›yBôs
 [
m_tŸÆSèãs
];

99 #i‡
FAST_BIT_EST


100 
UCh¨
 
	gm_√xtSèã
[
m_tŸÆSèãs
][2 ];

102 
UI¡
 
	gm_bösCoded
;

	@ContextModel3DBuffer.cpp

38 
	~"C⁄ãxtModñ3DBuf„r.h
"

47 
	gC⁄ãxtModñ3DBuf„r
::
	$C⁄ãxtModñ3DBuf„r
–
UI¡
 
uiSizeZ
, UI¡ 
uiSizeY
, UI¡ 
uiSizeX
, 
C⁄ãxtModñ
 *
ba£På
, 
I¡
 &
cou¡
 )

48 : 
	`m_sizeX
 ( 
uiSizeX
 )

49 , 
	`m_sizeXY
 ( 
uiSizeX
 * 
uiSizeY
 )

50 , 
	$m_sizeXYZ
–
uiSizeX
 * 
uiSizeY
 * 
uiSizeZ
 )

53 
m_c⁄ãxtModñ
 = 
ba£På
;

54 
cou¡
 +
m_sizeXYZ
;

55 
	}
}

68 
Void
 
	gC⁄ãxtModñ3DBuf„r
::
	$öôBuf„r
–
Sli˚Ty≥
 
¶i˚Ty≥
, 
I¡
 
qp
, 
UCh¨
* 
˘xModñ
 )

70 
˘xModñ
 +
¶i˚Ty≥
 * 
m_sizeXYZ
;

72  
I¡
 
n
 = 0;Ç < 
m_sizeXYZ
;Ç++ )

74 
m_c⁄ãxtModñ
[ 
n
 ].
	`öô
–
qp
, 
˘xModñ
[Ç ] );

75 
m_c⁄ãxtModñ
[ 
n
 ].
	`£tBösCoded
( 0 );

77 
	}
}

86 
UI¡
 
	gC⁄ãxtModñ3DBuf„r
::
	$ˇlcCo°
–
Sli˚Ty≥
 
¶i˚Ty≥
, 
I¡
 
qp
, 
UCh¨
* 
˘xModñ
 )

88 
UI¡
 
co°
 = 0;

89 
˘xModñ
 +
¶i˚Ty≥
 * 
m_sizeXYZ
;

91  
I¡
 
n
 = 0;Ç < 
m_sizeXYZ
;Ç++ )

93 
C⁄ãxtModñ
 
tmpC⁄ãxtModñ
;

94 
tmpC⁄ãxtModñ
.
	`öô
–
qp
, 
˘xModñ
[ 
n
 ] );

97 c⁄° 
DoubÀ
 
aSèãToProbLPS
[] = {0.50000000, 0.47460857, 0.45050660, 0.42762859, 0.40591239, 0.38529900, 0.36573242, 0.34715948, 0.32952974, 0.31279528, 0.29691064, 0.28183267, 0.26752040, 0.25393496, 0.24103941, 0.22879875, 0.21717969, 0.20615069, 0.19568177, 0.18574449, 0.17631186, 0.16735824, 0.15885931, 0.15079198, 0.14313433, 0.13586556, 0.12896592, 0.12241667, 0.11620000, 0.11029903, 0.10469773, 0.09938088, 0.09433404, 0.08954349, 0.08499621, 0.08067986, 0.07658271, 0.07269362, 0.06900203, 0.06549791, 0.06217174, 0.05901448, 0.05601756, 0.05317283, 0.05047256, 0.04790942, 0.04547644, 0.04316702, 0.04097487, 0.03889405, 0.03691890, 0.03504406, 0.03326442, 0.03157516, 0.02997168, 0.02844963, 0.02700488, 0.02563349, 0.02433175, 0.02309612, 0.02192323, 0.02080991, 0.01975312, 0.01875000};

99 
DoubÀ
 
¥obLPS
 = 
aSèãToProbLPS
[ 
m_c⁄ãxtModñ
[ 
n
 ].
	`gëSèã
() ];

100 
DoubÀ
 
¥ob0
, 
¥ob1
;

101 i‡(
m_c⁄ãxtModñ
[ 
n
 ].
	`gëMps
()==1)

103 
¥ob0
 = 
¥obLPS
;

104 
¥ob1
 = 1.0-
¥ob0
;

108 
¥ob1
 = 
¥obLPS
;

109 
¥ob0
 = 1.0-
¥ob1
;

112 i‡(
m_c⁄ãxtModñ
[ 
n
 ].
	`gëBösCoded
()>0)

114 
co°
 +(
UI¡
Ë(
¥ob0
 * 
tmpC⁄ãxtModñ
.
	`gëE¡r›yBôs
–0 ) + 
¥ob1
 *ÅmpContextModel.getEntropyBits( 1 ));

118  
co°
;

119 
	}
}

	@ContextModel3DBuffer.h

38 #i‚de‡
__CONTEXTMODEL3DBUFFER__


39 
	#__CONTEXTMODEL3DBUFFER__


	)

41 
	~<°dio.h
>

42 
	~<mem‹y.h
>

44 
	~"Comm⁄Def.h
"

45 
	~"C⁄ãxtModñ.h
"

55 ˛as†
	cC⁄ãxtModñ3DBuf„r


57 
	m¥Ÿe˘ed
:

58 
C⁄ãxtModñ
* 
m_c⁄ãxtModñ
;

59 c⁄° 
UI¡
 
	mm_sizeX
;

60 c⁄° 
UI¡
 
	mm_sizeXY
;

61 c⁄° 
UI¡
 
	mm_sizeXYZ
;

63 
	mpublic
:

64 
C⁄ãxtModñ3DBuf„r
 ( 
UI¡
 
uiSizeZ
, UI¡ 
uiSizeY
, UI¡ 
uiSizeX
, 
C⁄ãxtModñ
 *
ba£På
, 
I¡
 &
cou¡
 );

65 ~
	$C⁄ãxtModñ3DBuf„r
 () {}

68 
C⁄ãxtModñ
& 
	$gë
–
UI¡
 
uiZ
, UI¡ 
uiY
, UI¡ 
uiX
 )

70  
m_c⁄ãxtModñ
[ 
uiZ
 * 
m_sizeXY
 + 
uiY
 * 
m_sizeX
 + 
uiX
 ];

71 
	}
}

72 
C⁄ãxtModñ
* 
	$gë
–
UI¡
 
uiZ
, UI¡ 
uiY
 )

74  &
m_c⁄ãxtModñ
[ 
uiZ
 * 
m_sizeXY
 + 
uiY
 * 
m_sizeX
 ];

75 
	}
}

76 
C⁄ãxtModñ
* 
	$gë
–
UI¡
 
uiZ
 )

78  &
m_c⁄ãxtModñ
[ 
uiZ
 * 
m_sizeXY
 ];

79 
	}
}

82 
Void
 
öôBuf„r
–
Sli˚Ty≥
 
eSli˚Ty≥
, 
I¡
 
iQp
, 
UCh¨
* 
˘xModñ
 );

84 
UI¡
 
ˇlcCo°
–
Sli˚Ty≥
 
¶i˚Ty≥
, 
I¡
 
qp
, 
UCh¨
* 
˘xModñ
 );

88 
Void
 
	$c›yFrom
–c⁄° 
C⁄ãxtModñ3DBuf„r
* 
§c
 )

90 
	`as£π
–
m_sizeXYZ
 =
§c
->m_sizeXYZ );

91 ::
	`mem˝y
–
m_c⁄ãxtModñ
, 
§c
->m_c⁄ãxtModñ, (
C⁄ãxtModñ
Ë* 
m_sizeXYZ
 );

92 
	}
}

	@ContextTables.h

39 #i‚de‡
__CONTEXTTABLES__


40 
	#__CONTEXTTABLES__


	)

49 
	#MAX_NUM_CTX_MOD
 512

50 

	)

51 
	#NUM_SPLIT_FLAG_CTX
 3

52 
	#NUM_SKIP_FLAG_CTX
 3

53 

	)

54 
	#NUM_MERGE_FLAG_EXT_CTX
 1

55 
	#NUM_MERGE_IDX_EXT_CTX
 1

56 

	)

57 
	#NUM_PART_SIZE_CTX
 4

58 
	#NUM_PRED_MODE_CTX
 1

59 

	)

60 
	#NUM_INTRA_PREDICT_CTX
 1

61 

	)

62 
	#NUM_CHROMA_PRED_CTX
 2

63 
	#NUM_INTER_DIR_CTX
 5

64 
	#NUM_MV_RES_CTX
 2

65 
	#NUM_CHROMA_QP_ADJ_FLAG_CTX
 1

66 
	#NUM_CHROMA_QP_ADJ_IDC_CTX
 1

67 

	)

68 
	#NUM_REF_NO_CTX
 2

69 
	#NUM_TRANS_SUBDIV_FLAG_CTX
 3

70 
	#NUM_QT_ROOT_CBF_CTX
 1

71 
	#NUM_DELTA_QP_CTX
 3

72 

	)

73 
	#NUM_SIG_CG_FLAG_CTX
 2

74 
	#NUM_EXPLICIT_RDPCM_FLAG_CTX
 1

75 
	#NUM_EXPLICIT_RDPCM_DIR_CTX
 1

76 

	)

81 
	#NUM_SIG_FLAG_CTX_LUMA
 28

82 
	#NUM_SIG_FLAG_CTX_CHROMA
 16

83 

	)

85 c⁄° 
UI¡
 
	gsignifiˇn˚M≠C⁄ãxtSëSèπ
 [
MAX_NUM_CHANNEL_TYPE
][
CONTEXT_NUMBER_OF_TYPES
] = { {0, 9, 21, 27}, {0, 9, 12, 15} };

86 c⁄° 
UI¡
 
	gsignifiˇn˚M≠C⁄ãxtSëSize
 [
MAX_NUM_CHANNEL_TYPE
][
CONTEXT_NUMBER_OF_TYPES
] = { {9, 12, 6, 1}, {9, 3, 3, 1} };

87 c⁄° 
UI¡
 
	gn⁄Düg⁄ÆSˇn8x8C⁄ãxtOff£t
 [
MAX_NUM_CHANNEL_TYPE
] = { 6, 0 };

88 c⁄° 
UI¡
 
	gnŸFú°GroupNeighbourhoodC⁄ãxtOff£t
[
MAX_NUM_CHANNEL_TYPE
] = { 3, 0 };

92 
	#NEIGHBOURHOOD_00_CONTEXT_1_THRESHOLD_4x4
 3

	)

93 
	#NEIGHBOURHOOD_00_CONTEXT_2_THRESHOLD_4x4
 1

	)

97 
	#FIRST_SIG_FLAG_CTX_LUMA
 0

	)

98 
	#FIRST_SIG_FLAG_CTX_CHROMA
 (
FIRST_SIG_FLAG_CTX_LUMA
 + 
NUM_SIG_FLAG_CTX_LUMA
)

	)

100 
	#NUM_SIG_FLAG_CTX
 (
NUM_SIG_FLAG_CTX_LUMA
 + 
NUM_SIG_FLAG_CTX_CHROMA
)

101 

	)

106 
	#NUM_CTX_LAST_FLAG_SETS
 2

	)

108 
	#NUM_CTX_LAST_FLAG_XY
 15

109 

	)

114 
	#NUM_ONE_FLAG_CTX_PER_SET
 4

115 
	#NUM_ABS_FLAG_CTX_PER_SET
 1

116 

	)

119 
	#NUM_CTX_SETS_LUMA
 4

120 
	#NUM_CTX_SETS_CHROMA
 2

121 

	)

122 
	#FIRST_CTX_SET_LUMA
 0

123 

	)

126 
	#NUM_ONE_FLAG_CTX_LUMA
 (
NUM_ONE_FLAG_CTX_PER_SET
 * 
NUM_CTX_SETS_LUMA
)

127 
	#NUM_ONE_FLAG_CTX_CHROMA
 (
NUM_ONE_FLAG_CTX_PER_SET
 * 
NUM_CTX_SETS_CHROMA
)

128 

	)

129 
	#NUM_ABS_FLAG_CTX_LUMA
 (
NUM_ABS_FLAG_CTX_PER_SET
 * 
NUM_CTX_SETS_LUMA
)

130 
	#NUM_ABS_FLAG_CTX_CHROMA
 (
NUM_ABS_FLAG_CTX_PER_SET
 * 
NUM_CTX_SETS_CHROMA
)

131 

	)

132 
	#NUM_ONE_FLAG_CTX
 (
NUM_ONE_FLAG_CTX_LUMA
 + 
NUM_ONE_FLAG_CTX_CHROMA
)

133 
	#NUM_ABS_FLAG_CTX
 (
NUM_ABS_FLAG_CTX_LUMA
 + 
NUM_ABS_FLAG_CTX_CHROMA
)

134 

	)

135 
	#FIRST_CTX_SET_CHROMA
 (
FIRST_CTX_SET_LUMA
 + 
NUM_CTX_SETS_LUMA
)

136 

	)

141 
	#NUM_QT_CBF_CTX_SETS
 2

	)

143 
	#NUM_QT_CBF_CTX_PER_SET
 5

144 

	)

145 
	#FIRST_CBF_CTX_LUMA
 0

146 

	)

147 
	#FIRST_CBF_CTX_CHROMA
 (
FIRST_CBF_CTX_LUMA
 + 
NUM_QT_CBF_CTX_PER_SET
)

148 

	)

152 
	#NUM_MVP_IDX_CTX
 1

153 

	)

154 
	#NUM_SAO_MERGE_FLAG_CTX
 1

155 
	#NUM_SAO_TYPE_IDX_CTX
 1

156 

	)

157 
	#NUM_TRANSFORMSKIP_FLAG_CTX
 1

158 

	)

159 
	#NUM_CU_TRANSQUANT_BYPASS_FLAG_CTX
 1

	)

161 
	#NUM_CROSS_COMPONENT_PREDICTION_CTX
 10

	)

163 
	#CNU
 154

164 

	)

171 c⁄° 
UCh¨


172 
	gINIT_CU_TRANSQUANT_BYPASS_FLAG
[
NUMBER_OF_SLICE_TYPES
][
NUM_CU_TRANSQUANT_BYPASS_FLAG_CTX
] =

180 c⁄° 
UCh¨


181 
	gINIT_SPLIT_FLAG
[
NUMBER_OF_SLICE_TYPES
][
NUM_SPLIT_FLAG_CTX
] =

188 c⁄° 
UCh¨


189 
	gINIT_SKIP_FLAG
[
NUMBER_OF_SLICE_TYPES
][
NUM_SKIP_FLAG_CTX
] =

193 { 
CNU
, CNU, CNU, },

196 c⁄° 
UCh¨


197 
	gINIT_MERGE_FLAG_EXT
[
NUMBER_OF_SLICE_TYPES
][
NUM_MERGE_FLAG_EXT_CTX
] =

201 { 
CNU
, },

204 c⁄° 
UCh¨


205 
	gINIT_MERGE_IDX_EXT
[
NUMBER_OF_SLICE_TYPES
][
NUM_MERGE_IDX_EXT_CTX
] =

209 { 
CNU
, },

212 c⁄° 
UCh¨


213 
	gINIT_PART_SIZE
[
NUMBER_OF_SLICE_TYPES
][
NUM_PART_SIZE_CTX
] =

217 { 184, 
CNU
, CNU, CNU },

220 c⁄° 
UCh¨


221 
	gINIT_PRED_MODE
[
NUMBER_OF_SLICE_TYPES
][
NUM_PRED_MODE_CTX
] =

225 { 
CNU
, },

228 c⁄° 
UCh¨


229 
	gINIT_INTRA_PRED_MODE
[
NUMBER_OF_SLICE_TYPES
][
NUM_INTRA_PREDICT_CTX
] =

236 c⁄° 
UCh¨


237 
	gINIT_CHROMA_PRED_MODE
[
NUMBER_OF_SLICE_TYPES
][
NUM_CHROMA_PRED_CTX
] =

244 c⁄° 
UCh¨


245 
	gINIT_INTER_DIR
[
NUMBER_OF_SLICE_TYPES
][
NUM_INTER_DIR_CTX
] =

249 { 
CNU
, CNU, CNU, CNU, CNU, },

252 c⁄° 
UCh¨


253 
	gINIT_MVD
[
NUMBER_OF_SLICE_TYPES
][
NUM_MV_RES_CTX
] =

257 { 
CNU
, CNU, },

260 c⁄° 
UCh¨


261 
	gINIT_REF_PIC
[
NUMBER_OF_SLICE_TYPES
][
NUM_REF_NO_CTX
] =

265 { 
CNU
, CNU },

268 c⁄° 
UCh¨


269 
	gINIT_DQP
[
NUMBER_OF_SLICE_TYPES
][
NUM_DELTA_QP_CTX
] =

276 c⁄° 
UCh¨


277 
	gINIT_CHROMA_QP_ADJ_FLAG
[
NUMBER_OF_SLICE_TYPES
][
NUM_CHROMA_QP_ADJ_FLAG_CTX
] =

284 c⁄° 
UCh¨


285 
	gINIT_CHROMA_QP_ADJ_IDC
[
NUMBER_OF_SLICE_TYPES
][
NUM_CHROMA_QP_ADJ_IDC_CTX
] =

297 
	#BSLICE_LUMA_CBF_CONTEXT
 153, 111, 
CNU
, CNU, 
	)
CNU

298 
	#PSLICE_LUMA_CBF_CONTEXT
 153, 111, 
CNU
, CNU, 
	)
CNU

299 
	#ISLICE_LUMA_CBF_CONTEXT
 111, 141, 
CNU
, CNU, 
	)
CNU

301 
	#BSLICE_CHROMA_CBF_CONTEXT
 149, 92, 167, 154, 154

	)

302 
	#PSLICE_CHROMA_CBF_CONTEXT
 149, 107, 167, 154, 154

	)

303 
	#ISLICE_CHROMA_CBF_CONTEXT
 94, 138, 182, 154, 154

	)

306 c⁄° 
UCh¨


307 
	gINIT_QT_CBF
[
NUMBER_OF_SLICE_TYPES
][
NUM_QT_CBF_CTX_SETS
 * 
NUM_QT_CBF_CTX_PER_SET
] =

309 { 
BSLICE_LUMA_CBF_CONTEXT
, 
BSLICE_CHROMA_CBF_CONTEXT
 },

310 { 
PSLICE_LUMA_CBF_CONTEXT
, 
PSLICE_CHROMA_CBF_CONTEXT
 },

311 { 
ISLICE_LUMA_CBF_CONTEXT
, 
ISLICE_CHROMA_CBF_CONTEXT
 },

317 c⁄° 
UCh¨


318 
	gINIT_QT_ROOT_CBF
[
NUMBER_OF_SLICE_TYPES
][
NUM_QT_ROOT_CBF_CTX
] =

322 { 
CNU
, },

331 
	#BSLICE_LUMA_LAST_POSITION_CONTEXT
 125, 110, 124, 110, 95, 94, 125, 111, 111, 79, 125, 126, 111, 111, 79

	)

332 
	#PSLICE_LUMA_LAST_POSITION_CONTEXT
 125, 110, 94, 110, 95, 79, 125, 111, 110, 78, 110, 111, 111, 95, 94

	)

333 
	#ISLICE_LUMA_LAST_POSITION_CONTEXT
 110, 110, 124, 125, 140, 153, 125, 127, 140, 109, 111, 143, 127, 111, 79

	)

335 
	#BSLICE_CHROMA_LAST_POSITION_CONTEXT
 108, 123, 93, 
CNU
, CNU, CNU, CNU, CNU, CNU, CNU, CNU, CNU, CNU, CNU, 
	)
CNU

336 
	#PSLICE_CHROMA_LAST_POSITION_CONTEXT
 108, 123, 108, 
CNU
, CNU, CNU, CNU, CNU, CNU, CNU, CNU, CNU, CNU, CNU, 
	)
CNU

337 
	#ISLICE_CHROMA_LAST_POSITION_CONTEXT
 108, 123, 63, 
CNU
, CNU, CNU, CNU, CNU, CNU, CNU, CNU, CNU, CNU, CNU, 
	)
CNU

340 c⁄° 
UCh¨


341 
	gINIT_LAST
[
NUMBER_OF_SLICE_TYPES
][
NUM_CTX_LAST_FLAG_SETS
 * 
NUM_CTX_LAST_FLAG_XY
] =

343 { 
BSLICE_LUMA_LAST_POSITION_CONTEXT
, 
BSLICE_CHROMA_LAST_POSITION_CONTEXT
 },

344 { 
PSLICE_LUMA_LAST_POSITION_CONTEXT
, 
PSLICE_CHROMA_LAST_POSITION_CONTEXT
 },

345 { 
ISLICE_LUMA_LAST_POSITION_CONTEXT
, 
ISLICE_CHROMA_LAST_POSITION_CONTEXT
 },

351 c⁄° 
UCh¨


352 
	gINIT_SIG_CG_FLAG
[
NUMBER_OF_SLICE_TYPES
][2 * 
NUM_SIG_CG_FLAG_CTX
] =

372 
	#BSLICE_LUMA_SIGNIFICANCE_CONTEXT
 170, 154, 139, 153, 139, 123, 123, 63, 124, 166, 183, 140, 136, 153, 154, 166, 183, 140, 136, 153, 154, 166, 183, 140, 136, 153, 154, 140

	)

373 
	#PSLICE_LUMA_SIGNIFICANCE_CONTEXT
 155, 154, 139, 153, 139, 123, 123, 63, 153, 166, 183, 140, 136, 153, 154, 166, 183, 140, 136, 153, 154, 166, 183, 140, 136, 153, 154, 140

	)

374 
	#ISLICE_LUMA_SIGNIFICANCE_CONTEXT
 111, 111, 125, 110, 110, 94, 124, 108, 124, 107, 125, 141, 179, 153, 125, 107, 125, 141, 179, 153, 125, 107, 125, 141, 179, 153, 125, 141

	)

377 
	#BSLICE_CHROMA_SIGNIFICANCE_CONTEXT
 170, 153, 138, 138, 122, 121, 122, 121, 167, 151, 183, 140, 151, 183, 140, 140

	)

378 
	#PSLICE_CHROMA_SIGNIFICANCE_CONTEXT
 170, 153, 123, 123, 107, 121, 107, 121, 167, 151, 183, 140, 151, 183, 140, 140

	)

379 
	#ISLICE_CHROMA_SIGNIFICANCE_CONTEXT
 140, 139, 182, 182, 152, 136, 152, 136, 153, 136, 139, 111, 136, 139, 111, 111

	)

383 c⁄° 
UCh¨


384 
	gINIT_SIG_FLAG
[
NUMBER_OF_SLICE_TYPES
][
NUM_SIG_FLAG_CTX
] =

386 { 
BSLICE_LUMA_SIGNIFICANCE_CONTEXT
, 
BSLICE_CHROMA_SIGNIFICANCE_CONTEXT
 },

387 { 
PSLICE_LUMA_SIGNIFICANCE_CONTEXT
, 
PSLICE_CHROMA_SIGNIFICANCE_CONTEXT
 },

388 { 
ISLICE_LUMA_SIGNIFICANCE_CONTEXT
, 
ISLICE_CHROMA_SIGNIFICANCE_CONTEXT
 },

397 
	#BSLICE_LUMA_ONE_CONTEXT
 154, 196, 167, 167, 154, 152, 167, 182, 182, 134, 149, 136, 153, 121, 136, 122

	)

398 
	#PSLICE_LUMA_ONE_CONTEXT
 154, 196, 196, 167, 154, 152, 167, 182, 182, 134, 149, 136, 153, 121, 136, 137

	)

399 
	#ISLICE_LUMA_ONE_CONTEXT
 140, 92, 137, 138, 140, 152, 138, 139, 153, 74, 149, 92, 139, 107, 122, 152

	)

401 
	#BSLICE_LUMA_ABS_CONTEXT
 107, 167, 91, 107

	)

402 
	#PSLICE_LUMA_ABS_CONTEXT
 107, 167, 91, 122

	)

403 
	#ISLICE_LUMA_ABS_CONTEXT
 138, 153, 136, 167

	)

406 
	#BSLICE_CHROMA_ONE_CONTEXT
 169, 208, 166, 167, 154, 152, 167, 182

	)

407 
	#PSLICE_CHROMA_ONE_CONTEXT
 169, 194, 166, 167, 154, 167, 137, 182

	)

408 
	#ISLICE_CHROMA_ONE_CONTEXT
 140, 179, 166, 182, 140, 227, 122, 197

	)

410 
	#BSLICE_CHROMA_ABS_CONTEXT
 107, 167

	)

411 
	#PSLICE_CHROMA_ABS_CONTEXT
 107, 167

	)

412 
	#ISLICE_CHROMA_ABS_CONTEXT
 152, 152

	)

417 c⁄° 
UCh¨


418 
	gINIT_ONE_FLAG
[
NUMBER_OF_SLICE_TYPES
][
NUM_ONE_FLAG_CTX
] =

420 { 
BSLICE_LUMA_ONE_CONTEXT
, 
BSLICE_CHROMA_ONE_CONTEXT
 },

421 { 
PSLICE_LUMA_ONE_CONTEXT
, 
PSLICE_CHROMA_ONE_CONTEXT
 },

422 { 
ISLICE_LUMA_ONE_CONTEXT
, 
ISLICE_CHROMA_ONE_CONTEXT
 },

425 c⁄° 
UCh¨


426 
	gINIT_ABS_FLAG
[
NUMBER_OF_SLICE_TYPES
][
NUM_ABS_FLAG_CTX
] =

428 { 
BSLICE_LUMA_ABS_CONTEXT
, 
BSLICE_CHROMA_ABS_CONTEXT
 },

429 { 
PSLICE_LUMA_ABS_CONTEXT
, 
PSLICE_CHROMA_ABS_CONTEXT
 },

430 { 
ISLICE_LUMA_ABS_CONTEXT
, 
ISLICE_CHROMA_ABS_CONTEXT
 },

436 c⁄° 
UCh¨


437 
	gINIT_MVP_IDX
[
NUMBER_OF_SLICE_TYPES
][
NUM_MVP_IDX_CTX
] =

441 { 
CNU
, },

444 c⁄° 
UCh¨


445 
	gINIT_SAO_MERGE_FLAG
[
NUMBER_OF_SLICE_TYPES
][
NUM_SAO_MERGE_FLAG_CTX
] =

452 c⁄° 
UCh¨


453 
	gINIT_SAO_TYPE_IDX
[
NUMBER_OF_SLICE_TYPES
][
NUM_SAO_TYPE_IDX_CTX
] =

460 c⁄° 
UCh¨


461 
	gINIT_TRANS_SUBDIV_FLAG
[
NUMBER_OF_SLICE_TYPES
][
NUM_TRANS_SUBDIV_FLAG_CTX
] =

468 c⁄° 
UCh¨


469 
	gINIT_TRANSFORMSKIP_FLAG
[
NUMBER_OF_SLICE_TYPES
][2*
NUM_TRANSFORMSKIP_FLAG_CTX
] =

476 c⁄° 
UCh¨


477 
	gINIT_EXPLICIT_RDPCM_FLAG
[
NUMBER_OF_SLICE_TYPES
][2*
NUM_EXPLICIT_RDPCM_FLAG_CTX
] =

481 {
CNU
, CNU}

484 c⁄° 
UCh¨


485 
	gINIT_EXPLICIT_RDPCM_DIR
[
NUMBER_OF_SLICE_TYPES
][2*
NUM_EXPLICIT_RDPCM_DIR_CTX
] =

489 {
CNU
, CNU}

492 c⁄° 
UCh¨


493 
	gINIT_CROSS_COMPONENT_PREDICTION
[
NUMBER_OF_SLICE_TYPES
][
NUM_CROSS_COMPONENT_PREDICTION_CTX
] =

	@Debug.cpp

38 
	~"Debug.h
"

39 
	~<Æg‹ôhm
>

40 
	~<m©h.h
>

41 
	~"TComD©aCU.h
"

42 
	~"TComPic.h
"

43 
	~"TComYuv.h
"

45 c⁄° 
UI¡
 
	g£âögNameWidth
 = 66;

46 c⁄° 
UI¡
 
	g£âögHñpWidth
 = 84;

47 c⁄° 
UI¡
 
	g£âögVÆueWidth
 = 3;

49 #i‡
DEBUG_STRING


51 c⁄° 
TCh¨
 *
	gdebug_ª‹dî_d©a_öãr_tokí
[
MAX_NUM_COMPONENT
+1]

53 c⁄° 
TCh¨
 *
	g∑πSizeToSåög
[
NUMBER_OF_PART_SIZES
]={"2Nx2N(0)", "2NxN(1)", "Nx2N(2)", "NxN(3)", "2Nx(N/2+3N/2)(4)", "2Nx(3N/2+N/2)(5)", "(N/2+3N/2)x2N(6)", "(3N/2+N/2)x2N(7)"};

60 
	g°d
::
li°
<
°d
::
∑ú
<°d::
°rög
, std::°rög> > &
EnvV¨
::
	$gëEnvV¨Li°
()

62 
°d
::
li°
<°d::
∑ú
<°d::
°rög
, std::°rög> > 
v¨InfoLi°
;

63  
v¨InfoLi°
;

64 
	}
}

66 
	g°d
::
li°
<
EnvV¨
*> &EnvV¨::
	$gëEnvV¨InU£
()

68 
°d
::
li°
<
EnvV¨
*> 
v¨InU£Li°
;

69  
v¨InU£Li°
;

70 
	}
}

72 
ölöe
 
Void
 
¥ötPaú
(c⁄° 
°d
::
∑ú
<°d::
°rög
, std::°rög> &
p
)

74 i‡(
p
.
£c⁄d
=="")

76 
°d
::
cout
 << "\n" << std::
£tw
(
£âögNameWidth
Ë<< 
p
.
fú°
 << "\n" << std::
ídl
;

80 
	g°d
::
cout
 << 
°d
::
£tw
(
£âögNameWidth
Ë<< 
p
.
fú°
 << ": " <<Ö.
£c⁄d
 << "\n" << std::
ídl
;

84 
ölöe
 
Void
 
	$¥ötVÆ
(c⁄° 
EnvV¨
* 
ív
)

86 
°d
::
cout
 << std::
	`£tw
(
£âögNameWidth
Ë<< 
ív
->
	`gëName
(Ë<< " = " << std::£tw(
£âögVÆueWidth
Ë<<Énv->
	`gëI¡
(Ë<< " (°rög = " << std::£tw(15Ë<<Énv->
	`gëSåög
(Ë<< ")" << std::
ídl
;

87 
	}
}

96 
Void
 
	gEnvV¨
::
	$¥ötEnvV¨
()

99 i‡(
	`gëEnvV¨Li°
().
	`size
()!=0)

101 
°d
::
cout
 << "--- Envú⁄míàv¨übÀs:\n" << std::
ídl
;

102 
	`f‹_óch
(
	`gëEnvV¨Li°
().
	`begö
(), gëEnvV¨Li°().
	`íd
(), 
¥ötPaú
);

104 
°d
::
cout
 << std::
ídl
;

105 
	}
}

107 
Void
 
	gEnvV¨
::
	$¥ötEnvV¨InU£
()

109 i‡(
	`gëEnvV¨InU£
().
	`size
()!=0)

111 
°d
::
cout
 << "RExàEnvú⁄míàv¨übÀ†£àa†fﬁlows: \n" << std::
ídl
;

112 
	`f‹_óch
(
	`gëEnvV¨InU£
().
	`begö
(), gëEnvV¨InU£().
	`íd
(), 
¥ötVÆ
);

114 
°d
::
cout
 << std::
ídl
;

115 
	}
}

117 
	gEnvV¨
::
	$EnvV¨
(c⁄° 
°d
::
°rög
 &
sName
, c⁄° std::°rög &
sDeÁu…
, c⁄° std::°rög &
sHñp
) :

118 
	`m_sName
(
sName
),

119 
	`m_sHñp
(
sHñp
),

120 
	`m_sVÆ
(),

121 
	`m_dVÆ
(0),

122 
	`m_iVÆ
(0),

123 
	$m_bSë
(
Ál£
)

125 i‡(
	`gëív
(
m_sName
.
	`c_°r
()))

127 
m_sVÆ
 = 
	`gëív
(
m_sName
.
	`c_°r
());

128 
m_bSë
 = 
åue
;

129 
	`gëEnvV¨InU£
().
	`push_back
(
this
);

133 
m_sVÆ
 = 
sDeÁu…
;

136 
m_dVÆ
 = 
	`°πod
(
m_sVÆ
.
	`c_°r
(), 0);

137 
m_iVÆ
 = 
	`I¡
(
m_dVÆ
);

139 
	`gëEnvV¨Li°
().
	`push_back
–
°d
::
∑ú
<°d::
°rög
, std::°rög>(
m_sName
, 
	`ödítNewLöes
(
	`löeWøp
(
	`•lôOnSëtögs
(
m_sHñp
), 
£âögHñpWidth
), (
£âögNameWidth
 + 4))) );

140 
	}
}

147 
EnvV¨
 
Debug
("-- Debugging","","");

149 
EnvV¨
 
	gDebugO±i⁄Li°
::
DebugSBAC
 ("DEBUG_SBAC", "0", "Output debug data from SBACÉntropy coder (coefficient dataÉtc.)" );

150 
EnvV¨
 
	gDebugO±i⁄Li°
::
DebugRQT
 ("DEBUG_RQT", "0", "Output RQT debug data fromÉntropy coder" );

151 
EnvV¨
 
	gDebugO±i⁄Li°
::
DebugPªd
 ("DEBUG_PRED", "0", "OutputÖrediction debug" );

152 
EnvV¨
 
	gDebugO±i⁄Li°
::
F‹˚LumaMode
 ("FORCE_LUMA_MODE", "0", "ForceáÖarticular intra direction for Luma (0-34)" );

153 
EnvV¨
 
	gDebugO±i⁄Li°
::
F‹˚ChromaMode
 ("FORCE_CHROMA_MODE", "0", "ForceáÖarticular intra direction for chroma (0-5)" );

155 #i‡
DEBUG_STRING


156 
EnvV¨
 
	gDebugO±i⁄Li°
::
DebugSåög_Såu˘uª
 ("DEBUG_STRUCTURE", "0", "Produce output on chosen structure bit0=intra, bit1=inter");

157 
EnvV¨
 
	gDebugO±i⁄Li°
::
DebugSåög_Pªd
 ("DEBUG_PRED", "0", "Produce output onÖrediction data. bit0=intra, bit1=inter");

158 
EnvV¨
 
	gDebugO±i⁄Li°
::
DebugSåög_Resi
 ("DEBUG_RESI", "0", "Produce output onÑesidual data. bit0=intra, bit1=inter");

159 
EnvV¨
 
	gDebugO±i⁄Li°
::
DebugSåög_Reco
 ("DEBUG_RECO", "0", "Produce output onÑeconstructed data. bit0=intra, bit1=inter");

160 
EnvV¨
 
	gDebugO±i⁄Li°
::
DebugSåög_InvTøn
 ("DEBUG_INV_QT", "0", "Produce output on inverse-quantiserándÅransform stages. bit0=intra, bit1=inter");

167 
Void
 
	$¥ötMa¸oSëtögs
()

169 
°d
::
cout
 << "N⁄-ívú⁄mít-v¨übÀ-c⁄åﬁÀd ma¸o†£àa†fﬁlows: \n" << std::
ídl
;

175 
	`PRINT_CONSTANT
(
RExt__DECODER_DEBUG_BIT_STATISTICS
, 
£âögNameWidth
, 
£âögVÆueWidth
);

176 
	`PRINT_CONSTANT
(
RExt__HIGH_BIT_DEPTH_SUPPORT
, 
£âögNameWidth
, 
£âögVÆueWidth
);

177 
	`PRINT_CONSTANT
(
RExt__HIGH_PRECISION_FORWARD_TRANSFORM
, 
£âögNameWidth
, 
£âögVÆueWidth
);

179 
	`PRINT_CONSTANT
(
O0043_BEST_EFFORT_DECODING
, 
£âögNameWidth
, 
£âögVÆueWidth
);

181 
	`PRINT_CONSTANT
(
ME_ENABLE_ROUNDING_OF_MVS
, 
£âögNameWidth
, 
£âögVÆueWidth
);

185 
°d
::
cout
 << std::
ídl
;

186 
	}
}

193 
UI¡
 
	gg_debugCou¡î
 = 0;

195 #i‡
DEBUG_ENCODER_SEARCH_BINS


196 c⁄° 
UI¡
 
	gdebugEncodîSórchBöT¨gëLöe
 = 0;

197 c⁄° 
UI¡
 
	gdebugEncodîSórchBöWödow
 = 1000000;

200 #i‡
DEBUG_CABAC_BINS


201 c⁄° 
UI¡
 
	gdebugCabacBöT¨gëLöe
 = 0;

202 c⁄° 
UI¡
 
	gdebugCabacBöWödow
 = 1000000;

205 
Void
 
	$¥ötSBACC€ffD©a
–c⁄° 
UI¡
 
œ°X
,

206 c⁄° 
UI¡
 
œ°Y
,

207 c⁄° 
UI¡
 
width
,

208 c⁄° 
UI¡
 
height
,

209 c⁄° 
UI¡
 
ch™
,

210 c⁄° 
UI¡
 
absP¨t
,

211 c⁄° 
UI¡
 
sˇnIdx
,

212 c⁄° 
TC€ff
 *c⁄° 
pC€ff
,

213 c⁄° 
Boﬁ
 
föÆEncode


216 i‡(
DebugO±i⁄Li°
::
DebugSBAC
.
	`gëI¡
()!=0 && 
föÆEncode
)

218 
°d
::
cout
 << "Size: " << 
width
 << "x" << 
height
 << ", La° X/Y: (" << 
œ°X
 << ", " << 
œ°Y
 << "),ábsP¨tIdx: " << 
absP¨t
 << ", sˇnIdx: " << 
sˇnIdx
 << ", ch™: " << 
ch™
 << "\n";

219 
I¡
 
i
=0; i<
width
*
height
; i++)

221 
°d
::
cout
 << std::
	`£tw
(3Ë<< 
pC€ff
[
i
];

222 i‡(
i
%
width
 == width-1)

224 
°d
::
cout
 << "\n";

228 
°d
::
cout
 << ",";

231 
°d
::
cout
 << std::
ídl
;

233 
	}
}

235 
Void
 
	$¥ötCbfAºay
–
TComD©aCU
* 
pcCU
 )

237 c⁄° 
UI¡
 
CUSizeInP¨ts
 = 
pcCU
->
	`gëWidth
(0)/4;

238 c⁄° 
UI¡
 
numVÆidComp
=
pcCU
->
	`gëPic
()->
	`gëNumbîVÆidComp⁄íts
();

239 
UI¡
 
ch
=0; ch<
numVÆidComp
; ch++)

241 c⁄° 
Comp⁄ítID
 
compID
=
	`Comp⁄ítID
(
ch
);

242 
	`¥ötf
("ch™√l: %d\n", 
ch
);

243 
I¡
 
y
=0; y<
CUSizeInP¨ts
; y++)

245 
I¡
 
x
=0; x<
CUSizeInP¨ts
; x++)

247 
	`¥ötf
(
x
+1==
CUSizeInP¨ts
?"%3d\n":"%3d, ", 
pcCU
->
	`gëCbf
(
compID
)[
g_auiRa°îToZsˇn
[
y
*CUSizeInParts + x]]);

251 
	}
}

253 
UI¡
 
	$gëDecimÆWidth
(c⁄° 
DoubÀ
 
vÆue
)

255  (
vÆue
 =0Ë? 1 : (
	`UI¡
(
	`Êo‹
(
	`log10
(
	`Ábs
(value)))) + ((value < 0) ? 2 : 1));

257 
	}
}

259 
UI¡
 
	$gëZSˇnIndex
(c⁄° 
UI¡
 
x
, c⁄° UI¡ 
y
)

261 
UI¡
 
ªmaöögX
 = 
x
;

262 
UI¡
 
ªmaöögY
 = 
y
;

263 
UI¡
 
off£t
 = 0;

264 
UI¡
 
ªsu…
 = 0;

266 (
ªmaöögX
 !0Ë|| (
ªmaöögY
 != 0))

268 
ªsu…
 |((
ªmaöögX
 & 0x1Ë<< 
off£t
Ë| ((
ªmaöögY
 & 0x1) << (offset + 1));

270 
ªmaöögX
 >>= 1;

271 
ªmaöögY
 >>= 1;

272 
off£t
 += 2;

275  
ªsu…
;

276 
	}
}

284 
	g°d
::
°rög
 
	$•lôOnSëtögs
(c⁄° 
°d
::
°rög
 &
öput
)

286 
°d
::
°rög
 
ªsu…
 = 
öput
;

288 
°d
::
°rög
::
size_ty≥
 
£¨chFromPosôi⁄
 = 0;

290 
£¨chFromPosôi⁄
 < 
ªsu…
.
	`Àngth
())

293 
°d
::
°rög
::
size_ty≥
 
equÆsPosôi⁄
 = 
ªsu…
.
	`föd
(" = ", 
£¨chFromPosôi⁄
);

295 i‡(
equÆsPosôi⁄
 =
°d
::
°rög
::
≈os
)

301 
°d
::
°rög
::
size_ty≥
 
•lôPosôi⁄
 = 
ªsu…
.
	`föd_œ°_of
("1234567890", 
equÆsPosôi⁄
);

304 i‡(
•lôPosôi⁄
 !
°d
::
°rög
::
≈os
)

306 
•lôPosôi⁄
 = 
ªsu…
.
	`föd_œ°_of
(' ', splitPosition);

310 i‡(
•lôPosôi⁄
 !
°d
::
°rög
::
≈os
)

312 
ªsu…
.
	`ª∂a˚
(
•lôPosôi⁄
, 1, 1, '\n');

316 
£¨chFromPosôi⁄
 = (
equÆsPosôi⁄
 + 3);

319  
ªsu…
;

320 
	}
}

323 
	g°d
::
°rög
 
	$löeWøp
(c⁄° 
°d
::
°rög
 &
öput
, c⁄° 
UI¡
 
maximumLöeLígth
)

325 i‡(
maximumLöeLígth
 == 0)

327  
öput
;

329 
°d
::
°rög
 
ªsu…
 = 
öput
;

331 
°d
::
°rög
::
size_ty≥
 
löeSèπPosôi⁄
 = 
ªsu…
.
	`föd_fú°_nŸ_of
(' ');

333 
löeSèπPosôi⁄
 !
°d
::
°rög
::
≈os
)

337 c⁄° 
°d
::
°rög
::
size_ty≥
 
£¨chFromPosôi⁄
 = 
löeSèπPosôi⁄
 + 
maximumLöeLígth
;

339 i‡(
£¨chFromPosôi⁄
 >
ªsu…
.
	`Àngth
())

348 
°d
::
°rög
::
size_ty≥
 
√xtLöeSèπPosôi⁄
 = std::°rög::
≈os
;

349 
°d
::
°rög
::
size_ty≥
 
cuºítPosôi⁄
 = 
löeSèπPosôi⁄
; cuºítPosôi⁄ <
£¨chFromPosôi⁄
; currentPosition++)

351 i‡(
ªsu…
[
cuºítPosôi⁄
] == '\n')

353 
√xtLöeSèπPosôi⁄
 = 
cuºítPosôi⁄
 + 1;

361 i‡(
√xtLöeSèπPosôi⁄
 !
°d
::
°rög
::
≈os
)

363 
löeSèπPosôi⁄
 = 
√xtLöeSèπPosôi⁄
;

367 
°d
::
°rög
::
size_ty≥
 
•a˚Posôi⁄
 = std::°rög::
≈os
;

370 
I¡
 
cuºítPosôi⁄
 = 
	`I¡
(
£¨chFromPosôi⁄
); cuºítPosôi⁄ >I¡(
löeSèπPosôi⁄
); currentPosition--)

372 i‡(
ªsu…
[
cuºítPosôi⁄
] == ' ')

374 
•a˚Posôi⁄
 = 
cuºítPosôi⁄
;

380 i‡(
•a˚Posôi⁄
 =
°d
::
°rög
::
≈os
)

382 
ªsu…
.
	`ö£π
(
£¨chFromPosôi⁄
, "-\n");

383 
löeSèπPosôi⁄
 = 
£¨chFromPosôi⁄
 + 2;

387 
ªsu…
.
	`ª∂a˚
(
•a˚Posôi⁄
, 1, 1, '\n');

388 
löeSèπPosôi⁄
 = 
•a˚Posôi⁄
 + 1;

395  
ªsu…
;

396 
	}
}

399 
	g°d
::
°rög
 
	$ödítNewLöes
(c⁄° 
°d
::
°rög
 &
öput
, c⁄° 
UI¡
 
ödítBy
)

401 
°d
::
°rög
 
ªsu…
 = 
öput
;

403 c⁄° 
°d
::
°rög
 
	`ödítSåög
(
ödítBy
, ' ');

404 
°d
::
°rög
::
size_ty≥
 
off£t
 = 0;

406 (
off£t
 = 
ªsu…
.
	`föd
('\n', off£t)Ë!
°d
::
°rög
::
≈os
)

408 i‡((++
off£t
Ë>
ªsu…
.
	`Àngth
())

412 
ªsu…
.
	`ö£π
(
off£t
, 
ödítSåög
);

415  
ªsu…
;

416 
	}
}

422 
Void
 
	$¥ötBlockToSåóm
–
°d
::
o°ªam
 &
ss
, c⁄° 
TCh¨
 *
pLöePªfix
, 
TComYuv
 &
§c
, c⁄° 
UI¡
 
numSubBlocksA¸oss
, c⁄° UI¡ 
numSubBlocksUp
, c⁄° UI¡ 
defWidth
 )

424 c⁄° 
UI¡
 
numVÆidComp
=
§c
.
	`gëNumbîVÆidComp⁄íts
();

426 
UI¡
 
ch
=0; ch<
numVÆidComp
 ; ch++)

428 c⁄° 
Comp⁄ítID
 
compID
 = 
	`Comp⁄ítID
(
ch
);

429 c⁄° 
UI¡
 
width
 = 
§c
.
	`gëWidth
(
compID
);

430 c⁄° 
UI¡
 
height
 = 
§c
.
	`gëHeight
(
compID
);

431 c⁄° 
UI¡
 
°ride
 = 
§c
.
	`gëSåide
(
compID
);

432 c⁄° 
Pñ
* 
blkSrc
 = 
§c
.
	`gëAddr
(
compID
);

433 c⁄° 
UI¡
 
subBlockWidth
=
width
/
numSubBlocksA¸oss
;

434 c⁄° 
UI¡
 
subBlockHeight
=
height
/
numSubBlocksUp
;

436 
ss
 << 
pLöePªfix
 << " compID: " << 
compID
 << "\n";

437 
UI¡
 
y
=0; y<
height
; y++)

439 i‡((
y
%
subBlockHeight
)==0 && y!=0)

441 
ss
 << 
pLöePªfix
 << '\n';

444 
ss
 << 
pLöePªfix
;

445 
UI¡
 
x
=0; x<
width
; x++)

447 i‡((
x
%
subBlockWidth
)==0 && x!=0)

449 
ss
 << 
°d
::
	`£tw
(
defWidth
+2) << "";

452 
ss
 << 
°d
::
	`£tw
(
defWidth
Ë<< 
blkSrc
[
y
*
°ride
 + 
x
] << ' ';

454 
ss
 << '\n';

456 
ss
 << 
pLöePªfix
 << " --- \n";

458 
	}
}

460 #i‡
DEBUG_STRING


461 
I¡
 
	$DebugSåögGëPªdModeMask
(
PªdMode
 
mode
)

463  (
mode
==
MODE_INTRA
)?1:2;

464 
	}
}

466 
Void
 
	$DebugI¡îPªdResiReco
(
°d
::
°rög
 &
sDebug
, 
TComYuv
 &
¥ed
, TComYuv &
ªsi
, TComYuv &
ªco
, 
I¡
 
¥edmode_mask
)

468 i‡(
DebugO±i⁄Li°
::
DebugSåög_Pªd
.
	`gëI¡
()&
¥edmode_mask
)

470 
°d
::
°rög°ªam
 
	`ss
(°d::°rög°ªam::
out
);

471 
	`¥ötBlockToSåóm
(
ss
, "###öãr-¥ed: ", 
¥ed
);

472 
°d
::
°rög
 
debugTmp
;

473 
debugTmp
=
ss
.
	`°r
();

474 
sDebug
=
debugTmp
+sDebug;

476 i‡(
DebugO±i⁄Li°
::
DebugSåög_Resi
.
	`gëI¡
()&
¥edmode_mask
)

478 
°d
::
°rög°ªam
 
	`ss
(°d::°rög°ªam::
out
);

479 
	`¥ötBlockToSåóm
(
ss
, "###öãr-ªsi: ", 
ªsi
);

480 
sDebug
+=
ss
.
	`°r
();

482 i‡(
DebugO±i⁄Li°
::
DebugSåög_Reco
.
	`gëI¡
()&
¥edmode_mask
)

484 
°d
::
°rög°ªam
 
	`ss
(°d::°rög°ªam::
out
);

485 
	`¥ötBlockToSåóm
(
ss
, "###öãr-ªco: ", 
ªco
);

486 
sDebug
+=
ss
.
	`°r
();

488 
	}
}

	@Debug.h

38 #i‚de‡
__DEBUG__


39 
	#__DEBUG__


	)

41 
	~<io°ªam
>

42 
	~<iom™ù
>

43 
	~<°rög
>

44 
	~<li°
>

45 
	~<°dlib.h
>

46 
	~<s°ªam
>

47 
	~<TLibComm⁄/Comm⁄Def.h
>

49 #i‡
DEBUG_STRING


50 c⁄° 
TCh¨
 *
debug_ª‹dî_d©a_öãr_tokí
[
MAX_NUM_COMPONENT
+1];

51 c⁄° 
TCh¨
 *
∑πSizeToSåög
[
NUMBER_OF_PART_SIZES
];

58 
	#PRINT_CONSTANT
(
NAME
, 
NAME_WIDTH
, 
VALUE_WIDTH
Ë
°d
::
cout
 << std::
	`£tw
(NAME_WIDTHË<< #NAME << " = " << std::£tw(VALUE_WIDTHË<< NAME << std::
ídl
;

	)

64 ˛as†
	cEnvV¨


66 
	m¥iv©e
:

67 
°d
::
°rög
 
m_sName
;

68 
	m°d
::
°rög
 
m_sHñp
;

69 
	m°d
::
°rög
 
m_sVÆ
;

70 
DoubÀ
 
	mm_dVÆ
;

71 
I¡
 
	mm_iVÆ
;

72 
Boﬁ
 
	mm_bSë
;

74 
	mpublic
:

76 
°d
::
li°
< std::
∑ú
<°d::
°rög
, 
	m°d
::°rög> > &
gëEnvV¨Li°
();

77 
	m°d
::
li°
<
EnvV¨
*> &
gëEnvV¨InU£
();

78 
Void
 
¥ötEnvV¨
();

79 
Void
 
¥ötEnvV¨InU£
();

81 
EnvV¨
(c⁄° 
°d
::
°rög
 &
sName
, c⁄° std::°rög &
sDeÁu…
, c⁄° std::°rög &
sHñp
);

83 
DoubÀ
 
	$gëDoubÀ
(Ëc⁄° {  
m_dVÆ
; }

84 
I¡
 
	$gëI¡
(Ëc⁄° {  
m_iVÆ
; 
	}
}

85 c⁄° 
	g°d
::
°rög
 &
	$gëSåög
(Ëc⁄° {  
m_sVÆ
; 
	}
}

86 
Boﬁ
 
	$isSë
(Ëc⁄° {  
m_bSë
; 
	}
}

87 
Boﬁ
 
	$isTrue
(Ëc⁄° {  
m_iVÆ
!=0; 
	}
}

88 c⁄° 
	g°d
::
°rög
 &
	$gëName
(Ëc⁄° {  
m_sName
; 
	}
}

97 
«me•a˚
 
	gDebugO±i⁄Li°


99 
EnvV¨
 
DebugSBAC
;

100 
EnvV¨
 
DebugRQT
;

101 
EnvV¨
 
DebugPªd
;

102 
EnvV¨
 
F‹˚LumaMode
;

103 
EnvV¨
 
F‹˚ChromaMode
;

105 #i‡
DEBUG_STRING


106 
EnvV¨
 
DebugSåög_Såu˘uª
;

107 
EnvV¨
 
DebugSåög_Pªd
;

108 
EnvV¨
 
DebugSåög_Resi
;

109 
EnvV¨
 
DebugSåög_Reco
;

110 
EnvV¨
 
DebugSåög_InvTøn
;

116 
Void
 
¥ötMa¸oSëtögs
();

122 
UI¡
 
g_debugCou¡î
;

124 #i‡
DEBUG_ENCODER_SEARCH_BINS


125 c⁄° 
UI¡
 
debugEncodîSórchBöT¨gëLöe
;

126 c⁄° 
UI¡
 
debugEncodîSórchBöWödow
;

129 #i‡
DEBUG_CABAC_BINS


130 c⁄° 
UI¡
 
debugCabacBöT¨gëLöe
;

131 c⁄° 
UI¡
 
debugCabacBöWödow
;

135 
Void
 
¥ötSBACC€ffD©a
–c⁄° 
UI¡
 
œ°X
,

136 c⁄° 
UI¡
 
œ°Y
,

137 c⁄° 
UI¡
 
width
,

138 c⁄° 
UI¡
 
height
,

139 c⁄° 
UI¡
 
ch™
,

140 c⁄° 
UI¡
 
absP¨t
,

141 c⁄° 
UI¡
 
sˇnIdx
,

142 c⁄° 
TC€ff
 *c⁄° 
pC€ff
,

143 c⁄° 
Boﬁ
 
föÆEncode
=
åue


147 
Void
 
¥ötCbfAºay
–
˛ass
 
TComD©aCU
* 
pcCU
 );

149 
UI¡
 
gëDecimÆWidth
(c⁄° 
DoubÀ
 
vÆue
);

150 
UI¡
 
gëZSˇnIndex
(c⁄° UI¡ 
x
, c⁄° UI¡ 
y
);

153 
	gãm∂©e
 <
ty≥«me
 
	gVÆueTy≥
> 
ölöe
 
Void
 
	$wrôeVÆueToSåóm
 (c⁄° 
VÆueTy≥
 &
vÆue
, 
°d
::
o°ªam
 &
°ªam
, c⁄° 
UI¡
 
ouçutWidth
Ë{ såóm << std::
	`£tw
(ouçutWidthË<< vÆue; 
	}
}

154 
	gãm∂©e
 <> 
ölöe
 
Void
 
	gwrôeVÆueToSåóm
<
	gSCh¨
>(c⁄° SCh¨ &
	gvÆue
, 
	g°d
::
o°ªam
 &
°ªam
, c⁄° 
UI¡
 
	gouçutWidth
Ë{ 
	g°ªam
 << std::
£tw
(
ouçutWidth
Ë<< 
I¡
(
vÆue
); }

155 
	gãm∂©e
 <> 
ölöe
 
Void
 
	gwrôeVÆueToSåóm
<
	gUCh¨
>(c⁄° UCh¨ &
	gvÆue
, 
	g°d
::
o°ªam
 &
°ªam
, c⁄° 
UI¡
 
	gouçutWidth
Ë{ 
	g°ªam
 << std::
£tw
(
ouçutWidth
Ë<< UI¡(
vÆue
); }

157 
	gãm∂©e
 <
ty≥«me
 
	gVÆueTy≥
>

158 
Void
 
	$¥ötBlock
(c⁄° 
VÆueTy≥
 *c⁄° 
sour˚
,

159 c⁄° 
UI¡
 
width
,

160 c⁄° 
UI¡
 
height
,

161 c⁄° 
UI¡
 
°ride
,

162 c⁄° 
UI¡
 
ouçutVÆueWidth
 = 0,

163 c⁄° 
Boﬁ
 
⁄lyPrötEdges
 = 
Ál£
,

164 c⁄° 
Boﬁ
 
¥ötInZSˇn
 = 
Ál£
,

165 c⁄° 
I¡
 
shi·Le·By
 = 0,

166 c⁄° 
Boﬁ
 
¥ötAvîage
 = 
Ál£
,

167 
°d
::
o°ªam
 & 
°ªam
 = std::
cout
)

170 
UI¡
 
ouçutWidth
 = 
ouçutVÆueWidth
;

172 i‡(
ouçutWidth
 == 0)

174 
VÆueTy≥
 
möimumVÆue
 = 
	`À·Shi·
(
sour˚
[0], 
shi·Le·By
);

175 
VÆueTy≥
 
maximumVÆue
 = 
möimumVÆue
;

177 
UI¡
 
y
 = 0; y < 
height
; y++)

179 
UI¡
 
x
 = 0; x < 
width
; x++)

181 
VÆueTy≥
 
vÆue
 = 0;

183 i‡(!
⁄lyPrötEdges
 || (
x
 =0Ë|| (
y
 == 0))

185 
vÆue
 = 
	`À·Shi·
(
sour˚
[
¥ötInZSˇn
 ? 
	`gëZSˇnIndex
(
x
, 
y
Ë: ((y * 
°ride
Ë+ x)], 
shi·Le·By
);

188 i‡(
vÆue
 < 
möimumVÆue
)

190 
möimumVÆue
 = 
vÆue
;

192 i‡(
vÆue
 > 
maximumVÆue
)

194 
maximumVÆue
 = 
vÆue
;

199 
ouçutWidth
 = 
°d
::
max
<
UI¡
>(
	`gëDecimÆWidth
(
	`DoubÀ
(
möimumVÆue
)), gëDecimÆWidth(DoubÀ(
maximumVÆue
))) + 1;

205 
VÆueTy≥
 
vÆueSum
 = 0;

207 
UI¡
 
y
 = 0; y < 
height
; y++)

209 
UI¡
 
x
 = 0; x < 
width
; x++)

211 
VÆueTy≥
 
vÆue
 = 0;

213 i‡(!
⁄lyPrötEdges
 || (
x
 =0Ë|| (
y
 == 0))

215 
vÆue
 = 
	`À·Shi·
(
sour˚
[
¥ötInZSˇn
 ? 
	`gëZSˇnIndex
(
x
, 
y
Ë: ((y * 
°ride
Ë+ x)], 
shi·Le·By
);

216 
vÆueSum
 +
vÆue
;

219 
	`wrôeVÆueToSåóm
(
vÆue
, 
°ªam
, 
ouçutWidth
);

221 
°ªam
 << "\n";

224 c⁄° 
I¡
 
vÆueCou¡
 = 
⁄lyPrötEdges
 ? 
	`I¡
((
width
 + 
height
) - 1) : Int(width * height);

225 i‡(
¥ötAvîage
)

227 
°ªam
 << "Avîage: " << (
vÆueSum
 / 
vÆueCou¡
) << "\n";

229 
°ªam
 << "\n";

230 
	}
}

233 
	gãm∂©e
 <
ty≥«me
 
	gT
>

234 
Void
 
	$¥ötBlockToSåóm
–
°d
::
o°ªam
 &
ss
, c⁄° 
TCh¨
 *
pLöePªfix
, c⁄° 
T
 * 
blkSrc
, c⁄° 
UI¡
 
width
, c⁄° UI¡ 
height
, c⁄° UI¡ 
°ride
, c⁄° UI¡ 
subBlockWidth
=0, c⁄° UI¡ 
subBlockHeight
=0, c⁄° UI¡ 
defWidth
=3 )

236 
UI¡
 
y
=0; y<
height
; y++)

238 i‡(
subBlockHeight
!=0 && (
y
%subBlockHeight)==0 && y!=0)

240 
ss
 << 
pLöePªfix
 << '\n';

243 
ss
 << 
pLöePªfix
;

244 
UI¡
 
x
=0; x<
width
; x++)

246 i‡(
subBlockWidth
!=0 && (
x
%subBlockWidth)==0 && x!=0)

248 
ss
 << 
°d
::
	`£tw
(
defWidth
+2) << "";

251 
ss
 << 
°d
::
	`£tw
(
defWidth
Ë<< 
blkSrc
[
y
*
°ride
 + 
x
] << ' ';

253 
ss
 << '\n';

255 
	}
}

257 
˛ass
 
	gTComYuv
;

258 
Void
 
¥ötBlockToSåóm
–
°d
::
o°ªam
 &
ss
, c⁄° 
TCh¨
 *
pLöePªfix
, 
TComYuv
 &
§c
, c⁄° 
UI¡
 
numSubBlocksA¸oss
=1, c⁄° UI¡ 
numSubBlocksUp
=1, c⁄° UI¡ 
defWidth
=3 );

264 
	g°d
::
°rög
 
•lôOnSëtögs
(c⁄° 
°d
::°rög &
öput
);

266 
	g°d
::
°rög
 
löeWøp
(c⁄° 
°d
::°rög &
öput
, c⁄° 
UI¡
 
maximumLöeLígth
);

268 
	g°d
::
°rög
 
ödítNewLöes
(c⁄° 
°d
::°rög &
öput
, c⁄° 
UI¡
 
ödítBy
);

272 #i‡
DEBUG_STRING


273 
I¡
 
DebugSåögGëPªdModeMask
(
PªdMode
 
mode
);

274 
Void
 
DebugI¡îPªdResiReco
(
°d
::
°rög
 &
sDebug
, 
TComYuv
 &
¥ed
, TComYuv &
ªsi
, TComYuv &
ªco
, 
I¡
 
¥edmode_mask
);

	@NAL.h

34 #¥agm®
⁄˚


36 #i‚de‡
__NAL__


37 
	#__NAL__


	)

39 
	~<s°ªam
>

40 
	~"Comm⁄Def.h
"

42 
˛ass
 
	gTComOuçutBô°ªam
;

47 
	sNALUnô


49 
NÆUnôTy≥
 
	mm_«lUnôTy≥
;

50 
UI¡
 
	mm_ãmp‹ÆId
;

51 
UI¡
 
	mm_nuhLayîId
;

53 
NALUnô
(c⁄° NALUnô &
§c
)

54 :
m_«lUnôTy≥
 (
§c
.m_nalUnitType)

55 ,
m_ãmp‹ÆId
 (
§c
.m_temporalId)

56 ,
m_nuhLayîId
 (
§c
.m_nuhLayerId)

59 
NALUnô
(

60 
NÆUnôTy≥
 
«lUnôTy≥
,

61 
I¡
 
ãmp‹ÆId
 = 0,

62 
I¡
 
nuhLayîId
 = 0)

63 :
m_«lUnôTy≥
 (
«lUnôTy≥
)

64 ,
m_ãmp‹ÆId
 (
ãmp‹ÆId
)

65 ,
m_nuhLayîId
 (
nuhLayîId
)

69 
NALUnô
() {}

71 
	mvútuÆ
 ~
NALUnô
() { }

74 
Boﬁ
 
isSli˚
()

76  
	mm_«lUnôTy≥
 =
NAL_UNIT_CODED_SLICE_TRAIL_R


77 || 
m_«lUnôTy≥
 =
NAL_UNIT_CODED_SLICE_TRAIL_N


78 || 
m_«lUnôTy≥
 =
NAL_UNIT_CODED_SLICE_TSA_R


79 || 
m_«lUnôTy≥
 =
NAL_UNIT_CODED_SLICE_TSA_N


80 || 
m_«lUnôTy≥
 =
NAL_UNIT_CODED_SLICE_STSA_R


81 || 
m_«lUnôTy≥
 =
NAL_UNIT_CODED_SLICE_STSA_N


82 || 
m_«lUnôTy≥
 =
NAL_UNIT_CODED_SLICE_BLA_W_LP


83 || 
m_«lUnôTy≥
 =
NAL_UNIT_CODED_SLICE_BLA_W_RADL


84 || 
m_«lUnôTy≥
 =
NAL_UNIT_CODED_SLICE_BLA_N_LP


85 || 
m_«lUnôTy≥
 =
NAL_UNIT_CODED_SLICE_IDR_W_RADL


86 || 
m_«lUnôTy≥
 =
NAL_UNIT_CODED_SLICE_IDR_N_LP


87 || 
m_«lUnôTy≥
 =
NAL_UNIT_CODED_SLICE_CRA


88 || 
m_«lUnôTy≥
 =
NAL_UNIT_CODED_SLICE_RADL_N


89 || 
m_«lUnôTy≥
 =
NAL_UNIT_CODED_SLICE_RADL_R


90 || 
m_«lUnôTy≥
 =
NAL_UNIT_CODED_SLICE_RASL_N


91 || 
m_«lUnôTy≥
 =
NAL_UNIT_CODED_SLICE_RASL_R
;

93 
Boﬁ
 
isSei
()

95  
	mm_«lUnôTy≥
 =
NAL_UNIT_PREFIX_SEI


96 || 
m_«lUnôTy≥
 =
NAL_UNIT_SUFFIX_SEI
;

99 
Boﬁ
 
isV˛
()

101  ( (
	mUI¡
)
	mm_«lUnôTy≥
 < 32 );

105 
	gOuçutNALUnô
;

110 
	gNALUnôEBSP
 : 
public
 
NALUnô


112 
°d
::
o°rög°ªam
 
m_«lUnôD©a
;

119 
NALUnôEBSP
(
OuçutNALUnô
& 
«lu
);

	@ProfileLevelTierFeatures.cpp

38 
	~"TLibComm⁄/TComSli˚.h
"

41 
	~<m©h.h
>

42 
	~"ProfûeLevñTõrFótuªs.h
"

44 
UI¡


45 
	gLevñTõrFótuªs
::
	$gëMaxPicWidthInLumaSam∂es
() const

47  
	`UI¡
(
	`sqπ
(
maxLumaPs
*8.0));

48 
	}
}

50 
UI¡


51 
	gLevñTõrFótuªs
::
	$gëMaxPicHeightInLumaSam∂es
() const

53  
	`UI¡
(
	`sqπ
(
maxLumaPs
*8.0));

54 
	}
}

56 c⁄° 
UI¡64
 
	gMAX_CNFUINT64
 = 
°d
::
numîic_limôs
<UI¡64>::
max
();

58 c⁄° 
LevñTõrFótuªs
 
	gmaöLevñTõrInfo
[] =

60 { 
Levñ
::
LEVEL1
 , 36864, { 350, 0 }, 16, 1, 1, 552960ULL, { 128, 0 }, { 2, 2} },

61 { 
Levñ
::
LEVEL2
 , 122880, { 1500, 0 }, 16, 1, 1, 3686400ULL, { 1500, 0 }, { 2, 2} },

62 { 
Levñ
::
LEVEL2_1
, 245760, { 3000, 0 }, 20, 1, 1, 7372800ULL, { 3000, 0 }, { 2, 2} },

63 { 
Levñ
::
LEVEL3
 , 552960, { 6000, 0 }, 30, 2, 2, 16588800ULL, { 6000, 0 }, { 2, 2} },

64 { 
Levñ
::
LEVEL3_1
, 983040, { 10000, 0 }, 40, 3, 3, 33177600ULL, { 10000, 0 }, { 2, 2} },

65 { 
Levñ
::
LEVEL4
 , 2228224, { 12000, 30000 }, 75, 5, 5, 66846720ULL, { 12000, 30000 }, { 4, 4} },

66 { 
Levñ
::
LEVEL4_1
, 2228224, { 20000, 50000 }, 75, 5, 5, 133693440ULL, { 20000, 50000 }, { 4, 4} },

67 { 
Levñ
::
LEVEL5
 , 8912896, { 25000, 100000 }, 200, 11, 10, 267386880ULL, { 25000, 100000 }, { 6, 4} },

68 { 
Levñ
::
LEVEL5_1
, 8912896, { 40000, 160000 }, 200, 11, 10, 534773760ULL, { 40000, 160000 }, { 8, 4} },

69 { 
Levñ
::
LEVEL5_2
, 8912896, { 60000, 240000 }, 200, 11, 10, 1069547520ULL, { 60000, 240000 }, { 8, 4} },

70 { 
Levñ
::
LEVEL6
 , 35651584, { 60000, 240000 }, 600, 22, 20, 1069547520ULL, { 60000, 240000 }, { 8, 4} },

71 { 
Levñ
::
LEVEL6_1
, 35651584, { 120000, 480000 }, 600, 22, 20, 2139095040ULL, { 120000, 480000 }, { 8, 4} },

72 { 
Levñ
::
LEVEL6_2
, 35651584, { 240000, 800000 }, 600, 22, 20, 4278190080ULL, { 240000, 800000 }, { 6, 4} },

73 { 
Levñ
::
LEVEL8_5
, 
MAX_UINT
, { MAX_UINT, MAX_UINT }, MAX_UINT, MAX_UINT, MAX_UINT, 
MAX_CNFUINT64
, {MAX_UINT, MAX_UINT }, { 0, 0} },

74 { 
Levñ
::
NONE
 }

77 c⁄° 
ProfûeFótuªs
 
	gvÆidProfûes
[] =

79 { 
Profûe
::
MAIN
, "Maö", 8, 
CHROMA_420
, 
Ál£
, fÆ£, 
ProfûeFótuªs
::
ENABLED
 , ProfûeFótuªs::
DISABLED
, ProfûeFótuªs::DISABLED, ProfûeFótuªs::DISABLED, ProfûeFótuªs::DISABLED, 
HBR_1
 , fÆ£, 256, 64, fÆ£, 1000, 1100, 1500, 10 , 
maöLevñTõrInfo
 },

80 { 
Profûe
::
MAIN10
, "Maö10", 10, 
CHROMA_420
, 
Ál£
, fÆ£, 
ProfûeFótuªs
::
ENABLED
 , ProfûeFótuªs::
DISABLED
, ProfûeFótuªs::DISABLED, ProfûeFótuªs::DISABLED, ProfûeFótuªs::DISABLED, 
HBR_1
 , fÆ£, 256, 64, fÆ£, 1000, 1100, 1875, 10 , 
maöLevñTõrInfo
 },

81 { 
Profûe
::
MAIN10
, "Maö10 Stû»Pi˘uª", 10, 
CHROMA_420
, 
Ál£
, 
åue
, 
ProfûeFótuªs
::
ENABLED
 , ProfûeFótuªs::
DISABLED
, ProfûeFótuªs::DISABLED, ProfûeFótuªs::DISABLED, ProfûeFótuªs::DISABLED, 
HBR_1
 , fÆ£, 256, 64,Åruê, 1000, 1100, 1875, 10 , 
maöLevñTõrInfo
 },

82 { 
Profûe
::
MAINSTILLPICTURE
, "Maö Stû»Pi˘uª", 8, 
CHROMA_420
, 
Ál£
, fÆ£, 
ProfûeFótuªs
::
ENABLED
 , ProfûeFótuªs::
DISABLED
, ProfûeFótuªs::DISABLED, ProfûeFótuªs::DISABLED, ProfûeFótuªs::DISABLED, 
HBR_1
 , fÆ£, 256, 64, 
åue
 , 1000, 1100, 1500, 10 , 
maöLevñTõrInfo
 },

83 { 
Profûe
::
MAINREXT
, "M⁄ochrome", 8, 
CHROMA_400
, 
Ál£
, fÆ£, 
ProfûeFótuªs
::
ENABLED
 , ProfûeFótuªs::
DISABLED
, ProfûeFótuªs::DISABLED, ProfûeFótuªs::DISABLED, ProfûeFótuªs::DISABLED, 
HBR_1_OR_2
 , fÆ£, 256, 64, fÆ£, 667, 733, 1000, 10 , 
maöLevñTõrInfo
 },

84 { 
Profûe
::
MAINREXT
, "M⁄ochromê12", 12, 
CHROMA_400
, 
Ál£
, fÆ£, 
ProfûeFótuªs
::
ENABLED
 , ProfûeFótuªs::
DISABLED
, ProfûeFótuªs::DISABLED, ProfûeFótuªs::DISABLED, ProfûeFótuªs::DISABLED, 
HBR_1_OR_2
 , fÆ£, 256, 64, fÆ£, 1000, 1100, 1500, 10 , 
maöLevñTõrInfo
 },

85 { 
Profûe
::
MAINREXT
, "M⁄ochromê16", 16, 
CHROMA_400
, 
Ál£
, fÆ£, 
ProfûeFótuªs
::
ENABLED
 , ProfûeFótuªs::
OPTIONAL
, ProfûeFótuªs::OPTIONAL, ProfûeFótuªs::
DISABLED
, ProfûeFótuªs::DISABLED, 
HBR_1_OR_2
 , fÆ£, 256, 64, fÆ£, 1333, 1467, 2000, 10 , 
maöLevñTõrInfo
 },

86 { 
Profûe
::
MAINREXT
, "Maö 12", 12, 
CHROMA_420
, 
Ál£
, fÆ£, 
ProfûeFótuªs
::
ENABLED
 , ProfûeFótuªs::
DISABLED
, ProfûeFótuªs::DISABLED, ProfûeFótuªs::DISABLED, ProfûeFótuªs::DISABLED, 
HBR_1_OR_2
 , fÆ£, 256, 64, fÆ£, 1500, 1650, 2250, 10 , 
maöLevñTõrInfo
 },

87 { 
Profûe
::
MAINREXT
, "Maö 4:2:2 10", 10, 
CHROMA_422
, 
Ál£
, fÆ£, 
ProfûeFótuªs
::
ENABLED
 , ProfûeFótuªs::
DISABLED
, ProfûeFótuªs::DISABLED, ProfûeFótuªs::
OPTIONAL
, ProfûeFótuªs::DISABLED, 
HBR_1_OR_2
 , fÆ£, 256, 64, fÆ£, 1667, 1833, 2500, 5 , 
maöLevñTõrInfo
 },

88 { 
Profûe
::
MAINREXT
, "Maö 4:2:2 12", 12, 
CHROMA_422
, 
Ál£
, fÆ£, 
ProfûeFótuªs
::
ENABLED
 , ProfûeFótuªs::
DISABLED
, ProfûeFótuªs::DISABLED, ProfûeFótuªs::
OPTIONAL
, ProfûeFótuªs::DISABLED, 
HBR_1_OR_2
 , fÆ£, 256, 64, fÆ£, 2000, 2200, 3000, 5 , 
maöLevñTõrInfo
 },

89 { 
Profûe
::
MAINREXT
, "Maö 4:4:4", 8, 
CHROMA_444
, 
Ál£
, fÆ£, 
ProfûeFótuªs
::
ENABLED
 , ProfûeFótuªs::
OPTIONAL
, ProfûeFótuªs::
DISABLED
, ProfûeFótuªs::OPTIONAL, ProfûeFótuªs::DISABLED, 
HBR_1_OR_2
 , fÆ£, 256, 64, fÆ£, 2000, 2200, 3000, 5 , 
maöLevñTõrInfo
 },

90 { 
Profûe
::
MAINREXT
, "Maö 4:4:4 10", 10, 
CHROMA_444
, 
Ál£
, fÆ£, 
ProfûeFótuªs
::
ENABLED
 , ProfûeFótuªs::
OPTIONAL
, ProfûeFótuªs::
DISABLED
, ProfûeFótuªs::OPTIONAL, ProfûeFótuªs::DISABLED, 
HBR_1_OR_2
 , fÆ£, 256, 64, fÆ£, 2500, 2750, 3750, 5 , 
maöLevñTõrInfo
 },

91 { 
Profûe
::
MAINREXT
, "Maö 4:4:4 12", 12, 
CHROMA_444
, 
Ál£
, fÆ£, 
ProfûeFótuªs
::
ENABLED
 , ProfûeFótuªs::
OPTIONAL
, ProfûeFótuªs::
DISABLED
, ProfûeFótuªs::OPTIONAL, ProfûeFótuªs::DISABLED, 
HBR_1_OR_2
 , fÆ£, 256, 64, fÆ£, 3000, 3300, 4500, 5 , 
maöLevñTõrInfo
 },

92 { 
Profûe
::
MAINREXT
, "Maö I¡ø", 8, 
CHROMA_420
, 
åue
 , 
Ál£
, 
ProfûeFótuªs
::
OPTIONAL
, ProfûeFótuªs::
DISABLED
, ProfûeFótuªs::DISABLED, ProfûeFótuªs::DISABLED, ProfûeFótuªs::DISABLED, 
HBR_1_OR_2
 , fÆ£, 256, 64, fÆ£, 1000, 1100, 1500, 10 , 
maöLevñTõrInfo
 },

93 { 
Profûe
::
MAINREXT
, "Maö 10 I¡ø", 10, 
CHROMA_420
, 
åue
 , 
Ál£
, 
ProfûeFótuªs
::
OPTIONAL
, ProfûeFótuªs::
DISABLED
, ProfûeFótuªs::DISABLED, ProfûeFótuªs::DISABLED, ProfûeFótuªs::DISABLED, 
HBR_1_OR_2
 , fÆ£, 256, 64, fÆ£, 1000, 1100, 1875, 10 , 
maöLevñTõrInfo
 },

94 { 
Profûe
::
MAINREXT
, "Maö 12 I¡ø", 12, 
CHROMA_420
, 
åue
 , 
Ál£
, 
ProfûeFótuªs
::
OPTIONAL
, ProfûeFótuªs::
DISABLED
, ProfûeFótuªs::DISABLED, ProfûeFótuªs::DISABLED, ProfûeFótuªs::DISABLED, 
HBR_1_OR_2
 , fÆ£, 256, 64, fÆ£, 1500, 1650, 2250, 10 , 
maöLevñTõrInfo
 },

95 { 
Profûe
::
MAINREXT
, "Maö 4:2:2 10 I¡ø", 10, 
CHROMA_422
, 
åue
 , 
Ál£
, 
ProfûeFótuªs
::
OPTIONAL
, ProfûeFótuªs::
DISABLED
, ProfûeFótuªs::DISABLED, ProfûeFótuªs::OPTIONAL, ProfûeFótuªs::DISABLED, 
HBR_1_OR_2
 , fÆ£, 256, 64, fÆ£, 1667, 1833, 2500, 5 , 
maöLevñTõrInfo
 },

96 { 
Profûe
::
MAINREXT
, "Maö 4:2:2 12 I¡ø", 12, 
CHROMA_422
, 
åue
 , 
Ál£
, 
ProfûeFótuªs
::
OPTIONAL
, ProfûeFótuªs::
DISABLED
, ProfûeFótuªs::DISABLED, ProfûeFótuªs::OPTIONAL, ProfûeFótuªs::DISABLED, 
HBR_1_OR_2
 , fÆ£, 256, 64, fÆ£, 2000, 2200, 3000, 5 , 
maöLevñTõrInfo
 },

97 { 
Profûe
::
MAINREXT
, "Maö 4:4:4 I¡ø", 8, 
CHROMA_444
, 
åue
 , 
Ál£
, 
ProfûeFótuªs
::
OPTIONAL
, ProfûeFótuªs::OPTIONAL, ProfûeFótuªs::
DISABLED
, ProfûeFótuªs::OPTIONAL, ProfûeFótuªs::DISABLED, 
HBR_1_OR_2
 , fÆ£, 256, 64, fÆ£, 2000, 2200, 3000, 5 , 
maöLevñTõrInfo
 },

98 { 
Profûe
::
MAINREXT
, "Maö 4:4:4 10 I¡ø", 10, 
CHROMA_444
, 
åue
 , 
Ál£
, 
ProfûeFótuªs
::
OPTIONAL
, ProfûeFótuªs::OPTIONAL, ProfûeFótuªs::
DISABLED
, ProfûeFótuªs::OPTIONAL, ProfûeFótuªs::DISABLED, 
HBR_1_OR_2
 , fÆ£, 256, 64, fÆ£, 2500, 2750, 3750, 5 , 
maöLevñTõrInfo
 },

99 { 
Profûe
::
MAINREXT
, "Maö 4:4:4 12 I¡ø", 12, 
CHROMA_444
, 
åue
 , 
Ál£
, 
ProfûeFótuªs
::
OPTIONAL
, ProfûeFótuªs::OPTIONAL, ProfûeFótuªs::
DISABLED
, ProfûeFótuªs::OPTIONAL, ProfûeFótuªs::DISABLED, 
HBR_1_OR_2
 , fÆ£, 256, 64, fÆ£, 3000, 3300, 4500, 5 , 
maöLevñTõrInfo
 },

100 { 
Profûe
::
MAINREXT
, "Maö 4:4:4 16 I¡ø", 16, 
CHROMA_444
, 
åue
 , 
Ál£
, 
ProfûeFótuªs
::
OPTIONAL
, ProfûeFótuªs::OPTIONAL, ProfûeFótuªs::OPTIONAL, ProfûeFótuªs::OPTIONAL, ProfûeFótuªs::
DISABLED
, 
HBR_1_OR_2
 , fÆ£, 256, 64, fÆ£, 4000, 4400, 6000, 5 , 
maöLevñTõrInfo
 },

101 { 
Profûe
::
MAINREXT
, "Maö 4:4:4 Stû»Pi˘uª", 8, 
CHROMA_444
, 
åue
 ,Åruê, 
ProfûeFótuªs
::
OPTIONAL
, ProfûeFótuªs::OPTIONAL, ProfûeFótuªs::
DISABLED
, ProfûeFótuªs::OPTIONAL, ProfûeFótuªs::DISABLED, 
HBR_1_OR_2
 , 
Ál£
, 256, 64,Åruê, 2000, 2200, 3000, 5 , 
maöLevñTõrInfo
 },

102 { 
Profûe
::
MAINREXT
, "Maö 4:4:4 16 Stû»Pi˘uª", 16, 
CHROMA_444
, 
åue
 ,Åruê, 
ProfûeFótuªs
::
OPTIONAL
, ProfûeFótuªs::OPTIONAL, ProfûeFótuªs::OPTIONAL, ProfûeFótuªs::OPTIONAL, ProfûeFótuªs::
DISABLED
, 
HBR_1_OR_2
 , 
Ál£
, 256, 64,Åruê, 4000, 4400, 6000, 5 , 
maöLevñTõrInfo
 },

103 { 
Profûe
::
HIGHTHROUGHPUTREXT
, "High Throughpuà4:4:4 16 I¡ø", 16, 
CHROMA_444
, 
åue
 , 
Ál£
, 
ProfûeFótuªs
::
OPTIONAL
, ProfûeFótuªs::OPTIONAL, ProfûeFótuªs::OPTIONAL, ProfûeFótuªs::OPTIONAL, ProfûeFótuªs::
ENABLED
 , 
HBR_12_OR_24
 ,Åruê, 256, 64, fÆ£, 4000, 4400, 6000, 5 , 
maöLevñTõrInfo
 },

104 { 
Profûe
::
NONE
, 0 }

110 
Void


111 
	gProfûeLevñTõrFótuªs
::
	$a˘iv©e
(c⁄° 
TComSPS
 &
•s
)

113 c⁄° 
ProfûeTõrLevñ
 
±l
=*(
•s
.
	`gëPTL
()->
	`gëGíîÆPTL
());

114 
	`a˘iv©e
(
±l
.
	`gëProfûeIdc
(),

115 
±l
.
	`gëBôDïthC⁄°øöt
(),

116 
±l
.
	`gëChromaF‹m©C⁄°øöt
(),

117 
±l
.
	`gëI¡øC⁄°øötFœg
(),

118 
±l
.
	`gëO√Pi˘uªO∆yC⁄°øötFœg
(),

119 
±l
.
	`gëLevñIdc
(),

120 
±l
.
	`gëTõrFœg
(),

121 
•s
.
	`gëMaxCUWidth
(),

122 
•s
.
	`gëBôDïth
(
CHANNEL_TYPE_LUMA
),

123 
•s
.
	`gëBôDïth
(
CHANNEL_TYPE_CHROMA
),

124 
•s
.
	`gëChromaF‹m©Idc
());

125 
	}
}

127 
Void


128 
	gProfûeLevñTõrFótuªs
::
	$a˘iv©e
(c⁄° 
Profûe
::
Name
 
¥ofûeIdc
,

129 c⁄° 
UI¡
 
bôDïthC⁄°øöt
,

130 c⁄° 
ChromaF‹m©
 
chromaF‹m©C⁄°øöt
,

131 c⁄° 
Boﬁ
 
öåaC⁄°øötFœg
,

132 c⁄° 
Boﬁ
 
⁄ePi˘uªO∆yC⁄°øötFœg
,

133 c⁄° 
Levñ
::
Name
 
Àvñ
,

134 c⁄° 
Levñ
::
Tõr
 
tõr
,

135 c⁄° 
UI¡
 
˘bSizeY
,

136 c⁄° 
UI¡
 
bôDïthY
,

137 c⁄° 
UI¡
 
bôDïthC
,

138 c⁄° 
ChromaF‹m©
 
chF‹m©
)

140 
m_tõr
 = 
tõr
;

142 
I¡
 
i
=0; 
vÆidProfûes
[i].
¥ofûe
 !
Profûe
::
NONE
; i++)

144 i‡(
¥ofûeIdc
 =
vÆidProfûes
[
i
].
¥ofûe
 &&

145 
bôDïthC⁄°øöt
 =
vÆidProfûes
[
i
].
maxBôDïth
 &&

146 
chromaF‹m©C⁄°øöt
 =
vÆidProfûes
[
i
].
maxChromaF‹m©
 &&

147 
öåaC⁄°øötFœg
 =
vÆidProfûes
[
i
].
gíîÆI¡øC⁄°øötFœg
 &&

148 
⁄ePi˘uªO∆yC⁄°øötFœg
 =
vÆidProfûes
[
i
].
gíîÆO√Pi˘uªO∆yC⁄°øötFœg
 )

150 
m_pProfûe
 = &(
vÆidProfûes
[
i
]);

155 i‡(
m_pProfûe
 != 0)

158 c⁄° 
LevñTõrFótuªs
 *
pLTF
 = 
m_pProfûe
->
pLevñTõrsLi°Info
;

159 c⁄° 
Levñ
::
Name
 
•sLevñName
 = 
Àvñ
;

160 i‡(
•sLevñName
!=
Levñ
::
LEVEL8_5
 || 
m_pProfûe
->
bC™U£Levñ8p5
)

162 
I¡
 
i
=0; 
pLTF
[i].
Àvñ
!=
Levñ
::
NONE
; i++)

164 i‡(
pLTF
[
i
].
Àvñ
 =
•sLevñName
)

166 
m_pLevñTõr
 = &(
pLTF
[
i
]);

173 c⁄° 
UI¡
 
˘bWidthC
 = 
˘bSizeY
 >> 
	`gëCh™√lTy≥SˇÀX
(
CHANNEL_TYPE_CHROMA
, 
chF‹m©
);

174 c⁄° 
UI¡
 
˘bHeightC
 = 
˘bSizeY
 >> 
	`gëCh™√lTy≥SˇÀY
(
CHANNEL_TYPE_CHROMA
, 
chF‹m©
);

176 c⁄° 
UI¡
 
øwCtuBôs
 = 
˘bSizeY
*˘bSizeY*
bôDïthY
+2*(
˘bWidthC
*
˘bHeightC
)*
bôDïthC
;

177 
m_maxRawCtuBôs
=(
øwCtuBôs
*5)/3;

180 
	}
}

182 
I¡
 
	gProfûeLevñTõrFótuªs
::
	$gëMaxDPBNumFømes
(c⁄° 
UI¡
 
PicSizeInSam∂esY
)

184 
I¡
 
MaxDpbSize
=-1;

186 i‡(
m_pLevñTõr
!=0)

188 
UI¡
 
MaxLumaPs
=
m_pLevñTõr
->
maxLumaPs
;

189 
I¡
 
maxDpbPicBuf
=6;

191 if–
PicSizeInSam∂esY
 <–
MaxLumaPs
 >> 2 ) )

193 
MaxDpbSize
 = 
	`mö
–4 * 
maxDpbPicBuf
, 16 );

195 if–
PicSizeInSam∂esY
 <–
MaxLumaPs
 >> 1 ) )

197 
MaxDpbSize
 = 
	`mö
–2 * 
maxDpbPicBuf
, 16 );

199 if–
PicSizeInSam∂esY
 <––3 * 
MaxLumaPs
 ) >> 2 ) )

201 
MaxDpbSize
 = 
	`mö
––4 * 
maxDpbPicBuf
 ) / 3, 16 );

205 
MaxDpbSize
 = 
maxDpbPicBuf
;

208  
MaxDpbSize
;

209 
	}
}

	@ProfileLevelTierFeatures.h

38 #i‚de‡
__PROFILELEVELTIERFEATURES__


39 
	#__PROFILELEVELTIERFEATURES__


	)

43 #i‡
_MSC_VER
 > 1000

44 #¥agm®
⁄˚


47 
	~"TLibComm⁄/Comm⁄Def.h
"

48 
	~<°dio.h
>

49 
	~<io°ªam
>

53 
˛ass
 
	gTComSPS
;

54 
˛ass
 
	gProfûeTõrLevñ
;

57 
	eHBRFACTOREQN


59 
	mHBR_1
 = 0,

60 
	mHBR_1_OR_2
 = 1,

61 
	mHBR_12_OR_24
 = 2

62 } 
	tHBRFACTOREQN
;

65 
	sLevñTõrFótuªs


67 
	mLevñ
::
Name
 
Àvñ
;

68 
UI¡
 
	mmaxLumaPs
;

69 
UI¡
 
	mmaxCpb
[
Levñ
::
NUMBER_OF_TIERS
];

70 
UI¡
 
	mmaxSli˚SegmítsPîPi˘uª
;

71 
UI¡
 
	mmaxTûeRows
;

72 
UI¡
 
	mmaxTûeCﬁs
;

73 
UI¡64
 
	mmaxLumaSr
;

74 
UI¡
 
	mmaxBr
[
Levñ
::
NUMBER_OF_TIERS
];

75 
UI¡
 
	mmöCrBa£
[
Levñ
::
NUMBER_OF_TIERS
];

76 
UI¡
 
gëMaxPicWidthInLumaSam∂es
() const;

77 
UI¡
 
gëMaxPicHeightInLumaSam∂es
() const;

81 
	sProfûeFótuªs


84 
	eTRISTATE


86 
	mDISABLED
=0,

87 
	mOPTIONAL
=1,

88 
	mENABLED
=2

89 } 
	tTRISTATE
;

91 
	mProfûe
::
Name
 
¥ofûe
;

92 c⁄° 
TCh¨
 *
	mpNameSåög
;

93 
UI¡
 
	mmaxBôDïth
;

94 
ChromaF‹m©
 
	mmaxChromaF‹m©
;

95 
Boﬁ
 
	mgíîÆI¡øC⁄°øötFœg
;

96 
Boﬁ
 
	mgíîÆO√Pi˘uªO∆yC⁄°øötFœg
;

97 
TRISTATE
 
	mgíîÆLowîBôR©eC⁄°øöt
;

98 
TRISTATE
 
	mgíîÆRExtToﬁsE«bÀd
;

99 
TRISTATE
 
	mexãndedPªcisi⁄Pro˚ssögFœg
;

100 
TRISTATE
 
	mchromaQpOff£tLi°E«bÀdFœg
;

101 
TRISTATE
 
	mˇbacBy∑ssAlignmítE«bÀdFœg
;

102 
HBRFACTOREQN
 
	mhbrFa˘‹Eqn
;

103 
Boﬁ
 
	mbWave‰⁄tsAndTûesC™BeU£dSimu…™eou¶y
;

105 
UI¡
 
	mmöTûeCﬁumnWidthInLumaSam∂es
;

106 
UI¡
 
	mmöTûeRowHeightInLumaSam∂es
;

107 
Boﬁ
 
	mbC™U£Levñ8p5
;

108 
UI¡
 
	m˝bV˛Fa˘‹
;

109 
UI¡
 
	m˝bNÆFa˘‹
;

110 
UI¡
 
	mf‹m©C≠abûôyFa˘‹x1000
;

111 
UI¡
 
	mmöCrSˇÀFa˘‹x10
;

112 c⁄° 
LevñTõrFótuªs
 *
	mpLevñTõrsLi°Info
;

114 
Boﬁ
 
chromaF‹m©VÆid
(
ChromaF‹m©
 
chFmt
Ëc⁄° {  (
	m¥ofûe
 =
Profûe
::
MAINREXT
 || 
¥ofûe
 =Profûe::
HIGHTHROUGHPUTREXT
Ë? chFmt<=
maxChromaF‹m©
 : (chFmt == maxChromaFormat ); }

115 
Boﬁ
 
⁄lyIRAPPi˘uªs
(Ëc⁄° {  
	mgíîÆI¡øC⁄°øötFœg
; }

116 
UI¡
 
gëHbrFa˘‹
(
Boﬁ
 
bLowîBôR©eC⁄°øötFœg
) const

118  
	mhbrFa˘‹Eqn
==
HBR_1_OR_2
 ? (2-(
bLowîBôR©eC⁄°øötFœg
?1:0)) :

119 (
hbrFa˘‹Eqn
==
HBR_12_OR_24
 ? 12*(2-(
bLowîBôR©eC⁄°øötFœg
?1:0)) :

125 ˛as†
	cProfûeLevñTõrFótuªs


127 
	m¥iv©e
:

128 c⁄° 
ProfûeFótuªs
 *
m_pProfûe
;

129 c⁄° 
LevñTõrFótuªs
 *
	mm_pLevñTõr
;

131 
	mLevñ
::
Tõr
 
m_tõr
;

132 
UI¡
 
	mm_maxRawCtuBôs
;

133 
	mpublic
:

134 
	$ProfûeLevñTõrFótuªs
(Ë: 
	`m_pProfûe
(0), 
	`m_pLevñTõr
(0), 
	`m_tõr
(
Levñ
::
MAIN
), 
	$m_maxRawCtuBôs
(0) { }

136 
Void
 
	`a˘iv©e
(c⁄° 
Profûe
::
Name
 
¥ofûeIdc
,

137 c⁄° 
UI¡
 
bôDïthC⁄°øöt
,

138 c⁄° 
ChromaF‹m©
 
chromaF‹m©C⁄°øöt
,

139 c⁄° 
Boﬁ
 
öåaC⁄°øötFœg
,

140 c⁄° 
Boﬁ
 
⁄ePi˘uªO∆yC⁄°øötFœg
,

141 c⁄° 
Levñ
::
Name
 
Àvñ
,

142 c⁄° 
Levñ
::
Tõr
 
tõr
,

143 c⁄° 
UI¡
 
˘bSizeY
,

144 c⁄° 
UI¡
 
bôDïthY
,

145 c⁄° 
UI¡
 
bôDïthC
,

146 c⁄° 
ChromaF‹m©
 
chF‹m©
);

148 
Void
 
	`a˘iv©e
(c⁄° 
TComSPS
 &
•s
);

150 c⁄° 
ProfûeFótuªs
 *
	$gëProfûeFótuªs
(Ëc⁄° {  
m_pProfûe
; 
	}
}

151 c⁄° 
LevñTõrFótuªs
 *
	$gëLevñTõrFótuªs
(Ëc⁄° {  
m_pLevñTõr
; 
	}
}

152 
	gLevñ
::
Tõr
 
	$gëTõr
(Ëc⁄° {  
m_tõr
; 
	}
}

153 
UI¡64
 
	$gëCpbSizeInBôs
(Ëc⁄° {  (
m_pLevñTõr
!=0 && 
m_pProfûe
!=0Ë? 
	`UI¡64
(m_pProfûe->
˝bV˛Fa˘‹
Ë* m_pLevñTõr->
maxCpb
[
m_tõr
?1:0] : UI¡64(0); 
	}
}

154 
DoubÀ
 
	$gëMöCr
(Ëc⁄° {  (
m_pLevñTõr
!=0 && 
m_pProfûe
!=0Ë? (m_pProfûe->
möCrSˇÀFa˘‹x10
 * m_pLevñTõr->
möCrBa£
[
m_tõr
?1:0])/10.0 : 0.0 ; 
	}
}

155 
UI¡
 
	$gëMaxRawCtuBôs
(Ëc⁄° {  
m_maxRawCtuBôs
; 
	}
}

156 
I¡
 
gëMaxDPBNumFømes
(c⁄° 
UI¡
 
PicSizeInSam∂esY
);

	@SEI.cpp

38 
	~"Comm⁄Def.h
"

39 
	~"SEI.h
"

40 
	~<io°ªam
>

42 c⁄° 
	g°d
::
ve˘‹
<
SEI
::
PaylﬂdTy≥
> SEI::
¥efix_£i_mesßges
({

43 
SEI
::
BUFFERING_PERIOD
,

44 
SEI
::
PICTURE_TIMING
,

45 
SEI
::
PAN_SCAN_RECT
,

46 
SEI
::
FILLER_PAYLOAD
,

47 
SEI
::
USER_DATA_REGISTERED_ITU_T_T35
,

48 
SEI
::
USER_DATA_UNREGISTERED
,

49 
SEI
::
RECOVERY_POINT
,

50 
SEI
::
SCENE_INFO
,

51 
SEI
::
PICTURE_SNAPSHOT
,

52 
SEI
::
PROGRESSIVE_REFINEMENT_SEGMENT_START
,

53 
SEI
::
PROGRESSIVE_REFINEMENT_SEGMENT_END
,

54 
SEI
::
FILM_GRAIN_CHARACTERISTICS
,

55 
SEI
::
POST_FILTER_HINT
,

56 
SEI
::
TONE_MAPPING_INFO
,

57 
SEI
::
FRAME_PACKING
,

58 
SEI
::
DISPLAY_ORIENTATION
,

59 
SEI
::
GREEN_METADATA
,

60 
SEI
::
SOP_DESCRIPTION
,

61 
SEI
::
ACTIVE_PARAMETER_SETS
,

62 
SEI
::
DECODING_UNIT_INFO
,

63 
SEI
::
TEMPORAL_LEVEL0_INDEX
,

64 
SEI
::
SCALABLE_NESTING
,

65 
SEI
::
REGION_REFRESH_INFO
,

66 
SEI
::
NO_DISPLAY
,

67 
SEI
::
TIME_CODE
,

68 
SEI
::
MASTERING_DISPLAY_COLOUR_VOLUME
,

69 
SEI
::
SEGM_RECT_FRAME_PACKING
,

70 
SEI
::
TEMP_MOTION_CONSTRAINED_TILE_SETS
,

71 
SEI
::
CHROMA_RESAMPLING_FILTER_HINT
,

72 
SEI
::
KNEE_FUNCTION_INFO
,

73 
SEI
::
COLOUR_REMAPPING_INFO
,

74 
SEI
::
DEINTERLACE_FIELD_IDENTIFICATION
,

75 
SEI
::
CONTENT_LIGHT_LEVEL_INFO
,

76 
SEI
::
DEPENDENT_RAP_INDICATION
,

77 
SEI
::
CODED_REGION_COMPLETION
,

78 
SEI
::
ALTERNATIVE_TRANSFER_CHARACTERISTICS
,

79 
SEI
::
AMBIENT_VIEWING_ENVIRONMENT


80 , 
SEI
::
CONTENT_COLOUR_VOLUME


81 , 
SEI
::
EQUIRECTANGULAR_PROJECTION


82 , 
SEI
::
SPHERE_ROTATION


83 , 
SEI
::
OMNI_VIEWPORT


84 , 
SEI
::
CUBEMAP_PROJECTION


85 , 
SEI
::
REGION_WISE_PACKING


86 , 
SEI
::
FISHEYE_VIDEO_INFO


87 , 
SEI
::
REGIONAL_NESTING


88 #i‡
SHUTTER_INTERVAL_SEI_MESSAGE


89 , 
SEI
::
SHUTTER_INTERVAL_INFO


93 c⁄° 
	g°d
::
ve˘‹
<
SEI
::
PaylﬂdTy≥
> SEI::
suffix_£i_mesßges
({

94 
SEI
::
FILLER_PAYLOAD
,

95 
SEI
::
USER_DATA_REGISTERED_ITU_T_T35
,

96 
SEI
::
USER_DATA_UNREGISTERED
,

97 
SEI
::
PROGRESSIVE_REFINEMENT_SEGMENT_END
,

98 
SEI
::
POST_FILTER_HINT
,

99 
SEI
::
DECODED_PICTURE_HASH
,

100 
SEI
::
CODED_REGION_COMPLETION
,

103 c⁄° 
	g°d
::
ve˘‹
<
SEI
::
PaylﬂdTy≥
> SEI::
ªgi⁄Æ_√°ög_£i_mesßges
({

104 
SEI
::
USER_DATA_REGISTERED_ITU_T_T35
,

105 
SEI
::
USER_DATA_UNREGISTERED
,

106 
SEI
::
FILM_GRAIN_CHARACTERISTICS
,

107 
SEI
::
POST_FILTER_HINT
,

108 
SEI
::
TONE_MAPPING_INFO
,

109 
SEI
::
CHROMA_RESAMPLING_FILTER_HINT
,

110 
SEI
::
KNEE_FUNCTION_INFO
,

111 
SEI
::
COLOUR_REMAPPING_INFO
,

112 
SEI
::
CONTENT_COLOUR_VOLUME
,

115 
SEIMesßges
 
	$gëSeisByTy≥
(
SEIMesßges
 &
£iLi°
, 
SEI
::
PaylﬂdTy≥
 
£iTy≥
)

117 
SEIMesßges
 
ªsu…
;

119 
SEIMesßges
::
ôî©‹
 
ô
=
£iLi°
.
	`begö
(); it!=£iLi°.
	`íd
(); it++)

121 i‡((*
ô
)->
	`∑ylﬂdTy≥
(Ë=
£iTy≥
)

123 
ªsu…
.
	`push_back
(*
ô
);

126  
ªsu…
;

127 
	}
}

129 
SEIMesßges
 
	$exåa˘SeisByTy≥
(
SEIMesßges
 &
£iLi°
, 
SEI
::
PaylﬂdTy≥
 
£iTy≥
)

131 
SEIMesßges
 
ªsu…
;

133 
SEIMesßges
::
ôî©‹
 
ô
=
£iLi°
.
	`begö
();

134  
ô
!=
£iLi°
.
	`íd
() )

136 i‡((*
ô
)->
	`∑ylﬂdTy≥
(Ë=
£iTy≥
)

138 
ªsu…
.
	`push_back
(*
ô
);

139 
ô
 = 
£iLi°
.
	`îa£
(it);

143 
ô
++;

146  
ªsu…
;

147 
	}
}

150 
Void
 
	$dñëeSEIs
 (
SEIMesßges
 &
£iLi°
)

152 
SEIMesßges
::
ôî©‹
 
ô
=
£iLi°
.
	`begö
(); it!=£iLi°.
	`íd
(); it++)

154 
	`dñëe
 (*
ô
);

156 
£iLi°
.
	`˛ór
();

157 
	}
}

159 
	gSEIBuf„rögPîiod
::
	$c›yTo
 (
SEIBuf„rögPîiod
& 
èrgë
)

161 
èrgë
.
m_bpSeqP¨amëîSëId
 = m_bpSeqParameterSetId;

162 
èrgë
.
m_øpCpbP¨amsPª£¡Fœg
 = m_rapCpbParamsPresentFlag;

163 
èrgë
.
m_˝bDñayOff£t
 = m_cpbDelayOffset;

164 
èrgë
.
m_dpbDñayOff£t
 = m_dpbDelayOffset;

165 
èrgë
.
m_c⁄ˇã«ti⁄Fœg
 = m_concatenationFlag;

166 
èrgë
.
m_auCpbRemovÆDñayDñè
 = m_auCpbRemovalDelayDelta;

167 ::
	`mem˝y
(
èrgë
.
m_öôülCpbRemovÆDñay
, m_initialCpbRemovalDelay, (m_initialCpbRemovalDelay));

168 ::
	`mem˝y
(
èrgë
.
m_öôülCpbRemovÆDñayOff£t
, m_initialCpbRemovalDelayOffset, (m_initialCpbRemovalDelayOffset));

169 ::
	`mem˝y
(
èrgë
.
m_öôülA…CpbRemovÆDñay
, m_initialAltCpbRemovalDelay, (m_initialAltCpbRemovalDelay));

170 ::
	`mem˝y
(
èrgë
.
m_öôülA…CpbRemovÆDñayOff£t
, m_initialAltCpbRemovalDelayOffset, (m_initialAltCpbRemovalDelayOffset));

171 
	}
}

173 
	gSEIPi˘uªTimög
::
	$c›yTo
 (
SEIPi˘uªTimög
& 
èrgë
)

175 
èrgë
.
m_picSåu˘
 = m_picStruct;

176 
èrgë
.
m_sour˚SˇnTy≥
 = m_sourceScanType;

177 
èrgë
.
m_du∂iˇãFœg
 = m_duplicateFlag;

179 
èrgë
.
m_auCpbRemovÆDñay
 = m_auCpbRemovalDelay;

180 
èrgë
.
m_picDpbOuçutDñay
 = m_picDpbOutputDelay;

181 
èrgë
.
m_picDpbOuçutDuDñay
 = m_picDpbOutputDuDelay;

182 
èrgë
.
m_numDecodögUnôsMöus1
 = m_numDecodingUnitsMinus1;

183 
èrgë
.
m_duComm⁄CpbRemovÆDñayFœg
 = m_duCommonCpbRemovalDelayFlag;

184 
èrgë
.
m_duComm⁄CpbRemovÆDñayMöus1
 = m_duCommonCpbRemovalDelayMinus1;

186 
èrgë
.
m_numNÆusInDuMöus1
 = m_numNalusInDuMinus1;

187 
èrgë
.
m_duCpbRemovÆDñayMöus1
 = m_duCpbRemovalDelayMinus1;

188 
	}
}

190 
	g°d
::
o°ªam
& 
›î©‹
<<(
°d
::o°ªam &
os
, 
RNSEIWödow
 c⁄° &
	gªgi⁄
)

192 
	gos
 << 
	gªgi⁄
.
gëRegi⁄Id
(Ë<< " " <<Ñegi⁄.
gëWödowLe·Off£t
() <<

193 
	gªgi⁄
.
gëWödowRightOff£t
(Ë<< " " <<Ñegi⁄.
gëWödowT›Off£t
() << " " <<

194 
	gªgi⁄
.
gëWödowBŸtomOff£t
() << "\n";

195  
	gos
;

198 
	gSEIRegi⁄ÆNe°ög
::~
	$SEIRegi⁄ÆNe°ög
()

201 
I¡
 
i
 = 0; i < 
m_∫SeiMesßges
.
	`size
(); i++)

203 
dñëe
 
m_∫SeiMesßges
[
i
].
m_£iMesßge
;

205 
	}
}

207 
Void
 
	gSEIRegi⁄ÆNe°ög
::
	$addRegi⁄ÆSEI
(
Regi⁄ÆSEI
 *
ªgSEI
)

210 c⁄° 
RNSEIWödowVec
 
√wRegi⁄s
 = 
ªgSEI
->
	`gëRegi⁄s
();

211 
RNSEIWödowVec
 
ªgi⁄sToAdd
;

212 
°d
::
ve˘‹
<
UI¡
> 
li°OfIndi˚s
;

215 
RNSEIWödowVec
::
c⁄°_ôî©‹
 
ôîNew
 = 
√wRegi⁄s
.
	`begö
();

216 
ôîNew
 !
√wRegi⁄s
.
	`íd
(); iterNew++)

218 
Boﬁ
 
addNewRegi⁄
 = 
m_ªgi⁄s
.
	`em±y
(Ë? 
åue
 : 
Ál£
;

219 
Boﬁ
 
foundRegi⁄
 = 
Ál£
;

221 
RNSEIWödowVec
::
c⁄°_ôî©‹
 
ôîRef
 = 
m_ªgi⁄s
.
	`begö
();

222 !
foundRegi⁄
 && 
ôîRef
 !
m_ªgi⁄s
.
	`íd
(); iterRef++)

224 if–(*
ôîNew
Ë=(*
ôîRef
) )

226 
li°OfIndi˚s
.
	`push_back
((
UI¡
)(
ôîRef
 - 
m_ªgi⁄s
.
	`begö
()));

227 
foundRegi⁄
 = 
åue
;

229 if–
ôîRef
->
	`checkSameID
(*
ôîNew
) )

232 
°d
::
cout
 << "Two differentÑegions haveÅhe same ID;Ölease check.\n";

233 
°d
::
cout
 << "Regi⁄:" << (*
ôîNew
) << "\n";

234 
°d
::
cout
 << "Regi⁄:" << (*
ôîRef
) << "\n";

235 
	`exô
(1);

238 
addNewRegi⁄
 = !
foundRegi⁄
;

240 if(
addNewRegi⁄
)

243 
li°OfIndi˚s
.
	`push_back
((
UI¡
)
m_ªgi⁄s
.
	`size
());

244 
m_ªgi⁄s
.
	`push_back
((*
ôîNew
));

247 if(
li°OfIndi˚s
.
	`em±y
())

249 
°d
::
cout
 << "UnableÅoáddÑegionsÅoÅheÑegionalÇesting SEI.\n";

250 
	`exô
(1);

252 
SEILi°OfIndi˚s
 
	`£iWôhLi°OfIndi˚s
(
li°OfIndi˚s
, 
ªgSEI
->
	`dissocüãSEIObje˘
());

253 
	`addRegi⁄ÆSEI
(
£iWôhLi°OfIndi˚s
);

254 
	}
}

257 c⁄° 
TCh¨
 *
	gSEI
::
	$gëSEIMesßgeSåög
(
SEI
::
PaylﬂdTy≥
 
∑ylﬂdTy≥
)

259 
∑ylﬂdTy≥
)

261 
SEI
::
BUFFERING_PERIOD
:  "BufferingÖeriod";

262 
SEI
::
PICTURE_TIMING
:  "PictureÅiming";

263 
SEI
::
PAN_SCAN_RECT
:  "Pan-scanÑectangle";

264 
SEI
::
FILLER_PAYLOAD
:  "FillerÖayload";

265 
SEI
::
USER_DATA_REGISTERED_ITU_T_T35
:  "User dataÑegistered";

266 
SEI
::
USER_DATA_UNREGISTERED
:  "User data unregistered";

267 
SEI
::
RECOVERY_POINT
:  "RecoveryÖoint";

268 
SEI
::
SCENE_INFO
:  "Scene information";

269 
SEI
::
PICTURE_SNAPSHOT
:  "Picture snapshot";

270 
SEI
::
PROGRESSIVE_REFINEMENT_SEGMENT_START
:  "ProgressiveÑefinement segment start";

271 
SEI
::
PROGRESSIVE_REFINEMENT_SEGMENT_END
:  "ProgressiveÑefinement segmentÉnd";

272 
SEI
::
FILM_GRAIN_CHARACTERISTICS
:  "Film grain characteristics";

273 
SEI
::
POST_FILTER_HINT
:  "Post filter hint";

274 
SEI
::
TONE_MAPPING_INFO
:  "Tone mapping information";

275 
SEI
::
KNEE_FUNCTION_INFO
:  "Knee function information";

276 
SEI
::
FRAME_PACKING
:  "FrameÖackingárrangement";

277 
SEI
::
DISPLAY_ORIENTATION
:  "Display orientation";

278 
SEI
::
GREEN_METADATA
:  "Green metadata information";

279 
SEI
::
SOP_DESCRIPTION
:  "Structure ofÖictures information";

280 
SEI
::
ACTIVE_PARAMETER_SETS
:  "ActiveÖarameter sets";

281 
SEI
::
DECODING_UNIT_INFO
:  "Decoding unit information";

282 
SEI
::
TEMPORAL_LEVEL0_INDEX
:  "Temporal sub-layer zero index";

283 
SEI
::
DECODED_PICTURE_HASH
:  "DecodedÖicture hash";

284 
SEI
::
SCALABLE_NESTING
:  "ScalableÇesting";

285 
SEI
::
REGION_REFRESH_INFO
:  "RegionÑefresh information";

286 
SEI
::
NO_DISPLAY
:  "No display";

287 
SEI
::
TIME_CODE
:  "Time code";

288 
SEI
::
MASTERING_DISPLAY_COLOUR_VOLUME
:  "Mastering display colour volume";

289 
SEI
::
SEGM_RECT_FRAME_PACKING
:  "SegmentedÑectangular frameÖackingárrangement";

290 
SEI
::
TEMP_MOTION_CONSTRAINED_TILE_SETS
:  "Temporal motion constrainedÅile sets";

291 
SEI
::
CHROMA_RESAMPLING_FILTER_HINT
:  "Chroma sampling filter hint";

292 
SEI
::
COLOUR_REMAPPING_INFO
:  "ColourÑemapping info";

293 
SEI
::
DEINTERLACE_FIELD_IDENTIFICATION
:  "Deinterlace field identification";

294 
SEI
::
CONTENT_LIGHT_LEVEL_INFO
:  "ContentÜightÜevel info";

295 
SEI
::
DEPENDENT_RAP_INDICATION
:  "Dependent RAP indication";

296 
SEI
::
CODED_REGION_COMPLETION
:  "CodedÑegion completion";

297 
SEI
::
ALTERNATIVE_TRANSFER_CHARACTERISTICS
:  "AlternativeÅransfer characteristics";

298 
SEI
::
AMBIENT_VIEWING_ENVIRONMENT
:  "Ambient viewingÉnvironment";

299 
SEI
::
CONTENT_COLOUR_VOLUME
:  "Content Colour Volume";

300 
SEI
::
EQUIRECTANGULAR_PROJECTION
:  "EquirectangularÖrojection";

301 
SEI
::
SPHERE_ROTATION
:  "SphereÑotation";

302 
SEI
::
OMNI_VIEWPORT
:  "Omni viewport";

303 
SEI
::
CUBEMAP_PROJECTION
:  "CubemapÖrojection";

304 
SEI
::
REGION_WISE_PACKING
:  "Region wiseÖacking information";

305 
SEI
::
FISHEYE_VIDEO_INFO
:  "Fisheye video information";

306 
SEI
::
REGIONAL_NESTING
:  "RegionalÇesting";

307 #i‡
MCTS_EXTRACTION


308 
SEI
::
MCTS_EXTRACTION_INFO_SET
:  "MCTSÉxtraction information";

310 
SEI
::
ANNOTATED_REGIONS
:  "Annotated Region";

311 #i‡
SHUTTER_INTERVAL_SEI_MESSAGE


312 
SEI
::
SHUTTER_INTERVAL_INFO
:  "Shutter interval information";

316 
	}
}

	@SEI.h

34 #i‚de‡
__SEI__


35 
	#__SEI__


	)

37 #¥agm®
⁄˚


38 
	~<li°
>

39 
	~<ve˘‹
>

40 
	~<c°rög
>

41 
	~<m≠
>

43 
	~"Comm⁄Def.h
"

44 
	~"libmd5/MD5.h
"

48 
˛ass
 
	gTComSPS
;

53 ˛as†
	cSEI


55 
	mpublic
:

56 
	ePaylﬂdTy≥


58 
BUFFERING_PERIOD
 = 0,

59 
	mPICTURE_TIMING
 = 1,

60 
	mPAN_SCAN_RECT
 = 2,

61 
	mFILLER_PAYLOAD
 = 3,

62 
	mUSER_DATA_REGISTERED_ITU_T_T35
 = 4,

63 
	mUSER_DATA_UNREGISTERED
 = 5,

64 
	mRECOVERY_POINT
 = 6,

65 
	mSCENE_INFO
 = 9,

66 
	mPICTURE_SNAPSHOT
 = 15,

67 
	mPROGRESSIVE_REFINEMENT_SEGMENT_START
 = 16,

68 
	mPROGRESSIVE_REFINEMENT_SEGMENT_END
 = 17,

69 
	mFILM_GRAIN_CHARACTERISTICS
 = 19,

70 
	mPOST_FILTER_HINT
 = 22,

71 
	mTONE_MAPPING_INFO
 = 23,

72 
	mFRAME_PACKING
 = 45,

73 
	mDISPLAY_ORIENTATION
 = 47,

74 
	mGREEN_METADATA
 = 56,

75 
	mSOP_DESCRIPTION
 = 128,

76 
	mACTIVE_PARAMETER_SETS
 = 129,

77 
	mDECODING_UNIT_INFO
 = 130,

78 
	mTEMPORAL_LEVEL0_INDEX
 = 131,

79 
	mDECODED_PICTURE_HASH
 = 132,

80 
	mSCALABLE_NESTING
 = 133,

81 
	mREGION_REFRESH_INFO
 = 134,

82 
	mNO_DISPLAY
 = 135,

83 
	mTIME_CODE
 = 136,

84 
	mMASTERING_DISPLAY_COLOUR_VOLUME
 = 137,

85 
	mSEGM_RECT_FRAME_PACKING
 = 138,

86 
	mTEMP_MOTION_CONSTRAINED_TILE_SETS
 = 139,

87 
	mCHROMA_RESAMPLING_FILTER_HINT
 = 140,

88 
	mKNEE_FUNCTION_INFO
 = 141,

89 
	mCOLOUR_REMAPPING_INFO
 = 142,

90 
	mDEINTERLACE_FIELD_IDENTIFICATION
 = 143,

91 
	mCONTENT_LIGHT_LEVEL_INFO
 = 144,

92 
	mDEPENDENT_RAP_INDICATION
 = 145,

93 
	mCODED_REGION_COMPLETION
 = 146,

94 
	mALTERNATIVE_TRANSFER_CHARACTERISTICS
 = 147,

95 
	mAMBIENT_VIEWING_ENVIRONMENT
 = 148,

96 
	mCONTENT_COLOUR_VOLUME
 = 149,

97 
	mEQUIRECTANGULAR_PROJECTION
 = 150,

98 
	mSPHERE_ROTATION
 = 154,

99 
	mOMNI_VIEWPORT
 = 156,

100 
	mCUBEMAP_PROJECTION
 = 151,

101 
	mFISHEYE_VIDEO_INFO
 = 152,

102 
	mREGION_WISE_PACKING
 = 155,

103 
	mREGIONAL_NESTING
 = 157,

104 #i‡
MCTS_EXTRACTION


105 
	mMCTS_EXTRACTION_INFO_SET
 = 158,

107 
	mANNOTATED_REGIONS
 = 202,

108 #i‡
SHUTTER_INTERVAL_SEI_MESSAGE


109 
	mSHUTTER_INTERVAL_INFO
 = 203,

113 
	$SEI
(Ë{
	}
}

114 
	gvútuÆ
 ~
	$SEI
(Ë{
	}
}

116 c⁄° 
TCh¨
 *
gëSEIMesßgeSåög
(
SEI
::
PaylﬂdTy≥
 
∑ylﬂdTy≥
);

118 
vútuÆ
 
PaylﬂdTy≥
 
	$∑ylﬂdTy≥
() const = 0;

120 c⁄° 
°d
::
ve˘‹
 <
SEI
::
PaylﬂdTy≥
> 
¥efix_£i_mesßges
;

121 c⁄° 
°d
::
ve˘‹
 <
SEI
::
PaylﬂdTy≥
> 
suffix_£i_mesßges
;

122 c⁄° 
°d
::
ve˘‹
 <
SEI
::
PaylﬂdTy≥
> 
ªgi⁄Æ_√°ög_£i_mesßges
;

123 
	}
};

126 
	g°d
::
	tli°
<
	tSEI
*> 
	tSEIMesßges
;

129 
SEIMesßges
 
gëSeisByTy≥
(SEIMesßge†&
£iLi°
, 
SEI
::
PaylﬂdTy≥
 
£iTy≥
);

132 
SEIMesßges
 
exåa˘SeisByTy≥
(SEIMesßge†&
£iLi°
, 
SEI
::
PaylﬂdTy≥
 
£iTy≥
);

135 
Void
 
dñëeSEIs
 (
SEIMesßges
 &
£iLi°
);

138 ˛as†
	cSEIBuf„rögPîiod
 : 
public
 
SEI


140 
public
:

141 
PaylﬂdTy≥
 
	$∑ylﬂdTy≥
(Ëc⁄° {  
BUFFERING_PERIOD
; }

142 
	`c›yTo
 (
SEIBuf„rögPîiod
& 
èrgë
);

144 
	$SEIBuf„rögPîiod
()

145 : 
	`m_bpSeqP¨amëîSëId
 (0)

146 , 
	`m_øpCpbP¨amsPª£¡Fœg
 (
Ál£
)

147 , 
	`m_˝bDñayOff£t
 (0)

148 , 
	$m_dpbDñayOff£t
 (0)

150 ::
	`mem£t
(
m_öôülCpbRemovÆDñay
, 0, (m_initialCpbRemovalDelay));

151 ::
	`mem£t
(
m_öôülCpbRemovÆDñayOff£t
, 0, (m_initialCpbRemovalDelayOffset));

152 ::
	`mem£t
(
m_öôülA…CpbRemovÆDñay
, 0, (m_initialAltCpbRemovalDelay));

153 ::
	`mem£t
(
m_öôülA…CpbRemovÆDñayOff£t
, 0, (m_initialAltCpbRemovalDelayOffset));

154 
	}
}

155 
	gvútuÆ
 ~
	$SEIBuf„rögPîiod
(Ë{
	}
}

157 
UI¡
 
	gm_bpSeqP¨amëîSëId
;

158 
Boﬁ
 
	gm_øpCpbP¨amsPª£¡Fœg
;

159 
UI¡
 
	gm_˝bDñayOff£t
;

160 
UI¡
 
	gm_dpbDñayOff£t
;

161 
UI¡
 
	gm_öôülCpbRemovÆDñay
 [
MAX_CPB_CNT
][2];

162 
UI¡
 
	gm_öôülCpbRemovÆDñayOff£t
 [
MAX_CPB_CNT
][2];

163 
UI¡
 
	gm_öôülA…CpbRemovÆDñay
 [
MAX_CPB_CNT
][2];

164 
UI¡
 
	gm_öôülA…CpbRemovÆDñayOff£t
[
MAX_CPB_CNT
][2];

165 
Boﬁ
 
	gm_c⁄ˇã«ti⁄Fœg
;

166 
UI¡
 
	gm_auCpbRemovÆDñayDñè
;

170 ˛as†
	cSEIPi˘uªTimög
 : 
public
 
SEI


172 
public
:

173 
PaylﬂdTy≥
 
	$∑ylﬂdTy≥
(Ëc⁄° {  
PICTURE_TIMING
; }

174 
	`c›yTo
 (
SEIPi˘uªTimög
& 
èrgë
);

176 
	$SEIPi˘uªTimög
()

177 : 
	`m_picSåu˘
 (0)

178 , 
	`m_sour˚SˇnTy≥
 (0)

179 , 
	`m_du∂iˇãFœg
 (
Ál£
)

180 , 
	$m_picDpbOuçutDuDñay
 (0)

181 {
	}
}

182 
	gvútuÆ
 ~
	$SEIPi˘uªTimög
()

184 
	}
}

186 
UI¡
 
	gm_picSåu˘
;

187 
UI¡
 
	gm_sour˚SˇnTy≥
;

188 
Boﬁ
 
	gm_du∂iˇãFœg
;

190 
UI¡
 
	gm_auCpbRemovÆDñay
;

191 
UI¡
 
	gm_picDpbOuçutDñay
;

192 
UI¡
 
	gm_picDpbOuçutDuDñay
;

193 
UI¡
 
	gm_numDecodögUnôsMöus1
;

194 
Boﬁ
 
	gm_duComm⁄CpbRemovÆDñayFœg
;

195 
UI¡
 
	gm_duComm⁄CpbRemovÆDñayMöus1
;

196 
	g°d
::
ve˘‹
<
UI¡
> 
m_numNÆusInDuMöus1
;

197 
	g°d
::
ve˘‹
<
UI¡
> 
m_duCpbRemovÆDñayMöus1
;

201 ˛as†
	cSEIP™SˇnRe˘
 : 
public
 
SEI


203 
public
:

204 
PaylﬂdTy≥
 
	$∑ylﬂdTy≥
(Ëc⁄° {  
PAN_SCAN_RECT
; }

206 
	$SEIP™SˇnRe˘
(Ë{
	}
}

207 
	gvútuÆ
 ~
	$SEIP™SˇnRe˘
(Ë{
	}
}

209 
	sP™SˇnRe˘


211 
I¡
 
	gÀ·Off£t
;

212 
I¡
 
	grightOff£t
;

213 
I¡
 
	gt›Off£t
;

214 
I¡
 
	gbŸtomOff£t
;

217 
UI¡
 
	gm_∑nSˇnRe˘Id
;

218 
Boﬁ
 
	gm_∑nSˇnRe˘C™˚lFœg
;

219 
	g°d
::
ve˘‹
<
P™SˇnRe˘
> 
m_∑nSˇnRe˘Regi⁄s
;

220 
Boﬁ
 
	gm_∑nSˇnRe˘Pîsi°í˚Fœg
;

224 ˛as†
	cSEIFûÀrPaylﬂd
 : 
public
 
SEI


226 
public
:

227 
PaylﬂdTy≥
 
	$∑ylﬂdTy≥
(Ëc⁄° {  
FILLER_PAYLOAD
; }

229 
	$SEIFûÀrPaylﬂd
(Ë{
	}
}

230 
	gvútuÆ
 ~
	$SEIFûÀrPaylﬂd
(Ë{
	}
}

232 
UI¡
 
	gm_numFûÀrFFByãs
;

236 ˛as†
	cSEIU£rD©aRegi°îed
 : 
public
 
SEI


238 
public
:

239 
PaylﬂdTy≥
 
	$∑ylﬂdTy≥
(Ëc⁄° {  
USER_DATA_REGISTERED_ITU_T_T35
; }

241 
	$SEIU£rD©aRegi°îed
(Ë{
	}
}

242 
	gvútuÆ
 ~
	$SEIU£rD©aRegi°îed
(Ë{
	}
}

244 
USh‹t
 
	gm_ôuCou¡ryCode
;

245 
	g°d
::
ve˘‹
<
UCh¨
> 
m_u£rD©a
;

249 c⁄° 
UI¡
 
	gISO_IEC_11578_LEN
=16;

251 ˛as†
	cSEIU£rD©aUƒegi°îed
 : 
public
 
SEI


253 
public
:

254 
PaylﬂdTy≥
 
	$∑ylﬂdTy≥
(Ëc⁄° {  
USER_DATA_UNREGISTERED
; }

256 
	$SEIU£rD©aUƒegi°îed
(Ë{
	}
}

257 
	gvútuÆ
 ~
	$SEIU£rD©aUƒegi°îed
(Ë{ 
	}
}

259 
UCh¨
 
	gm_uuid_iso_õc_11578
[
ISO_IEC_11578_LEN
];

260 
	g°d
::
ve˘‹
<
UCh¨
> 
m_u£rD©a
;

264 ˛as†
	cSEIRecovîyPoöt
 : 
public
 
SEI


266 
public
:

267 
PaylﬂdTy≥
 
	$∑ylﬂdTy≥
(Ëc⁄° {  
RECOVERY_POINT
; }

269 
	$SEIRecovîyPoöt
(Ë{
	}
}

270 
	gvútuÆ
 ~
	$SEIRecovîyPoöt
(Ë{
	}
}

272 
I¡
 
	gm_ªcovîyPocC¡
;

273 
Boﬁ
 
	gm_exa˘M©chögFœg
;

274 
Boﬁ
 
	gm_brokíLökFœg
;

278 ˛as†
	cSEIS˚√Info
 : 
public
 
SEI


280 
public
:

281 
PaylﬂdTy≥
 
	$∑ylﬂdTy≥
(Ëc⁄° {  
SCENE_INFO
; }

283 
	$SEIS˚√Info
(Ë{
	}
}

284 
	gvútuÆ
 ~
	$SEIS˚√Info
(Ë{
	}
}

286 
Boﬁ
 
	gm_bS˚√InfoPª£¡Fœg
;

287 
Boﬁ
 
	gm_bPªvS˚√IdVÆidFœg
;

288 
UI¡
 
	gm_s˚√Id
;

289 
UI¡
 
	gm_s˚√Tønsôi⁄Ty≥
;

290 
UI¡
 
	gm_£c⁄dS˚√Id
;

294 ˛as†
	cSEIPi˘uªS«pshŸ
 : 
public
 
SEI


296 
public
:

297 
PaylﬂdTy≥
 
	$∑ylﬂdTy≥
(Ëc⁄° {  
PICTURE_SNAPSHOT
; }

299 
	$SEIPi˘uªS«pshŸ
(Ë{
	}
}

300 
	gvútuÆ
 ~
	$SEIPi˘uªS«pshŸ
(Ë{
	}
}

302 
UI¡
 
	gm_¢≠shŸId
;

306 ˛as†
	cSEIProgªssiveReföemítSegmítSèπ
 : 
public
 
SEI


308 
public
:

309 
PaylﬂdTy≥
 
	$∑ylﬂdTy≥
(Ëc⁄° {  
PROGRESSIVE_REFINEMENT_SEGMENT_START
; }

311 
	$SEIProgªssiveReföemítSegmítSèπ
(Ë{
	}
}

312 
	gvútuÆ
 ~
	$SEIProgªssiveReföemítSegmítSèπ
(Ë{
	}
}

314 
UI¡
 
	gm_¥ogªssiveReföemítId
;

315 
UI¡
 
	gm_picOrdîC¡Dñè
;

319 ˛as†
	cSEIProgªssiveReföemítSegmítEnd
: 
public
 
SEI


321 
public
:

322 
PaylﬂdTy≥
 
	$∑ylﬂdTy≥
(Ëc⁄° {  
PROGRESSIVE_REFINEMENT_SEGMENT_END
; }

324 
	$SEIProgªssiveReföemítSegmítEnd
(Ë{
	}
}

325 
	gvútuÆ
 ~
	$SEIProgªssiveReföemítSegmítEnd
(Ë{
	}
}

327 
UI¡
 
	gm_¥ogªssiveReföemítId
;

331 ˛as†
	cSEIFûmGøöCh¨a˘îi°ics
: 
public
 
SEI


333 
public
:

334 
PaylﬂdTy≥
 
	$∑ylﬂdTy≥
(Ëc⁄° {  
FILM_GRAIN_CHARACTERISTICS
; }

336 
	$SEIFûmGøöCh¨a˘îi°ics
(Ë{
	}
}

337 
	gvútuÆ
 ~
	$SEIFûmGøöCh¨a˘îi°ics
(Ë{
	}
}

339 
Boﬁ
 
	gm_fûmGøöCh¨a˘îi°icsC™˚lFœg
;

340 
UCh¨
 
	gm_fûmGøöModñId
;

341 
Boﬁ
 
	gm_£∑øãCﬁourDes¸ùti⁄Pª£¡Fœg
;

342 
UCh¨
 
	gm_fûmGøöBôDïthLumaMöus8
;

343 
UCh¨
 
	gm_fûmGøöBôDïthChromaMöus8
;

344 
Boﬁ
 
	gm_fûmGøöFuŒR™geFœg
;

345 
UCh¨
 
	gm_fûmGøöCﬁourPrim¨õs
;

346 
UCh¨
 
	gm_fûmGøöTøns„rCh¨a˘îi°ics
;

347 
UCh¨
 
	gm_fûmGøöM©rixC€ffs
;

348 
UCh¨
 
	gm_bÀndögModeId
;

349 
UCh¨
 
	gm_log2SˇÀFa˘‹
;

351 
	sCompModñI¡ísôyVÆues


353 
UCh¨
 
	göãnsôyI¡îvÆLowîBound
;

354 
UCh¨
 
	göãnsôyI¡îvÆUµîBound
;

355 
	g°d
::
ve˘‹
<
I¡
> 
compModñVÆue
;

358 
	sCompModñ


360 
Boﬁ
 
	gbPª£¡Fœg
;

361 
UCh¨
 
	gnumModñVÆues
;

362 
	g°d
::
ve˘‹
<
CompModñI¡ísôyVÆues
> 
öãnsôyVÆues
;

365 
CompModñ
 
	gm_compModñ
[
MAX_NUM_COMPONENT
];

366 
Boﬁ
 
	gm_fûmGøöCh¨a˘îi°icsPîsi°í˚Fœg
;

370 ˛as†
	cSEIPo°FûãrHöt
: 
public
 
SEI


372 
public
:

373 
PaylﬂdTy≥
 
	$∑ylﬂdTy≥
(Ëc⁄° {  
POST_FILTER_HINT
; }

375 
	$SEIPo°FûãrHöt
(Ë{
	}
}

376 
	gvútuÆ
 ~
	$SEIPo°FûãrHöt
(Ë{
	}
}

378 
UI¡
 
	gm_fûãrHötSizeY
;

379 
UI¡
 
	gm_fûãrHötSizeX
;

380 
UI¡
 
	gm_fûãrHötTy≥
;

381 
Boﬁ
 
	gm_bIsM⁄ochrome
;

382 
	g°d
::
ve˘‹
<
I¡
> 
m_fûãrHötVÆues
;

386 ˛as†
	cSEIT⁄eM≠pögInfo
 : 
public
 
SEI


388 
public
:

389 
PaylﬂdTy≥
 
	$∑ylﬂdTy≥
(Ëc⁄° {  
TONE_MAPPING_INFO
; }

390 
	$SEIT⁄eM≠pögInfo
(Ë{
	}
}

391 
	gvútuÆ
 ~
	$SEIT⁄eM≠pögInfo
(Ë{
	}
}

393 
I¡
 
	gm_t⁄eM≠Id
;

394 
Boﬁ
 
	gm_t⁄eM≠C™˚lFœg
;

395 
Boﬁ
 
	gm_t⁄eM≠Pîsi°í˚Fœg
;

396 
I¡
 
	gm_codedD©aBôDïth
;

397 
I¡
 
	gm_èrgëBôDïth
;

398 
I¡
 
	gm_modñId
;

399 
I¡
 
	gm_möVÆue
;

400 
I¡
 
	gm_maxVÆue
;

401 
I¡
 
	gm_sigmoidMidpoöt
;

402 
I¡
 
	gm_sigmoidWidth
;

403 
	g°d
::
ve˘‹
<
I¡
> 
m_°¨tOfCodedI¡îvÆ
;

404 
I¡
 
	gm_numPivŸs
;

405 
	g°d
::
ve˘‹
<
I¡
> 
m_codedPivŸVÆue
;

406 
	g°d
::
ve˘‹
<
I¡
> 
m_èrgëPivŸVÆue
;

407 
I¡
 
	gm_ˇmîaIsoS≥edIdc
;

408 
I¡
 
	gm_ˇmîaIsoS≥edVÆue
;

409 
I¡
 
	gm_exposuªIndexIdc
;

410 
I¡
 
	gm_exposuªIndexVÆue
;

411 
Boﬁ
 
	gm_exposuªCom≥nßti⁄VÆueSignFœg
;

412 
I¡
 
	gm_exposuªCom≥nßti⁄VÆueNumî©‹
;

413 
I¡
 
	gm_exposuªCom≥nßti⁄VÆueDíomIdc
;

414 
I¡
 
	gm_ªfS¸ìnLumö™˚Whôe
;

415 
I¡
 
	gm_exãndedR™geWhôeLevñ
;

416 
I¡
 
	gm_nomöÆBœckLevñLumaCodeVÆue
;

417 
I¡
 
	gm_nomöÆWhôeLevñLumaCodeVÆue
;

418 
I¡
 
	gm_exãndedWhôeLevñLumaCodeVÆue
;

422 ˛as†
	cSEIFømePackög
 : 
public
 
SEI


424 
public
:

425 
PaylﬂdTy≥
 
	$∑ylﬂdTy≥
(Ëc⁄° {  
FRAME_PACKING
; }

427 
	$SEIFømePackög
(Ë{
	}
}

428 
	gvútuÆ
 ~
	$SEIFømePackög
(Ë{
	}
}

430 
I¡
 
	gm_¨øngemítId
;

431 
Boﬁ
 
	gm_¨øngemítC™˚lFœg
;

432 
I¡
 
	gm_¨øngemítTy≥
;

433 
Boﬁ
 
	gm_quöcunxSam∂ögFœg
;

434 
I¡
 
	gm_c⁄ã¡I¡î¥ë©i⁄Ty≥
;

435 
Boﬁ
 
	gm_•©ülFlùpögFœg
;

436 
Boﬁ
 
	gm_‰ame0Flù≥dFœg
;

437 
Boﬁ
 
	gm_fõldVõwsFœg
;

438 
Boﬁ
 
	gm_cuºítFømeIsFøme0Fœg
;

439 
Boﬁ
 
	gm_‰ame0SñfC⁄èöedFœg
;

440 
Boﬁ
 
	gm_‰ame1SñfC⁄èöedFœg
;

441 
I¡
 
	gm_‰ame0GridPosôi⁄X
;

442 
I¡
 
	gm_‰ame0GridPosôi⁄Y
;

443 
I¡
 
	gm_‰ame1GridPosôi⁄X
;

444 
I¡
 
	gm_‰ame1GridPosôi⁄Y
;

445 
I¡
 
	gm_¨øngemítRe£rvedByã
;

446 
Boﬁ
 
	gm_¨øngemítPîsi°í˚Fœg
;

447 
Boﬁ
 
	gm_upßm∂edA•e˘R©io
;

451 ˛as†
	cSEIDi•œyOrõ¡©i⁄
 : 
public
 
SEI


453 
public
:

454 
PaylﬂdTy≥
 
	$∑ylﬂdTy≥
(Ëc⁄° {  
DISPLAY_ORIENTATION
; }

456 
	$SEIDi•œyOrõ¡©i⁄
()

457 : 
	`ˇn˚lFœg
(
åue
)

458 , 
	`≥rsi°í˚Fœg
(0)

459 , 
	$exãnsi⁄Fœg
(
Ál£
)

460 {
	}
}

461 
	gvútuÆ
 ~
	$SEIDi•œyOrõ¡©i⁄
(Ë{
	}
}

463 
Boﬁ
 
	gˇn˚lFœg
;

464 
Boﬁ
 
	gh‹Flù
;

465 
Boﬁ
 
	gvîFlù
;

467 
UI¡
 
	g™ti˛ockwi£RŸ©i⁄
;

468 
Boﬁ
 
	g≥rsi°í˚Fœg
;

469 
Boﬁ
 
	gexãnsi⁄Fœg
;

473 ˛as†
	cSEIGªíMëad©aInfo
 : 
public
 
SEI


475 
public
:

476 
PaylﬂdTy≥
 
	$∑ylﬂdTy≥
(Ëc⁄° {  
GREEN_METADATA
; }

477 
	$SEIGªíMëad©aInfo
(Ë{
	}
}

479 
	gvútuÆ
 ~
	$SEIGªíMëad©aInfo
(Ë{
	}
}

481 
UI¡
 
	gm_gªíMëad©aTy≥
;

482 
UI¡
 
	gm_xsdMëricTy≥
;

483 
UI¡
 
	gm_xsdMëricVÆue
;

487 ˛as†
	cSEISOPDes¸ùti⁄
 : 
public
 
SEI


489 
public
:

490 
PaylﬂdTy≥
 
	$∑ylﬂdTy≥
(Ëc⁄° {  
SOP_DESCRIPTION
; }

492 
	$SEISOPDes¸ùti⁄
(Ë{
	}
}

493 
	gvútuÆ
 ~
	$SEISOPDes¸ùti⁄
(Ë{
	}
}

495 
UI¡
 
	gm_s›SeqP¨amëîSëId
;

496 
UI¡
 
	gm_numPicsInS›Möus1
;

498 
UI¡
 
	gm_s›DescV˛NÆuTy≥
[
MAX_NUM_PICS_IN_SOP
];

499 
UI¡
 
	gm_s›DescTemp‹ÆId
[
MAX_NUM_PICS_IN_SOP
];

500 
UI¡
 
	gm_s›DescStRpsIdx
[
MAX_NUM_PICS_IN_SOP
];

501 
I¡
 
	gm_s›DescPocDñè
[
MAX_NUM_PICS_IN_SOP
];

505 ˛as†
	cSEIA˘iveP¨amëîSës
 : 
public
 
SEI


507 
public
:

508 
PaylﬂdTy≥
 
	$∑ylﬂdTy≥
(Ëc⁄° {  
ACTIVE_PARAMETER_SETS
; }

510 
	$SEIA˘iveP¨amëîSës
()

511 : 
	`a˘iveVPSId
 (0)

512 , 
	`m_£lfC⁄èöedCvsFœg
 (
Ál£
)

513 , 
	`m_noP¨amëîSëUpd©eFœg
 (
Ál£
)

514 , 
	$numSpsIdsMöus1
 (0)

515 {
	}
}

516 
	gvútuÆ
 ~
	$SEIA˘iveP¨amëîSës
(Ë{
	}
}

518 
I¡
 
	ga˘iveVPSId
;

519 
Boﬁ
 
	gm_£lfC⁄èöedCvsFœg
;

520 
Boﬁ
 
	gm_noP¨amëîSëUpd©eFœg
;

521 
I¡
 
	gnumSpsIdsMöus1
;

522 
	g°d
::
ve˘‹
<
I¡
> 
a˘iveSeqP¨amëîSëId
;

526 ˛as†
	cSEIDecodögUnôInfo
 : 
public
 
SEI


528 
public
:

529 
PaylﬂdTy≥
 
	$∑ylﬂdTy≥
(Ëc⁄° {  
DECODING_UNIT_INFO
; }

531 
	$SEIDecodögUnôInfo
()

532 : 
	`m_decodögUnôIdx
(0)

533 , 
	`m_duS±CpbRemovÆDñay
(0)

534 , 
	`m_dpbOuçutDuDñayPª£¡Fœg
(
Ál£
)

535 , 
	$m_picS±DpbOuçutDuDñay
(0)

536 {
	}
}

537 
	gvútuÆ
 ~
	$SEIDecodögUnôInfo
(Ë{
	}
}

538 
I¡
 
	gm_decodögUnôIdx
;

539 
I¡
 
	gm_duS±CpbRemovÆDñay
;

540 
Boﬁ
 
	gm_dpbOuçutDuDñayPª£¡Fœg
;

541 
I¡
 
	gm_picS±DpbOuçutDuDñay
;

545 ˛as†
	cSEITemp‹ÆLevñ0Index
 : 
public
 
SEI


547 
public
:

548 
PaylﬂdTy≥
 
	$∑ylﬂdTy≥
(Ëc⁄° {  
TEMPORAL_LEVEL0_INDEX
; }

550 
	$SEITemp‹ÆLevñ0Index
()

551 : 
	`é0Idx
(0)

552 , 
	$øpIdx
(0)

553 {
	}
}

554 
	gvútuÆ
 ~
	$SEITemp‹ÆLevñ0Index
(Ë{
	}
}

556 
UI¡
 
	gé0Idx
;

557 
UI¡
 
	gøpIdx
;

561 ˛as†
	cSEIDecodedPi˘uªHash
 : 
public
 
SEI


563 
public
:

564 
PaylﬂdTy≥
 
	$∑ylﬂdTy≥
(Ëc⁄° {  
DECODED_PICTURE_HASH
; }

566 
	$SEIDecodedPi˘uªHash
(Ë{
	}
}

567 
	gvútuÆ
 ~
	$SEIDecodedPi˘uªHash
(Ë{
	}
}

569 
HashTy≥
 
	gmëhod
;

571 
TComPi˘uªHash
 
	gm_pi˘uªHash
;

575 ˛as†
	cSEISˇœbÀNe°ög
 : 
public
 
SEI


577 
public
:

578 
PaylﬂdTy≥
 
	$∑ylﬂdTy≥
(Ëc⁄° {  
SCALABLE_NESTING
; }

580 
	$SEISˇœbÀNe°ög
(Ë{
	}
}

582 
	gvútuÆ
 ~
	$SEISˇœbÀNe°ög
()

584 
	`dñëeSEIs
(
m_√°edSEIs
);

585 
	}
}

587 
Boﬁ
 
	gm_bôSåómSub£tFœg
;

588 
Boﬁ
 
	gm_√°ögOpFœg
;

589 
Boﬁ
 
	gm_deÁu…OpFœg
;

590 
UI¡
 
	gm_√°ögNumOpsMöus1
;

591 
UI¡
 
	gm_√°ögMaxTemp‹ÆIdPlus1
[
MAX_TLAYER
];

592 
UI¡
 
	gm_√°ögOpIdx
[
MAX_NESTING_NUM_OPS
];

594 
Boﬁ
 
	gm_ÆlLayîsFœg
;

595 
UI¡
 
	gm_√°ögNoOpMaxTemp‹ÆIdPlus1
;

596 
UI¡
 
	gm_√°ögNumLayîsMöus1
;

597 
UCh¨
 
	gm_√°ögLayîId
[
MAX_NESTING_NUM_LAYER
];

599 
SEIMesßges
 
	gm_√°edSEIs
;

603 ˛as†
	cSEIRegi⁄Re‰eshInfo
 : 
public
 
SEI


605 
public
:

606 
PaylﬂdTy≥
 
	$∑ylﬂdTy≥
(Ëc⁄° {  
REGION_REFRESH_INFO
; }

608 
	$SEIRegi⁄Re‰eshInfo
()

609 : 
	$m_gdrF‹egroundFœg
(0)

610 {
	}
}

611 
vútuÆ
 ~
	$SEIRegi⁄Re‰eshInfo
(Ë{
	}
}

613 
Boﬁ
 
m_gdrF‹egroundFœg
;

617 ˛as†
	cSEINoDi•œy
 : 
public
 
SEI


619 
public
:

620 
PaylﬂdTy≥
 
	$∑ylﬂdTy≥
(Ëc⁄° {  
NO_DISPLAY
; }

622 
	$SEINoDi•œy
()

623 : 
	$m_noDi•œy
(
Ál£
)

624 {
	}
}

625 
vútuÆ
 ~
	$SEINoDi•œy
(Ë{
	}
}

627 
Boﬁ
 
m_noDi•œy
;

631 ˛as†
	cSEITimeCode
 : 
public
 
SEI


633 
public
:

634 
PaylﬂdTy≥
 
	$∑ylﬂdTy≥
(Ëc⁄° {  
TIME_CODE
; }

635 
	$SEITimeCode
(Ë{
	}
}

636 
	gvútuÆ
 ~
	$SEITimeCode
(){
	}
}

638 
UI¡
 
	gnumClockTs
;

639 
TComSEITimeSë
 
	gtimeSëAºay
[
MAX_TIMECODE_SEI_SETS
];

643 ˛as†
	cSEIMa°îögDi•œyCﬁourVﬁume
 : 
public
 
SEI


645 
public
:

646 
PaylﬂdTy≥
 
	$∑ylﬂdTy≥
(Ëc⁄° {  
MASTERING_DISPLAY_COLOUR_VOLUME
; }

647 
	$SEIMa°îögDi•œyCﬁourVﬁume
(Ë{
	}
}

648 
	gvútuÆ
 ~
	$SEIMa°îögDi•œyCﬁourVﬁume
(){
	}
}

650 
TComSEIMa°îögDi•œy
 
	gvÆues
;

654 ˛as†
	cSEISegmíãdRe˘FømePackög
 : 
public
 
SEI


656 
public
:

657 
PaylﬂdTy≥
 
	$∑ylﬂdTy≥
(Ëc⁄° {  
SEGM_RECT_FRAME_PACKING
; }

659 
	$SEISegmíãdRe˘FømePackög
(Ë{
	}
}

660 
	gvútuÆ
 ~
	$SEISegmíãdRe˘FømePackög
(Ë{
	}
}

662 
Boﬁ
 
	gm_¨øngemítC™˚lFœg
;

663 
I¡
 
	gm_c⁄ã¡I¡î¥ë©i⁄Ty≥
;

664 
Boﬁ
 
	gm_¨øngemítPîsi°í˚Fœg
;

669 ˛as†
	cSEITempMŸi⁄C⁄°øöedTûeSës
: 
public
 
SEI


671 ˛as†
	cTûeSëD©a


673 
¥Ÿe˘ed
:

674 
°d
::
ve˘‹
<
I¡
> 
m_t›_À·_tûe_ödex
;

675 
	m°d
::
ve˘‹
<
I¡
> 
m_bŸtom_right_tûe_ödex
;

677 
	mpublic
:

678 
I¡
 
m_m˘s_id
;

679 
Boﬁ
 
	mm_di•œy_tûe_£t_Êag
;

680 
I¡
 
	mm_num_tûe_ª˘s_ö_£t
;

681 
Boﬁ
 
	mm_exa˘_ßm∂e_vÆue_m©ch_Êag
;

682 
Boﬁ
 
	mm_m˘s_tõr_Àvñ_idc_¥e£¡_Êag
;

683 
Boﬁ
 
	mm_m˘s_tõr_Êag
;

684 
I¡
 
	mm_m˘s_Àvñ_idc
;

686 
Void
 
£tNumbîOfTûeRe˘s
(c⁄° 
I¡
 
numbî
)

688 
	mm_t›_À·_tûe_ödex
 .
ªsize
(
numbî
);

689 
	mm_bŸtom_right_tûe_ödex
.
ªsize
(
numbî
);

692 
I¡
 
gëNumbîOfTûeRe˘s
() const

694 
as£π
(
m_t›_À·_tûe_ödex
.
size
(Ë=
m_bŸtom_right_tûe_ödex
.size());

695  
I¡
(
m_t›_À·_tûe_ödex
.
size
());

698 
	mI¡
 &
t›Le·TûeIndex
 (c⁄° 
I¡
 
tûeRe˘Index
Ë{  
	mm_t›_À·_tûe_ödex
 [tileRectIndex]; }

699 
	mI¡
 &
bŸtomRightTûeIndex
(c⁄° 
I¡
 
tûeRe˘Index
Ë{  
	mm_bŸtom_right_tûe_ödex
[tileRectIndex]; }

700 c⁄° 
	mI¡
 &
t›Le·TûeIndex
 (c⁄° 
I¡
 
tûeRe˘Index
Ëc⁄° {  
	mm_t›_À·_tûe_ödex
 [tileRectIndex]; }

701 c⁄° 
	mI¡
 &
bŸtomRightTûeIndex
(c⁄° 
I¡
 
tûeRe˘Index
Ëc⁄° {  
	mm_bŸtom_right_tûe_ödex
[tileRectIndex]; }

704 
	g¥Ÿe˘ed
:

705 
°d
::
ve˘‹
<
TûeSëD©a
> 
m_tûe_£t_d©a
;

707 
	gpublic
:

709 
Boﬁ
 
m_mc_Æl_tûes_exa˘_ßm∂e_vÆue_m©ch_Êag
;

710 
Boﬁ
 
	gm_óch_tûe_⁄e_tûe_£t_Êag
;

711 
Boﬁ
 
	gm_limôed_tûe_£t_di•œy_Êag
;

712 
Boﬁ
 
	gm_max_mcs_tõr_Àvñ_idc_¥e£¡_Êag
;

713 
Boﬁ
 
	gm_max_m˘s_tõr_Êag
;

714 
I¡
 
	gm_max_m˘s_Àvñ_idc
;

716 
PaylﬂdTy≥
 
	$∑ylﬂdTy≥
(Ëc⁄° {  
TEMP_MOTION_CONSTRAINED_TILE_SETS
; 
	}
}

717 
	$SEITempMŸi⁄C⁄°øöedTûeSës
(Ë{ 
	}
}

718 
	gvútuÆ
 ~
	$SEITempMŸi⁄C⁄°øöedTûeSës
(Ë{ 
	}
}

720 
Void
 
	$£tNumbîOfTûeSës
(c⁄° 
I¡
 
numbî
Ë{ 
m_tûe_£t_d©a
.
	`ªsize
“umbî); 
	}
}

721 
I¡
 
	$gëNumbîOfTûeSës
(Ëc⁄° {  
	`I¡
(
m_tûe_£t_d©a
.
	`size
()); 
	}
}

723 
	gTûeSëD©a
 &
	$tûeSëD©a
 (c⁄° 
I¡
 
ödex
Ë{  
m_tûe_£t_d©a
[ödex]; 
	}
}

724 c⁄° 
	gTûeSëD©a
 &
	$tûeSëD©a
 (c⁄° 
I¡
 
ödex
Ëc⁄° {  
m_tûe_£t_d©a
[ödex]; 
	}
}

729 ˛as†
	cSEIChromaReßm∂ögFûãrHöt
 : 
public
 
SEI


731 
public
:

732 
PaylﬂdTy≥
 
	$∑ylﬂdTy≥
(Ëc⁄° { 
CHROMA_RESAMPLING_FILTER_HINT
;}

733 
	$SEIChromaReßm∂ögFûãrHöt
(Ë{
	}
}

734 
	gvútuÆ
 ~
	$SEIChromaReßm∂ögFûãrHöt
(Ë{
	}
}

736 
I¡
 
	gm_vîChromaFûãrIdc
;

737 
I¡
 
	gm_h‹ChromaFûãrIdc
;

738 
Boﬁ
 
	gm_vîFûãrögFõldPro˚ssögFœg
;

739 
I¡
 
	gm_èrgëF‹m©Idc
;

740 
Boﬁ
 
	gm_≥r„˘Rec⁄°ru˘i⁄Fœg
;

741 
	g°d
::
ve˘‹
<
°d
::ve˘‹<
I¡
> > 
m_vîFûãrC€ff
;

742 
	g°d
::
ve˘‹
<
°d
::ve˘‹<
I¡
> > 
m_h‹FûãrC€ff
;

746 ˛as†
	cSEIK√eFun˘i⁄Info
 : 
public
 
SEI


748 
public
:

749 
PaylﬂdTy≥
 
	$∑ylﬂdTy≥
(Ëc⁄° {  
KNEE_FUNCTION_INFO
; }

750 
	$SEIK√eFun˘i⁄Info
(Ë{
	}
}

751 
	gvútuÆ
 ~
	$SEIK√eFun˘i⁄Info
(Ë{
	}
}

753 
I¡
 
	gm_k√eId
;

754 
Boﬁ
 
	gm_k√eC™˚lFœg
;

755 
Boﬁ
 
	gm_k√ePîsi°í˚Fœg
;

756 
I¡
 
	gm_k√eI≈utDønge
;

757 
I¡
 
	gm_k√eI≈utDi•Lumö™˚
;

758 
I¡
 
	gm_k√eOuçutDønge
;

759 
I¡
 
	gm_k√eOuçutDi•Lumö™˚
;

760 
I¡
 
	gm_k√eNumK√ePoötsMöus1
;

761 
	g°d
::
ve˘‹
<
I¡
> 
m_k√eI≈utK√ePoöt
;

762 
	g°d
::
ve˘‹
<
I¡
> 
m_k√eOuçutK√ePoöt
;

765 ˛as†
	cSEIC⁄ã¡CﬁourVﬁume
 : 
public
 
SEI


767 
public
:

768 
PaylﬂdTy≥
 
	$∑ylﬂdTy≥
(Ëc⁄° {  
CONTENT_COLOUR_VOLUME
; }

769 
	$SEIC⁄ã¡CﬁourVﬁume
(Ë{
	}
}

770 
	gvútuÆ
 ~
	$SEIC⁄ã¡CﬁourVﬁume
(Ë{
	}
}

772 
Boﬁ
 
	gm_ccvC™˚lFœg
;

773 
Boﬁ
 
	gm_ccvPîsi°í˚Fœg
;

774 
Boﬁ
 
	gm_ccvPrim¨õsPª£¡Fœg
;

775 
Boﬁ
 
	gm_ccvMöLumö™˚VÆuePª£¡Fœg
;

776 
Boﬁ
 
	gm_ccvMaxLumö™˚VÆuePª£¡Fœg
;

777 
Boﬁ
 
	gm_ccvAvgLumö™˚VÆuePª£¡Fœg
;

778 
I¡
 
	gm_ccvPrim¨õsX
[
MAX_NUM_COMPONENT
];

779 
I¡
 
	gm_ccvPrim¨õsY
[
MAX_NUM_COMPONENT
];

780 
UI¡
 
	gm_ccvMöLumö™˚VÆue
;

781 
UI¡
 
	gm_ccvMaxLumö™˚VÆue
;

782 
UI¡
 
	gm_ccvAvgLumö™˚VÆue
;

785 ˛as†
	cSEIEquúe˘™guœrProje˘i⁄
 : 
public
 
SEI


787 
public
:

788 
PaylﬂdTy≥
 
	$∑ylﬂdTy≥
(Ëc⁄° {  
EQUIRECTANGULAR_PROJECTION
; }

790 
	$SEIEquúe˘™guœrProje˘i⁄
(Ë{
	}
}

791 
	gvútuÆ
 ~
	$SEIEquúe˘™guœrProje˘i⁄
(Ë{
	}
}

793 
Boﬁ
 
	gm_îpC™˚lFœg
;

794 
Boﬁ
 
	gm_îpPîsi°í˚Fœg
;

795 
Boﬁ
 
	gm_îpGu¨dB™dFœg
;

796 
UCh¨
 
	gm_îpGu¨dB™dTy≥
;

797 
UCh¨
 
	gm_îpLe·Gu¨dB™dWidth
;

798 
UCh¨
 
	gm_îpRightGu¨dB™dWidth
;

801 ˛as†
	cSEISphîeRŸ©i⁄
 : 
public
 
SEI


803 
public
:

804 
PaylﬂdTy≥
 
	$∑ylﬂdTy≥
(Ëc⁄° {  
SPHERE_ROTATION
; }

806 
	$SEISphîeRŸ©i⁄
(Ë{
	}
}

807 
	gvútuÆ
 ~
	$SEISphîeRŸ©i⁄
(Ë{
	}
}

809 
Boﬁ
 
	gm_•hîeRŸ©i⁄C™˚lFœg
;

810 
Boﬁ
 
	gm_•hîeRŸ©i⁄Pîsi°í˚Fœg
;

811 
I¡
 
	gm_•hîeRŸ©i⁄Yaw
;

812 
I¡
 
	gm_•hîeRŸ©i⁄Pôch
;

813 
I¡
 
	gm_•hîeRŸ©i⁄Rﬁl
;

816 ˛as†
	cSEIOmniVõwp‹t
 : 
public
 
SEI


818 
public
:

819 
PaylﬂdTy≥
 
	$∑ylﬂdTy≥
(Ëc⁄° {  
OMNI_VIEWPORT
; }

821 
	$SEIOmniVõwp‹t
(Ë{
	}
}

822 
	gvútuÆ
 ~
	$SEIOmniVõwp‹t
(Ë{
	}
}

824 
	sOmniVõwp‹t


826 
I¡
 
	gazimuthCíåe
;

827 
I¡
 
	gñev©i⁄Cíåe
;

828 
I¡
 
	gtûtCíåe
;

829 
UI¡
 
	gh‹R™ge
;

830 
UI¡
 
	gvîR™ge
;

833 
UI¡
 
	gm_omniVõwp‹tId
;

834 
Boﬁ
 
	gm_omniVõwp‹tC™˚lFœg
;

835 
Boﬁ
 
	gm_omniVõwp‹tPîsi°í˚Fœg
;

836 
UCh¨
 
	gm_omniVõwp‹tC¡Möus1
;

837 
	g°d
::
ve˘‹
<
OmniVõwp‹t
> 
m_omniVõwp‹tRegi⁄s
;

840 ˛as†
	cSEIA¬Ÿ©edRegi⁄s
 : 
public
 
SEI


842 
public
:

843 
PaylﬂdTy≥
 
	$∑ylﬂdTy≥
(Ëc⁄° {  
ANNOTATED_REGIONS
; }

844 
	$SEIA¬Ÿ©edRegi⁄s
(Ë{
	}
}

845 
	gvútuÆ
 ~
	$SEIA¬Ÿ©edRegi⁄s
(Ë{
	}
}

847 
Void
 
	$c›yFrom
(c⁄° 
SEIA¬Ÿ©edRegi⁄s
 &
£iA¬Ÿ©edRegi⁄s
)

849 (*
this
Ë
£iA¬Ÿ©edRegi⁄s
;

850 
	}
}

852 
	sA¬Ÿ©edRegi⁄Obje˘


854 
A¬Ÿ©edRegi⁄Obje˘
() :

855 
obje˘C™˚lFœg
(
Ál£
),

856 
obje˘LabñVÆid
(
Ál£
),

857 
boundögBoxVÆid
(
Ál£
)

859 
Boﬁ
 
	gobje˘C™˚lFœg
;

861 
Boﬁ
 
	gobje˘LabñVÆid
;

862 
UI¡
 
	gobjLabñIdx
;

864 
Boﬁ
 
	gboundögBoxVÆid
;

865 
UI¡
 
	gboundögBoxT›
;

866 
UI¡
 
	gboundögBoxLe·
;

867 
UI¡
 
	gboundögBoxWidth
;

868 
UI¡
 
	gboundögBoxHeight
;

870 
Boﬁ
 
	g∑πülObje˘Fœg
;

871 
UI¡
 
	gobje˘C⁄fidí˚
;

873 
	sA¬Ÿ©edRegi⁄Labñ


875 
A¬Ÿ©edRegi⁄Labñ
(Ë: 
œbñVÆid
(
Ál£
) { }

876 
Boﬁ
 
œbñVÆid
;

877 
	g°d
::
°rög
 
œbñ
;

880 
	sA¬Ÿ©edRegi⁄Hódî


882 
A¬Ÿ©edRegi⁄Hódî
(Ë: 
m_ˇn˚lFœg
(
åue
), 
m_ª˚ivedSëtögsOn˚
(
Ál£
) { }

883 
Boﬁ
 
	gm_ˇn˚lFœg
;

884 
Boﬁ
 
	gm_ª˚ivedSëtögsOn˚
;

886 
Boﬁ
 
	gm_nŸO±imizedF‹VõwögFœg
;

887 
Boﬁ
 
	gm_åueMŸi⁄Fœg
;

888 
Boﬁ
 
	gm_oc˛udedObje˘Fœg
;

889 
Boﬁ
 
	gm_∑πülObje˘FœgPª£¡Fœg
;

890 
Boﬁ
 
	gm_obje˘LabñPª£¡Fœg
;

891 
Boﬁ
 
	gm_obje˘C⁄fidí˚InfoPª£¡Fœg
;

892 
UI¡
 
	gm_obje˘C⁄fidí˚Lígth
;

893 
Boﬁ
 
	gm_obje˘LabñL™guagePª£¡Fœg
;

894 
	g°d
::
°rög
 
m_™nŸ©edRegi⁄sObje˘LabñL™g
;

896 
UI¡
 
	tA¬Ÿ©edRegi⁄Obje˘Index
;

897 
UI¡
 
	tA¬Ÿ©edRegi⁄LabñIndex
;

899 
A¬Ÿ©edRegi⁄Hódî
 
	gm_hdr
;

900 
	g°d
::
ve˘‹
<
°d
::
∑ú
<
A¬Ÿ©edRegi⁄Obje˘Index
, 
	gA¬Ÿ©edRegi⁄Obje˘
> > 
	gm_™nŸ©edRegi⁄s
;

901 
	g°d
::
ve˘‹
<
°d
::
∑ú
<
A¬Ÿ©edRegi⁄LabñIndex
, 
	gA¬Ÿ©edRegi⁄Labñ
> > 
	gm_™nŸ©edLabñs
;

904 ˛as†
	cSEICubem≠Proje˘i⁄
 : 
public
 
SEI


906 
public
:

907 
PaylﬂdTy≥
 
	$∑ylﬂdTy≥
(Ëc⁄° {  
CUBEMAP_PROJECTION
; }

908 
	$SEICubem≠Proje˘i⁄
(Ë{
	}
}

909 
	gvútuÆ
 ~
	$SEICubem≠Proje˘i⁄
(Ë{
	}
}

910 
Boﬁ
 
	gm_cmpC™˚lFœg
;

911 
Boﬁ
 
	gm_cmpPîsi°í˚Fœg
;

914 ˛as†
	cSEIRegi⁄Wi£Packög
 : 
public
 
SEI


916 
public
:

917 
PaylﬂdTy≥
 
	$∑ylﬂdTy≥
(Ëc⁄° {  
REGION_WISE_PACKING
; }

918 
	$SEIRegi⁄Wi£Packög
(Ë{
	}
}

919 
	gvútuÆ
 ~
	$SEIRegi⁄Wi£Packög
(Ë{
	}
}

920 
Boﬁ
 
	gm_rwpC™˚lFœg
;

921 
Boﬁ
 
	gm_rwpPîsi°í˚Fœg
;

922 
Boﬁ
 
	gm_c⁄°ôuítPi˘uªM©chögFœg
;

923 
I¡
 
	gm_numPackedRegi⁄s
;

924 
I¡
 
	gm_¥ojPi˘uªWidth
;

925 
I¡
 
	gm_¥ojPi˘uªHeight
;

926 
I¡
 
	gm_∑ckedPi˘uªWidth
;

927 
I¡
 
	gm_∑ckedPi˘uªHeight
;

928 
	g°d
::
ve˘‹
<
UCh¨
> 
m_rwpTønsf‹mTy≥
;

929 
	g°d
::
ve˘‹
<
Boﬁ
> 
m_rwpGu¨dB™dFœg
;

930 
	g°d
::
ve˘‹
<
UI¡
> 
m_¥ojRegi⁄Width
;

931 
	g°d
::
ve˘‹
<
UI¡
> 
m_¥ojRegi⁄Height
;

932 
	g°d
::
ve˘‹
<
UI¡
> 
m_rwpProjRegi⁄T›
;

933 
	g°d
::
ve˘‹
<
UI¡
> 
m_¥ojRegi⁄Le·
;

934 
	g°d
::
ve˘‹
<
USh‹t
> 
m_∑ckedRegi⁄Width
;

935 
	g°d
::
ve˘‹
<
USh‹t
> 
m_∑ckedRegi⁄Height
;

936 
	g°d
::
ve˘‹
<
USh‹t
> 
m_∑ckedRegi⁄T›
;

937 
	g°d
::
ve˘‹
<
USh‹t
> 
m_∑ckedRegi⁄Le·
;

938 
	g°d
::
ve˘‹
<
UCh¨
> 
m_rwpLe·Gu¨dB™dWidth
;

939 
	g°d
::
ve˘‹
<
UCh¨
> 
m_rwpRightGu¨dB™dWidth
;

940 
	g°d
::
ve˘‹
<
UCh¨
> 
m_rwpT›Gu¨dB™dHeight
;

941 
	g°d
::
ve˘‹
<
UCh¨
> 
m_rwpBŸtomGu¨dB™dHeight
;

942 
	g°d
::
ve˘‹
<
Boﬁ
> 
m_rwpGu¨dB™dNŸU£dF‹PªdFœg
;

943 
	g°d
::
ve˘‹
<
UCh¨
> 
m_rwpGu¨dB™dTy≥
;

946 ˛as†
	cSEIFisheyeVideoInfo
 : 
public
 
SEI


948 
public
:

949 
PaylﬂdTy≥
 
	$∑ylﬂdTy≥
(Ëc⁄° {  
FISHEYE_VIDEO_INFO
; }

950 
	$SEIFisheyeVideoInfo
(Ë{
	}
}

951 
	gvútuÆ
 ~
	$SEIFisheyeVideoInfo
(Ë{
	}
}

952 
TComSEIFisheyeVideoInfo
 
	gvÆues
;

955 #i‡
SHUTTER_INTERVAL_SEI_MESSAGE


956 ˛as†
	cSEIShuâîI¡îvÆInfo
 : 
public
 
SEI


958 
public
:

959 
PaylﬂdTy≥
 
	$∑ylﬂdTy≥
(Ëc⁄° {  
SHUTTER_INTERVAL_INFO
; }

960 
	$SEIShuâîI¡îvÆInfo
(Ë{
	}
}

961 
	gvútuÆ
 ~
	$SEIShuâîI¡îvÆInfo
(Ë{
	}
}

963 
Boﬁ
 
	gm_siiE«bÀd
;

964 
UI¡
 
	gm_siiNumUnôsInShuâîI¡îvÆ
;

965 
UI¡
 
	gm_siiTimeSˇÀ
;

966 
UI¡
 
	gm_siiMaxSubLayîsMöus1
;

967 
Boﬁ
 
	gm_siiFixedSIwôhöCLVS
;

968 
	g°d
::
ve˘‹
<
UI¡
> 
m_siiSubLayîNumUnôsInSI
;

972 ˛as†
	cSEICﬁourRem≠pögInfo
 : 
public
 
SEI


974 
public
:

976 
	sCRIlut


978 
I¡
 
codedVÆue
;

979 
I¡
 
	mèrgëVÆue
;

980 
boﬁ
 
	m›î©‹
 < (c⁄° 
	mCRIlut
& 
	ma
) const

982  
	mcodedVÆue
 < 
	ma
.codedValue;

986 
PaylﬂdTy≥
 
	$∑ylﬂdTy≥
(Ëc⁄° {  
COLOUR_REMAPPING_INFO
; 
	}
}

987 
	$SEICﬁourRem≠pögInfo
(Ë{
	}
}

988 ~
	$SEICﬁourRem≠pögInfo
(Ë{
	}
}

990 
Void
 
	$c›yFrom
–c⁄° 
SEICﬁourRem≠pögInfo
 &
£iCriI≈ut
)

992 (*
this
Ë
£iCriI≈ut
;

993 
	}
}

995 
UI¡
 
	gm_cﬁourRem≠Id
;

996 
Boﬁ
 
	gm_cﬁourRem≠C™˚lFœg
;

997 
Boﬁ
 
	gm_cﬁourRem≠Pîsi°í˚Fœg
;

998 
Boﬁ
 
	gm_cﬁourRem≠VideoSig«lInfoPª£¡Fœg
;

999 
Boﬁ
 
	gm_cﬁourRem≠FuŒR™geFœg
;

1000 
I¡
 
	gm_cﬁourRem≠Prim¨õs
;

1001 
I¡
 
	gm_cﬁourRem≠Tøns„rFun˘i⁄
;

1002 
I¡
 
	gm_cﬁourRem≠M©rixC€fficõ¡s
;

1003 
I¡
 
	gm_cﬁourRem≠I≈utBôDïth
;

1004 
I¡
 
	gm_cﬁourRem≠BôDïth
;

1005 
I¡
 
	gm_¥eLutNumVÆMöus1
[3];

1006 
	g°d
::
ve˘‹
<
CRIlut
> 
m_¥eLut
[3];

1007 
Boﬁ
 
	gm_cﬁourRem≠M©rixPª£¡Fœg
;

1008 
I¡
 
	gm_log2M©rixDíom
;

1009 
I¡
 
	gm_cﬁourRem≠C€ffs
[3][3];

1010 
I¡
 
	gm_po°LutNumVÆMöus1
[3];

1011 
	g°d
::
ve˘‹
<
CRIlut
> 
m_po°Lut
[3];

1015 ˛as†
	cSEIDeöãæa˚FõldIdítifiˇti⁄
 : 
public
 
SEI


1017 
public
:

1018 
PaylﬂdTy≥
 
	$∑ylﬂdTy≥
(Ëc⁄° {  
DEINTERLACE_FIELD_IDENTIFICATION
; }

1019 
	$SEIDeöãæa˚FõldIdítifiˇti⁄
(Ë{ 
	}
}

1021 
	gvútuÆ
 ~
	$SEIDeöãæa˚FõldIdítifiˇti⁄
(Ë{
	}
}

1023 
Boﬁ
 
	gm_deöãæa˚dPi˘uªSour˚P¨ôyFœg
;

1027 ˛as†
	cSEIC⁄ã¡LightLevñInfo
 : 
public
 
SEI


1029 
public
:

1030 
PaylﬂdTy≥
 
	$∑ylﬂdTy≥
(Ëc⁄° {  
CONTENT_LIGHT_LEVEL_INFO
; }

1031 
	$SEIC⁄ã¡LightLevñInfo
(Ë{ 
	}
}

1033 
	gvútuÆ
 ~
	$SEIC⁄ã¡LightLevñInfo
(Ë{ 
	}
}

1035 
UI¡
 
	gm_maxC⁄ã¡LightLevñ
;

1036 
UI¡
 
	gm_maxPicAvîageLightLevñ
;

1040 ˛as†
	cSEIDïídítRAPIndiˇti⁄
 : 
public
 
SEI


1042 
public
:

1043 
PaylﬂdTy≥
 
	$∑ylﬂdTy≥
(Ëc⁄° {  
DEPENDENT_RAP_INDICATION
; }

1044 
	$SEIDïídítRAPIndiˇti⁄
(Ë{ 
	}
}

1046 
	gvútuÆ
 ~
	$SEIDïídítRAPIndiˇti⁄
(Ë{ 
	}
}

1050 ˛as†
	cSEICodedRegi⁄Com∂ëi⁄
 : 
public
 
SEI


1052 
public
:

1053 
PaylﬂdTy≥
 
	$∑ylﬂdTy≥
(Ëc⁄° {  
CODED_REGION_COMPLETION
; }

1054 
	$SEICodedRegi⁄Com∂ëi⁄
(Ë{ 
	}
}

1056 
	gvútuÆ
 ~
	$SEICodedRegi⁄Com∂ëi⁄
(Ë{ 
	}
}

1058 
UI¡
 
	gm_√xtSegmítAddªss
;

1059 
Boﬁ
 
	gm_ödïídítSli˚SegmítFœg
;

1063 ˛as†
	cSEIA…î«tiveTøns„rCh¨a˘îi°ics
 : 
public
 
SEI


1065 
public
:

1066 
PaylﬂdTy≥
 
	$∑ylﬂdTy≥
(Ëc⁄° {  
ALTERNATIVE_TRANSFER_CHARACTERISTICS
; }

1068 
	$SEIA…î«tiveTøns„rCh¨a˘îi°ics
(Ë: 
	$m_¥e„ºedTøns„rCh¨a˘îi°ics
(18)

1069 { 
	}
}

1071 
vútuÆ
 ~
	$SEIA…î«tiveTøns„rCh¨a˘îi°ics
(Ë{
	}
}

1073 
UI¡
 
m_¥e„ºedTøns„rCh¨a˘îi°ics
;

1077 ˛as†
	cSEIAmbõ¡VõwögEnvú⁄mít
 : 
public
 
SEI


1079 
public
:

1080 
PaylﬂdTy≥
 
	$∑ylﬂdTy≥
(Ëc⁄° {  
AMBIENT_VIEWING_ENVIRONMENT
; }

1081 
	$SEIAmbõ¡VõwögEnvú⁄mít
(Ë{ 
	}
}

1083 
	gvútuÆ
 ~
	$SEIAmbõ¡VõwögEnvú⁄mít
(Ë{ 
	}
}

1085 
UI¡
 
	gm_ambõ¡IŒumö™˚
;

1086 
USh‹t
 
	gm_ambõ¡LightX
;

1087 
USh‹t
 
	gm_ambõ¡LightY
;

1089 #i‡
MCTS_EXTRACTION


1090 ˛as†
	cSEIMCTSExåa˘i⁄InfoSë
 : 
public
 
SEI


1092 
public
:

1093 
	sMCTSExåa˘i⁄Info


1095 
°d
::
ve˘‹
< std::ve˘‹<
UI¡
> > 
m_idxOfM˘sInSë
;

1096 
Boﬁ
 
	mm_¶i˚Re‹dîögE«bÀdFœg
;

1097 
	m°d
::
ve˘‹
<
UI¡
> 
m_ouçutSli˚SegmítAddªss
;

1098 
	m°d
::
ve˘‹
<
UI¡
> 
m_vpsRb•D©aLígth
;

1099 
	m°d
::
ve˘‹
<
UI¡
> 
m_•sRb•D©aLígth
;

1100 
	m°d
::
ve˘‹
<
UI¡
> 
m_µsNuhTemp‹ÆIdPlus1
;

1101 
	m°d
::
ve˘‹
<
UI¡
> 
m_µsRb•D©aLígth
;

1102 
	m°d
::
ve˘‹
< 
°d
::ve˘‹<
uöt8_t
> > 
m_vpsRb•D©a
;

1103 
	m°d
::
ve˘‹
< 
°d
::ve˘‹<
uöt8_t
> > 
m_•sRb•D©a
;

1104 
	m°d
::
ve˘‹
< 
°d
::ve˘‹<
uöt8_t
> > 
m_µsRb•D©a
;

1105 
UI¡
 
	mm˘sWidth
;

1106 
UI¡
 
	mm˘sHeight
;

1108 
PaylﬂdTy≥
 
	$∑ylﬂdTy≥
(Ëc⁄° {  
MCTS_EXTRACTION_INFO_SET
; 
	}
}

1109 
	$SEIMCTSExåa˘i⁄InfoSë
(Ë{ 
	}
}

1110 
	gvútuÆ
 ~
	$SEIMCTSExåa˘i⁄InfoSë
(Ë{ 
	}
}

1111 
	g°d
::
ve˘‹
<
MCTSExåa˘i⁄Info
> 
m_MCTSExåa˘i⁄InfoSës
;

1117 ˛as†
	cRegi⁄ÆSEI


1119 
	mpublic
:

1120 
	$Regi⁄ÆSEI
(): 
	$m_£iMesßge
(
NULL
) {}

1121 
	$Regi⁄ÆSEI
(
SEI
 *
£i
, 
RNSEIWödowVec
 &
ªgi⁄s
)

1123 if–
	`checkRegi⁄ÆNe°edSEIPaylﬂdTy≥
(
£i
->
	`∑ylﬂdTy≥
()) )

1125 
m_£iMesßge
 = 
£i
;

1126 
m_ªgi⁄s
 = 
ªgi⁄s
;

1130 
m_£iMesßge
 = 
£i
;

1132 
	}
}

1133 ~
	$Regi⁄ÆSEI
()

1135 if(!
m_£iMesßge
)

1137 
dñëe
 
m_£iMesßge
;

1139 
	}
}

1140 
SEI
 *
	$dissocüãSEIObje˘
()

1142 
SEI
 *
ãmp
 = 
m_£iMesßge
;

1143 
m_£iMesßge
 = 
NULL
;

1144  
ãmp
;

1145 
	}
}

1146 
UI¡
 
	$gëNumRegi⁄s
(Ëc⁄° {  (
UI¡
Ë
m_ªgi⁄s
.
	`size
(); 
	}
}

1147 c⁄° 
	gRNSEIWödowVec
& 
	$gëRegi⁄s
(Ë{  
m_ªgi⁄s
; 
	}
}

1148 
Void
 
	$addRegi⁄s
(
RNSEIWödowVec
 c⁄° &
ªgi⁄s
Ë{ 
m_ªgi⁄s
.
	`ö£π
(m_ªgi⁄s.
	`íd
(),Ñegi⁄s.
	`begö
(),Ñegi⁄s.íd()); 
	}
}

1149 
Boﬁ
 
	$checkRegi⁄ÆNe°edSEIPaylﬂdTy≥
(
SEI
::
PaylﬂdTy≥
 c⁄° 
∑ylﬂdTy≥
)

1151 
∑ylﬂdTy≥
)

1153 
SEI
::
USER_DATA_REGISTERED_ITU_T_T35
:

1154 
SEI
::
USER_DATA_UNREGISTERED
:

1155 
SEI
::
FILM_GRAIN_CHARACTERISTICS
:

1156 
SEI
::
POST_FILTER_HINT
:

1157 
SEI
::
TONE_MAPPING_INFO
:

1158 
SEI
::
CHROMA_RESAMPLING_FILTER_HINT
:

1159 
SEI
::
KNEE_FUNCTION_INFO
:

1160 
SEI
::
COLOUR_REMAPPING_INFO
:

1161 
SEI
::
CONTENT_COLOUR_VOLUME
:

1162  
åue
;

1164  
Ál£
;

1166 
	}
}

1167 
	g¥iv©e
:

1168 
SEI
 *
m_£iMesßge
;

1169 
RNSEIWödowVec
 
	gm_ªgi⁄s
;

1172 ˛as†
	cSEIRegi⁄ÆNe°ög
 : 
public
 
SEI


1174 
public
:

1175 
	$SEIRegi⁄ÆNe°ög
(): 
	$m_∫Id
(0) {}

1176 ~
	`SEIRegi⁄ÆNe°ög
();

1178 
	sSEILi°OfIndi˚s


1180 
°d
::
ve˘‹
<
UI¡
> 
m_li°OfIndi˚s
;

1181 
SEI
 *
m_£iMesßge
;

1182 
	`SEILi°OfIndi˚s
(Ë: 
	`m_£iMesßge
(
NULL
) {}

1183 
	`SEILi°OfIndi˚s
(
°d
::
ve˘‹
<
UI¡
> 
li°OfIndi˚s
, 
SEI
* 
£i
Ë: 
	`m_li°OfIndi˚s
÷i°OfIndi˚s), 
	`m_£iMesßge
(sei) {}

1184 
	}
};

1186 
PaylﬂdTy≥
 
	$∑ylﬂdTy≥
(Ëc⁄° {  
REGIONAL_NESTING
; 
	}
}

1187 
UI¡
 
	$gëNumRnSEIMesßge
(Ëc⁄° {  (
UI¡
Ë
m_∫SeiMesßges
.
	`size
(); 
	}
}

1188 
UI¡
 
	$gëNumRe˘Regi⁄s
(Ëc⁄° {  (
UI¡
Ë
m_ªgi⁄s
.
	`size
(); 
	}
}

1189 
UI¡
 
	$gëRNId
(Ëc⁄° {  
m_∫Id
; 
	}
}

1190 
Void
 
	$addRegi⁄
(
RNSEIWödow
 *
ªgn
Ë{ 
m_ªgi⁄s
.
	`push_back
(*ªgn); 
	}
}

1191 
Void
 
	$˛órRegi⁄s
(Ë{ 
m_ªgi⁄s
.
	`˛ór
(); 
	}
}

1192 
Void
 
	$addRegi⁄ÆSEI
(
SEILi°OfIndi˚s
 c⁄° &
£iWôhLi°OfRegi⁄Indi˚s
)

1194 
m_∫SeiMesßges
.
	`push_back
(
£iWôhLi°OfRegi⁄Indi˚s
);

1195 
	}
}

1196 
Void
 
addRegi⁄ÆSEI
(
Regi⁄ÆSEI
 *
ªgSEI
);

1197 c⁄° 
	g°d
::
ve˘‹
< 
SEILi°OfIndi˚s
 >& 
	$gëRnSEIMesßges
(Ëc⁄° {  
m_∫SeiMesßges
; 
	}
}

1198 c⁄° 
	g°d
::
ve˘‹
<
RNSEIWödow
> &
	$gëRegi⁄s
(Ëc⁄° {  
m_ªgi⁄s
; 
	}
}

1199 
	g¥iv©e
:

1200 
UI¡
 
m_∫Id
;

1201 
RNSEIWödowVec
 
	gm_ªgi⁄s
;

1202 
	g°d
::
ve˘‹
< 
SEILi°OfIndi˚s
 > 
m_∫SeiMesßges
;

	@SEIFilmGrainSynthesizer.cpp

38 
	~"SEIFûmGøöSy¡hesizî.h
"

40 
	~<°dio.h
>

42 #i‡
FGS_RDD5_ENABLE


45 c⁄° 
öt8_t
 
	ggaussünLUT
[2048] =

177 c⁄° 
uöt32_t
 
	g£edLUT
[256] = {

211 c⁄° 
öt8_t
 
	gR64_IDCT
[64][64] =

535 c⁄° 
uöt32_t
 
	gdeblockFa˘‹
[13] =

539 
	gSEIFûmGøöSy¡hesizî
::
	$SEIFûmGøöSy¡hesizî
()

540 : 
	`m_width
(0)

541 , 
	`m_height
(0)

542 , 
	`m_chromaF‹m©
(
NUM_CHROMA_FORMAT
)

543 , 
	`m_bôDïth
(0)

544 , 
	`m_idrPicId
(0)

545 , 
	`m_íabÀDeblockög
(0)

546 , 
	`m_pGøöSy¡
(
NULL
)

547 , 
	`m_poc
(0)

548 , 
	`m_îr‹Code
(0)

549 , 
	$m_pFgcP¨amëîs
(
NULL
)

552 
	}
}

554 
	gSEIFûmGøöSy¡hesizî
::
	$¸óã
(
uöt32_t
 
width
, uöt32_à
height
, 
ChromaF‹m©
 
fmt
,

555 
uöt8_t
 
bôDïth
, 
uöt32_t
 
idrPicId
, uöt8_à
íabÀDeblockög
)

557 
m_width
 = 
width
;

558 
m_height
 = 
height
;

559 
m_chromaF‹m©
 = 
fmt
;

560 
m_bôDïth
 = 
bôDïth
;

561 
m_idrPicId
 = 
idrPicId
;

562 
m_íabÀDeblockög
 = 
íabÀDeblockög
;

563 
m_pGøöSy¡
 = 
NULL
;

564 
m_îr‹Code
 = 0;

565 
m_pFgcP¨amëîs
 = 
NULL
;

566 
	}
}

568 
	gSEIFûmGøöSy¡hesizî
::~
	$SEIFûmGøöSy¡hesizî
()

571 
	}
}

573 
SEIFûmGøöSy¡hesizî
::
	$fgsInô
()

575 
m_pGøöSy¡
 = 
√w
 
GøöSy¡hesisSåu˘
;

576 
	`d©aBa£Gí
();

577 
	}
}

579 
	gSEIFûmGøöSy¡hesizî
::
	$fgsDeöô
()

581 
dñëe
 
m_pGøöSy¡
;

582 
	}
}

584 
	gSEIFûmGøöSy¡hesizî
::
	$gøöSy¡hesizeAndBÀnd
(
TComPicYuv
* 
pGøöBuf
, 
Boﬁ
 
isIdrPic
)

586 
uöt8_t
 
numComp
 = 
MAX_NUM_COMPONENT
, 
compCå
, 
blkId
;

587 
uöt8_t
 
log2SˇÀFa˘‹
, 
h
, 
v
;

588 
uöt8_t
 
bôDïth
;

589 
uöt8_t
 
cﬁ‹_off£t
[
MAX_NUM_COMPONENT
];

590 
uöt32_t
 
widthComp
[
MAX_NUM_COMPONENT
], 
heightComp
[MAX_NUM_COMPONENT], 
°rideComp
[MAX_NUM_COMPONENT];

591 
Pñ
 *
decSam∂eBlk16
, *
decSam∂eBlk8
, *
decSam∂eOff£tY
;

592 
Pñ
 *
decComp
[
MAX_NUM_COMPONENT
];

593 
uöt16_t
 
numSam∂es
;

594 
öt16_t
 
sˇÀFa˘‹
;

595 
uöt32_t
 
kOff£t
, 
lOff£t
, 
gøöSåùeOff£t
, 
gøöSåùeOff£tBlk8
, 
off£tBlk8x8
;

596 
öt32_t
 *
gøöSåùe
;

597 
öt32_t
 
yOff£t8x8
, 
xOff£t8x8
;

598 
uöt32_t
 
picOff£t
, 
x
, 
y
, 
öãnsôyI¡
;

599 
Pñ
 
blockAvg
;

600 
uöt32_t
 
p£udoR™dVÆEc
;

601 
uöt32_t
 
picOrdîC¡Off£t
=0;

604 
cﬁ‹_off£t
[0] = 
COLOUR_OFFSET_LUMA
;

605 
cﬁ‹_off£t
[1] = 
COLOUR_OFFSET_CR
;

606 
cﬁ‹_off£t
[2] = 
COLOUR_OFFSET_CB
;

608 
bôDïth
 = 
m_bôDïth
;

609 
log2SˇÀFa˘‹
 = 
m_pFgcP¨amëîs
->
m_log2SˇÀFa˘‹
;

611 
widthComp
[0] = 
m_width
;

612 
widthComp
[1] = 
m_width
;

613 
widthComp
[2] = 
m_width
;

614 
heightComp
[0] = 
m_height
;

615 
heightComp
[1] = 
m_height
;

616 
heightComp
[2] = 
m_height
;

617 i‡(
CHROMA_420
 =
m_chromaF‹m©
)

619 
widthComp
[1] >>= 1;

620 
widthComp
[2] >>= 1;

621 
heightComp
[1] >>= 1;

622 
heightComp
[2] >>= 1;

624 i‡(
CHROMA_422
 =
m_chromaF‹m©
)

626 
widthComp
[1] >>= 1;

627 
widthComp
[2] >>= 1;

629 i‡(
CHROMA_400
 =
m_chromaF‹m©
)

631 
numComp
 = 1;

635 
decComp
[0] = 
pGøöBuf
->
	`gëAddr
(
COMPONENT_Y
);

636 
decComp
[1] = 
pGøöBuf
->
	`gëAddr
(
COMPONENT_Cb
);

637 
decComp
[2] = 
pGøöBuf
->
	`gëAddr
(
COMPONENT_Cr
);

640 
°rideComp
[0] = 
pGøöBuf
->
	`gëSåide
(
COMPONENT_Y
);

641 
°rideComp
[1] = 
pGøöBuf
->
	`gëSåide
(
COMPONENT_Cb
);

642 
°rideComp
[2] = 
pGøöBuf
->
	`gëSåide
(
COMPONENT_Cr
);

644 
gøöSåùe
 = (
öt32_t
 *)
	`mÆloc
(
°rideComp
[0] * 
BLK_16
 * (int32_t));

646 i‡(
isIdrPic
)

648 
picOrdîC¡Off£t
 = 
m_idrPicId
;

651 i‡(
FGS_SUCCESS
 =
m_îr‹Code
)

653 i‡(0 =
m_pFgcP¨amëîs
->
m_fûmGøöCh¨a˘îi°icsC™˚lFœg
)

655 
compCå
 = 0; compCå < 
numComp
; compCtr++)

657 i‡(1 =
m_pFgcP¨amëîs
->
m_compModñ
[
compCå
].
bPª£¡Fœg
)

659 
picOff£t
 = (
m_poc
Ë+ (
picOrdîC¡Off£t
 << 5);

661 
p£udoR™dVÆEc
 = 
£edLUT
[((
picOff£t
 + 
cﬁ‹_off£t
[
compCå
]) % 256)];

663 
decSam∂eOff£tY
 = 
decComp
[
compCå
];

666 
y
 = 0; y < 
heightComp
[
compCå
]; y +
BLK_16
)

669 
	`mem£t
(
gøöSåùe
, 0, (
°rideComp
[0] * 
BLK_16
 * (
öt32_t
)));

670 
x
 = 0; x < 
widthComp
[
compCå
]; x +
BLK_16
)

673 
gøöSåùeOff£t
 = 
x
;

674 
decSam∂eBlk16
 = 
decSam∂eOff£tY
 + 
x
;

676 
blkId
 = 0; blkId < 
NUM_8x8_BLKS_16x16
; blkId++)

678 
yOff£t8x8
 = (
blkId
 >> 1Ë* 
BLK_8
;

679 
xOff£t8x8
 = (
blkId
 & 0x1)* 
BLK_8
;

680 
off£tBlk8x8
 = 
xOff£t8x8
 + (
yOff£t8x8
 * 
°rideComp
[
compCå
]);

681 
gøöSåùeOff£tBlk8
 = 
gøöSåùeOff£t
 + 
off£tBlk8x8
;

683 
decSam∂eBlk8
 = 
decSam∂eBlk16
 + 
off£tBlk8x8
;

684 
blockAvg
 = 
	`blockAvîage
(
decSam∂eBlk8
, 
°rideComp
[
compCå
], &
numSam∂es
,

685 
	`MIN
(
BLK_8
, (
heightComp
[
compCå
] - 
y
 - 
yOff£t8x8
)),

686 
	`MIN
(
BLK_8
, (
widthComp
[
compCå
] - 
x
 - 
xOff£t8x8
)),

687 
bôDïth
);

690 i‡(
numSam∂es
 > 0)

693 
öãnsôyI¡
 = 
m_pGøöSy¡
->
öãnsôyI¡îvÆ
[
compCå
][
blockAvg
];

695 i‡(
INTENSITY_INTERVAL_MATCH_FAIL
 !
öãnsôyI¡
)

698 
kOff£t
 = (
	`MSB16
(
p£udoR™dVÆEc
) % 52);

699 
kOff£t
 &= 0xFFFC;

700 
kOff£t
 +(
x
 + 
xOff£t8x8
) & 0x0008;

701 
lOff£t
 = (
	`LSB16
(
p£udoR™dVÆEc
) % 56);

702 
lOff£t
 &= 0xFFF8;

703 
lOff£t
 +(
y
 + 
yOff£t8x8
) & 0x0008;

704 
sˇÀFa˘‹
 = 
	`BIT0
(
p£udoR™dVÆEc
) ? -1 : 1;

705 
sˇÀFa˘‹
 *=

706 
m_pFgcP¨amëîs
->
m_compModñ
[
compCå
].
öãnsôyVÆues
[
öãnsôyI¡
].
compModñVÆue
[0];

707 
h
 = 
m_pFgcP¨amëîs
->
m_compModñ
[
compCå
].
öãnsôyVÆues
[
öãnsôyI¡
].
compModñVÆue
[1] - 2;

708 
v
 = 
m_pFgcP¨amëîs
->
m_compModñ
[
compCå
].
öãnsôyVÆues
[
öãnsôyI¡
].
compModñVÆue
[2] - 2;

711 
	`simuœãGøöBlk8x8
(
gøöSåùe
, 
gøöSåùeOff£tBlk8
,

712 
m_pGøöSy¡
, 
°rideComp
[
compCå
],

713 
log2SˇÀFa˘‹
, 
sˇÀFa˘‹
, 
kOff£t
, 
lOff£t
, 
h
, 
v
, 
	`MIN
(
BLK_8
, (
widthComp
[
compCå
] - 
x
 - 
xOff£t8x8
)));

719 
p£udoR™dVÆEc
 = 
	`¥ng
(pseudoRandValEc);

723 i‡(
m_íabÀDeblockög
)

725 
	`deblockGøöSåùe
(
gøöSåùe
, 
widthComp
[
compCå
], 
°rideComp
[compCtr]);

728 
	`bÀndSåùe
(
decSam∂eOff£tY
, 
gøöSåùe
,

729 
°rideComp
[
compCå
], 
	`MIN
(
BLK_16
, (
heightComp
[compCå] - 
y
)), 
bôDïth
);

730 
decSam∂eOff£tY
 +
	`MIN
(
BLK_16
, 
heightComp
[
compCå
] - 
y
Ë* 
°rideComp
[compCtr];

737 i‡(
isIdrPic
)

739 
m_idrPicId
++;

741 
	`‰ì
(
gøöSåùe
);

742 
	}
}

744 
	gSEIFûmGøöSy¡hesizî
::
	$d©aBa£Gí
()

746 
uöt32_t
 
p£udoR™dVÆEhv
;

747 
uöt8_t
 
h
, 
v
;

748 
uöt32_t
 
SˇÀCutOffFh
, 
SˇÀCutOffFv
, 
l
, 
r
, 
i
, 
j
, 
k
;

749 
öt32_t
 
B
[
DATA_BASE_SIZE
][DATA_BASE_SIZE], 
bIDCT
[DATA_BASE_SIZE][DATA_BASE_SIZE];

750 
öt32_t
 
bGøö
[
DATA_BASE_SIZE
][DATA_BASE_SIZE];

751 
öt8_t
 
R64_IDCT_TR
[
DATA_BASE_SIZE
][DATA_BASE_SIZE];

753 
l
 = 0;Ü < 
DATA_BASE_SIZE
;Ü++)

755 
k
 = 0; k < 
DATA_BASE_SIZE
; k++)

757 
R64_IDCT_TR
[
l
][
k
] = 
R64_IDCT
[k][l];

761 
h
 = 0; h < 
NUM_CUT_OFF_FREQ
; h++)

763 
v
 = 0; v < 
NUM_CUT_OFF_FREQ
; v++)

765 
	`mem£t
(&
B
, 0, 
DATA_BASE_SIZE
*DATA_BASE_SIZE * (
öt32_t
));

766 
	`mem£t
(&
bIDCT
, 0, 
DATA_BASE_SIZE
*DATA_BASE_SIZE * (
öt32_t
));

767 
	`mem£t
(&
bGøö
, 0, 
DATA_BASE_SIZE
*DATA_BASE_SIZE * (
öt32_t
));

768 
SˇÀCutOffFh
 = ((
h
 + 3) << 2) - 1;

769 
SˇÀCutOffFv
 = ((
v
 + 3) << 2) - 1;

772 
p£udoR™dVÆEhv
 = 
£edLUT
[
h
 + 
v
 * 13];

774 
l
 = 0, 
r
 = 0;Ü <
SˇÀCutOffFv
;Ü++)

776 
k
 = 0; k <
SˇÀCutOffFh
; k += 4)

778 
B
[
k
][
l
] = 
gaussünLUT
[
p£udoR™dVÆEhv
 % 2048];

779 
B
[
k
 + 1][
l
] = 
gaussünLUT
[(
p£udoR™dVÆEhv
 + 1) % 2048];

780 
B
[
k
 + 2][
l
] = 
gaussünLUT
[(
p£udoR™dVÆEhv
 + 2) % 2048];

781 
B
[
k
 + 3][
l
] = 
gaussünLUT
[(
p£udoR™dVÆEhv
 + 3) % 2048];

782 
r
++;

783 
p£udoR™dVÆEhv
 = 
	`¥ng
(pseudoRandValEhv);

786 
B
[0][0] = 0;

788 
i
 = 0; i < 
DATA_BASE_SIZE
; i++)

790 
j
 = 0; j < 
DATA_BASE_SIZE
; j++)

792 
k
 = 0; k < 
DATA_BASE_SIZE
; k++)

794 
bIDCT
[
i
][
j
] +
R64_IDCT_TR
[i][
k
] * 
B
[k][j];

796 
bIDCT
[
i
][
j
] += 128;

797 
bIDCT
[
i
][
j
] = bIDCT[i][j] >> 8;

801 
i
 = 0; i < 
DATA_BASE_SIZE
; i++)

803 
j
 = 0; j < 
DATA_BASE_SIZE
; j++)

805 
k
 = 0; k < 
DATA_BASE_SIZE
; k++)

807 
bGøö
[
i
][
j
] +
bIDCT
[i][
k
] * 
R64_IDCT
[k][j];

809 
bGøö
[
i
][
j
] += 128;

810 
bGøö
[
i
][
j
] = bGrain[i][j] >> 8;

811 
m_pGøöSy¡
->
d©aBa£
[
h
][
v
][
j
][
i
] = 
	`CLIP3
(-127, 127, 
bGøö
[i][j]);

816 i‡(
m_íabÀDeblockög
)

818 
l
 = 0;Ü < 
DATA_BASE_SIZE
;Ü += 8)

820 
k
 = 0; k < 
DATA_BASE_SIZE
; k++)

822 
m_pGøöSy¡
->
d©aBa£
[
h
][
v
][
l
][
k
] = ((m_pGøöSy¡->d©aBa£[h][v][l][k]Ë* 
deblockFa˘‹
[v]) >> 7;

823 
m_pGøöSy¡
->
d©aBa£
[
h
][
v
][
l
 + 7][
k
] = ((m_pGøöSy¡->d©aBa£[h][v][»+ 7][k]Ë* 
deblockFa˘‹
[v]) >> 7;

831 
	}
}

835 
uöt8_t
 
	gSEIFûmGøöSy¡hesizî
::
	$gøöVÆid©eP¨ams
()

837 
uöt8_t
 
numComp
 = 
MAX_NUM_COMPONENT
;

838 
uöt8_t
 
compCå
, 
öãnsôyCå
, 
mu…iGøöCheck
[
MAX_NUM_COMPONENT
][
MAX_NUM_INTENSITIES
] = {{ 0 }};

839 
uöt16_t
 
mu…iGøöCå
;

840 
uöt8_t
 
limôCompModñVÆ1
[10] = { 0 }, 
limôCompModñVÆ2
[10] = { 0 };

841 
uöt8_t
 
num_comp_modñ_∑ús
 = 0, 
limôCompModñCå
, 
compPaúM©ch
;

843 
	`mem£t
(
m_pGøöSy¡
->
öãnsôyI¡îvÆ
, 
INTENSITY_INTERVAL_MATCH_FAIL
,

844 (
m_pGøöSy¡
->
öãnsôyI¡îvÆ
));

846 i‡((
m_width
 < 
MIN_WIDTH
Ë|| (m_width > 
MAX_WIDTH
) || (m_width % 4))

848  
FGS_INVALID_WIDTH
;

850 i‡((
m_height
 < 
MIN_HEIGHT
Ë|| (m_heighà> 
MAX_HEIGHT
) || (m_height % 4))

852  
FGS_INVALID_HEIGHT
;

854 i‡((
m_chromaF‹m©
 < 
MIN_CHROMA_FORMAT_IDC
Ë|| (m_chromaF‹m© > 
MAX_CHROMA_FORMAT_IDC
))

856  
FGS_INVALID_CHROMA_FORMAT
;

858 i‡(
m_chromaF‹m©
 =
MIN_CHROMA_FORMAT_IDC
)

860 
numComp
 = 1;

863 i‡((
m_bôDïth
 < 
MIN_BIT_DEPTH
Ë|| (m_bôDïth > 
MAX_BIT_DEPTH
))

865  
FGS_INVALID_BIT_DEPTH
;

868 i‡((0 !
m_pFgcP¨amëîs
->
m_fûmGøöCh¨a˘îi°icsC™˚lFœg
) &&

869 (1 !
m_pFgcP¨amëîs
->
m_fûmGøöCh¨a˘îi°icsC™˚lFœg
))

871  
FGS_INVALID_FGC_CANCEL_FLAG
;

874 i‡(
FILM_GRAIN_MODEL_ID_VALUE
 !
m_pFgcP¨amëîs
->
m_fûmGøöModñId
)

876  
FGS_INVALID_GRAIN_MODEL_ID
;

879 i‡(0 !
m_pFgcP¨amëîs
->
m_£∑øãCﬁourDes¸ùti⁄Pª£¡Fœg
)

881  
FGS_INVALID_SEP_COL_DES_FLAG
;

884 i‡(
BLENDING_MODE_VALUE
 !
m_pFgcP¨amëîs
->
m_bÀndögModeId
)

886  
FGS_INVALID_BLEND_MODE
;

889 i‡((
m_pFgcP¨amëîs
->
m_log2SˇÀFa˘‹
 < 
MIN_LOG2SCALE_VALUE
) ||

890 (
m_pFgcP¨amëîs
->
m_log2SˇÀFa˘‹
 > 
MAX_LOG2SCALE_VALUE
))

892  
FGS_INVALID_LOG2_SCALE_FACTOR
;

896 
compCå
 = 0; compCå < 
numComp
; compCtr++)

898 i‡((
m_pFgcP¨amëîs
->
m_compModñ
[
compCå
].
bPª£¡Fœg
 !
åue
) &&

899 (
m_pFgcP¨amëîs
->
m_compModñ
[
compCå
].
bPª£¡Fœg
 !
Ál£
))

901  
FGS_INVALID_COMP_MODEL_PRESENT_FLAG
;

903 i‡(
m_pFgcP¨amëîs
->
m_compModñ
[
compCå
].
bPª£¡Fœg
 &&

904 (
m_pFgcP¨amëîs
->
m_compModñ
[
compCå
].
numModñVÆues
 > 
MAX_ALLOWED_MODEL_VALUES
))

906  
FGS_INVALID_NUM_MODEL_VALUES
;

911 
compCå
 = 0; compCå < 
numComp
; compCtr++)

913 i‡(
m_pFgcP¨amëîs
->
m_compModñ
[
compCå
].
bPª£¡Fœg
)

915 
öãnsôyCå
 = 0; i¡ísôyCå < 
m_pFgcP¨amëîs
->
m_compModñ
[
compCå
].
öãnsôyVÆues
.
	`size
(); intensityCtr++)

918 i‡(
m_pFgcP¨amëîs
->
m_compModñ
[
compCå
].
öãnsôyVÆues
[
öãnsôyCå
].
öãnsôyI¡îvÆLowîBound
 >

919 
m_pFgcP¨amëîs
->
m_compModñ
[
compCå
].
öãnsôyVÆues
[
öãnsôyCå
].
öãnsôyI¡îvÆUµîBound
)

921  
FGS_INVALID_INTENSITY_BOUNDARY_VALUES
;

924 
mu…iGøöCå
 = 
m_pFgcP¨amëîs
->
m_compModñ
[
compCå
].
öãnsôyVÆues
[
öãnsôyCå
].
öãnsôyI¡îvÆLowîBound
;

925 
mu…iGøöCå
 <
m_pFgcP¨amëîs
->
m_compModñ
[
compCå
].
öãnsôyVÆues
[
öãnsôyCå
].
öãnsôyI¡îvÆUµîBound
; multiGrainCtr++)

927 
m_pGøöSy¡
->
öãnsôyI¡îvÆ
[
compCå
][
mu…iGøöCå
] = 
öãnsôyCå
;

928 i‡(
mu…iGøöCheck
[
compCå
][
mu…iGøöCå
])

930  
FGS_INVALID_INTENSITY_BOUNDARY_VALUES
;

934 
mu…iGøöCheck
[
compCå
][
mu…iGøöCå
] = 1;

938 
m_pFgcP¨amëîs
->
m_compModñ
[
compCå
].
öãnsôyVÆues
[
öãnsôyCå
].
compModñVÆue
.
	`ªsize
(
MAX_NUM_MODEL_VALUES
);

940 i‡(1 =
m_pFgcP¨amëîs
->
m_compModñ
[
compCå
].
numModñVÆues
)

942 
m_pFgcP¨amëîs
->
m_compModñ
[
compCå
].
öãnsôyVÆues
[
öãnsôyCå
].
compModñVÆue
[1] = 
DEFAULT_HORZ_CUT_OFF_FREQUENCY
;

943 
m_pFgcP¨amëîs
->
m_compModñ
[
compCå
].
öãnsôyVÆues
[
öãnsôyCå
].
compModñVÆue
[2] =

944 
m_pFgcP¨amëîs
->
m_compModñ
[
compCå
].
öãnsôyVÆues
[
öãnsôyCå
].
compModñVÆue
[1];

946 i‡(2 =
m_pFgcP¨amëîs
->
m_compModñ
[
compCå
].
numModñVÆues
)

948 
m_pFgcP¨amëîs
->
m_compModñ
[
compCå
].
öãnsôyVÆues
[
öãnsôyCå
].
compModñVÆue
[2] =

949 
m_pFgcP¨amëîs
->
m_compModñ
[
compCå
].
öãnsôyVÆues
[
öãnsôyCå
].
compModñVÆue
[1];

953 i‡(
m_pFgcP¨amëîs
->
m_compModñ
[
compCå
].
öãnsôyVÆues
[
öãnsôyCå
].
compModñVÆue
[0] > (
MAX_STANDARD_DEVIATION
 << (
m_bôDïth
 - 
BIT_DEPTH_8
)))

955  
FGS_INVALID_STANDARD_DEVIATION
;

957 i‡((
m_pFgcP¨amëîs
->
m_compModñ
[
compCå
].
öãnsôyVÆues
[
öãnsôyCå
].
compModñVÆue
[1] < 
MIN_CUT_OFF_FREQUENCY
) ||

958 (
m_pFgcP¨amëîs
->
m_compModñ
[
compCå
].
öãnsôyVÆues
[
öãnsôyCå
].
compModñVÆue
[1] > 
MAX_CUT_OFF_FREQUENCY
))

960  
FGS_INVALID_CUT_OFF_FREQUENCIES
;

962 i‡((
m_pFgcP¨amëîs
->
m_compModñ
[
compCå
].
öãnsôyVÆues
[
öãnsôyCå
].
compModñVÆue
[2] < 
MIN_CUT_OFF_FREQUENCY
) ||

963 (
m_pFgcP¨amëîs
->
m_compModñ
[
compCå
].
öãnsôyVÆues
[
öãnsôyCå
].
compModñVÆue
[2] > 
MAX_CUT_OFF_FREQUENCY
))

965  
FGS_INVALID_CUT_OFF_FREQUENCIES
;

969 i‡((
CHROMA_444
 !
m_chromaF‹m©
Ë&& (
compCå
 > 0))

971 i‡(
CHROMA_420
 =
m_chromaF‹m©
)

973 
m_pFgcP¨amëîs
->
m_compModñ
[
compCå
].
öãnsôyVÆues
[
öãnsôyCå
].
compModñVÆue
[0] >>= 1;

974 
m_pFgcP¨amëîs
->
m_compModñ
[
compCå
].
öãnsôyVÆues
[
öãnsôyCå
].
compModñVÆue
[1] =

975 
	`CLIP3
(
MIN_CUT_OFF_FREQUENCY
, 
MAX_CUT_OFF_FREQUENCY
,

976 (
m_pFgcP¨amëîs
->
m_compModñ
[
compCå
].
öãnsôyVÆues
[
öãnsôyCå
].
compModñVÆue
[1] << 1));

977 
m_pFgcP¨amëîs
->
m_compModñ
[
compCå
].
öãnsôyVÆues
[
öãnsôyCå
].
compModñVÆue
[2] =

978 
	`CLIP3
(
MIN_CUT_OFF_FREQUENCY
, 
MAX_CUT_OFF_FREQUENCY
,

979 (
m_pFgcP¨amëîs
->
m_compModñ
[
compCå
].
öãnsôyVÆues
[
öãnsôyCå
].
compModñVÆue
[2] << 1));

982 i‡(
CHROMA_422
 =
m_chromaF‹m©
)

984 
m_pFgcP¨amëîs
->
m_compModñ
[
compCå
].
öãnsôyVÆues
[
öãnsôyCå
].
compModñVÆue
[0] =

985 (
m_pFgcP¨amëîs
->
m_compModñ
[
compCå
].
öãnsôyVÆues
[
öãnsôyCå
].
compModñVÆue
[0] * 
SCALE_DOWN_422
Ë>> 
Q_FORMAT_SCALING
;

987 
m_pFgcP¨amëîs
->
m_compModñ
[
compCå
].
öãnsôyVÆues
[
öãnsôyCå
].
compModñVÆue
[1] =

988 
	`CLIP3
(
MIN_CUT_OFF_FREQUENCY
, 
MAX_CUT_OFF_FREQUENCY
,

989 (
m_pFgcP¨amëîs
->
m_compModñ
[
compCå
].
öãnsôyVÆues
[
öãnsôyCå
].
compModñVÆue
[1] << 1));

994 
compPaúM©ch
 = 0;

995 
limôCompModñCå
 = 0;ÜimôCompModñCå <
num_comp_modñ_∑ús
;ÜimitCompModelCtr++)

997 i‡((
limôCompModñVÆ1
[
limôCompModñCå
] ==

998 
m_pFgcP¨amëîs
->
m_compModñ
[
compCå
].
öãnsôyVÆues
[
öãnsôyCå
].
compModñVÆue
[1]) &&

999 (
limôCompModñVÆ2
[
limôCompModñCå
] ==

1000 
m_pFgcP¨amëîs
->
m_compModñ
[
compCå
].
öãnsôyVÆues
[
öãnsôyCå
].
compModñVÆue
[2]))

1002 
compPaúM©ch
 = 1;

1006 i‡(0 =
compPaúM©ch
)

1008 
num_comp_modñ_∑ús
++;

1010 i‡(
num_comp_modñ_∑ús
 > 
MAX_ALLOWED_COMP_MODEL_PAIRS
)

1012  
FGS_INVALID_NUM_CUT_OFF_FREQ_PAIRS
;

1014 
limôCompModñVÆ1
[
num_comp_modñ_∑ús
 - 1] =

1015 
m_pFgcP¨amëîs
->
m_compModñ
[
compCå
].
öãnsôyVÆues
[
öãnsôyCå
].
compModñVÆue
[1];

1016 
limôCompModñVÆ2
[
num_comp_modñ_∑ús
 - 1] =

1017 
m_pFgcP¨amëîs
->
m_compModñ
[
compCå
].
öãnsôyVÆues
[
öãnsôyCå
].
compModñVÆue
[2];

1023 i‡(0 !
m_pFgcP¨amëîs
->
m_fûmGøöCh¨a˘îi°icsPîsi°í˚Fœg
)

1025  
FGS_INVALID_FGC_REPETETION_PERIOD
;

1027  
FGS_SUCCESS
;

1028 
	}
}

1030 
uöt32_t
 
	gSEIFûmGøöSy¡hesizî
::
	$¥ng
(
uöt32_t
 
x_r
)

1032 
uöt32_t
 
addVÆ
;

1033 
addVÆ
 = (1 + ((
x_r
 & (
POS_2
)Ë> 0Ë+ ((x_∏& (
POS_30
)) > 0)) % 2;

1034 
x_r
 = (x_∏<< 1Ë+ 
addVÆ
;

1035  
x_r
;

1036 
	}
}

1039 
Pñ
 
	gSEIFûmGøöSy¡hesizî
::
	$blockAvîage
(
Pñ
 *
decSam∂eBlk8
,

1040 
uöt32_t
 
widthComp
,

1041 
uöt16_t
 *
pNumSam∂es
,

1042 
uöt8_t
 
ySize
,

1043 
uöt8_t
 
xSize
,

1044 
uöt8_t
 
bôDïth
)

1046 
uöt32_t
 
blockAvg
 = 0;

1047 
uöt8_t
 
k
, 
l
;

1048 
uöt16_t
 
numSam∂es
 = 0;

1050 
k
 = 0; k < 
ySize
; k++)

1052 
l
 = 0;Ü < 
xSize
;Ü++)

1054 
blockAvg
 +*(
decSam∂eBlk8
 + 
l
 + (
k
*
widthComp
));

1055 
numSam∂es
++;

1058 i‡(
numSam∂es
 > 0)

1060 
blockAvg
 /
numSam∂es
;

1061 
blockAvg
 >>(
bôDïth
 - 
BIT_DEPTH_8
);

1064 
	`as£π
(
blockAvg
 < (1 << 
BIT_DEPTH_8
));

1065 *
pNumSam∂es
 = 
numSam∂es
;

1067 
blockAvg
 = 
	`CLIP3
(0, (1 << 
BIT_DEPTH_8
) - 1, blockAvg);

1068  
blockAvg
;

1069 
	}
}

1070 
	gSEIFûmGøöSy¡hesizî
::
	$deblockGøöSåùe
(
öt32_t
 *
gøöSåùe
, 
uöt32_t
 
widthComp
, uöt32_à
°rideComp
)

1072 
öt32_t
 
À·1
, 
À·0
, 
right0
, 
right1
;

1073 
uöt32_t
 
pos8
, 
vîtCå
;

1075 
pos8
 = 0;Öos8 < (
widthComp
 - 
BLK_8
);Öos8 += BLK_8)

1077 
vîtCå
 = 0; vîtCå < 
BLK_16
; vertCtr++)

1079 
À·1
 = *(
gøöSåùe
 + 
pos8
 + 6 + (
vîtCå
*
°rideComp
));

1080 
À·0
 = *(
gøöSåùe
 + 
pos8
 + 7 + (
vîtCå
*
°rideComp
));

1081 
right0
 = *(
gøöSåùe
 + 
pos8
 + 
BLK_8
 + 0 + (
vîtCå
*
°rideComp
));

1082 
right1
 = *(
gøöSåùe
 + 
pos8
 + 
BLK_8
 + 1 + (
vîtCå
*
°rideComp
));

1083 *(
gøöSåùe
 + 
pos8
 + 
BLK_8
 + 0 + (
vîtCå
*
°rideComp
)Ë(
À·0
 + (
right0
 << 1Ë+ 
right1
) >> 2;

1084 *(
gøöSåùe
 + 
pos8
 + 7 + (
vîtCå
*
°rideComp
)Ë(
À·1
 + (
À·0
 << 1Ë+ 
right0
) >> 2;

1088 
	}
}

1089 
	gSEIFûmGøöSy¡hesizî
::
	$bÀndSåùe
(
Pñ
 *
decSam∂eOff£tY
, 
öt32_t
 *
gøöSåùe
,

1090 
uöt32_t
 
widthComp
, uöt32_à
blockHeight
, 
uöt8_t
 
bôDïth
)

1092 
uöt32_t
 
k
, 
l
;

1093 
öt32_t
 
gøöSam∂e
;

1094 
Pñ
 
decodeSam∂e
;

1095 
uöt16_t
 
maxR™ge
;

1096 
maxR™ge
 = (1 << 
bôDïth
) - 1;

1097 
l
 = 0;Ü < 
blockHeight
;Ü++)

1099 
k
 = 0; k < 
widthComp
; k++)

1101 
decodeSam∂e
 = *(
decSam∂eOff£tY
 + 
k
 + (
l
*
widthComp
));

1102 
gøöSam∂e
 = *(
gøöSåùe
 + 
k
 + (
l
*
widthComp
));

1103 
gøöSam∂e
 <<(
bôDïth
 - 
BIT_DEPTH_8
);

1104 
gøöSam∂e
 = 
	`CLIP3
(0, 
maxR™ge
, gøöSam∂ê+ 
decodeSam∂e
);

1105 *(
decSam∂eOff£tY
 + 
k
 + (
l
*
widthComp
)Ë(
Pñ
)
gøöSam∂e
;

1109 
	}
}

1112 
	gSEIFûmGøöSy¡hesizî
::
	$simuœãGøöBlk8x8
(
öt32_t
 *
gøöSåùe
, 
uöt32_t
 
gøöSåùeOff£tBlk8
,

1113 
GøöSy¡hesisSåu˘
 *
pGøöSy¡
, 
uöt32_t
 
width
, 
uöt8_t
 
log2SˇÀFa˘‹
,

1114 
öt16_t
 
sˇÀFa˘‹
, 
uöt32_t
 
kOff£t
, uöt32_à
lOff£t
,

1115 
uöt8_t
 
h
, uöt8_à
v
, 
uöt32_t
 
xSize
)

1117 
uöt32_t
 
k
, 
l
;

1118 
l
 = 0;Ü < 
BLK_8
;Ü++)

1120 
k
 = 0; k < 
xSize
; k++)

1122 *(
gøöSåùe
 + 
gøöSåùeOff£tBlk8
 + 
k
 + (
l
*
width
)) =

1123 ((
sˇÀFa˘‹
 *

1124 
pGøöSy¡
->
d©aBa£
[
h
][
v
][
l
 + 
lOff£t
][
k
 + 
kOff£t
]Ë>> (
log2SˇÀFa˘‹
 + 
GRAIN_SCALE
));

1128 
	}
}

	@SEIFilmGrainSynthesizer.h

39 #i‚de‡
__SEIFILMGRAINSYNTHESIZER__


40 
	#__SEIFILMGRAINSYNTHESIZER__


	)

42 
	~"SEI.h
"

43 
	~"TComPicYuv.h
"

52 
	#MAX_ALLOWED_MODEL_VALUES
 3

	)

53 
	#MIN_LOG2SCALE_VALUE
 2

	)

54 
	#MAX_LOG2SCALE_VALUE
 7

	)

55 
	#FILM_GRAIN_MODEL_ID_VALUE
 0

	)

56 
	#BLENDING_MODE_VALUE
 0

	)

57 
	#MAX_STANDARD_DEVIATION
 255

	)

58 
	#MIN_CUT_OFF_FREQUENCY
 2

	)

59 
	#MAX_CUT_OFF_FREQUENCY
 14

	)

60 
	#DEFAULT_HORZ_CUT_OFF_FREQUENCY
 8

	)

61 
	#MAX_ALLOWED_COMP_MODEL_PAIRS
 10

	)

63 
	#SCALE_DOWN_422
 181

	)

64 
	#Q_FORMAT_SCALING
 8

	)

65 
	#GRAIN_SCALE
 6

	)

66 
	#MIN_CHROMA_FORMAT_IDC
 0

	)

67 
	#MAX_CHROMA_FORMAT_IDC
 3

	)

68 
	#MIN_BIT_DEPTH
 8

	)

69 
	#MAX_BIT_DEPTH
 16

	)

70 
	#BIT_DEPTH_8
 8

	)

71 
	#NUM_8x8_BLKS_16x16
 4

	)

72 
	#BLK_8
 8

	)

73 
	#BLK_16
 16

	)

74 
	#INTENSITY_INTERVAL_MATCH_FAIL
 -1

	)

75 
	#COLOUR_OFFSET_LUMA
 0

	)

76 
	#COLOUR_OFFSET_CR
 85

	)

77 
	#COLOUR_OFFSET_CB
 170

	)

79 
	#NUM_CUT_OFF_FREQ
 13

	)

80 
	#DATA_BASE_SIZE
 64

	)

82 
	#MIN_WIDTH
 128

	)

83 
	#MAX_WIDTH
 7680

	)

84 
	#MIN_HEIGHT
 128

	)

85 
	#MAX_HEIGHT
 4320

	)

87 
	#MIN_CHROMA_FORMAT_IDC
 0

	)

88 
	#MAX_CHROMA_FORMAT_IDC
 3

	)

89 
	#MIN_BIT_DEPTH
 8

	)

90 
	#MAX_BIT_DEPTH
 16

	)

91 
	#BIT_DEPTH_8
 8

	)

92 
	#NUM_8x8_BLKS_16x16
 4

	)

93 
	#BLK_8
 8

	)

94 
	#BLK_16
 16

	)

95 
	#INTENSITY_INTERVAL_MATCH_FAIL
 -1

	)

96 
	#COLOUR_OFFSET_LUMA
 0

	)

97 
	#COLOUR_OFFSET_CR
 85

	)

98 
	#COLOUR_OFFSET_CB
 170

	)

100 
	#CLIP3
(
mö
, 
max
, 
x
Ë(((xË> (max)Ë? (maxË:(((xË< (mö))? (mö):(x)))

	)

101 
	#MIN
(
x
,
y
Ë(((xË> (y)Ë? (yË: (x))

	)

102 
	#MSB16
(
x
Ë((x&0xFFFF0000)>>16)

	)

103 
	#LSB16
(
x
Ë(x&0x0000FFFF)

	)

104 
	#BIT0
(
x
Ë(x&0x1)

	)

105 
	#POS_30
 (1<<30)

	)

106 
	#POS_2
 (1<<2)

	)

109 
	#FGS_FILE_IO_ERROR
 0x0010

	)

110 
	#FGS_PARAM_ERROR
 0x0020

	)

116 
	mFGS_SUCCESS
 = 0,

118 
	mFGS_INVALID_WIDTH
 = 
FGS_FILE_IO_ERROR
 + 0x01,

120 
	mFGS_INVALID_HEIGHT
 = 
FGS_FILE_IO_ERROR
 + 0x02,

122 
	mFGS_INVALID_CHROMA_FORMAT
 = 
FGS_FILE_IO_ERROR
 + 0x03,

124 
	mFGS_INVALID_BIT_DEPTH
 = 
FGS_FILE_IO_ERROR
 + 0x04,

127 
	mFGS_INVALID_FGC_CANCEL_FLAG
 = 
FGS_PARAM_ERROR
 + 0x01,

129 
	mFGS_INVALID_GRAIN_MODEL_ID
 = 
FGS_PARAM_ERROR
 + 0x02,

131 
	mFGS_INVALID_SEP_COL_DES_FLAG
 = 
FGS_PARAM_ERROR
 + 0x03,

133 
	mFGS_INVALID_BLEND_MODE
 = 
FGS_PARAM_ERROR
 + 0x04,

135 
	mFGS_INVALID_LOG2_SCALE_FACTOR
 = 
FGS_PARAM_ERROR
 + 0x05,

137 
	mFGS_INVALID_COMP_MODEL_PRESENT_FLAG
 = 
FGS_PARAM_ERROR
 + 0x06,

139 
	mFGS_INVALID_NUM_MODEL_VALUES
 = 
FGS_PARAM_ERROR
 + 0x07,

141 
	mFGS_INVALID_INTENSITY_BOUNDARY_VALUES
 = 
FGS_PARAM_ERROR
 + 0x08,

143 
	mFGS_INVALID_STANDARD_DEVIATION
 = 
FGS_PARAM_ERROR
 + 0x09,

145 
	mFGS_INVALID_CUT_OFF_FREQUENCIES
 = 
FGS_PARAM_ERROR
 + 0x0A,

147 
	mFGS_INVALID_NUM_CUT_OFF_FREQ_PAIRS
 = 
FGS_PARAM_ERROR
 + 0x0B,

149 
	mFGS_INVALID_FGC_REPETETION_PERIOD
 = 
FGS_PARAM_ERROR
 + 0x0C,

152 
	mFGS_FAIL
 = 0xFF

153 }
	tFGS_ERROR_T
;

156 
	sGøöSy¡hesisSåu˘_t


158 
öt8_t
 
	md©aBa£
[
NUM_CUT_OFF_FREQ
][NUM_CUT_OFF_FREQ][
DATA_BASE_SIZE
][DATA_BASE_SIZE];

159 
öt16_t
 
	möãnsôyI¡îvÆ
[
MAX_NUM_COMPONENT
][
MAX_NUM_INTENSITIES
];

160 }
	tGøöSy¡hesisSåu˘
;

162 ˛as†
	cSEIFûmGøöSy¡hesizî


165 
	m¥iv©e
:

166 
uöt32_t
 
m_width
;

167 
uöt32_t
 
	mm_height
;

168 
ChromaF‹m©
 
	mm_chromaF‹m©
;

169 
uöt8_t
 
	mm_bôDïth
;

170 
uöt32_t
 
	mm_idrPicId
;

171 
uöt8_t
 
	mm_íabÀDeblockög
;

173 
GøöSy¡hesisSåu˘
 *
	mm_pGøöSy¡
;

174 
	mpublic
:

175 
uöt32_t
 
m_poc
;

176 
uöt32_t
 
	mm_îr‹Code
;

177 
SEIFûmGøöCh¨a˘îi°ics
 *
	mm_pFgcP¨amëîs
;

179 
	mpublic
:

180 
SEIFûmGøöSy¡hesizî
();

181 
¸óã
(
uöt32_t
 
width
, uöt32_à
height
, 
ChromaF‹m©
 
fmt
, 
uöt8_t
 
bôDïth
,

182 
uöt32_t
 
idrPicId
, 
uöt8_t
 
íabÀDeblockög
);

184 
	mvútuÆ
 ~
SEIFûmGøöSy¡hesizî
();

186 
fgsInô
();

187 
fgsDeöô
();

188 
gøöSy¡hesizeAndBÀnd
(
TComPicYuv
* 
pGøöBuf
, 
Boﬁ
 
isIdrPic
);

189 
uöt8_t
 
gøöVÆid©eP¨ams
();

191 
	m¥iv©e
:

192 
d©aBa£Gí
();

193 
uöt32_t
 
¥ng
(uöt32_à
x_r
);

194 
Pñ
 
blockAvîage
(Pñ *
decSam∂eBlk8
,

195 
uöt32_t
 
widthComp
,

196 
uöt16_t
 *
pNumSam∂es
,

197 
uöt8_t
 
ySize
,

198 
uöt8_t
 
xSize
,

199 
uöt8_t
 
bôDïth
);

200 
deblockGøöSåùe
(
öt32_t
 *
gøöSåùe
, 
uöt32_t
 
widthComp
, uöt32_à
°rideComp
);

201 
bÀndSåùe
(
Pñ
 *
decSam∂eOff£tY
, 
öt32_t
 *
gøöSåùe
,

202 
uöt32_t
 
widthComp
, uöt32_à
blockHeight
, 
uöt8_t
 
bôDïth
);

203 
simuœãGøöBlk8x8
(
öt32_t
 *
gøöSåùe
, 
uöt32_t
 
gøöSåùeOff£tBlk8
,

204 
GøöSy¡hesisSåu˘
 *
pGøöSy¡
, 
uöt32_t
 
width
, 
uöt8_t
 
log2SˇÀFa˘‹
,

205 
öt16_t
 
sˇÀFa˘‹
, 
uöt32_t
 
kOff£t
, uöt32_à
lOff£t
,

206 
uöt8_t
 
h
, uöt8_à
v
, 
uöt32_t
 
xSize
);

	@TComBitCounter.h

38 #i‚de‡
__TCOMBITCOUNTER__


39 
	#__TCOMBITCOUNTER__


	)

41 #i‡
_MSC_VER
 > 1000

42 #¥agm®
⁄˚


45 
	~"TComBôSåóm.h
"

55 ˛as†
	cTComBôCou¡î
 : 
public
 
TComBôIf


57 
¥Ÿe˘ed
:

58 
UI¡
 
m_uiBôCou¡î
;

60 
	mpublic
:

61 
	$TComBôCou¡î
() {}

62 
vútuÆ
 ~
	$TComBôCou¡î
(Ë{
	}
}

64 
Void
 
	$wrôe
 ( 
UI¡
 , UI¡ 
uiNumbîOfBôs
 ) { 
m_uiBôCou¡î
 +uiNumbîOfBôs; 
	}
}

65 
Void
 
	$ª£tBôs
 (Ë{ 
m_uiBôCou¡î
 = 0; 
	}
}

66 
UI¡
 
	$gëNumbîOfWrôãnBôs
(Ëc⁄° {  
m_uiBôCou¡î
; 
	}
}

67 
I¡
 
	$gëNumBôsU¡ûByãAlig√d
(Ëc⁄° {  (8 - 
m_uiBôCou¡î
Ë& 0x7;
	}
}

	@TComBitStream.cpp

38 
	~<°döt.h
>

39 
	~<ve˘‹
>

40 
	~"TComBôSåóm.h
"

41 
	~<°rög.h
>

42 
	~<mem‹y.h
>

44 
usög
 
«me•a˚
 
	g°d
;

53 
	gTComOuçutBô°ªam
::
	$TComOuçutBô°ªam
()

55 
	`˛ór
();

56 
	}
}

58 
	gTComOuçutBô°ªam
::~
	$TComOuçutBô°ªam
()

60 
	}
}

63 
TComI≈utBô°ªam
::
	$TComI≈utBô°ªam
()

64 : 
	`m_fifo
()

65 , 
	`m_emuœti⁄Pªvíti⁄ByãLoˇti⁄
()

66 , 
	`m_fifo_idx
(0)

67 , 
	`m_num_hñd_bôs
(0)

68 , 
	`m_hñd_bôs
(0)

69 , 
	$m_numBôsRód
(0)

70 { 
	}
}

72 
	gTComI≈utBô°ªam
::
	$TComI≈utBô°ªam
(c⁄° 
TComI≈utBô°ªam
 &
§c
)

73 : 
	`m_fifo
(
§c
.
m_fifo
)

74 , 
	`m_emuœti⁄Pªvíti⁄ByãLoˇti⁄
(
§c
.
m_emuœti⁄Pªvíti⁄ByãLoˇti⁄
)

75 , 
	`m_fifo_idx
(
§c
.
m_fifo_idx
)

76 , 
	`m_num_hñd_bôs
(
§c
.
m_num_hñd_bôs
)

77 , 
	`m_hñd_bôs
(
§c
.
m_hñd_bôs
)

78 , 
	$m_numBôsRód
(
§c
.
m_numBôsRód
)

79 { 
	}
}

85 
Void
 
	gTComI≈utBô°ªam
::
	$ª£tToSèπ
()

87 
m_fifo_idx
=0;

88 
m_num_hñd_bôs
=0;

89 
m_hñd_bôs
=0;

90 
m_numBôsRód
=0;

91 
	}
}

93 
UCh¨
* 
	gTComOuçutBô°ªam
::
	$gëByãSåóm
() const

95  (
UCh¨
*Ë&
m_fifo
.
	`‰⁄t
();

96 
	}
}

98 
UI¡
 
	gTComOuçutBô°ªam
::
	$gëByãSåómLígth
()

100  
	`UI¡
(
m_fifo
.
	`size
());

101 
	}
}

103 
Void
 
	gTComOuçutBô°ªam
::
	$˛ór
()

105 
m_fifo
.
	`˛ór
();

106 
m_hñd_bôs
 = 0;

107 
m_num_hñd_bôs
 = 0;

108 
	}
}

110 
Void
 
	gTComOuçutBô°ªam
::
	$wrôe
 ( 
UI¡
 
uiBôs
, UI¡ 
uiNumbîOfBôs
 )

112 
	`as£π
–
uiNumbîOfBôs
 <= 32 );

113 
	`as£π
–
uiNumbîOfBôs
 =32 || (
uiBôs
 & (~0 << uiNumberOfBits)) == 0 );

117 
UI¡
 
num_tŸÆ_bôs
 = 
uiNumbîOfBôs
 + 
m_num_hñd_bôs
;

118 
UI¡
 
√xt_num_hñd_bôs
 = 
num_tŸÆ_bôs
 % 8;

126 
UCh¨
 
√xt_hñd_bôs
 = 
uiBôs
 << (8 - 
√xt_num_hñd_bôs
);

128 i‡(!(
num_tŸÆ_bôs
 >> 3))

133 
m_hñd_bôs
 |
√xt_hñd_bôs
;

134 
m_num_hñd_bôs
 = 
√xt_num_hñd_bôs
;

139 
UI¡
 
t›w‹d
 = (
uiNumbîOfBôs
 - 
√xt_num_hñd_bôs
) & ~((1 << 3) -1);

140 
UI¡
 
wrôe_bôs
 = (
m_hñd_bôs
 << 
t›w‹d
Ë| (
uiBôs
 >> 
√xt_num_hñd_bôs
);

142 
num_tŸÆ_bôs
 >> 3)

144 4: 
m_fifo
.
	`push_back
(
wrôe_bôs
 >> 24);

145 3: 
m_fifo
.
	`push_back
(
wrôe_bôs
 >> 16);

146 2: 
m_fifo
.
	`push_back
(
wrôe_bôs
 >> 8);

147 1: 
m_fifo
.
	`push_back
(
wrôe_bôs
);

150 
m_hñd_bôs
 = 
√xt_hñd_bôs
;

151 
m_num_hñd_bôs
 = 
√xt_num_hñd_bôs
;

152 
	}
}

154 
Void
 
	gTComOuçutBô°ªam
::
	$wrôeAlignO√
()

156 
UI¡
 
num_bôs
 = 
	`gëNumBôsU¡ûByãAlig√d
();

157 
	`wrôe
((1 << 
num_bôs
) - 1,Çum_bits);

159 
	}
}

161 
Void
 
	gTComOuçutBô°ªam
::
	$wrôeAlignZîo
()

163 i‡(0 =
m_num_hñd_bôs
)

167 
m_fifo
.
	`push_back
(
m_hñd_bôs
);

168 
m_hñd_bôs
 = 0;

169 
m_num_hñd_bôs
 = 0;

170 
	}
}

177 
Void
 
	gTComOuçutBô°ªam
::
	$addSub°ªam
–
TComOuçutBô°ªam
* 
pcSub°ªam
 )

179 
UI¡
 
uiNumBôs
 = 
pcSub°ªam
->
	`gëNumbîOfWrôãnBôs
();

181 c⁄° 
ve˘‹
<
uöt8_t
>& 
rb•
 = 
pcSub°ªam
->
	`gëFIFO
();

182 
ve˘‹
<
uöt8_t
>::
c⁄°_ôî©‹
 
ô
 = 
rb•
.
	`begö
(); ià!rb•.
	`íd
();)

184 
	`wrôe
(*
ô
++, 8);

186 i‡(
uiNumBôs
&0x7)

188 
	`wrôe
(
pcSub°ªam
->
	`gëHñdBôs
()>>(8-(
uiNumBôs
&0x7)), uiNumBits&0x7);

190 
	}
}

192 
Void
 
	gTComOuçutBô°ªam
::
	$wrôeByãAlignmít
()

194 
	`wrôe
( 1, 1);

195 
	`wrôeAlignZîo
();

196 
	}
}

198 
I¡
 
	gTComOuçutBô°ªam
::
	$cou¡SèπCodeEmuœti⁄s
()

200 
UI¡
 
˙t
 = 0;

201 
ve˘‹
<
uöt8_t
>& 
rb•
 = 
	`gëFIFO
();

202 
ve˘‹
<
uöt8_t
>::
ôî©‹
 
ô
 = 
rb•
.
	`begö
(); ià!rb•.
	`íd
();)

204 
ve˘‹
<
uöt8_t
>::
ôî©‹
 
found
 = 
ô
;

209 
found
 = 
	`£¨ch_n
(found, 
rb•
.
	`íd
()-1, 2, 0);

210 
found
++;

212 i‡(
found
 =
rb•
.
	`íd
())

216 i‡(*(++
found
) <= 3)

220 } 
åue
);

221 
ô
 = 
found
;

222 i‡(
found
 !
rb•
.
	`íd
())

224 
˙t
++;

227  
˙t
;

228 
	}
}

238 
Void
 
	gTComI≈utBô°ªam
::
	$p£udoRód
 ( 
UI¡
 
uiNumbîOfBôs
, UI¡& 
ruiBôs
 )

240 
UI¡
 
ßved_num_hñd_bôs
 = 
m_num_hñd_bôs
;

241 
UCh¨
 
ßved_hñd_bôs
 = 
m_hñd_bôs
;

242 
UI¡
 
ßved_fifo_idx
 = 
m_fifo_idx
;

244 
UI¡
 
num_bôs_to_ªad
 = 
	`mö
(
uiNumbîOfBôs
, 
	`gëNumBôsLe·
());

245 
	`ªad
(
num_bôs_to_ªad
, 
ruiBôs
);

246 
ruiBôs
 <<(
uiNumbîOfBôs
 - 
num_bôs_to_ªad
);

248 
m_fifo_idx
 = 
ßved_fifo_idx
;

249 
m_hñd_bôs
 = 
ßved_hñd_bôs
;

250 
m_num_hñd_bôs
 = 
ßved_num_hñd_bôs
;

251 
	}
}

254 
Void
 
	gTComI≈utBô°ªam
::
	$ªad
 (
UI¡
 
uiNumbîOfBôs
, UI¡& 
ruiBôs
)

256 
	`as£π
–
uiNumbîOfBôs
 <= 32 );

258 
m_numBôsRód
 +
uiNumbîOfBôs
;

261 
UI¡
 
ªtvÆ
 = 0;

262 i‡(
uiNumbîOfBôs
 <
m_num_hñd_bôs
)

267 
ªtvÆ
 = 
m_hñd_bôs
 >> (
m_num_hñd_bôs
 - 
uiNumbîOfBôs
);

268 
ªtvÆ
 &~(0xf‡<< 
uiNumbîOfBôs
);

269 
m_num_hñd_bôs
 -
uiNumbîOfBôs
;

270 
ruiBôs
 = 
ªtvÆ
;

279 
uiNumbîOfBôs
 -
m_num_hñd_bôs
;

280 
ªtvÆ
 = 
m_hñd_bôs
 & ~(0xf‡<< 
m_num_hñd_bôs
);

281 
ªtvÆ
 <<
uiNumbîOfBôs
;

291 
UI¡
 
Æig√d_w‹d
 = 0;

292 
UI¡
 
num_byãs_to_lﬂd
 = (
uiNumbîOfBôs
 - 1) >> 3;

293 
	`as£π
(
m_fifo_idx
 + 
num_byãs_to_lﬂd
 < 
m_fifo
.
	`size
());

295 
num_byãs_to_lﬂd
)

297 3: 
Æig√d_w‹d
 = 
m_fifo
[
m_fifo_idx
++] << 24;

298 2: 
Æig√d_w‹d
 |
m_fifo
[
m_fifo_idx
++] << 16;

299 1: 
Æig√d_w‹d
 |
m_fifo
[
m_fifo_idx
++] << 8;

300 0: 
Æig√d_w‹d
 |
m_fifo
[
m_fifo_idx
++];

304 
UI¡
 
√xt_num_hñd_bôs
 = (32 - 
uiNumbîOfBôs
) % 8;

307 
ªtvÆ
 |
Æig√d_w‹d
 >> 
√xt_num_hñd_bôs
;

310 
m_num_hñd_bôs
 = 
√xt_num_hñd_bôs
;

311 
m_hñd_bôs
 = 
Æig√d_w‹d
;

313 
ruiBôs
 = 
ªtvÆ
;

314 
	}
}

320 
Void
 
	gTComOuçutBô°ªam
::
	$ö£πAt
(c⁄° 
TComOuçutBô°ªam
& 
§c
, 
UI¡
 
pos
)

322 
UI¡
 
§c_bôs
 = 
§c
.
	`gëNumbîOfWrôãnBôs
();

323 
	`as£π
(0 =
§c_bôs
 % 8);

325 
ve˘‹
<
uöt8_t
>::
ôî©‹
 
©
 = 
m_fifo
.
	`begö
(Ë+ 
pos
;

326 
m_fifo
.
	`ö£π
(
©
, 
§c
.m_fifo.
	`begö
(), src.m_fifo.
	`íd
());

327 
	}
}

329 
UI¡
 
	gTComI≈utBô°ªam
::
	$ªadOutTøûögBôs
 ()

331 
UI¡
 
cou¡
=0;

332 
UI¡
 
uiBôs
 = 0;

334  ( 
	`gëNumBôsLe·
(Ë> 0 ) && (
	`gëNumBôsU¡ûByãAlig√d
()!=0) )

336 
cou¡
++;

337 
	`ªad
 ( 1, 
uiBôs
 );

339  
cou¡
;

340 
	}
}

358 
TComI≈utBô°ªam
 *
	gTComI≈utBô°ªam
::
	$exåa˘Sub°ªam
–
UI¡
 
uiNumBôs
 )

360 
UI¡
 
uiNumByãs
 = 
uiNumBôs
/8;

361 
TComI≈utBô°ªam
 *
pResu…
 = 
√w
 TComInputBitstream;

363 
°d
::
ve˘‹
<
uöt8_t
> &
buf
 = 
pResu…
->
	`gëFifo
();

364 
buf
.
	`ª£rve
((
uiNumBôs
+7)>>3);

366 i‡(
m_num_hñd_bôs
 == 0)

368 
°d
::
size_t
 
cuºítOuçutBuf„rSize
=
buf
.
	`size
();

369 c⁄° 
UI¡
 
uiNumByãsToRódFromFifo
 = 
°d
::
mö
<UI¡>(
uiNumByãs
, (UI¡)
m_fifo
.
	`size
(Ë- 
m_fifo_idx
);

370 
buf
.
	`ªsize
(
cuºítOuçutBuf„rSize
+
uiNumByãs
);

371 
	`mem˝y
(&(
buf
[
cuºítOuçutBuf„rSize
]), &(
m_fifo
[
m_fifo_idx
]), 
uiNumByãsToRódFromFifo
); m_fifo_idx+=uiNumBytesToReadFromFifo;

372 i‡(
uiNumByãsToRódFromFifo
 !
uiNumByãs
)

374 
	`mem£t
(&(
buf
[
cuºítOuçutBuf„rSize
+
uiNumByãsToRódFromFifo
]), 0, 
uiNumByãs
 - uiNumBytesToReadFromFifo);

379 
UI¡
 
ui
 = 0; uò< 
uiNumByãs
; ui++)

381 
UI¡
 
uiByã
;

382 
	`ªad
(8, 
uiByã
);

383 
buf
.
	`push_back
(
uiByã
);

386 i‡(
uiNumBôs
&0x7)

388 
UI¡
 
uiByã
 = 0;

389 
	`ªad
(
uiNumBôs
&0x7, 
uiByã
);

390 
uiByã
 <<8-(
uiNumBôs
&0x7);

391 
buf
.
	`push_back
(
uiByã
);

393  
pResu…
;

394 
	}
}

396 
UI¡
 
	gTComI≈utBô°ªam
::
	$ªadByãAlignmít
()

398 
UI¡
 
code
 = 0;

399 
	`ªad
–1, 
code
 );

400 
	`as£π
(
code
 == 1);

402 
UI¡
 
numBôs
 = 
	`gëNumBôsU¡ûByãAlig√d
();

403 if(
numBôs
)

405 
	`as£π
(
numBôs
 <
	`gëNumBôsLe·
());

406 
	`ªad
–
numBôs
, 
code
 );

407 
	`as£π
(
code
 == 0);

409  
numBôs
+1;

410 
	}
}

	@TComBitStream.h

38 #i‚de‡
__TCOMBITSTREAM__


39 
	#__TCOMBITSTREAM__


	)

41 #i‡
_MSC_VER
 > 1000

42 #¥agm®
⁄˚


45 
	~<°döt.h
>

46 
	~<ve˘‹
>

47 
	~<°dio.h
>

48 
	~"Comm⁄Def.h
"

58 ˛as†
	cTComBôIf


60 
	mpublic
:

61 
vútuÆ
 
Void
 
	$wrôeAlignO√
 () {};

62 
vútuÆ
 
Void
 
	$wrôeAlignZîo
 (Ë{
	}
};

63 
vútuÆ
 
Void
 
wrôe
 ( 
UI¡
 
uiBôs
, UI¡ 
uiNumbîOfBôs
 ) = 0;

64 
vútuÆ
 
Void
 
ª£tBôs
 () = 0;

65 
vútuÆ
 
UI¡
 
	$gëNumbîOfWrôãnBôs
() const = 0;

66 
vútuÆ
 
I¡
 
	$gëNumBôsU¡ûByãAlig√d
() const = 0;

67 
vútuÆ
 ~
	$TComBôIf
(Ë{
	}
}

74 ˛as†
	cTComOuçutBô°ªam
 : 
public
 
TComBôIf


83 
°d
::
ve˘‹
<
uöt8_t
> 
m_fifo
;

85 
UI¡
 
	mm_num_hñd_bôs
;

86 
UCh¨
 
	mm_hñd_bôs
;

88 
	mpublic
:

90 
TComOuçutBô°ªam
();

91 ~
TComOuçutBô°ªam
();

98 
Void
 
wrôe
 ( 
UI¡
 
uiBôs
, UI¡ 
uiNumbîOfBôs
 );

101 
Void
 
wrôeAlignO√
 ();

104 
Void
 
wrôeAlignZîo
 ();

107 
Void
 
	$ª£tBôs
(Ë{ 
	`as£π
(0); }

117 
UCh¨
* 
	$gëByãSåóm
() const;

122 
UI¡
 
	`gëByãSåómLígth
();

127 
Void
 
	`˛ór
();

133 
I¡
 
	$gëNumBôsU¡ûByãAlig√d
(Ëc⁄° {  (8 - 
m_num_hñd_bôs
Ë& 0x7; 
	}
}

138 
UI¡
 
	$gëNumbîOfWrôãnBôs
(Ëc⁄° {  
	`UI¡
(
m_fifo
.
	`size
()Ë* 8 + 
m_num_hñd_bôs
; 
	}
}

140 
Void
 
ö£πAt
(c⁄° 
TComOuçutBô°ªam
& 
§c
, 
UI¡
 
pos
);

145 
	g°d
::
ve˘‹
<
uöt8_t
>& 
	$gëFIFO
(Ë{  
m_fifo
; 
	}
}

147 
UCh¨
 
	$gëHñdBôs
 (Ë{  
m_hñd_bôs
; 
	}
}

151 c⁄° 
	g°d
::
ve˘‹
<
uöt8_t
>& 
	$gëFIFO
(Ëc⁄° {  
m_fifo
; 
	}
}

153 
Void
 
addSub°ªam
 ( 
TComOuçutBô°ªam
* 
pcSub°ªam
 );

154 
Void
 
wrôeByãAlignmít
();

157 
I¡
 
cou¡SèπCodeEmuœti⁄s
();

164 ˛as†
	cTComI≈utBô°ªam


166 
	m¥Ÿe˘ed
:

167 
°d
::
ve˘‹
<
uöt8_t
> 
m_fifo
;

168 
	m°d
::
ve˘‹
<
UI¡
> 
m_emuœti⁄Pªvíti⁄ByãLoˇti⁄
;

170 
UI¡
 
	mm_fifo_idx
;

172 
UI¡
 
	mm_num_hñd_bôs
;

173 
UCh¨
 
	mm_hñd_bôs
;

174 
UI¡
 
	mm_numBôsRód
;

176 
	mpublic
:

180 
TComI≈utBô°ªam
();

181 
	mvútuÆ
 ~
	$TComI≈utBô°ªam
() { }

182 
	`TComI≈utBô°ªam
(c⁄° 
TComI≈utBô°ªam
 &
§c
);

184 
Void
 
	`ª£tToSèπ
();

187 
Void
 
	`p£udoRód
 ( 
UI¡
 
uiNumbîOfBôs
, UI¡& 
ruiBôs
 );

188 
Void
 
	`ªad
 ( 
UI¡
 
uiNumbîOfBôs
, UI¡& 
ruiBôs
 );

189 
Void
 
	$ªadByã
 ( 
UI¡
 &
ruiBôs
 )

191 
	`as£π
(
m_fifo_idx
 < 
m_fifo
.
	`size
());

192 
ruiBôs
 = 
m_fifo
[
m_fifo_idx
++];

193 
	}
}

195 
Void
 
	$≥ekPªviousByã
–
UI¡
 &
byã
 )

197 
	`as£π
(
m_fifo_idx
 > 0);

198 
byã
 = 
m_fifo
[
m_fifo_idx
 - 1];

199 
	}
}

201 
UI¡
 
ªadOutTøûögBôs
 ();

202 
UCh¨
 
	$gëHñdBôs
 (Ë{  
m_hñd_bôs
; 
	}
}

203 
	gTComOuçutBô°ªam
& 
	g›î©‹
(c⁄° 
TComOuçutBô°ªam
& 
§c
);

204 
UI¡
 
	$gëByãLoˇti⁄
 ( ) {  
m_fifo_idx
 ; 
	}
}

207 
UI¡
 
	$≥ekBôs
 (
UI¡
 
uiBôs
Ë{ UI¡ 
tmp
; 
	`p£udoRód
(uiBôs,Åmp); Åmp; 
	}
}

210 
UI¡
 
	$ªad
(
UI¡
 
numbîOfBôs
Ë{ UI¡ 
tmp
; 
	`ªad
“umbîOfBôs,Åmp); Åmp; 
	}
}

211 
UI¡
 
	$ªadByã
(Ë{ 
UI¡
 
tmp
; 
	`ªadByã
–tm∞); Åmp; 
	}
}

212 
UI¡
 
	$gëNumBôsU¡ûByãAlig√d
(Ë{  
m_num_hñd_bôs
 & (0x7); 
	}
}

213 
UI¡
 
	$gëNumBôsLe·
(Ë{  8*((
UI¡
)
m_fifo
.
	`size
(Ë- 
m_fifo_idx
Ë+ 
m_num_hñd_bôs
; 
	}
}

214 
TComI≈utBô°ªam
 *
exåa˘Sub°ªam
–
UI¡
 
uiNumBôs
 );

215 
UI¡
 
	$gëNumBôsRód
(Ë{  
m_numBôsRód
; 
	}
}

216 
UI¡
 
ªadByãAlignmít
();

218 
Void
 
	$pushEmuœti⁄Pªvíti⁄ByãLoˇti⁄
 ( 
UI¡
 
pos
 ) { 
m_emuœti⁄Pªvíti⁄ByãLoˇti⁄
.
	`push_back
–po†); 
	}
}

219 
UI¡
 
	$numEmuœti⁄Pªvíti⁄ByãsRód
 (Ë{  (
UI¡
Ë
m_emuœti⁄Pªvíti⁄ByãLoˇti⁄
.
	`size
(); 
	}
}

220 c⁄° 
	g°d
::
ve˘‹
<
UI¡
> &
	$gëEmuœti⁄Pªvíti⁄ByãLoˇti⁄
 (Ëc⁄° {  
m_emuœti⁄Pªvíti⁄ByãLoˇti⁄
; 
	}
}

221 
UI¡
 
	$gëEmuœti⁄Pªvíti⁄ByãLoˇti⁄
 ( 
UI¡
 
idx
 ) {  
m_emuœti⁄Pªvíti⁄ByãLoˇti⁄
[ idx ]; 
	}
}

222 
Void
 
	$˛órEmuœti⁄Pªvíti⁄ByãLoˇti⁄
(Ë{ 
m_emuœti⁄Pªvíti⁄ByãLoˇti⁄
.
	`˛ór
(); 
	}
}

223 
Void
 
£tEmuœti⁄Pªvíti⁄ByãLoˇti⁄
 ( c⁄° 
°d
::
ve˘‹
<
UI¡
> &
vec
 ) { 
m_emuœti⁄Pªvíti⁄ByãLoˇti⁄
 = vec; }

225 c⁄° 
	g°d
::
ve˘‹
<
uöt8_t
> &
	$gëFifo
(Ëc⁄° {  
m_fifo
; 
	}
}

226 
	g°d
::
ve˘‹
<
uöt8_t
> &
	$gëFifo
(Ë{  
m_fifo
; 
	}
}

	@TComCABACTables.cpp

38 
	~"TComCABACTabÀs.h
"

43 c⁄° 
UCh¨
 
	gTComCABACTabÀs
::
sm_aucLPSTabÀ
[1 << 
CONTEXT_STATE_BITS
][4] =

111 c⁄° 
UCh¨
 
	gTComCABACTabÀs
::
sm_aucRí‹mTabÀ
[32] =

	@TComCABACTables.h

38 #i‚de‡
__TCOMCABACTABLES__


39 
	#__TCOMCABACTABLES__


	)

41 
	~"TLibComm⁄/Comm⁄Def.h
"

42 
	~"TLibComm⁄/TComRom.h
"

51 ˛as†
	cTComCABACTabÀs


53 
	mpublic
:

54 c⁄° 
UCh¨
 
sm_aucLPSTabÀ
[1 << 
CONTEXT_STATE_BITS
][4];

55 c⁄° 
UCh¨
 
	msm_aucRí‹mTabÀ
[32];

	@TComChromaFormat.cpp

35 
	~"TComChromaF‹m©.h
"

36 
	~"TComPic.h
"

37 
	~"TComD©aCU.h
"

38 
	~"TComTrQu™t.h
"

39 
	~"TComTU.h
"

46 
I≈utCﬁourS∑˚C⁄vîsi⁄
 
	$°rögToI≈utCﬁourS∑˚C⁄vît
(c⁄° 
°d
::
°rög
 &
vÆue
, c⁄° 
Boﬁ
 
bIsF‹w¨d
)

48 i‡(
vÆue
.
	`em±y
() || value=="UNCHANGED")

50  
IPCOLOURSPACE_UNCHANGED
;

52 i‡(
bIsF‹w¨d
)

54 i‡(
vÆue
=="YCbCrtoYYY")

56  
IPCOLOURSPACE_YCbCπoYYY
;

58 i‡(
vÆue
=="YCbCrtoYCrCb")

60  
IPCOLOURSPACE_YCbCπoYCrCb
;

62 i‡(
vÆue
=="RGBtoGBR")

64  
IPCOLOURSPACE_RGBtoGBR
;

69 i‡(
vÆue
=="YCrCbtoYCbCr")

71  
IPCOLOURSPACE_YCbCπoYCrCb
;

73 i‡(
vÆue
=="GBRtoRGB")

75  
IPCOLOURSPACE_RGBtoGBR
;

78  
NUMBER_INPUT_COLOUR_SPACE_CONVERSIONS
;

79 
	}
}

81 
	g°d
::
°rög
 
	$gëLi°OfCﬁourS∑˚C⁄vîts
(c⁄° 
Boﬁ
 
bIsF‹w¨d
)

83 i‡(
bIsF‹w¨d
)

91 
	}
}

96 
Void
 
	$gëTUE¡r›yCodögP¨amëîs
–
TUE¡r›yCodögP¨amëîs
 &
ªsu…
,

97 
TComTU
 &
rTu
,

98 c⁄° 
Comp⁄ítID
 
comp⁄ít
)

104 
TComD©aCU
 *c⁄° 
pcCU
 = 
rTu
.
	`gëCU
();

105 c⁄° 
TComRe˘™gÀ
 & 
¨ó
 = 
rTu
.
	`gëRe˘
(
comp⁄ít
);

106 c⁄° 
UI¡
 
uiAbsP¨tIdx
 = 
rTu
.
	`GëAbsP¨tIdxTU
(
comp⁄ít
);

107 c⁄° 
UI¡
 
log2BlockWidth
 = 
g_aucC⁄vîtToBô
[
¨ó
.
width
] + 2;

108 c⁄° 
UI¡
 
log2BlockHeight
 = 
g_aucC⁄vîtToBô
[
¨ó
.
height
] + 2;

109 c⁄° 
Ch™√lTy≥
 
ch™√lTy≥
 = 
	`toCh™√lTy≥
(
comp⁄ít
);

111 
ªsu…
.
sˇnTy≥
 = 
	`COEFF_SCAN_TYPE
(
pcCU
->
	`gëC€fSˇnIdx
(
uiAbsP¨tIdx
, 
¨ó
.
width
,áªa.
height
, 
comp⁄ít
));

117 
ªsu…
.
widthInGroups
 = 
¨ó
.
width
 >> 
MLS_CG_LOG2_WIDTH
;

118 
ªsu…
.
heightInGroups
 = 
¨ó
.
height
 >> 
MLS_CG_LOG2_HEIGHT
;

124 c⁄° 
UI¡
 
log2WidthInGroups
 = 
g_aucC⁄vîtToBô
[
ªsu…
.
widthInGroups
 * 4];

125 c⁄° 
UI¡
 
log2HeightInGroups
 = 
g_aucC⁄vîtToBô
[
ªsu…
.
heightInGroups
 * 4];

127 
ªsu…
.
sˇn
 = 
g_sˇnOrdî
[ 
SCAN_GROUPED_4x4
 ][Ñesu….
sˇnTy≥
 ][ 
log2BlockWidth
 ][ 
log2BlockHeight
 ];

128 
ªsu…
.
sˇnCG
 = 
g_sˇnOrdî
[ 
SCAN_UNGROUPED
 ][Ñesu….
sˇnTy≥
 ][ 
log2WidthInGroups
 ][ 
log2HeightInGroups
 ];

134 i‡(
pcCU
->
	`gëSli˚
()->
	`gëSPS
()->
	`gëSpsR™geExãnsi⁄
().
	`gëTønsf‹mSkùC⁄ãxtE«bÀdFœg
()

135 && (
pcCU
->
	`gëCUTønsqu™tBy∑ss
(
uiAbsP¨tIdx
Ë|| (pcCU->
	`gëTønsf‹mSkù
(uiAbsP¨tIdx, 
comp⁄ít
) != 0)))

137 
ªsu…
.
fú°Signifiˇn˚M≠C⁄ãxt
 = 
signifiˇn˚M≠C⁄ãxtSëSèπ
[
ch™√lTy≥
][
CONTEXT_TYPE_SINGLE
];

141 i‡((
¨ó
.
width
 =4Ë&& (¨ó.
height
 == 4))

143 
ªsu…
.
fú°Signifiˇn˚M≠C⁄ãxt
 = 
signifiˇn˚M≠C⁄ãxtSëSèπ
[
ch™√lTy≥
][
CONTEXT_TYPE_4x4
];

145 i‡((
¨ó
.
width
 =8Ë&& (¨ó.
height
 == 8))

147 
ªsu…
.
fú°Signifiˇn˚M≠C⁄ãxt
 = 
signifiˇn˚M≠C⁄ãxtSëSèπ
[
ch™√lTy≥
][
CONTEXT_TYPE_8x8
];

148 i‡(
ªsu…
.
sˇnTy≥
 !
SCAN_DIAG
)

150 
ªsu…
.
fú°Signifiˇn˚M≠C⁄ãxt
 +
n⁄Düg⁄ÆSˇn8x8C⁄ãxtOff£t
[
ch™√lTy≥
];

155 
ªsu…
.
fú°Signifiˇn˚M≠C⁄ãxt
 = 
signifiˇn˚M≠C⁄ãxtSëSèπ
[
ch™√lTy≥
][
CONTEXT_TYPE_NxN
];

160 
	}
}

	@TComChromaFormat.h

34 #i‚de‡
__TCOMCHROMAFORMAT__


35 
	#__TCOMCHROMAFORMAT__


	)

37 
	~"Comm⁄Def.h
"

38 
	~"TComRe˘™gÀ.h
"

39 
	~"C⁄ãxtTabÀs.h
"

40 
	~"TComRom.h
"

41 
	~<io°ªam
>

42 
	~<ve˘‹
>

43 
	~<as£π.h
>

44 
	~"Debug.h
"

50 
˛ass
 
	gTComD©aCU
;

53 
ölöe
 
Ch™√lTy≥
 
	$toCh™√lTy≥
 (c⁄° 
Comp⁄ítID
 
id
Ë{  (id==
COMPONENT_Y
)? 
CHANNEL_TYPE_LUMA
 : 
CHANNEL_TYPE_CHROMA
; 
	}
}

54 
ölöe
 
Boﬁ
 
	$isLuma
 (c⁄° 
Comp⁄ítID
 
id
Ë{  (id==
COMPONENT_Y
); 
	}
}

55 
ölöe
 
Boﬁ
 
	$isLuma
 (c⁄° 
Ch™√lTy≥
 
id
Ë{  (id==
CHANNEL_TYPE_LUMA
); 
	}
}

56 
ölöe
 
Boﬁ
 
	$isChroma
 (c⁄° 
Comp⁄ítID
 
id
Ë{  (id!=
COMPONENT_Y
); 
	}
}

57 
ölöe
 
Boﬁ
 
	$isChroma
 (c⁄° 
Ch™√lTy≥
 
id
Ë{  (id!=
CHANNEL_TYPE_LUMA
); 
	}
}

58 
ölöe
 
UI¡
 
	$gëCh™√lTy≥SˇÀX
 (c⁄° 
Ch™√lTy≥
 
id
, c⁄° 
ChromaF‹m©
 
fmt
Ë{  (
	`isLuma
(idË|| (fmt==
CHROMA_444
)Ë? 0 : 1; 
	}
}

59 
ölöe
 
UI¡
 
	$gëCh™√lTy≥SˇÀY
 (c⁄° 
Ch™√lTy≥
 
id
, c⁄° 
ChromaF‹m©
 
fmt
Ë{  (
	`isLuma
(idË|| (fmt!=
CHROMA_420
)Ë? 0 : 1; 
	}
}

60 
ölöe
 
UI¡
 
	$gëComp⁄ítSˇÀX
 (c⁄° 
Comp⁄ítID
 
id
, c⁄° 
ChromaF‹m©
 
fmt
Ë{  
	`gëCh™√lTy≥SˇÀX
(
	`toCh™√lTy≥
(id), fmt); 
	}
}

61 
ölöe
 
UI¡
 
	$gëComp⁄ítSˇÀY
 (c⁄° 
Comp⁄ítID
 
id
, c⁄° 
ChromaF‹m©
 
fmt
Ë{  
	`gëCh™√lTy≥SˇÀY
(
	`toCh™√lTy≥
(id), fmt); 
	}
}

62 
ölöe
 
UI¡
 
	$gëNumbîVÆidCh™√lTy≥s
(c⁄° 
ChromaF‹m©
 
fmt
Ë{  (fmt==
CHROMA_400
Ë? 1 : 
MAX_NUM_CHANNEL_TYPE
; 
	}
}

63 
ölöe
 
UI¡
 
	$gëNumbîVÆidComp⁄íts
 (c⁄° 
ChromaF‹m©
 
fmt
Ë{  (fmt==
CHROMA_400
Ë? 1 : 
MAX_NUM_COMPONENT
; 
	}
}

64 
ölöe
 
Boﬁ
 
	$isChromaE«bÀd
 (c⁄° 
ChromaF‹m©
 
fmt
Ë{  fmt!=
CHROMA_400
; 
	}
}

65 
ölöe
 
Comp⁄ítID
 
	$gëFú°Comp⁄ítOfCh™√l
(c⁄° 
Ch™√lTy≥
 
id
Ë{  (
	`isLuma
(idË? 
COMPONENT_Y
 : 
COMPONENT_Cb
); 
	}
}

67 
I≈utCﬁourS∑˚C⁄vîsi⁄
 
°rögToI≈utCﬁourS∑˚C⁄vît
(c⁄° 
°d
::
°rög
 &
vÆue
, c⁄° 
Boﬁ
 
bIsF‹w¨d
);

68 
	g°d
::
°rög
 
gëLi°OfCﬁourS∑˚C⁄vîts
(c⁄° 
Boﬁ
 
bIsF‹w¨d
);

72 
ölöe
 
UI¡
 
	$gëTŸÆSam∂es
(c⁄° 
UI¡
 
width
, c⁄° UI¡ 
height
, c⁄° 
ChromaF‹m©
 
f‹m©
)

74 c⁄° 
UI¡
 
ßm∂esPîCh™√l
 = 
width
 * 
height
;

76 
f‹m©
)

78 
CHROMA_400
:  
ßm∂esPîCh™√l
; ;

79 
CHROMA_420
:  (
ßm∂esPîCh™√l
 * 3) >> 1; ;

80 
CHROMA_422
:  
ßm∂esPîCh™√l
 * 2; ;

81 
CHROMA_444
:  
ßm∂esPîCh™√l
 * 3; ;

83 
°d
::
˚º
 << "ERROR: Uƒecogni£d chrom®f‹m© i¿gëTŸÆSam∂es()" << std::
ídl
;

84 
	`exô
(1);

88  
MAX_UINT
;

89 
	}
}

93 
ölöe
 
UI¡
 
	$gëTŸÆBôs
(c⁄° 
UI¡
 
width
, c⁄° UI¡ 
height
, c⁄° 
ChromaF‹m©
 
f‹m©
, c⁄° 
I¡
 
bôDïths
[
MAX_NUM_CHANNEL_TYPE
])

95 c⁄° 
UI¡
 
ßm∂esPîCh™√l
 = 
width
 * 
height
;

97 
f‹m©
)

99 
CHROMA_400
:  
ßm∂esPîCh™√l
 * 
bôDïths
[
CHANNEL_TYPE_LUMA
]; ;

100 
CHROMA_420
:  (
ßm∂esPîCh™√l
 * (
bôDïths
[
CHANNEL_TYPE_LUMA
]*2 + bôDïths[
CHANNEL_TYPE_CHROMA
]) ) >> 1; ;

101 
CHROMA_422
:  
ßm∂esPîCh™√l
 * (
bôDïths
[
CHANNEL_TYPE_LUMA
] + bôDïths[
CHANNEL_TYPE_CHROMA
]); ;

102 
CHROMA_444
:  
ßm∂esPîCh™√l
 * (
bôDïths
[
CHANNEL_TYPE_LUMA
] + 2*bôDïths[
CHANNEL_TYPE_CHROMA
]); ;

104 
°d
::
˚º
 << "ERROR: Uƒecogni£d chrom®f‹m© i¿gëTŸÆSam∂es()" << std::
ídl
;

105 
	`exô
(1);

109  
MAX_UINT
;

110 
	}
}

119 
ölöe
 
Boﬁ
 
	$íabÀ4ChromaPUsInI¡øNxNCU
(c⁄° 
ChromaF‹m©
 
chFmt
)

121  (
chFmt
 =
CHROMA_444
);

122 
	}
}

129 
ölöe
 
UI¡


130 
	$gëChromasC‹ª•⁄dögPULumaIdx
(c⁄° 
UI¡
 
lumaZOrdîIdxInCtu
,

131 c⁄° 
ChromaF‹m©
 
chFmt
,

132 c⁄° 
I¡
 
∑πsPîMöCU


135  
	`íabÀ4ChromaPUsInI¡øNxNCU
(
chFmt
Ë? 
lumaZOrdîIdxInCtu
 :ÜumaZOrdîIdxInCtu & (~(
∑πsPîMöCU
-1));

136 
	}
}

142 
ölöe
 
UI¡
 
	$gëMaxCUDïthOff£t
(c⁄° 
ChromaF‹m©
 
chFmt
, c⁄° 
UI¡
 
quadåìTULog2MöSize
)

144  (
chFmt
==
CHROMA_422
 && 
quadåìTULog2MöSize
>2) ? 1 : 0;

145 
	}
}

151 
ölöe
 
Boﬁ
 
	$fûãrI¡øRe„ªn˚Sam∂es
 (c⁄° 
Ch™√lTy≥
 
chTy≥
, c⁄° 
ChromaF‹m©
 
chFmt
, c⁄° 
Boﬁ
 
öåaRe„ªn˚SmoŸhögDißbÀd
)

153  (!
öåaRe„ªn˚SmoŸhögDißbÀd
Ë&& (
	`isLuma
(
chTy≥
Ë|| (
chFmt
 =
CHROMA_444
));

154 
	}
}

161 
ölöe
 
Boﬁ
 
	$TUCompRe˘HasAssocüãdTønsf‹mSkùFœg
(c⁄° 
TComRe˘™gÀ
 &
ª˘Sam∂es
, c⁄° 
UI¡
 
å™sf‹mSkùLog2MaxSize
)

163  (
ª˘Sam∂es
.
width
 <(1<<
å™sf‹mSkùLog2MaxSize
));

164 
	}
}

169 
ölöe
 
I¡
 
	$gëTønsf‹mShi·
(c⁄° 
I¡
 
ch™√lBôDïth
, c⁄° 
UI¡
 
uiLog2TrSize
, c⁄° I¡ 
maxLog2TrDy«micR™ge
)

171  
maxLog2TrDy«micR™ge
 - 
ch™√lBôDïth
 - 
uiLog2TrSize
;

172 
	}
}

177 
ölöe
 
I¡
 
	$gëSˇÀdChromaQP
(
I¡
 
unsˇÀdChromaQP
, c⁄° 
ChromaF‹m©
 
chFmt
)

179  
g_aucChromaSˇÀ
[
chFmt
][
	`Clù3
(0, (
chromaQPM≠pögTabÀSize
 - 1), 
unsˇÀdChromaQP
)];

180 
	}
}

187 
ölöe
 
I¡
 
	$gëSˇlögLi°Ty≥
(c⁄° 
PªdMode
 
¥edMode
, c⁄° 
Comp⁄ítID
 
compID
)

189  ((
¥edMode
 !
MODE_INTER
Ë? 0 : 
MAX_NUM_COMPONENT
Ë+ 
compID
;

190 
	}
}

202 c⁄° 
UI¡
 
	gsignifiˇn˚M≠C⁄ãxtSèπTabÀ
[
MAX_NUM_CHANNEL_TYPE
] = {
FIRST_SIG_FLAG_CTX_LUMA
, 
FIRST_SIG_FLAG_CTX_CHROMA
};

203 c⁄° 
UI¡
 
	gc⁄ãxtSëSèπTabÀ
 [
MAX_NUM_CHANNEL_TYPE
] = {
FIRST_CTX_SET_LUMA
, 
FIRST_CTX_SET_CHROMA
 };

204 c⁄° 
UI¡
 
	gCBFC⁄ãxtSèπTabÀ
 [
MAX_NUM_CHANNEL_TYPE
] = {
FIRST_CBF_CTX_LUMA
, 
FIRST_CBF_CTX_CHROMA
 };

211 
ölöe
 
Void
 
	$gëLa°Signifiˇ¡C⁄ãxtP¨amëîs
 (c⁄° 
Comp⁄ítID
 
comp⁄ít
,

212 c⁄° 
I¡
 
width
,

213 c⁄° 
I¡
 
height
,

214 
I¡
 &
ªsu…_off£tX
,

215 
I¡
 &
ªsu…_off£tY
,

216 
I¡
 &
ªsu…_shi·X
,

217 
I¡
 &
ªsu…_shi·Y
)

219 c⁄° 
UI¡
 
c⁄vîãdWidth
 = 
g_aucC⁄vîtToBô
[
width
];

220 c⁄° 
UI¡
 
c⁄vîãdHeight
 = 
g_aucC⁄vîtToBô
[
height
];

222 
ªsu…_off£tX
 = (
	`isChroma
(
comp⁄ít
)Ë? 0 : ((
c⁄vîãdWidth
 * 3) + ((convertedWidth + 1) >> 2));

223 
ªsu…_off£tY
 = (
	`isChroma
(
comp⁄ít
)Ë? 0 : ((
c⁄vîãdHeight
 * 3) + ((convertedHeight + 1) >> 2));

224 
ªsu…_shi·X
 = (
	`isChroma
(
comp⁄ít
)Ë? 
c⁄vîãdWidth
 : ((convertedWidth + 3) >> 2);

225 
ªsu…_shi·Y
 = (
	`isChroma
(
comp⁄ít
)Ë? 
c⁄vîãdHeight
 : ((convertedHeight + 3) >> 2);

226 
	}
}

233 
ölöe
 
UI¡
 
	$gëSignifiˇn˚M≠C⁄ãxtOff£t
 (c⁄° 
Comp⁄ítID
 
comp⁄ít
)

235  
signifiˇn˚M≠C⁄ãxtSèπTabÀ
[
	`toCh™√lTy≥
(
comp⁄ít
)];

236 
	}
}

243 
ölöe
 
UI¡
 
	$gëC⁄ãxtSëIndex
 (c⁄° 
Comp⁄ítID
 
comp⁄ít
,

244 c⁄° 
UI¡
 
sub£tIndex
,

245 c⁄° 
Boﬁ
 
foundAC€fficõ¡Gª©îTh™1
)

247 c⁄° 
UI¡
 
nŸFú°Sub£tOff£t
 = (
	`isLuma
(
comp⁄ít
Ë&& (
sub£tIndex
 > 0)) ? 2 : 0;

248 c⁄° 
UI¡
 
foundAGª©îTh™1Off£t
 = 
foundAC€fficõ¡Gª©îTh™1
 ? 1 : 0;

250  
c⁄ãxtSëSèπTabÀ
[
	`toCh™√lTy≥
(
comp⁄ít
)] + 
nŸFú°Sub£tOff£t
 + 
foundAGª©îTh™1Off£t
;

251 
	}
}

258 
ölöe
 
UI¡
 
	$gëCBFC⁄ãxtOff£t
 (c⁄° 
Comp⁄ítID
 
comp⁄ít
)

260  
CBFC⁄ãxtSèπTabÀ
[
	`toCh™√lTy≥
(
comp⁄ít
)];

261 
	}
}

268 
Void
 
gëTUE¡r›yCodögP¨amëîs
–
TUE¡r›yCodögP¨amëîs
 &
ªsu…
,

269 
˛ass
 
TComTU
 &
rTu
,

270 c⁄° 
Comp⁄ítID
 
comp⁄ít
);

	@TComCodingStatistics.h

34 #i‚de‡
__TCOMCODINGSTATISTICS__


35 
	#__TCOMCODINGSTATISTICS__


	)

37 
	~"Comm⁄Def.h
"

38 
	~<°dio.h
>

39 
	~<°rög
>

40 
	~<m≠
>

41 
	~<m©h.h
>

42 
	~"TComChromaF‹m©.h
"

44 c⁄° 
I¡64
 
	gTCOMCODINGSTATISTICS_ENTROPYSCALE
=32768;

47 
	eTComCodögSèti°icsTy≥


49 
	mSTATS__NAL_UNIT_TOTAL_BODY
,

50 
	mSTATS__NAL_UNIT_PACKING
,

51 
	mSTATS__EMULATION_PREVENTION_3_BYTES
,

52 
	mSTATS__NAL_UNIT_HEADER_BITS
,

53 
	mSTATS__CABAC_INITIALISATION
,

54 
	mSTATS__CABAC_BITS__TQ_BYPASS_FLAG
,

55 
	mSTATS__CABAC_BITS__SKIP_FLAG
,

56 
	mSTATS__CABAC_BITS__MERGE_FLAG
,

57 
	mSTATS__CABAC_BITS__MERGE_INDEX
,

58 
	mSTATS__CABAC_BITS__MVP_IDX
,

59 
	mSTATS__CABAC_BITS__SPLIT_FLAG
,

60 
	mSTATS__CABAC_BITS__PART_SIZE
,

61 
	mSTATS__CABAC_BITS__PRED_MODE
,

62 
	mSTATS__CABAC_BITS__INTRA_DIR_ANG
,

63 
	mSTATS__CABAC_BITS__INTER_DIR
,

64 
	mSTATS__CABAC_BITS__REF_FRM_IDX
,

65 
	mSTATS__CABAC_BITS__MVD
,

66 
	mSTATS__CABAC_BITS__MVD_EP
,

67 
	mSTATS__CABAC_BITS__TRANSFORM_SUBDIV_FLAG
,

68 
	mSTATS__CABAC_BITS__QT_ROOT_CBF
,

69 
	mSTATS__CABAC_BITS__DELTA_QP_EP
,

70 
	mSTATS__CABAC_BITS__CHROMA_QP_ADJUSTMENT
,

71 
	mSTATS__CABAC_BITS__QT_CBF
,

72 
	mSTATS__CABAC_BITS__CROSS_COMPONENT_PREDICTION
,

73 
	mSTATS__CABAC_BITS__TRANSFORM_SKIP_FLAGS
,

75 
	mSTATS__CABAC_BITS__LAST_SIG_X_Y
,

76 
	mSTATS__CABAC_BITS__SIG_COEFF_GROUP_FLAG
,

77 
	mSTATS__CABAC_BITS__SIG_COEFF_MAP_FLAG
,

78 
	mSTATS__CABAC_BITS__GT1_FLAG
,

79 
	mSTATS__CABAC_BITS__GT2_FLAG
,

80 
	mSTATS__CABAC_BITS__SIGN_BIT
,

81 
	mSTATS__CABAC_BITS__ESCAPE_BITS
,

83 
	mSTATS__CABAC_BITS__SAO
,

84 
	mSTATS__CABAC_TRM_BITS
,

85 
	mSTATS__CABAC_FIXED_BITS
,

86 
	mSTATS__CABAC_PCM_ALIGN_BITS
,

87 
	mSTATS__CABAC_PCM_CODE_BITS
,

88 
	mSTATS__BYTE_ALIGNMENT_BITS
,

89 
	mSTATS__TRAILING_BITS
,

90 
	mSTATS__EXPLICIT_RDPCM_BITS
,

91 
	mSTATS__CABAC_EP_BIT_ALIGNMENT
,

92 
	mSTATS__CABAC_BITS__ALIGNED_SIGN_BIT
,

93 
	mSTATS__CABAC_BITS__ALIGNED_ESCAPE_BITS
,

94 
	mSTATS__NUM_STATS


97 
ölöe
 c⁄° 
TCh¨
* 
	$gëName
(
TComCodögSèti°icsTy≥
 
«me
)

99 c⁄° 
TCh¨
 *
°©Names
[]=

145 
	`as£π
(
STATS__NUM_STATS
 =(
°©Names
)/(
TCh¨
 *Ë&& 
«me
 < STATS__NUM_STATS);

146  
°©Names
[
«me
];

147 
	}
}

149 
ölöe
 
Boﬁ
 
	$isAlig√dBös
(
TComCodögSèti°icsTy≥
 
°©T
Ë{  sètT==
STATS__CABAC_BITS__ALIGNED_SIGN_BIT
 || sètT==
STATS__CABAC_BITS__ALIGNED_ESCAPE_BITS
; 
	}
}

151 c⁄° 
UI¡
 
	gCODING_STATS_NUM_WIDTHS
=7;

152 c⁄° 
UI¡
 
	gCODING_STATS_NUM_SUBCLASSES
=
CODING_STATS_NUM_WIDTHS
*(1+
MAX_NUM_COMPONENT
+
MAX_NUM_CHANNEL_TYPE
);

154 ˛as†
	cTComCodögSèti°icsCœssTy≥


156 
	mpublic
:

158 
	$TComCodögSèti°icsCœssTy≥
(c⁄° 
TComCodögSèti°icsTy≥
 
t
)

159 : 
	`ty≥
(
t
), 
	$subCœss
(0)

161 
	$TComCodögSèti°icsCœssTy≥
(c⁄° 
TComCodögSèti°icsTy≥
 
t
, c⁄° 
UI¡
 
log2w
 )

162 : 
	`ty≥
(
t
), 
	$subCœss
(
log2w
)

163 { 
	}
}

164 
	$TComCodögSèti°icsCœssTy≥
(c⁄° 
TComCodögSèti°icsTy≥
 
t
, c⁄° 
I¡
 
log2w
 )

165 : 
	`ty≥
(
t
), 
	$subCœss
(
log2w
)

166 { 
	}
}

167 
	$TComCodögSèti°icsCœssTy≥
(c⁄° 
TComCodögSèti°icsTy≥
 
t
, c⁄° 
Comp⁄ítID
 
cid
 )

168 : 
	`ty≥
(
t
), 
	`subCœss
((
cid
+1)*
CODING_STATS_NUM_WIDTHS
)

169 { 
	}
}

170 
	$TComCodögSèti°icsCœssTy≥
(c⁄° 
TComCodögSèti°icsTy≥
 
t
, c⁄° 
Ch™√lTy≥
 
chid
 )

171 : 
	`ty≥
(
t
), 
	`subCœss
((
chid
+
MAX_NUM_COMPONENT
+1)*
CODING_STATS_NUM_WIDTHS
)

172 { 
	}
}

173 
	$TComCodögSèti°icsCœssTy≥
(c⁄° 
TComCodögSèti°icsTy≥
 
t
, c⁄° 
UI¡
 
log2w
, c⁄° 
Comp⁄ítID
 
cid
 )

174 : 
	`ty≥
(
t
), 
	`subCœss
((
cid
+1)*
CODING_STATS_NUM_WIDTHS
 + 
log2w
)

175 { 
	}
}

176 
	$TComCodögSèti°icsCœssTy≥
(c⁄° 
TComCodögSèti°icsTy≥
 
t
, c⁄° 
UI¡
 
log2w
, c⁄° 
Ch™√lTy≥
 
chid
 )

177 : 
	`ty≥
(
t
), 
	`subCœss
((
chid
+
MAX_NUM_COMPONENT
+1)*
CODING_STATS_NUM_WIDTHS
 + 
log2w
)

178 { 
	}
}

180 
UI¡
 
	$GëSubCœssWidth
(c⁄° 
UI¡
 
subCœss
)

182  
subCœss
%
CODING_STATS_NUM_WIDTHS
;

183 
	}
}

185 c⁄° 
TCh¨
 *
	$GëSubCœssSåög
(c⁄° 
UI¡
 
subCœss
)

187 
	`as£π
 (
subCœss
<
CODING_STATS_NUM_SUBCLASSES
);

188 c⁄° 
TCh¨
 *
°rögs
[1+
MAX_NUM_COMPONENT
+
MAX_NUM_CHANNEL_TYPE
]={"-", "Y", "Cb", "Cr", "Luma", "Chroma"};

189  
°rögs
[
subCœss
/
CODING_STATS_NUM_WIDTHS
];

190 
	}
}

192 
TComCodögSèti°icsTy≥
 
	gty≥
;

193 
UI¡
 
	gsubCœss
;

198 ˛as†
	cTComCodögSèti°ics


200 
	mpublic
:

203 
	sSètLogVÆue


205 
UI¡
 
vÆues
[512+1];

206 
SètLogVÆue
()

208 c⁄° 
DoubÀ
 
	mes
=DoubÀ(
TCOMCODINGSTATISTICS_ENTROPYSCALE
);

209 
	mvÆues
[0]=0;

210 
UI¡
 
	mi
=1; i<(
	mvÆues
)/(
	mUI¡
); i++)

212 
	mvÆues
[
i
]=
UI¡
–
log
(
DoubÀ
(i))*
es
/log(2.0) );

217 
	sSSèt


219 
SSèt
(Ë: 
bôs
(0), 
cou¡
(0), 
sum
(0) { }

220 
I¡64
 
	gbôs
;

221 
I¡64
 
	gcou¡
;

222 
I¡64
 
	gsum
;

223 
Void
 
˛ór
(Ë{ 
	gbôs
=0; 
	gcou¡
=0; 
	gsum
=0; }

225 
	gSSèt
 &
	g›î©‹
+=(c⁄° 
SSèt
 &
§c
)

226 { 
bôs
+=
§c
.bôs; 
	gcou¡
+=§c.
cou¡
; 
	gsum
+=§c.
sum
;  *
	gthis
; }

229 ˛as†
	cTComCodögSèti°icsD©a


231 
	g¥iv©e
:

232 
SSèt
 
°©i°ics
[
STATS__NUM_STATS
+1][
CODING_STATS_NUM_SUBCLASSES
];

233 
SSèt
 
	g°©i°ics_ï
[
STATS__NUM_STATS
+1][
CODING_STATS_NUM_SUBCLASSES
 ];

234 
	g°d
::
m≠
<
°d
::
°rög
, 
	gSSèt
> 
	gm≠pögs_ï
;

235 
‰õnd
 
˛ass
 
	gTComCodögSèti°ics
;

238 
	g¥iv©e
:

240 
TComCodögSèti°icsD©a
 
d©a
;

242 
	$TComCodögSèti°ics
(Ë: 
	$d©a
()

243 { 
	}
}

245 
Void
 
	$OuçutLöe
(c⁄° 
TCh¨
 *
pName
, c⁄° TCh¨ 
£p
, 
UI¡
 
width
, c⁄° TCh¨ *
pSubCœssSå
, c⁄° 
SSèt
 &
sCABAC
, c⁄° SSèà&
sEP
)

247 i‡(
width
==0)

249 
	`OuçutLöe
(
pName
, 
£p
, "-", 
pSubCœssSå
, 
sCABAC
, 
sEP
);

253 
	`¥ötf
("%c%-45s%c %6d %6s %12lld %12lld %12lld %12lld %12lld %12lld %12lld (%12lld)%c\n",

254 
£p
=='~'?'[':' ', 
pName
, sï, 1<<
width
, 
pSubCœssSå
,

255 
sCABAC
.
cou¡
, sCABAC.
sum
, sCABAC.
bôs
, 
sEP
.cou¡, sEP.sum, sEP.bôs, sCABAC.bôs+sEP.bôs, (sCABAC.bôs+sEP.bôs)/8, 
£p
=='~'?']':' ');

257 
	}
}

258 
Void
 
	$OuçutLöe
(c⁄° 
TCh¨
 *
pName
, c⁄° TCh¨ 
£p
, c⁄° TCh¨ *
pWidthSåög
, c⁄° TCh¨ *
pSubCœssSå
, c⁄° 
SSèt
 &
sCABAC
, c⁄° SSèà&
sEP
)

260 
	`¥ötf
("%c%-45s%c %6s %6s %12lld %12lld %12lld %12lld %12lld %12lld %12lld (%12lld)%c\n",

261 
£p
=='~'?'[':' ', 
pName
, sï, 
pWidthSåög
, 
pSubCœssSå
,

262 
sCABAC
.
cou¡
, sCABAC.
sum
, sCABAC.
bôs
, 
sEP
.cou¡, sEP.sum, sEP.bôs, sCABAC.bôs+sEP.bôs, (sCABAC.bôs+sEP.bôs)/8, 
£p
=='~'?']':' ');

263 
	}
}

264 
Void
 
	$OuçutLöe
(c⁄° 
TCh¨
 *
pName
, c⁄° TCh¨ 
£p
, c⁄° TCh¨ *
pWidthSåög
, c⁄° TCh¨ *
pSubCœssSå
, c⁄° 
SSèt
 &
sEP
)

266 
	`¥ötf
("%c%-45s%c %6s %6s %12s %12s %12s %12lld %12lld %12lld %12lld (%12lld)%c\n",

267 
£p
=='~'?'[':' ', 
pName
, sï, 
pWidthSåög
, 
pSubCœssSå
,

268 "", "", "", 
sEP
.
cou¡
, sEP.
sum
, sEP.
bôs
, sEP.bôs, (sEP.bôs)/8, 
£p
=='~'?']':' ');

269 
	}
}

271 
Void
 
	$OuçutDashedLöe
(c⁄° 
TCh¨
 *
pText
)

273 
	`¥ötf
("--%s",
pText
);

274 
UI¡
 
tŸ
=0;

275 ;
pText
[
tŸ
]!=0;Åot++);

277 
tŸ
+=2;

278 ; 
tŸ
<168;Åot++)

280 
	`¥ötf
("-");

282 
	`¥ötf
("\n");

283 
	}
}

285 ~
	$TComCodögSèti°ics
()

287 c⁄° 
I¡64
 
es
=
TCOMCODINGSTATISTICS_ENTROPYSCALE
;

289 
I¡64
 
¸
=0;

291 
I¡64
 
tŸÆCABACbôs
=0, 
roundedCABACbôs
=0;

292 
I¡
 
i
=
STATS__NAL_UNIT_PACKING
; i<
STATS__NUM_STATS
; i++)

294 
UI¡
 
c
=0; c<
CODING_STATS_NUM_SUBCLASSES
; c++)

296 
tŸÆCABACbôs
+=
d©a
.
°©i°ics
[
i
][
c
].
bôs
;

297 
roundedCABACbôs
+=
d©a
.
°©i°ics
[
i
][
c
].
bôs
/
es
;

300 
I¡64
 
ªmaödî
=
tŸÆCABACbôs
 - 
roundedCABACbôs
*
es
;

301 
¸
=(
ªmaödî
+
es
/2)/es;

304 
	`¥ötf
("NŸê%†wû»bêex˛uded fromÅhêtŸÆá†ô should bêthêsum o‡Æ»thêŸhîÉ¡rõ†”x˚± f‹ %s)\n", 
	`gëName
(
STATS__NAL_UNIT_TOTAL_BODY
), gëName(
STATS__NAL_UNIT_PACKING
));

305 
	`¥ötf
(" %-45s- Width Type CABAC Count CABAC Sum CABAC bits EP Count EP Sum EP bits Total bits ( Total bytes)\n", "Decoder statistics");

307 
	`OuçutDashedLöe
("");

308 
SSèt
 
ˇbacTŸÆBôs
, 
ïTŸÆBôs
;

309 
SSèt
 
°©TŸÆs_ˇbac
[
CODING_STATS_NUM_SUBCLASSES
];

310 
SSèt
 
°©TŸÆs_ï
[
CODING_STATS_NUM_SUBCLASSES
];

312 
I¡
 
i
=0; i<
STATS__NUM_STATS
; i++)

314 
SSèt
 
ˇbacSubTŸÆ
, 
ïSubTŸÆ
;

315 
Boﬁ
 
bHadCœssifõdE¡ry
=
Ál£
;

316 c⁄° 
TCh¨
 *
pName
=
	`gëName
(
	`TComCodögSèti°icsTy≥
(
i
));

318 
UI¡
 
c
=0; c<
CODING_STATS_NUM_SUBCLASSES
; c++)

320 
SSèt
 &
sCABAC‹ig
=
d©a
.
°©i°ics
[
i
][
c
];

321 
SSèt
 &
sEP
=
d©a
.
°©i°ics_ï
[
i
][
c
];

323 i‡(
sCABAC‹ig
.
bôs
==0 && 
sEP
.bits==0)

328 
SSèt
 
sCABAC
;

330 
I¡64
 
thisCABACbôs
=
sCABAC‹ig
.
bôs
/
es
;

331 i‡(
i
==
STATS__CABAC_INITIALISATION
 && 
sCABAC‹ig
.
bôs
!=0)

333 
thisCABACbôs
+=
¸
;

334 
¸
=0;

336 
sCABAC
.
bôs
=
thisCABACbôs
;

337 
sCABAC
.
cou¡
=
sCABAC‹ig
.count;

338 
sCABAC
.
sum
=
sCABAC‹ig
.sum;

340 
UI¡
 
width
=
TComCodögSèti°icsCœssTy≥
::
	`GëSubCœssWidth
(
c
);

341 
	`OuçutLöe
(
pName
, ':', 
width
, 
TComCodögSèti°icsCœssTy≥
::
	`GëSubCœssSåög
(
c
), 
sCABAC
, 
sEP
);

342 
ˇbacSubTŸÆ
+=
sCABAC
;

343 
ïSubTŸÆ
+=
sEP
;

344 i‡(
i
!=
STATS__NAL_UNIT_TOTAL_BODY
)

346 
ˇbacTŸÆBôs
+=
sCABAC
;

347 
ïTŸÆBôs
+=
sEP
;

348 
°©TŸÆs_ˇbac
[
c
]+=
sCABAC
;

349 
°©TŸÆs_ï
[
c
]+=
sEP
;

351 
bHadCœssifõdE¡ry
=bHadCœssifõdE¡ry||(
c
!=0);

353 i‡(
bHadCœssifõdE¡ry
)

355 
	`OuçutLöe
(
pName
, '~', "~~ST~~", "~~ST~~", 
ˇbacSubTŸÆ
, 
ïSubTŸÆ
);

357 i‡(
i
==
STATS__NAL_UNIT_TOTAL_BODY
)

359 
	`OuçutDashedLöe
("");

362 
	`OuçutDashedLöe
("");

363 
	`OuçutLöe
("CABAC Sub-tŸÆ", '~', "~~ST~~", "~~ST~~", 
ˇbacTŸÆBôs
, 
ïTŸÆBôs
);

365 
	`OuçutDashedLöe
("CAVLC HEADER BITS");

366 
SSèt
 
ˇvlcTŸÆBôs
;

367 
°d
::
m≠
<°d::
°rög
, 
SSèt
>::
ôî©‹
 
ô
=
d©a
.
m≠pögs_ï
.
	`begö
(); it!=d©a.m≠pögs_ï.
	`íd
(); it++)

369 
SSèt
 
s
=
ô
->
£c⁄d
;

370 
ˇvlcTŸÆBôs
+=
s
;

371 
	`OuçutLöe
(
ô
->
fú°
.
	`c_°r
(), ':', "-", "-", 
s
);

374 
	`OuçutDashedLöe
("");

375 
	`OuçutLöe
("CAVLC Hódî Sub-tŸÆ", '~', "~~ST~~", "~~ST~~", 
ˇvlcTŸÆBôs
);

378 
	`OuçutDashedLöe
("CABAC Break down by size");

379 
UI¡
 
s
=0; s<
CODING_STATS_NUM_WIDTHS
; s++)

381 
SSèt
 
subTŸÆCabac
, 
subTŸÆEP
;

382 
UI¡
 
c
=0; c<
CODING_STATS_NUM_SUBCLASSES
; c+=
CODING_STATS_NUM_WIDTHS
)

384 
subTŸÆCabac
+=
°©TŸÆs_ˇbac
[
c
+
s
];

385 
subTŸÆEP
+=
°©TŸÆs_ï
[
c
+
s
];

387 i‡(
subTŸÆCabac
.
bôs
!=0 || 
subTŸÆEP
.bits!=0)

389 
	`OuçutLöe
("CABAC by sizêSub-tŸÆ", '=', 
s
, "AŒ", 
subTŸÆCabac
, 
subTŸÆEP
);

392 
	`OuçutDashedLöe
("Break down by component/ChannelÅype");

393 
UI¡
 
c
=0; c<
CODING_STATS_NUM_SUBCLASSES
; c+=
CODING_STATS_NUM_WIDTHS
)

395 
SSèt
 
subTŸÆCabac
, 
subTŸÆEP
;

396 
UI¡
 
s
=0; s<
CODING_STATS_NUM_WIDTHS
; s++)

398 
subTŸÆCabac
+=
°©TŸÆs_ˇbac
[
c
+
s
];

399 
subTŸÆEP
+=
°©TŸÆs_ï
[
c
+
s
];

401 i‡(
subTŸÆCabac
.
bôs
!=0 || 
subTŸÆEP
.bits!=0)

403 
	`OuçutLöe
("CABAC byÅy≥ Sub-tŸÆ", '=', "-", 
TComCodögSèti°icsCœssTy≥
::
	`GëSubCœssSåög
(
c
), 
subTŸÆCabac
, 
subTŸÆEP
);

406 
	`OuçutDashedLöe
("Break down by sizeánd component/ChannelÅype");

407 
UI¡
 
c
=0; c<
CODING_STATS_NUM_SUBCLASSES
; c+=
CODING_STATS_NUM_WIDTHS
)

409 
UI¡
 
s
=0; s<
CODING_STATS_NUM_WIDTHS
; s++)

411 
SSèt
 
subTŸÆCabac
, 
subTŸÆEP
;

412 
subTŸÆCabac
+=
°©TŸÆs_ˇbac
[
c
+
s
];

413 
subTŸÆEP
+=
°©TŸÆs_ï
[
c
+
s
];

414 i‡(
subTŸÆCabac
.
bôs
!=0 || 
subTŸÆEP
.bits!=0)

416 
	`OuçutLöe
("CABAC by sizê™dÅy≥ Sub-tŸÆ", '=', 
s
, 
TComCodögSèti°icsCœssTy≥
::
	`GëSubCœssSåög
(
c
), 
subTŸÆCabac
, 
subTŸÆEP
);

421 
	`OuçutDashedLöe
("");

422 
	`OuçutLöe
("CABAC Sub-tŸÆ", '~', "~~ST~~", "~~ST~~", 
ˇbacTŸÆBôs
, 
ïTŸÆBôs
);

423 
	`OuçutLöe
("CAVLC Hódî Sub-tŸÆ", '~', "~~ST~~", "~~ST~~", 
ˇvlcTŸÆBôs
);

424 
	`OuçutDashedLöe
("GRAND TOTAL");

425 
ïTŸÆBôs
+=
ˇvlcTŸÆBôs
;

426 
	`OuçutLöe
("TOTAL", '~', "~~GT~~", "~~GT~~", 
ˇbacTŸÆBôs
, 
ïTŸÆBôs
);

427 
	}
}

430 
	gpublic
:

431 
TComCodögSèti°ics
& 
	$GëSögÀt⁄In°™˚
()

433 
TComCodögSèti°ics
 
ö°
;

434  
ö°
;

435 
	}
}

437 c⁄° 
	gTComCodögSèti°icsD©a
 &
	$GëSèti°ics
(Ë{  
	`GëSögÀt⁄In°™˚
().
d©a
; 
	}
}

438 
Void
 
	$SëSèti°ics
(c⁄° 
TComCodögSèti°icsD©a
 &
§c
Ë{ 
	`GëSögÀt⁄In°™˚
().
d©a
=§c; 
	}
}

440 
	gSSèt
 &
	$GëSèti°icEP
(c⁄° 
TComCodögSèti°icsCœssTy≥
 &
°©
Ë{  
	`GëSögÀt⁄In°™˚
().
d©a
.
°©i°ics_ï
[°©.
ty≥
][°©.
subCœss
]; 
	}
}

442 
	gSSèt
 &
	$GëSèti°icEP
(c⁄° 
°d
::
°rög
 &
°r
Ë{  
	`GëSögÀt⁄In°™˚
().
d©a
.
m≠pögs_ï
[°r]; 
	}
}

444 
	gSSèt
 &
	$GëSèti°icEP
(c⁄° 
TCh¨
 *
pKey
Ë{ 
	`GëSèti°icEP
(
°d
::
	`°rög
’Key)); 
	}
}

446 
Void
 
	$In¸emítSèti°icEP
(c⁄° 
TComCodögSèti°icsCœssTy≥
 &
°©
, c⁄° 
I¡
 
numBôs
, c⁄° I¡ 
vÆue
)

448 
SSèt
 &
s
=
	`GëSèti°icEP
(
°©
);

449 
s
.
bôs
+=
numBôs
;

450 
s
.
cou¡
++;

451 
s
.
sum
+=
vÆue
;

452 
	}
}

454 
Void
 
	$In¸emítSèti°icEP
(c⁄° 
°d
::
°rög
 &
°r
, c⁄° 
I¡
 
numBôs
, c⁄° I¡ 
vÆue
)

456 
SSèt
 &
s
=
	`GëSèti°icEP
(
°r
);

457 
s
.
bôs
+=
numBôs
;

458 
s
.
cou¡
++;

459 
s
.
sum
+=
vÆue
;

460 
	}
}

462 
Void
 
	$In¸emítSèti°icEP
(c⁄° 
TCh¨
 *
pKey
, c⁄° 
I¡
 
numBôs
, c⁄° I¡ 
vÆue
)

464 
SSèt
 &
s
=
	`GëSèti°icEP
(
pKey
);

465 
s
.
bôs
+=
numBôs
;

466 
s
.
cou¡
++;

467 
s
.
sum
+=
vÆue
;

468 
	}
}

470 
SètLogVÆue
 
	gvÆues
;

472 
Void
 
	$Upd©eCABACSèt
(c⁄° 
TComCodögSèti°icsCœssTy≥
 &
°©
, 
UI¡
 
uiR™geBef‹e
, UI¡ 
uiR™geA·î
, 
I¡
 
vÆ
)

474 
TComCodögSèti°ics
 &
ö°
=
	`GëSögÀt⁄In°™˚
();

478 
SSèt
 &
s
=
ö°
.
d©a
.
°©i°ics
[
°©
.
ty≥
][°©.
subCœss
];

479 
s
.
bôs
+=
ö°
.
vÆues
.vÆues[
uiR™geBef‹e
]-ö°.vÆues.vÆues[
uiR™geA·î
];

480 
s
.
cou¡
++;

481 
s
.
sum
+=
vÆ
;

482 
	}
}

	@TComDataCU.cpp

39 
	~"TComD©aCU.h
"

40 
	~"TComTU.h
"

41 
	~"TComPic.h
"

50 
	gTComD©aCU
::
	$TComD©aCU
()

52 
m_pcPic
 = 
NULL
;

53 
m_pcSli˚
 = 
NULL
;

54 
m_puhDïth
 = 
NULL
;

56 
m_skùFœg
 = 
NULL
;

58 
m_≥P¨tSize
 = 
NULL
;

59 
m_≥PªdMode
 = 
NULL
;

60 
m_CUTønsqu™tBy∑ss
 = 
NULL
;

61 
m_puhWidth
 = 
NULL
;

62 
m_puhHeight
 = 
NULL
;

63 
m_phQP
 = 
NULL
;

64 
m_ChromaQpAdj
 = 
NULL
;

65 
m_pbMîgeFœg
 = 
NULL
;

66 
m_puhMîgeIndex
 = 
NULL
;

67 
UI¡
 
i
=0; i<
MAX_NUM_CHANNEL_TYPE
; i++)

69 
m_puhI¡øDú
[
i
] = 
NULL
;

71 
m_puhI¡îDú
 = 
NULL
;

72 
m_puhTrIdx
 = 
NULL
;

74 
UI¡
 
comp
=0; comp<
MAX_NUM_COMPONENT
; comp++)

76 
m_puhCbf
[
comp
] = 
NULL
;

77 
m_¸ossComp⁄ítPªdi˘i⁄AÕha
[
comp
] = 
NULL
;

78 
m_puhTønsf‹mSkù
[
comp
] = 
NULL
;

79 
m_pcTrC€ff
[
comp
] = 
NULL
;

80 #i‡
ADAPTIVE_QP_SELECTION


81 
m_pcAæC€ff
[
comp
] = 
NULL
;

83 
m_pcIPCMSam∂e
[
comp
] = 
NULL
;

84 
m_ex∂icôRdpcmMode
[
comp
] = 
NULL
;

86 #i‡
ADAPTIVE_QP_SELECTION


87 
m_AæC€ffIsAlü£dAŒoˇti⁄
 = 
Ál£
;

89 
m_pbIPCMFœg
 = 
NULL
;

91 
m_pCtuAboveLe·
 = 
NULL
;

92 
m_pCtuAboveRight
 = 
NULL
;

93 
m_pCtuAbove
 = 
NULL
;

94 
m_pCtuLe·
 = 
NULL
;

96 
UI¡
 
i
=0; i<
NUM_REF_PIC_LIST_01
; i++)

98 
m_≠iMVPIdx
[
i
] = 
NULL
;

99 
m_≠iMVPNum
[
i
] = 
NULL
;

102 
m_bDecSubCu
 = 
Ál£
;

103 
	}
}

105 
	gTComD©aCU
::~
	$TComD©aCU
()

107 
	}
}

109 
Void
 
TComD©aCU
::
¸óã
–
ChromaF‹m©
 
chromaF‹m©IDC
, 
UI¡
 
uiNumP¨tôi⁄
, UI¡ 
uiWidth
, UI¡ 
uiHeight
, 
Boﬁ
 
bDecSubCu
, 
I¡
 
unôSize


110 #i‡
ADAPTIVE_QP_SELECTION


111 , 
TC€ff
 *
pP¨ítARLBuf„r


115 
	gm_bDecSubCu
 = 
bDecSubCu
;

117 
	gm_pcPic
 = 
NULL
;

118 
	gm_pcSli˚
 = 
NULL
;

119 
	gm_uiNumP¨tôi⁄
 = 
uiNumP¨tôi⁄
;

120 
	gm_unôSize
 = 
unôSize
;

122 i‡–!
	gbDecSubCu
 )

124 
	gm_phQP
 = (
SCh¨
* )
xMÆloc
(SCh¨, 
uiNumP¨tôi⁄
);

125 
	gm_puhDïth
 = (
UCh¨
* )
xMÆloc
(UCh¨, 
uiNumP¨tôi⁄
);

126 
	gm_puhWidth
 = (
UCh¨
* )
xMÆloc
(UCh¨, 
uiNumP¨tôi⁄
);

127 
	gm_puhHeight
 = (
UCh¨
* )
xMÆloc
(UCh¨, 
uiNumP¨tôi⁄
);

129 
	gm_ChromaQpAdj
 = 
√w
 
UCh¨
[ 
uiNumP¨tôi⁄
 ];

130 
	gm_skùFœg
 = 
√w
 
Boﬁ
[ 
uiNumP¨tôi⁄
 ];

131 
	gm_≥P¨tSize
 = 
√w
 
SCh¨
[ 
uiNumP¨tôi⁄
 ];

132 
mem£t
–
m_≥P¨tSize
, 
NUMBER_OF_PART_SIZES
,
uiNumP¨tôi⁄
 * ( *m_pePartSize ) );

133 
	gm_≥PªdMode
 = 
√w
 
SCh¨
[ 
uiNumP¨tôi⁄
 ];

134 
	gm_CUTønsqu™tBy∑ss
 = 
√w
 
Boﬁ
[ 
uiNumP¨tôi⁄
 ];

136 
	gm_pbMîgeFœg
 = (
Boﬁ
* )
xMÆloc
(Boﬁ, 
uiNumP¨tôi⁄
);

137 
	gm_puhMîgeIndex
 = (
UCh¨
* )
xMÆloc
(UCh¨, 
uiNumP¨tôi⁄
);

139 
UI¡
 
	gch
=0; ch<
	gMAX_NUM_CHANNEL_TYPE
; ch++)

141 
	gm_puhI¡øDú
[
ch
] = (
UCh¨
* )
xMÆloc
(UCh¨, 
uiNumP¨tôi⁄
);

143 
	gm_puhI¡îDú
 = (
UCh¨
* )
xMÆloc
(UCh¨, 
uiNumP¨tôi⁄
);

145 
	gm_puhTrIdx
 = (
UCh¨
* )
xMÆloc
(UCh¨, 
uiNumP¨tôi⁄
);

147 
UI¡
 
	gi
=0; i<
	gNUM_REF_PIC_LIST_01
; i++)

149 c⁄° 
RefPicLi°
 
	gΩl
=RefPicLi°(
i
);

150 
	gm_≠iMVPIdx
[
Ωl
] = 
√w
 
SCh¨
[ 
uiNumP¨tôi⁄
 ];

151 
	gm_≠iMVPNum
[
Ωl
] = 
√w
 
SCh¨
[ 
uiNumP¨tôi⁄
 ];

152 
mem£t
–
m_≠iMVPIdx
[
Ωl
], -1,
uiNumP¨tôi⁄
 * –
SCh¨
 ) );

155 
UI¡
 
	gcomp
=0; comp<
	gMAX_NUM_COMPONENT
; comp++)

157 c⁄° 
Comp⁄ítID
 
	gcompID
 = Comp⁄ítID(
comp
);

158 c⁄° 
UI¡
 
	gchromaShi·
 = 
gëComp⁄ítSˇÀX
(
compID
, 
chromaF‹m©IDC
Ë+ 
gëComp⁄ítSˇÀY
(compID, chromaFormatIDC);

159 c⁄° 
UI¡
 
	gtŸÆSize
 = (
uiWidth
 * 
uiHeight
Ë>> 
chromaShi·
;

161 
	gm_¸ossComp⁄ítPªdi˘i⁄AÕha
[
compID
] = (
SCh¨
* )
xMÆloc
(SCh¨, 
uiNumP¨tôi⁄
);

162 
	gm_puhTønsf‹mSkù
[
compID
] = (
UCh¨
* )
xMÆloc
(UCh¨, 
uiNumP¨tôi⁄
);

163 
	gm_ex∂icôRdpcmMode
[
compID
] = (
UCh¨
* )
xMÆloc
(UCh¨, 
uiNumP¨tôi⁄
);

164 
	gm_puhCbf
[
compID
] = (
UCh¨
* )
xMÆloc
(UCh¨, 
uiNumP¨tôi⁄
);

165 
	gm_pcTrC€ff
[
compID
] = (
TC€ff
*)
xMÆloc
(TC€ff, 
tŸÆSize
);

166 
mem£t
–
m_pcTrC€ff
[
compID
], 0, (
tŸÆSize
 * –
TC€ff
 )) );

168 #i‡
ADAPTIVE_QP_SELECTION


169 if–
	gpP¨ítARLBuf„r
 != 0 )

171 
m_pcAæC€ff
[
compID
] = 
pP¨ítARLBuf„r
;

172 
	gm_AæC€ffIsAlü£dAŒoˇti⁄
 = 
åue
;

173 
	gpP¨ítARLBuf„r
 +
tŸÆSize
;

177 
	gm_pcAæC€ff
[
compID
] = (
TC€ff
*)
xMÆloc
(TC€ff, 
tŸÆSize
);

178 
	gm_AæC€ffIsAlü£dAŒoˇti⁄
 = 
Ál£
;

181 
	gm_pcIPCMSam∂e
[
compID
] = (
Pñ
* )
xMÆloc
(Pñ , 
tŸÆSize
);

184 
	gm_pbIPCMFœg
 = (
Boﬁ
* )
xMÆloc
(Boﬁ, 
uiNumP¨tôi⁄
);

186 
UI¡
 
	gi
=0; i<
	gNUM_REF_PIC_LIST_01
; i++)

188 
	gm_acCUMvFõld
[
i
].
¸óã
–
uiNumP¨tôi⁄
 );

194 
UI¡
 
	gi
=0; i<
	gNUM_REF_PIC_LIST_01
; i++)

196 
	gm_acCUMvFõld
[
i
].
£tNumP¨tôi⁄
(
uiNumP¨tôi⁄
 );

202 
	gm_pCtuAboveLe·
 = 
NULL
;

203 
	gm_pCtuAboveRight
 = 
NULL
;

204 
	gm_pCtuAbove
 = 
NULL
;

205 
	gm_pCtuLe·
 = 
NULL
;

208 
Void
 
	gTComD©aCU
::
	$de°roy
()

211 i‡–!
m_bDecSubCu
 )

213 i‡–
m_phQP
 )

215 
	`xFªe
(
m_phQP
);

216 
m_phQP
 = 
NULL
;

218 i‡–
m_puhDïth
 )

220 
	`xFªe
(
m_puhDïth
);

221 
m_puhDïth
 = 
NULL
;

223 i‡–
m_puhWidth
 )

225 
	`xFªe
(
m_puhWidth
);

226 
m_puhWidth
 = 
NULL
;

228 i‡–
m_puhHeight
 )

230 
	`xFªe
(
m_puhHeight
);

231 
m_puhHeight
 = 
NULL
;

234 i‡–
m_skùFœg
 )

236 
dñëe
[] 
m_skùFœg
;

237 
m_skùFœg
 = 
NULL
;

240 i‡–
m_≥P¨tSize
 )

242 
dñëe
[] 
m_≥P¨tSize
;

243 
m_≥P¨tSize
 = 
NULL
;

245 i‡–
m_≥PªdMode
 )

247 
dñëe
[] 
m_≥PªdMode
;

248 
m_≥PªdMode
 = 
NULL
;

250 i‡–
m_ChromaQpAdj
 )

252 
dñëe
[] 
m_ChromaQpAdj
;

253 
m_ChromaQpAdj
 = 
NULL
;

255 i‡–
m_CUTønsqu™tBy∑ss
 )

257 
dñëe
[] 
m_CUTønsqu™tBy∑ss
;

258 
m_CUTønsqu™tBy∑ss
 = 
NULL
;

260 i‡–
m_puhI¡îDú
 )

262 
	`xFªe
(
m_puhI¡îDú
);

263 
m_puhI¡îDú
 = 
NULL
;

265 i‡–
m_pbMîgeFœg
 )

267 
	`xFªe
(
m_pbMîgeFœg
);

268 
m_pbMîgeFœg
 = 
NULL
;

270 i‡–
m_puhMîgeIndex
 )

272 
	`xFªe
(
m_puhMîgeIndex
);

273 
m_puhMîgeIndex
 = 
NULL
;

276 
UI¡
 
ch
=0; ch<
MAX_NUM_CHANNEL_TYPE
; ch++)

278 
	`xFªe
(
m_puhI¡øDú
[
ch
]);

279 
m_puhI¡øDú
[
ch
] = 
NULL
;

282 i‡–
m_puhTrIdx
 )

284 
	`xFªe
(
m_puhTrIdx
);

285 
m_puhTrIdx
 = 
NULL
;

288 
UI¡
 
comp
=0; comp<
MAX_NUM_COMPONENT
; comp++)

290 i‡–
m_¸ossComp⁄ítPªdi˘i⁄AÕha
[
comp
] )

292 
	`xFªe
(
m_¸ossComp⁄ítPªdi˘i⁄AÕha
[
comp
]);

293 
m_¸ossComp⁄ítPªdi˘i⁄AÕha
[
comp
] = 
NULL
;

295 i‡–
m_puhTønsf‹mSkù
[
comp
] )

297 
	`xFªe
(
m_puhTønsf‹mSkù
[
comp
]);

298 
m_puhTønsf‹mSkù
[
comp
] = 
NULL
;

300 i‡–
m_puhCbf
[
comp
] )

302 
	`xFªe
(
m_puhCbf
[
comp
]);

303 
m_puhCbf
[
comp
] = 
NULL
;

305 i‡–
m_pcTrC€ff
[
comp
] )

307 
	`xFªe
(
m_pcTrC€ff
[
comp
]);

308 
m_pcTrC€ff
[
comp
] = 
NULL
;

310 i‡–
m_ex∂icôRdpcmMode
[
comp
] )

312 
	`xFªe
(
m_ex∂icôRdpcmMode
[
comp
]);

313 
m_ex∂icôRdpcmMode
[
comp
] = 
NULL
;

316 #i‡
ADAPTIVE_QP_SELECTION


317 i‡(!
m_AæC€ffIsAlü£dAŒoˇti⁄
)

319 i‡–
m_pcAæC€ff
[
comp
] )

321 
	`xFªe
(
m_pcAæC€ff
[
comp
]);

322 
m_pcAæC€ff
[
comp
] = 
NULL
;

327 i‡–
m_pcIPCMSam∂e
[
comp
] )

329 
	`xFªe
(
m_pcIPCMSam∂e
[
comp
]);

330 
m_pcIPCMSam∂e
[
comp
] = 
NULL
;

333 i‡–
m_pbIPCMFœg
 )

335 
	`xFªe
(
m_pbIPCMFœg
 );

336 
m_pbIPCMFœg
 = 
NULL
;

339 
UI¡
 
i
=0; i<
NUM_REF_PIC_LIST_01
; i++)

341 c⁄° 
RefPicLi°
 
Ωl
=
	`RefPicLi°
(
i
);

342 i‡–
m_≠iMVPIdx
[
Ωl
] )

344 
dñëe
[] 
m_≠iMVPIdx
[
Ωl
];

345 
m_≠iMVPIdx
[
Ωl
] = 
NULL
;

347 i‡–
m_≠iMVPNum
[
Ωl
] )

349 
dñëe
[] 
m_≠iMVPNum
[
Ωl
];

350 
m_≠iMVPNum
[
Ωl
] = 
NULL
;

354 
UI¡
 
i
=0; i<
NUM_REF_PIC_LIST_01
; i++)

356 c⁄° 
RefPicLi°
 
Ωl
=
	`RefPicLi°
(
i
);

357 
m_acCUMvFõld
[
Ωl
].
	`de°roy
();

361 
m_pcPic
 = 
NULL
;

362 
m_pcSli˚
 = 
NULL
;

364 
m_pCtuAboveLe·
 = 
NULL
;

365 
m_pCtuAboveRight
 = 
NULL
;

366 
m_pCtuAbove
 = 
NULL
;

367 
m_pCtuLe·
 = 
NULL
;

369 
	}
}

371 
Boﬁ
 
	gTComD©aCU
::
	$CUIsFromSameTûe
 ( c⁄° 
TComD©aCU
 *
pCU
 ) const

373  
pCU
!=
NULL
 &&

374 
pCU
->
	`gëSli˚
(Ë!
NULL
 &&

375 
m_pcPic
->
	`gëPicSym
()->
	`gëTûeIdxM≠
–
pCU
->
	`gëCtuRsAddr
() ) == m_pcPic->getPicSym()->getTileIdxMap(getCtuRsAddr());

376 
	}
}

378 
Boﬁ
 
	gTComD©aCU
::
	$CUIsFromSameSli˚AndTûe
 ( c⁄° 
TComD©aCU
 *
pCU
 ) const

380  
pCU
!=
NULL
 &&

381 
pCU
->
	`gëSli˚
(Ë!
NULL
 &&

382 
pCU
->
	`gëSli˚
()->
	`gëSli˚CurSèπCtuTsAddr
() == getSlice()->getSliceCurStartCtuTsAddr() &&

383 
m_pcPic
->
	`gëPicSym
()->
	`gëTûeIdxM≠
–
pCU
->
	`gëCtuRsAddr
() ) == m_pcPic->getPicSym()->getTileIdxMap(getCtuRsAddr())

385 
	}
}

387 
Boﬁ
 
	gTComD©aCU
::
	$CUIsFromSameSli˚TûeAndWave‰⁄tRow
–c⁄° 
TComD©aCU
 *
pCU
 ) const

389  
	`CUIsFromSameSli˚AndTûe
(
pCU
)

390 && (!
	`gëSli˚
()->
	`gëPPS
()->
	`gëE¡r›yCodögSyncE«bÀdFœg
(Ë|| 
	`gëPic
()->
	`gëCtu
(
	`gëCtuRsAddr
())->
	`gëCUPñY
(Ë=gëPic()->gëCtu(
pCU
->getCtuRsAddr())->getCUPelY());

391 
	}
}

393 
Boﬁ
 
	gTComD©aCU
::
	$isLa°SubCUOfCtu
(c⁄° 
UI¡
 
absP¨tIdx
) const

395 c⁄° 
TComSPS
 &
•s
=*(
	`gëSli˚
()->
	`gëSPS
());

397 c⁄° 
UI¡
 
picWidth
 = 
•s
.
	`gëPicWidthInLumaSam∂es
();

398 c⁄° 
UI¡
 
picHeight
 = 
•s
.
	`gëPicHeightInLumaSam∂es
();

399 c⁄° 
UI¡
 
gønuœrôyWidth
 = 
•s
.
	`gëMaxCUWidth
();

401 c⁄° 
UI¡
 
cuPosX
 = 
	`gëCUPñX
(Ë+ 
g_auiRa°îToPñX
[ 
g_auiZsˇnToRa°î
[
absP¨tIdx
] ];

402 c⁄° 
UI¡
 
cuPosY
 = 
	`gëCUPñY
(Ë+ 
g_auiRa°îToPñY
[ 
g_auiZsˇnToRa°î
[
absP¨tIdx
] ];

404  (((
cuPosX
+
	`gëWidth
–
absP¨tIdx
))%
gønuœrôyWidth
==0||(cuPosX+gëWidth–absP¨tIdx)==
picWidth
 ))

405 && ((
cuPosY
+
	`gëHeight
(
absP¨tIdx
))%
gønuœrôyWidth
==0||(cuPosY+gëHeight◊bsP¨tIdx)==
picHeight
)));

406 
	}
}

422 
Void
 
	gTComD©aCU
::
	$öôCtu
–
TComPic
* 
pcPic
, 
UI¡
 
˘uRsAddr
 )

425 c⁄° 
UI¡
 
maxCUWidth
 = 
pcPic
->
	`gëPicSym
()->
	`gëSPS
().
	`gëMaxCUWidth
();

426 c⁄° 
UI¡
 
maxCUHeight

pcPic
->
	`gëPicSym
()->
	`gëSPS
().
	`gëMaxCUHeight
();

427 
m_pcPic
 = 
pcPic
;

428 
m_pcSli˚
 = 
pcPic
->
	`gëSli˚
’cPic->
	`gëCuºSli˚Idx
());

429 
m_˘uRsAddr
 = 
˘uRsAddr
;

430 
m_uiCUPñX
 = ( 
˘uRsAddr
 % 
pcPic
->
	`gëFømeWidthInCtus
(ËË* 
maxCUWidth
;

431 
m_uiCUPñY
 = ( 
˘uRsAddr
 / 
pcPic
->
	`gëFømeWidthInCtus
(ËË* 
maxCUHeight
;

432 
m_absZIdxInCtu
 = 0;

433 
m_dTŸÆCo°
 = 
MAX_DOUBLE
;

434 
m_uiTŸÆDi°‹ti⁄
 = 0;

435 
m_uiTŸÆBôs
 = 0;

436 
m_uiTŸÆBös
 = 0;

437 
m_uiNumP¨tôi⁄
 = 
pcPic
->
	`gëNumP¨tôi⁄sInCtu
();

439 
	`mem£t
–
m_skùFœg
 , 
Ál£
, 
m_uiNumP¨tôi⁄
 * ( *m_skipFlag ) );

441 
	`mem£t
–
m_≥P¨tSize
 , 
NUMBER_OF_PART_SIZES
, 
m_uiNumP¨tôi⁄
 * ( *m_pePartSize ) );

442 
	`mem£t
–
m_≥PªdMode
 , 
NUMBER_OF_PREDICTION_MODES
, 
m_uiNumP¨tôi⁄
 * ( *m_pePredMode ) );

443 
	`mem£t
–
m_CUTønsqu™tBy∑ss
, 
Ál£
, 
m_uiNumP¨tôi⁄
 * ( *m_CUTransquantBypass) );

444 
	`mem£t
–
m_puhDïth
 , 0, 
m_uiNumP¨tôi⁄
 * ( *m_puhDepth ) );

445 
	`mem£t
–
m_puhTrIdx
 , 0, 
m_uiNumP¨tôi⁄
 * ( *m_puhTrIdx ) );

446 
	`mem£t
–
m_puhWidth
 , 
maxCUWidth
, 
m_uiNumP¨tôi⁄
 * ( *m_puhWidth ) );

447 
	`mem£t
–
m_puhHeight
 , 
maxCUHeight
, 
m_uiNumP¨tôi⁄
 * ( *m_puhHeight ) );

448 
UI¡
 
i
=0; i<
NUM_REF_PIC_LIST_01
; i++)

450 c⁄° 
RefPicLi°
 
Ωl
=
	`RefPicLi°
(
i
);

451 
	`mem£t
–
m_≠iMVPIdx
[
Ωl
] , -1, 
m_uiNumP¨tôi⁄
 * ( *m_apiMVPIdx[rpl] ) );

452 
	`mem£t
–
m_≠iMVPNum
[
Ωl
] , -1, 
m_uiNumP¨tôi⁄
 * ( *m_apiMVPNum[rpl] ) );

454 
	`mem£t
–
m_phQP
 , 
	`gëSli˚
()->
	`gëSli˚Qp
(), 
m_uiNumP¨tôi⁄
 * ( *m_phQP ) );

455 
	`mem£t
–
m_ChromaQpAdj
 , 0, 
m_uiNumP¨tôi⁄
 * ( *m_ChromaQpAdj ) );

456 
UI¡
 
comp
=0; comp<
MAX_NUM_COMPONENT
; comp++)

458 
	`mem£t
–
m_¸ossComp⁄ítPªdi˘i⁄AÕha
[
comp
] , 0, 
m_uiNumP¨tôi⁄
 * ( *m_crossComponentPredictionAlpha[comp] ) );

459 
	`mem£t
–
m_puhTønsf‹mSkù
[
comp
] , 0, 
m_uiNumP¨tôi⁄
 * ( *m_puhTransformSkip[comp]) );

460 
	`mem£t
–
m_puhCbf
[
comp
] , 0, 
m_uiNumP¨tôi⁄
 * ( *m_puhCbf[comp] ) );

461 
	`mem£t
–
m_ex∂icôRdpcmMode
[
comp
] , 
NUMBER_OF_RDPCM_MODES
, 
m_uiNumP¨tôi⁄
 * ( *m_explicitRdpcmMode[comp] ) );

463 
	`mem£t
–
m_pbMîgeFœg
 , 
Ál£
, 
m_uiNumP¨tôi⁄
 * ( *m_pbMergeFlag ) );

464 
	`mem£t
–
m_puhMîgeIndex
 , 0, 
m_uiNumP¨tôi⁄
 * ( *m_puhMergeIndex ) );

465 
UI¡
 
ch
=0; ch<
MAX_NUM_CHANNEL_TYPE
; ch++)

467 
	`mem£t
–
m_puhI¡øDú
[
ch
] , ((ch==0Ë? 
DC_IDX
 : 0), 
m_uiNumP¨tôi⁄
 * ( *(m_puhIntraDir[ch]) ) );

469 
	`mem£t
–
m_puhI¡îDú
 , 0, 
m_uiNumP¨tôi⁄
 * ( *m_puhInterDir ) );

470 
	`mem£t
–
m_pbIPCMFœg
 , 
Ál£
, 
m_uiNumP¨tôi⁄
 * ( *m_pbIPCMFlag ) );

472 c⁄° 
UI¡
 
numC€ffY
 = 
maxCUWidth
*
maxCUHeight
;

473 
UI¡
 
comp
=0; comp<
MAX_NUM_COMPONENT
; comp++)

475 c⁄° 
UI¡
 
comp⁄ítShi·
 = 
m_pcPic
->
	`gëComp⁄ítSˇÀX
(
	`Comp⁄ítID
(
comp
)Ë+ m_pcPic->
	`gëComp⁄ítSˇÀY
(ComponentID(comp));

476 
	`mem£t
–
m_pcTrC€ff
[
comp
], 0, (
TC€ff
)* 
numC€ffY
>>
comp⁄ítShi·
 );

477 #i‡
ADAPTIVE_QP_SELECTION


478 
	`mem£t
–
m_pcAæC€ff
[
comp
], 0, (
TC€ff
)* 
numC€ffY
>>
comp⁄ítShi·
 );

482 
UI¡
 
i
=0; i<
NUM_REF_PIC_LIST_01
; i++)

484 
m_acCUMvFõld
[
i
].
	`˛órMvFõld
();

488 
m_pCtuLe·
 = 
NULL
;

489 
m_pCtuAbove
 = 
NULL
;

490 
m_pCtuAboveLe·
 = 
NULL
;

491 
m_pCtuAboveRight
 = 
NULL
;

493 
UI¡
 
‰ameWidthInCtus
 = 
pcPic
->
	`gëFømeWidthInCtus
();

494 i‡–
m_˘uRsAddr
 % 
‰ameWidthInCtus
 )

496 
m_pCtuLe·
 = 
pcPic
->
	`gëCtu
–
m_˘uRsAddr
 - 1 );

499 i‡–
m_˘uRsAddr
 / 
‰ameWidthInCtus
 )

501 
m_pCtuAbove
 = 
pcPic
->
	`gëCtu
–
m_˘uRsAddr
 - 
‰ameWidthInCtus
 );

504 i‡–
m_pCtuLe·
 && 
m_pCtuAbove
 )

506 
m_pCtuAboveLe·
 = 
pcPic
->
	`gëCtu
–
m_˘uRsAddr
 - 
‰ameWidthInCtus
 - 1 );

509 i‡–
m_pCtuAbove
 && ( (
m_˘uRsAddr
%
‰ameWidthInCtus
) < (frameWidthInCtus-1) ) )

511 
m_pCtuAboveRight
 = 
pcPic
->
	`gëCtu
–
m_˘uRsAddr
 - 
‰ameWidthInCtus
 + 1 );

513 
	}
}

525 
Void
 
	gTComD©aCU
::
	$öôE°D©a
–c⁄° 
UI¡
 
uiDïth
, c⁄° 
I¡
 
qp
, c⁄° 
Boﬁ
 
bTønsqu™tBy∑ss
 )

527 
m_dTŸÆCo°
 = 
MAX_DOUBLE
;

528 
m_uiTŸÆDi°‹ti⁄
 = 0;

529 
m_uiTŸÆBôs
 = 0;

530 
m_uiTŸÆBös
 = 0;

532 c⁄° 
UCh¨
 
uhWidth
 = 
	`gëSli˚
()->
	`gëSPS
()->
	`gëMaxCUWidth
(Ë>> 
uiDïth
;

533 c⁄° 
UCh¨
 
uhHeight
 = 
	`gëSli˚
()->
	`gëSPS
()->
	`gëMaxCUHeight
(Ë>> 
uiDïth
;

535 
UI¡
 
ui
 = 0; uò< 
m_uiNumP¨tôi⁄
; ui++)

537 
UI¡
 
i
=0; i<
NUM_REF_PIC_LIST_01
; i++)

539 c⁄° 
RefPicLi°
 
Ωl
=
	`RefPicLi°
(
i
);

540 
m_≠iMVPIdx
[
Ωl
][
ui
] = -1;

541 
m_≠iMVPNum
[
Ωl
][
ui
] = -1;

543 
m_puhDïth
 [
ui
] = 
uiDïth
;

544 
m_puhWidth
 [
ui
] = 
uhWidth
;

545 
m_puhHeight
 [
ui
] = 
uhHeight
;

546 
m_puhTrIdx
 [
ui
] = 0;

547 
UI¡
 
comp
=0; comp<
MAX_NUM_COMPONENT
; comp++)

549 
m_¸ossComp⁄ítPªdi˘i⁄AÕha
[
comp
][
ui
] = 0;

550 
m_puhTønsf‹mSkù
 [
comp
][
ui
] = 0;

551 
m_ex∂icôRdpcmMode
 [
comp
][
ui
] = 
NUMBER_OF_RDPCM_MODES
;

553 
m_skùFœg
[
ui
] = 
Ál£
;

554 
m_≥P¨tSize
[
ui
] = 
NUMBER_OF_PART_SIZES
;

555 
m_≥PªdMode
[
ui
] = 
NUMBER_OF_PREDICTION_MODES
;

556 
m_CUTønsqu™tBy∑ss
[
ui
] = 
bTønsqu™tBy∑ss
;

557 
m_pbIPCMFœg
[
ui
] = 0;

558 
m_phQP
[
ui
] = 
qp
;

559 
m_ChromaQpAdj
[
ui
] = 0;

560 
m_pbMîgeFœg
[
ui
] = 0;

561 
m_puhMîgeIndex
[
ui
] = 0;

563 
UI¡
 
ch
=0; ch<
MAX_NUM_CHANNEL_TYPE
; ch++)

565 
m_puhI¡øDú
[
ch
][
ui
] = ((ch==0Ë? 
DC_IDX
 : 0);

568 
m_puhI¡îDú
[
ui
] = 0;

569 
UI¡
 
comp
=0; comp<
MAX_NUM_COMPONENT
; comp++)

571 
m_puhCbf
[
comp
][
ui
] = 0;

575 
UI¡
 
i
=0; i<
NUM_REF_PIC_LIST_01
; i++)

577 
m_acCUMvFõld
[
i
].
	`˛órMvFõld
();

580 c⁄° 
UI¡
 
numC€ffY
 = 
uhWidth
*
uhHeight
;

582 
UI¡
 
comp
=0; comp<
MAX_NUM_COMPONENT
; comp++)

584 c⁄° 
Comp⁄ítID
 
comp⁄ít
 = 
	`Comp⁄ítID
(
comp
);

585 c⁄° 
UI¡
 
numC€ff
 = 
numC€ffY
 >> (
	`gëPic
()->
	`gëComp⁄ítSˇÀX
(
comp⁄ít
Ë+ gëPic()->
	`gëComp⁄ítSˇÀY
(component));

586 
	`mem£t
–
m_pcTrC€ff
[
comp
], 0, 
numC€ff
 * –
TC€ff
 ) );

587 #i‡
ADAPTIVE_QP_SELECTION


588 
	`mem£t
–
m_pcAæC€ff
[
comp
], 0, 
numC€ff
 * –
TC€ff
 ) );

590 
	`mem£t
–
m_pcIPCMSam∂e
[
comp
], 0, 
numC€ff
 * –
Pñ
) );

592 
	}
}

596 
Void
 
	gTComD©aCU
::
	$öôSubCU
–
TComD©aCU
* 
pcCU
, 
UI¡
 
uiP¨tUnôIdx
, UI¡ 
uiDïth
, 
I¡
 
qp
 )

598 
	`as£π
–
uiP¨tUnôIdx
<4 );

600 
UI¡
 
uiP¨tOff£t
 = ( 
pcCU
->
	`gëTŸÆNumP¨t
()>>2 )*
uiP¨tUnôIdx
;

602 
m_pcPic
 = 
pcCU
->
	`gëPic
();

603 
m_pcSli˚
 = 
pcCU
->
	`gëSli˚
();

604 
m_˘uRsAddr
 = 
pcCU
->
	`gëCtuRsAddr
();

605 
m_absZIdxInCtu
 = 
pcCU
->
	`gëZ‹dîIdxInCtu
(Ë+ 
uiP¨tOff£t
;

607 c⁄° 
UCh¨
 
uhWidth
 = 
	`gëSli˚
()->
	`gëSPS
()->
	`gëMaxCUWidth
(Ë>> 
uiDïth
;

608 c⁄° 
UCh¨
 
uhHeight
 = 
	`gëSli˚
()->
	`gëSPS
()->
	`gëMaxCUHeight
(Ë>> 
uiDïth
;

610 
m_uiCUPñX
 = 
pcCU
->
	`gëCUPñX
(Ë+ ( 
uhWidth
 )*–
uiP¨tUnôIdx
 & 1 );

611 
m_uiCUPñY
 = 
pcCU
->
	`gëCUPñY
(Ë+ ( 
uhHeight
)*–
uiP¨tUnôIdx
 >> 1 );

613 
m_dTŸÆCo°
 = 
MAX_DOUBLE
;

614 
m_uiTŸÆDi°‹ti⁄
 = 0;

615 
m_uiTŸÆBôs
 = 0;

616 
m_uiTŸÆBös
 = 0;

617 
m_uiNumP¨tôi⁄
 = 
pcCU
->
	`gëTŸÆNumP¨t
() >> 2;

619 
I¡
 
iSizeInUch¨
 = –
UCh¨
 ) * 
m_uiNumP¨tôi⁄
;

620 
I¡
 
iSizeInBoﬁ
 = –
Boﬁ
 ) * 
m_uiNumP¨tôi⁄
;

621 
I¡
 
sizeInCh¨
 = –
SCh¨
 ) * 
m_uiNumP¨tôi⁄
;

623 
	`mem£t
–
m_phQP
, 
qp
, 
sizeInCh¨
 );

624 
	`mem£t
–
m_pbMîgeFœg
, 0, 
iSizeInBoﬁ
 );

625 
	`mem£t
–
m_puhMîgeIndex
, 0, 
iSizeInUch¨
 );

626 
UI¡
 
ch
=0; ch<
MAX_NUM_CHANNEL_TYPE
; ch++)

628 
	`mem£t
–
m_puhI¡øDú
[
ch
], ((ch==0Ë? 
DC_IDX
 : 0), 
iSizeInUch¨
 );

631 
	`mem£t
–
m_puhI¡îDú
, 0, 
iSizeInUch¨
 );

632 
	`mem£t
–
m_puhTrIdx
, 0, 
iSizeInUch¨
 );

634 
UI¡
 
comp
=0; comp<
MAX_NUM_COMPONENT
; comp++)

636 
	`mem£t
–
m_¸ossComp⁄ítPªdi˘i⁄AÕha
[
comp
], 0, 
iSizeInUch¨
 );

637 
	`mem£t
–
m_puhTønsf‹mSkù
[
comp
], 0, 
iSizeInUch¨
 );

638 
	`mem£t
–
m_puhCbf
[
comp
], 0, 
iSizeInUch¨
 );

639 
	`mem£t
–
m_ex∂icôRdpcmMode
[
comp
], 
NUMBER_OF_RDPCM_MODES
, 
iSizeInUch¨
 );

642 
	`mem£t
–
m_puhDïth
, 
uiDïth
, 
iSizeInUch¨
 );

643 
	`mem£t
–
m_puhWidth
, 
uhWidth
, 
iSizeInUch¨
 );

644 
	`mem£t
–
m_puhHeight
, 
uhHeight
, 
iSizeInUch¨
 );

645 
	`mem£t
–
m_pbIPCMFœg
, 0, 
iSizeInBoﬁ
 );

646 
UI¡
 
ui
 = 0; uò< 
m_uiNumP¨tôi⁄
; ui++)

648 
m_skùFœg
[
ui
] = 
Ál£
;

649 
m_≥P¨tSize
[
ui
] = 
NUMBER_OF_PART_SIZES
;

650 
m_≥PªdMode
[
ui
] = 
NUMBER_OF_PREDICTION_MODES
;

651 
m_CUTønsqu™tBy∑ss
[
ui
] = 
Ál£
;

652 
m_ChromaQpAdj
[
ui
] = 0;

654 
UI¡
 
i
=0; i<
NUM_REF_PIC_LIST_01
; i++)

656 c⁄° 
RefPicLi°
 
Ωl
=
	`RefPicLi°
(
i
);

657 
m_≠iMVPIdx
[
Ωl
][
ui
] = -1;

658 
m_≠iMVPNum
[
Ωl
][
ui
] = -1;

662 c⁄° 
UI¡
 
numC€ffY
 = 
uhWidth
*
uhHeight
;

663 
UI¡
 
ch
=0; ch<
MAX_NUM_COMPONENT
; ch++)

665 c⁄° 
UI¡
 
comp⁄ítShi·
 = 
m_pcPic
->
	`gëComp⁄ítSˇÀX
(
	`Comp⁄ítID
(
ch
)Ë+ m_pcPic->
	`gëComp⁄ítSˇÀY
(ComponentID(ch));

666 
	`mem£t
–
m_pcTrC€ff
[
ch
], 0, (
TC€ff
)*(
numC€ffY
>>
comp⁄ítShi·
) );

667 #i‡
ADAPTIVE_QP_SELECTION


668 
	`mem£t
–
m_pcAæC€ff
[
ch
], 0, (
TC€ff
)*(
numC€ffY
>>
comp⁄ítShi·
) );

670 
	`mem£t
–
m_pcIPCMSam∂e
[
ch
], 0, (
Pñ
)* (
numC€ffY
>>
comp⁄ítShi·
) );

673 
UI¡
 
i
=0; i<
NUM_REF_PIC_LIST_01
; i++)

675 
m_acCUMvFõld
[
i
].
	`˛órMvFõld
();

678 
m_pCtuLe·
 = 
pcCU
->
	`gëCtuLe·
();

679 
m_pCtuAbove
 = 
pcCU
->
	`gëCtuAbove
();

680 
m_pCtuAboveLe·
 = 
pcCU
->
	`gëCtuAboveLe·
();

681 
m_pCtuAboveRight
 = 
pcCU
->
	`gëCtuAboveRight
();

682 
	}
}

684 
Void
 
	gTComD©aCU
::
	$£tOutsideCUP¨t
–
UI¡
 
uiAbsP¨tIdx
, UI¡ 
uiDïth
 )

686 c⁄° 
UI¡
 
uiNumP¨tôi⁄
 = 
m_uiNumP¨tôi⁄
 >> (
uiDïth
 << 1);

687 c⁄° 
UI¡
 
uiSizeInUch¨
 = –
UCh¨
 ) * 
uiNumP¨tôi⁄
;

688 c⁄° 
TComSPS
 &
•s
 = *(
	`gëSli˚
()->
	`gëSPS
());

689 c⁄° 
UCh¨
 
uhWidth
 = 
•s
.
	`gëMaxCUWidth
(Ë>> 
uiDïth
;

690 c⁄° 
UCh¨
 
uhHeight
 = 
•s
.
	`gëMaxCUHeight
(Ë>> 
uiDïth
;

691 
	`mem£t
–
m_puhDïth
 + 
uiAbsP¨tIdx
, 
uiDïth
, 
uiSizeInUch¨
 );

692 
	`mem£t
–
m_puhWidth
 + 
uiAbsP¨tIdx
, 
uhWidth
, 
uiSizeInUch¨
 );

693 
	`mem£t
–
m_puhHeight
 + 
uiAbsP¨tIdx
, 
uhHeight
, 
uiSizeInUch¨
 );

694 
	}
}

700 
Void
 
	gTComD©aCU
::
	$c›ySubCU
–
TComD©aCU
* 
pcCU
, 
UI¡
 
uiAbsP¨tIdx
 )

702 
UI¡
 
uiP¨t
 = 
uiAbsP¨tIdx
;

704 
m_pcPic
 = 
pcCU
->
	`gëPic
();

705 
m_pcSli˚
 = 
pcCU
->
	`gëSli˚
();

706 
m_˘uRsAddr
 = 
pcCU
->
	`gëCtuRsAddr
();

707 
m_absZIdxInCtu
 = 
uiAbsP¨tIdx
;

709 
m_uiCUPñX
 = 
pcCU
->
	`gëCUPñX
(Ë+ 
g_auiRa°îToPñX
[ 
g_auiZsˇnToRa°î
[
uiAbsP¨tIdx
] ];

710 
m_uiCUPñY
 = 
pcCU
->
	`gëCUPñY
(Ë+ 
g_auiRa°îToPñY
[ 
g_auiZsˇnToRa°î
[
uiAbsP¨tIdx
] ];

712 
m_skùFœg
=
pcCU
->
	`gëSkùFœg
(Ë+ 
uiP¨t
;

714 
m_phQP
=
pcCU
->
	`gëQP
(Ë+ 
uiP¨t
;

715 
m_ChromaQpAdj
 = 
pcCU
->
	`gëChromaQpAdj
(Ë+ 
uiP¨t
;

716 
m_≥P¨tSize
 = 
pcCU
->
	`gëP¨tôi⁄Size
(Ë+ 
uiP¨t
;

717 
m_≥PªdMode
=
pcCU
->
	`gëPªdi˘i⁄Mode
(Ë+ 
uiP¨t
;

718 
m_CUTønsqu™tBy∑ss
 = 
pcCU
->
	`gëCUTønsqu™tBy∑ss
()+
uiP¨t
;

720 
m_pbMîgeFœg
 = 
pcCU
->
	`gëMîgeFœg
(Ë+ 
uiP¨t
;

721 
m_puhMîgeIndex
 = 
pcCU
->
	`gëMîgeIndex
(Ë+ 
uiP¨t
;

723 
UI¡
 
ch
=0; ch<
MAX_NUM_CHANNEL_TYPE
; ch++)

725 
m_puhI¡øDú
[
ch
] = 
pcCU
->
	`gëI¡øDú
(
	`Ch™√lTy≥
(ch)Ë+ 
uiP¨t
;

728 
m_puhI¡îDú
 = 
pcCU
->
	`gëI¡îDú
(Ë+ 
uiP¨t
;

729 
m_puhTrIdx
 = 
pcCU
->
	`gëTønsf‹mIdx
(Ë+ 
uiP¨t
;

731 
UI¡
 
comp
=0; comp<
MAX_NUM_COMPONENT
; comp++)

733 
m_¸ossComp⁄ítPªdi˘i⁄AÕha
[
comp
] = 
pcCU
->
	`gëCrossComp⁄ítPªdi˘i⁄AÕha
(
	`Comp⁄ítID
(comp)Ë+ 
uiP¨t
;

734 
m_puhTønsf‹mSkù
[
comp
] = 
pcCU
->
	`gëTønsf‹mSkù
(
	`Comp⁄ítID
(comp)Ë+ 
uiP¨t
;

735 
m_puhCbf
[
comp
] = 
pcCU
->
	`gëCbf
(
	`Comp⁄ítID
(comp)Ë+ 
uiP¨t
;

736 
m_ex∂icôRdpcmMode
[
comp
] = 
pcCU
->
	`gëEx∂icôRdpcmMode
(
	`Comp⁄ítID
(comp)Ë+ 
uiP¨t
;

739 
m_puhDïth
=
pcCU
->
	`gëDïth
(Ë+ 
uiP¨t
;

740 
m_puhWidth
=
pcCU
->
	`gëWidth
(Ë+ 
uiP¨t
;

741 
m_puhHeight
=
pcCU
->
	`gëHeight
(Ë+ 
uiP¨t
;

743 
m_pbIPCMFœg
 = 
pcCU
->
	`gëIPCMFœg
(Ë+ 
uiP¨t
;

745 
m_pCtuAboveLe·
 = 
pcCU
->
	`gëCtuAboveLe·
();

746 
m_pCtuAboveRight
 = 
pcCU
->
	`gëCtuAboveRight
();

747 
m_pCtuAbove
 = 
pcCU
->
	`gëCtuAbove
();

748 
m_pCtuLe·
 = 
pcCU
->
	`gëCtuLe·
();

750 
UI¡
 
i
=0; i<
NUM_REF_PIC_LIST_01
; i++)

752 c⁄° 
RefPicLi°
 
Ωl
=
	`RefPicLi°
(
i
);

753 
m_≠iMVPIdx
[
Ωl
]=
pcCU
->
	`gëMVPIdx
‘∂Ë+ 
uiP¨t
;

754 
m_≠iMVPNum
[
Ωl
]=
pcCU
->
	`gëMVPNum
‘∂Ë+ 
uiP¨t
;

757 
UI¡
 
i
=0; i<
NUM_REF_PIC_LIST_01
; i++)

759 c⁄° 
RefPicLi°
 
Ωl
=
	`RefPicLi°
(
i
);

760 
m_acCUMvFõld
[
Ωl
].
	`lökToWôhOff£t
–
pcCU
->
	`gëCUMvFõld
‘∂), 
uiP¨t
 );

763 
UI¡
 
uiMaxCuWidth
=
pcCU
->
	`gëSli˚
()->
	`gëSPS
()->
	`gëMaxCUWidth
();

764 
UI¡
 
uiMaxCuHeight
=
pcCU
->
	`gëSli˚
()->
	`gëSPS
()->
	`gëMaxCUHeight
();

766 
UI¡
 
uiCoffOff£t
 = 
uiMaxCuWidth
*
uiMaxCuHeight
*
uiAbsP¨tIdx
/
pcCU
->
	`gëPic
()->
	`gëNumP¨tôi⁄sInCtu
();

768 
UI¡
 
ch
=0; ch<
MAX_NUM_COMPONENT
; ch++)

770 c⁄° 
Comp⁄ítID
 
comp⁄ít
 = 
	`Comp⁄ítID
(
ch
);

771 c⁄° 
UI¡
 
comp⁄ítShi·
 = 
m_pcPic
->
	`gëComp⁄ítSˇÀX
(
comp⁄ít
Ë+ m_pcPic->
	`gëComp⁄ítSˇÀY
(component);

772 c⁄° 
UI¡
 
off£t
 = 
uiCoffOff£t
 >> 
comp⁄ítShi·
;

773 
m_pcTrC€ff
[
ch
] = 
pcCU
->
	`gëC€ff
(
comp⁄ít
Ë+ 
off£t
;

774 #i‡
ADAPTIVE_QP_SELECTION


775 
m_pcAæC€ff
[
ch
] = 
pcCU
->
	`gëAæC€ff
(
comp⁄ít
Ë+ 
off£t
;

777 
m_pcIPCMSam∂e
[
ch
] = 
pcCU
->
	`gëPCMSam∂e
(
comp⁄ít
Ë+ 
off£t
;

779 
	}
}

782 
Void
 
	gTComD©aCU
::
	$c›yI¡îPªdInfoFrom
 ( 
TComD©aCU
* 
pcCU
, 
UI¡
 
uiAbsP¨tIdx
, 
RefPicLi°
 
eRefPicLi°
 )

784 
m_pcPic
 = 
pcCU
->
	`gëPic
();

785 
m_pcSli˚
 = 
pcCU
->
	`gëSli˚
();

786 
m_˘uRsAddr
 = 
pcCU
->
	`gëCtuRsAddr
();

787 
m_absZIdxInCtu
 = 
uiAbsP¨tIdx
;

789 
I¡
 
iRa°P¨tIdx
 = 
g_auiZsˇnToRa°î
[
uiAbsP¨tIdx
];

790 
m_uiCUPñX
 = 
pcCU
->
	`gëCUPñX
(Ë+ 
m_pcPic
->
	`gëMöCUWidth
 ()*–
iRa°P¨tIdx
 % m_pcPic->
	`gëNumP¨tInCtuWidth
() );

791 
m_uiCUPñY
 = 
pcCU
->
	`gëCUPñY
(Ë+ 
m_pcPic
->
	`gëMöCUHeight
()*–
iRa°P¨tIdx
 / m_pcPic->
	`gëNumP¨tInCtuWidth
() );

793 
m_pCtuAboveLe·
 = 
pcCU
->
	`gëCtuAboveLe·
();

794 
m_pCtuAboveRight
 = 
pcCU
->
	`gëCtuAboveRight
();

795 
m_pCtuAbove
 = 
pcCU
->
	`gëCtuAbove
();

796 
m_pCtuLe·
 = 
pcCU
->
	`gëCtuLe·
();

798 
m_skùFœg
 = 
pcCU
->
	`gëSkùFœg
 (Ë+ 
uiAbsP¨tIdx
;

800 
m_≥P¨tSize
 = 
pcCU
->
	`gëP¨tôi⁄Size
 (Ë+ 
uiAbsP¨tIdx
;

801 
m_≥PªdMode
 = 
pcCU
->
	`gëPªdi˘i⁄Mode
(Ë+ 
uiAbsP¨tIdx
;

802 
m_ChromaQpAdj
 = 
pcCU
->
	`gëChromaQpAdj
(Ë+ 
uiAbsP¨tIdx
;

803 
m_CUTønsqu™tBy∑ss
 = 
pcCU
->
	`gëCUTønsqu™tBy∑ss
(Ë+ 
uiAbsP¨tIdx
;

804 
m_puhI¡îDú
 = 
pcCU
->
	`gëI¡îDú
 (Ë+ 
uiAbsP¨tIdx
;

806 
m_puhDïth
 = 
pcCU
->
	`gëDïth
 (Ë+ 
uiAbsP¨tIdx
;

807 
m_puhWidth
 = 
pcCU
->
	`gëWidth
 (Ë+ 
uiAbsP¨tIdx
;

808 
m_puhHeight
 = 
pcCU
->
	`gëHeight
(Ë+ 
uiAbsP¨tIdx
;

810 
m_pbMîgeFœg
 = 
pcCU
->
	`gëMîgeFœg
(Ë+ 
uiAbsP¨tIdx
;

811 
m_puhMîgeIndex
 = 
pcCU
->
	`gëMîgeIndex
(Ë+ 
uiAbsP¨tIdx
;

813 
m_≠iMVPIdx
[
eRefPicLi°
] = 
pcCU
->
	`gëMVPIdx
”RefPicLi°Ë+ 
uiAbsP¨tIdx
;

814 
m_≠iMVPNum
[
eRefPicLi°
] = 
pcCU
->
	`gëMVPNum
”RefPicLi°Ë+ 
uiAbsP¨tIdx
;

816 
m_acCUMvFõld
[ 
eRefPicLi°
 ].
	`lökToWôhOff£t
–
pcCU
->
	`gëCUMvFõld
”RefPicLi°), 
uiAbsP¨tIdx
 );

817 
	}
}

821 
Void
 
	gTComD©aCU
::
	$c›yP¨tFrom
–
TComD©aCU
* 
pcCU
, 
UI¡
 
uiP¨tUnôIdx
, UI¡ 
uiDïth
 )

823 
	`as£π
–
uiP¨tUnôIdx
<4 );

825 
m_dTŸÆCo°
 +
pcCU
->
	`gëTŸÆCo°
();

826 
m_uiTŸÆDi°‹ti⁄
 +
pcCU
->
	`gëTŸÆDi°‹ti⁄
();

827 
m_uiTŸÆBôs
 +
pcCU
->
	`gëTŸÆBôs
();

829 
UI¡
 
uiOff£t
 = 
pcCU
->
	`gëTŸÆNumP¨t
()*
uiP¨tUnôIdx
;

830 c⁄° 
UI¡
 
numVÆidComp
=
pcCU
->
	`gëPic
()->
	`gëNumbîVÆidComp⁄íts
();

831 c⁄° 
UI¡
 
numVÆidCh™
=
pcCU
->
	`gëPic
()->
	`gëChromaF‹m©
()==
CHROMA_400
 ? 1:2;

833 
UI¡
 
uiNumP¨tôi⁄
 = 
pcCU
->
	`gëTŸÆNumP¨t
();

834 
I¡
 
iSizeInUch¨
 = –
UCh¨
 ) * 
uiNumP¨tôi⁄
;

835 
I¡
 
iSizeInBoﬁ
 = –
Boﬁ
 ) * 
uiNumP¨tôi⁄
;

837 
I¡
 
sizeInCh¨
 = –
SCh¨
 ) * 
uiNumP¨tôi⁄
;

838 
	`mem˝y
–
m_skùFœg
 + 
uiOff£t
, 
pcCU
->
	`gëSkùFœg
(), –*m_skùFœg ) * 
uiNumP¨tôi⁄
 );

839 
	`mem˝y
–
m_phQP
 + 
uiOff£t
, 
pcCU
->
	`gëQP
(), 
sizeInCh¨
 );

840 
	`mem˝y
–
m_≥P¨tSize
 + 
uiOff£t
, 
pcCU
->
	`gëP¨tôi⁄Size
(), –*m_≥P¨tSizêË* 
uiNumP¨tôi⁄
 );

841 
	`mem˝y
–
m_≥PªdMode
 + 
uiOff£t
, 
pcCU
->
	`gëPªdi˘i⁄Mode
(), –*m_≥PªdModêË* 
uiNumP¨tôi⁄
 );

842 
	`mem˝y
–
m_ChromaQpAdj
 + 
uiOff£t
, 
pcCU
->
	`gëChromaQpAdj
(), –*m_ChromaQpAdj ) * 
uiNumP¨tôi⁄
 );

843 
	`mem˝y
–
m_CUTønsqu™tBy∑ss
 + 
uiOff£t
, 
pcCU
->
	`gëCUTønsqu™tBy∑ss
(), –*m_CUTønsqu™tBy∑s†Ë* 
uiNumP¨tôi⁄
 );

844 
	`mem˝y
–
m_pbMîgeFœg
 + 
uiOff£t
, 
pcCU
->
	`gëMîgeFœg
(), 
iSizeInBoﬁ
 );

845 
	`mem˝y
–
m_puhMîgeIndex
 + 
uiOff£t
, 
pcCU
->
	`gëMîgeIndex
(), 
iSizeInUch¨
 );

847 
UI¡
 
ch
=0; ch<
numVÆidCh™
; ch++)

849 
	`mem˝y
–
m_puhI¡øDú
[
ch
] + 
uiOff£t
, 
pcCU
->
	`gëI¡øDú
(
	`Ch™√lTy≥
(ch)), 
iSizeInUch¨
 );

852 
	`mem˝y
–
m_puhI¡îDú
 + 
uiOff£t
, 
pcCU
->
	`gëI¡îDú
(), 
iSizeInUch¨
 );

853 
	`mem˝y
–
m_puhTrIdx
 + 
uiOff£t
, 
pcCU
->
	`gëTønsf‹mIdx
(), 
iSizeInUch¨
 );

855 
UI¡
 
comp
=0; comp<
numVÆidComp
; comp++)

857 
	`mem˝y
–
m_¸ossComp⁄ítPªdi˘i⁄AÕha
[
comp
] + 
uiOff£t
, 
pcCU
->
	`gëCrossComp⁄ítPªdi˘i⁄AÕha
(
	`Comp⁄ítID
(comp)), 
iSizeInUch¨
 );

858 
	`mem˝y
–
m_puhTønsf‹mSkù
[
comp
] + 
uiOff£t
, 
pcCU
->
	`gëTønsf‹mSkù
(
	`Comp⁄ítID
(comp)Ë, 
iSizeInUch¨
 );

859 
	`mem˝y
–
m_puhCbf
[
comp
] + 
uiOff£t
, 
pcCU
->
	`gëCbf
(
	`Comp⁄ítID
(comp)Ë, 
iSizeInUch¨
 );

860 
	`mem˝y
–
m_ex∂icôRdpcmMode
[
comp
] + 
uiOff£t
, 
pcCU
->
	`gëEx∂icôRdpcmMode
(
	`Comp⁄ítID
(comp)Ë, 
iSizeInUch¨
 );

863 
	`mem˝y
–
m_puhDïth
 + 
uiOff£t
, 
pcCU
->
	`gëDïth
(), 
iSizeInUch¨
 );

864 
	`mem˝y
–
m_puhWidth
 + 
uiOff£t
, 
pcCU
->
	`gëWidth
(), 
iSizeInUch¨
 );

865 
	`mem˝y
–
m_puhHeight
 + 
uiOff£t
, 
pcCU
->
	`gëHeight
(), 
iSizeInUch¨
 );

867 
	`mem˝y
–
m_pbIPCMFœg
 + 
uiOff£t
, 
pcCU
->
	`gëIPCMFœg
(), 
iSizeInBoﬁ
 );

869 
m_pCtuAboveLe·
 = 
pcCU
->
	`gëCtuAboveLe·
();

870 
m_pCtuAboveRight
 = 
pcCU
->
	`gëCtuAboveRight
();

871 
m_pCtuAbove
 = 
pcCU
->
	`gëCtuAbove
();

872 
m_pCtuLe·
 = 
pcCU
->
	`gëCtuLe·
();

874 
UI¡
 
i
=0; i<
NUM_REF_PIC_LIST_01
; i++)

876 c⁄° 
RefPicLi°
 
Ωl
=
	`RefPicLi°
(
i
);

877 
	`mem˝y
–
m_≠iMVPIdx
[
Ωl
] + 
uiOff£t
, 
pcCU
->
	`gëMVPIdx
‘∂), 
iSizeInUch¨
 );

878 
	`mem˝y
–
m_≠iMVPNum
[
Ωl
] + 
uiOff£t
, 
pcCU
->
	`gëMVPNum
‘∂), 
iSizeInUch¨
 );

881 
UI¡
 
i
=0; i<
NUM_REF_PIC_LIST_01
; i++)

883 c⁄° 
RefPicLi°
 
Ωl
=
	`RefPicLi°
(
i
);

884 
m_acCUMvFõld
[
Ωl
].
	`c›yFrom
–
pcCU
->
	`gëCUMvFõld
–Ω»),ÖcCU->
	`gëTŸÆNumP¨t
(), 
uiOff£t
 );

887 c⁄° 
UI¡
 
numC€ffY
 = (
pcCU
->
	`gëSli˚
()->
	`gëSPS
()->
	`gëMaxCUWidth
()*pcCU->gëSli˚()->gëSPS()->
	`gëMaxCUHeight
()Ë>> (
uiDïth
<<1);

888 c⁄° 
UI¡
 
off£tY
 = 
uiP¨tUnôIdx
*
numC€ffY
;

889 
UI¡
 
ch
=0; ch<
numVÆidComp
; ch++)

891 c⁄° 
Comp⁄ítID
 
comp⁄ít
 = 
	`Comp⁄ítID
(
ch
);

892 c⁄° 
UI¡
 
comp⁄ítShi·
 = 
m_pcPic
->
	`gëComp⁄ítSˇÀX
(
comp⁄ít
Ë+ m_pcPic->
	`gëComp⁄ítSˇÀY
(component);

893 c⁄° 
UI¡
 
off£t
 = 
off£tY
>>
comp⁄ítShi·
;

894 
	`mem˝y
–
m_pcTrC€ff
 [
ch
] + 
off£t
, 
pcCU
->
	`gëC€ff
(
comp⁄ít
), (
TC€ff
)*(
numC€ffY
>>
comp⁄ítShi·
) );

895 #i‡
ADAPTIVE_QP_SELECTION


896 
	`mem˝y
–
m_pcAæC€ff
[
ch
] + 
off£t
, 
pcCU
->
	`gëAæC€ff
(
comp⁄ít
), (
TC€ff
)*(
numC€ffY
>>
comp⁄ítShi·
) );

898 
	`mem˝y
–
m_pcIPCMSam∂e
[
ch
] + 
off£t
, 
pcCU
->
	`gëPCMSam∂e
(
comp⁄ít
), (
Pñ
)*(
numC€ffY
>>
comp⁄ítShi·
) );

901 
m_uiTŸÆBös
 +
pcCU
->
	`gëTŸÆBös
();

902 
	}
}

906 
Void
 
	gTComD©aCU
::
	$c›yToPic
–
UCh¨
 
uhDïth
 )

908 
TComD©aCU
* 
pCtu
 = 
m_pcPic
->
	`gëCtu
–
m_˘uRsAddr
 );

909 c⁄° 
UI¡
 
numVÆidComp
=
pCtu
->
	`gëPic
()->
	`gëNumbîVÆidComp⁄íts
();

910 c⁄° 
UI¡
 
numVÆidCh™
=
pCtu
->
	`gëPic
()->
	`gëChromaF‹m©
()==
CHROMA_400
 ? 1:2;

912 
pCtu
->
	`gëTŸÆCo°
(Ë
m_dTŸÆCo°
;

913 
pCtu
->
	`gëTŸÆDi°‹ti⁄
(Ë
m_uiTŸÆDi°‹ti⁄
;

914 
pCtu
->
	`gëTŸÆBôs
(Ë
m_uiTŸÆBôs
;

916 
I¡
 
iSizeInUch¨
 = –
UCh¨
 ) * 
m_uiNumP¨tôi⁄
;

917 
I¡
 
iSizeInBoﬁ
 = –
Boﬁ
 ) * 
m_uiNumP¨tôi⁄
;

918 
I¡
 
sizeInCh¨
 = –
SCh¨
 ) * 
m_uiNumP¨tôi⁄
;

920 
	`mem˝y
–
pCtu
->
	`gëSkùFœg
(Ë+ 
m_absZIdxInCtu
, 
m_skùFœg
, –*m_skùFœg ) * 
m_uiNumP¨tôi⁄
 );

922 
	`mem˝y
–
pCtu
->
	`gëQP
(Ë+ 
m_absZIdxInCtu
, 
m_phQP
, 
sizeInCh¨
 );

924 
	`mem˝y
–
pCtu
->
	`gëP¨tôi⁄Size
(Ë+ 
m_absZIdxInCtu
, 
m_≥P¨tSize
, –*m_≥P¨tSizêË* 
m_uiNumP¨tôi⁄
 );

925 
	`mem˝y
–
pCtu
->
	`gëPªdi˘i⁄Mode
(Ë+ 
m_absZIdxInCtu
, 
m_≥PªdMode
, –*m_≥PªdModêË* 
m_uiNumP¨tôi⁄
 );

926 
	`mem˝y
–
pCtu
->
	`gëChromaQpAdj
(Ë+ 
m_absZIdxInCtu
, 
m_ChromaQpAdj
, –*m_ChromaQpAdj ) * 
m_uiNumP¨tôi⁄
 );

927 
	`mem˝y
–
pCtu
->
	`gëCUTønsqu™tBy∑ss
()+ 
m_absZIdxInCtu
, 
m_CUTønsqu™tBy∑ss
, –*m_CUTønsqu™tBy∑s†Ë* 
m_uiNumP¨tôi⁄
 );

928 
	`mem˝y
–
pCtu
->
	`gëMîgeFœg
(Ë+ 
m_absZIdxInCtu
, 
m_pbMîgeFœg
, 
iSizeInBoﬁ
 );

929 
	`mem˝y
–
pCtu
->
	`gëMîgeIndex
(Ë+ 
m_absZIdxInCtu
, 
m_puhMîgeIndex
, 
iSizeInUch¨
 );

930 
UI¡
 
ch
=0; ch<
numVÆidCh™
; ch++)

932 
	`mem˝y
–
pCtu
->
	`gëI¡øDú
(
	`Ch™√lTy≥
(
ch
)Ë+ 
m_absZIdxInCtu
, 
m_puhI¡øDú
[ch], 
iSizeInUch¨
);

935 
	`mem˝y
–
pCtu
->
	`gëI¡îDú
(Ë+ 
m_absZIdxInCtu
, 
m_puhI¡îDú
, 
iSizeInUch¨
 );

936 
	`mem˝y
–
pCtu
->
	`gëTønsf‹mIdx
(Ë+ 
m_absZIdxInCtu
, 
m_puhTrIdx
, 
iSizeInUch¨
 );

938 
UI¡
 
comp
=0; comp<
numVÆidComp
; comp++)

940 
	`mem˝y
–
pCtu
->
	`gëCrossComp⁄ítPªdi˘i⁄AÕha
(
	`Comp⁄ítID
(
comp
)Ë+ 
m_absZIdxInCtu
, 
m_¸ossComp⁄ítPªdi˘i⁄AÕha
[comp], 
iSizeInUch¨
 );

941 
	`mem˝y
–
pCtu
->
	`gëTønsf‹mSkù
(
	`Comp⁄ítID
(
comp
)Ë+ 
m_absZIdxInCtu
, 
m_puhTønsf‹mSkù
[comp], 
iSizeInUch¨
 );

942 
	`mem˝y
–
pCtu
->
	`gëCbf
(
	`Comp⁄ítID
(
comp
)Ë+ 
m_absZIdxInCtu
, 
m_puhCbf
[comp], 
iSizeInUch¨
 );

943 
	`mem˝y
–
pCtu
->
	`gëEx∂icôRdpcmMode
(
	`Comp⁄ítID
(
comp
)Ë+ 
m_absZIdxInCtu
, 
m_ex∂icôRdpcmMode
[comp], 
iSizeInUch¨
 );

946 
	`mem˝y
–
pCtu
->
	`gëDïth
(Ë+ 
m_absZIdxInCtu
, 
m_puhDïth
, 
iSizeInUch¨
 );

947 
	`mem˝y
–
pCtu
->
	`gëWidth
(Ë+ 
m_absZIdxInCtu
, 
m_puhWidth
, 
iSizeInUch¨
 );

948 
	`mem˝y
–
pCtu
->
	`gëHeight
(Ë+ 
m_absZIdxInCtu
, 
m_puhHeight
, 
iSizeInUch¨
 );

950 
UI¡
 
i
=0; i<
NUM_REF_PIC_LIST_01
; i++)

952 c⁄° 
RefPicLi°
 
Ωl
=
	`RefPicLi°
(
i
);

953 
	`mem˝y
–
pCtu
->
	`gëMVPIdx
(
Ωl
Ë+ 
m_absZIdxInCtu
, 
m_≠iMVPIdx
[Ωl], 
iSizeInUch¨
 );

954 
	`mem˝y
–
pCtu
->
	`gëMVPNum
(
Ωl
Ë+ 
m_absZIdxInCtu
, 
m_≠iMVPNum
[Ωl], 
iSizeInUch¨
 );

957 
UI¡
 
i
=0; i<
NUM_REF_PIC_LIST_01
; i++)

959 c⁄° 
RefPicLi°
 
Ωl
=
	`RefPicLi°
(
i
);

960 
m_acCUMvFõld
[
Ωl
].
	`c›yTo
–
pCtu
->
	`gëCUMvFõld
–Ω»), 
m_absZIdxInCtu
 );

963 
	`mem˝y
–
pCtu
->
	`gëIPCMFœg
(Ë+ 
m_absZIdxInCtu
, 
m_pbIPCMFœg
, 
iSizeInBoﬁ
 );

965 c⁄° 
UI¡
 
numC€ffY
 = (
pCtu
->
	`gëSli˚
()->
	`gëSPS
()->
	`gëMaxCUWidth
()*pCtu->gëSli˚()->gëSPS()->
	`gëMaxCUHeight
())>>(
uhDïth
<<1);

966 c⁄° 
UI¡
 
off£tY
 = 
m_absZIdxInCtu
*
m_pcPic
->
	`gëMöCUWidth
()*m_pcPic->
	`gëMöCUHeight
();

967 
UI¡
 
comp
=0; comp<
numVÆidComp
; comp++)

969 c⁄° 
Comp⁄ítID
 
comp⁄ít
 = 
	`Comp⁄ítID
(
comp
);

970 c⁄° 
UI¡
 
comp⁄ítShi·
 = 
m_pcPic
->
	`gëComp⁄ítSˇÀX
(
comp⁄ít
Ë+ m_pcPic->
	`gëComp⁄ítSˇÀY
(component);

971 
	`mem˝y
–
pCtu
->
	`gëC€ff
(
comp⁄ít
Ë+ (
off£tY
>>
comp⁄ítShi·
), 
m_pcTrC€ff
[comp⁄ít], (
TC€ff
)*(
numC€ffY
>>componentShift) );

972 #i‡
ADAPTIVE_QP_SELECTION


973 
	`mem˝y
–
pCtu
->
	`gëAæC€ff
(
comp⁄ít
Ë+ (
off£tY
>>
comp⁄ítShi·
), 
m_pcAæC€ff
[comp⁄ít], (
TC€ff
)*(
numC€ffY
>>componentShift) );

975 
	`mem˝y
–
pCtu
->
	`gëPCMSam∂e
(
comp⁄ít
Ë+ (
off£tY
>>
comp⁄ítShi·
), 
m_pcIPCMSam∂e
[comp⁄ít], (
Pñ
)*(
numC€ffY
>>componentShift) );

978 
pCtu
->
	`gëTŸÆBös
(Ë
m_uiTŸÆBös
;

979 
	}
}

985 c⁄° 
TComD©aCU
* 
	gTComD©aCU
::
	$gëPULe·
–
UI¡
& 
uiLP¨tUnôIdx
,

986 
UI¡
 
uiCuºP¨tUnôIdx
,

987 
Boﬁ
 
bEnf‹˚Sli˚Re°ri˘i⁄
,

988 
Boﬁ
 
bEnf‹˚TûeRe°ri˘i⁄
 ) const

990 
UI¡
 
uiAbsP¨tIdx
 = 
g_auiZsˇnToRa°î
[
uiCuºP¨tUnôIdx
];

991 
UI¡
 
uiAbsZ‹dîCUIdx
 = 
g_auiZsˇnToRa°î
[
m_absZIdxInCtu
];

992 c⁄° 
UI¡
 
numP¨tInCtuWidth
 = 
m_pcPic
->
	`gëNumP¨tInCtuWidth
();

994 i‡–!
Ra°îAddªss
::
	`isZîoCﬁ
–
uiAbsP¨tIdx
, 
numP¨tInCtuWidth
 ) )

996 
uiLP¨tUnôIdx
 = 
g_auiRa°îToZsˇn
[ 
uiAbsP¨tIdx
 - 1 ];

997 i‡–
Ra°îAddªss
::
	`isEquÆCﬁ
–
uiAbsP¨tIdx
, 
uiAbsZ‹dîCUIdx
, 
numP¨tInCtuWidth
 ) )

999  
m_pcPic
->
	`gëCtu
–
	`gëCtuRsAddr
() );

1003 
uiLP¨tUnôIdx
 -
m_absZIdxInCtu
;

1004  
this
;

1008 
uiLP¨tUnôIdx
 = 
g_auiRa°îToZsˇn
[ 
uiAbsP¨tIdx
 + 
numP¨tInCtuWidth
 - 1 ];

1009 i‡–(
bEnf‹˚Sli˚Re°ri˘i⁄
 && !
	`CUIsFromSameSli˚
(
m_pCtuLe·
)Ë|| (
bEnf‹˚TûeRe°ri˘i⁄
 && !
	`CUIsFromSameTûe
(m_pCtuLeft)) )

1011  
NULL
;

1013  
m_pCtuLe·
;

1014 
	}
}

1017 c⁄° 
TComD©aCU
* 
	gTComD©aCU
::
	$gëPUAbove
–
UI¡
& 
uiAP¨tUnôIdx
,

1018 
UI¡
 
uiCuºP¨tUnôIdx
,

1019 
Boﬁ
 
bEnf‹˚Sli˚Re°ri˘i⁄
,

1020 
Boﬁ
 
∂™¨AtCtuBound¨y
,

1021 
Boﬁ
 
bEnf‹˚TûeRe°ri˘i⁄
 ) const

1023 
UI¡
 
uiAbsP¨tIdx
 = 
g_auiZsˇnToRa°î
[
uiCuºP¨tUnôIdx
];

1024 
UI¡
 
uiAbsZ‹dîCUIdx
 = 
g_auiZsˇnToRa°î
[
m_absZIdxInCtu
];

1025 c⁄° 
UI¡
 
numP¨tInCtuWidth
 = 
m_pcPic
->
	`gëNumP¨tInCtuWidth
();

1027 i‡–!
Ra°îAddªss
::
	`isZîoRow
–
uiAbsP¨tIdx
, 
numP¨tInCtuWidth
 ) )

1029 
uiAP¨tUnôIdx
 = 
g_auiRa°îToZsˇn
[ 
uiAbsP¨tIdx
 - 
numP¨tInCtuWidth
 ];

1030 i‡–
Ra°îAddªss
::
	`isEquÆRow
–
uiAbsP¨tIdx
, 
uiAbsZ‹dîCUIdx
, 
numP¨tInCtuWidth
 ) )

1032  
m_pcPic
->
	`gëCtu
–
	`gëCtuRsAddr
() );

1036 
uiAP¨tUnôIdx
 -
m_absZIdxInCtu
;

1037  
this
;

1041 if(
∂™¨AtCtuBound¨y
)

1043  
NULL
;

1046 
uiAP¨tUnôIdx
 = 
g_auiRa°îToZsˇn
[ 
uiAbsP¨tIdx
 + 
m_pcPic
->
	`gëNumP¨tôi⁄sInCtu
(Ë- 
numP¨tInCtuWidth
 ];

1048 i‡–(
bEnf‹˚Sli˚Re°ri˘i⁄
 && !
	`CUIsFromSameSli˚
(
m_pCtuAbove
)Ë|| (
bEnf‹˚TûeRe°ri˘i⁄
 && !
	`CUIsFromSameTûe
(m_pCtuAbove)) )

1050  
NULL
;

1052  
m_pCtuAbove
;

1053 
	}
}

1055 c⁄° 
TComD©aCU
* 
	gTComD©aCU
::
	$gëPUAboveLe·
–
UI¡
& 
uiALP¨tUnôIdx
, UI¡ 
uiCuºP¨tUnôIdx
, 
Boﬁ
 
bEnf‹˚Sli˚Re°ri˘i⁄
 ) const

1057 
UI¡
 
uiAbsP¨tIdx
 = 
g_auiZsˇnToRa°î
[
uiCuºP¨tUnôIdx
];

1058 
UI¡
 
uiAbsZ‹dîCUIdx
 = 
g_auiZsˇnToRa°î
[
m_absZIdxInCtu
];

1059 c⁄° 
UI¡
 
numP¨tInCtuWidth
 = 
m_pcPic
->
	`gëNumP¨tInCtuWidth
();

1061 i‡–!
Ra°îAddªss
::
	`isZîoCﬁ
–
uiAbsP¨tIdx
, 
numP¨tInCtuWidth
 ) )

1063 i‡–!
Ra°îAddªss
::
	`isZîoRow
–
uiAbsP¨tIdx
, 
numP¨tInCtuWidth
 ) )

1065 
uiALP¨tUnôIdx
 = 
g_auiRa°îToZsˇn
[ 
uiAbsP¨tIdx
 - 
numP¨tInCtuWidth
 - 1 ];

1066 i‡–
Ra°îAddªss
::
	`isEquÆRowOrCﬁ
–
uiAbsP¨tIdx
, 
uiAbsZ‹dîCUIdx
, 
numP¨tInCtuWidth
 ) )

1068  
m_pcPic
->
	`gëCtu
–
	`gëCtuRsAddr
() );

1072 
uiALP¨tUnôIdx
 -
m_absZIdxInCtu
;

1073  
this
;

1076 
uiALP¨tUnôIdx
 = 
g_auiRa°îToZsˇn
[ 
uiAbsP¨tIdx
 + 
	`gëPic
()->
	`gëNumP¨tôi⁄sInCtu
(Ë- 
numP¨tInCtuWidth
 - 1 ];

1077 i‡–
bEnf‹˚Sli˚Re°ri˘i⁄
 && !
	`CUIsFromSameSli˚AndTûe
(
m_pCtuAbove
) )

1079  
NULL
;

1081  
m_pCtuAbove
;

1084 i‡–!
Ra°îAddªss
::
	`isZîoRow
–
uiAbsP¨tIdx
, 
numP¨tInCtuWidth
 ) )

1086 
uiALP¨tUnôIdx
 = 
g_auiRa°îToZsˇn
[ 
uiAbsP¨tIdx
 - 1 ];

1087 i‡–
bEnf‹˚Sli˚Re°ri˘i⁄
 && !
	`CUIsFromSameSli˚AndTûe
(
m_pCtuLe·
) )

1089  
NULL
;

1091  
m_pCtuLe·
;

1094 
uiALP¨tUnôIdx
 = 
g_auiRa°îToZsˇn
[ 
m_pcPic
->
	`gëNumP¨tôi⁄sInCtu
() - 1 ];

1095 i‡–
bEnf‹˚Sli˚Re°ri˘i⁄
 && !
	`CUIsFromSameSli˚AndTûe
(
m_pCtuAboveLe·
) )

1097  
NULL
;

1099  
m_pCtuAboveLe·
;

1100 
	}
}

1102 c⁄° 
TComD©aCU
* 
	gTComD©aCU
::
	$gëPUBñowLe·
(
UI¡
& 
uiBLP¨tUnôIdx
, UI¡ 
uiCuºP¨tUnôIdx
, UI¡ 
uiP¨tUnôOff£t
, 
Boﬁ
 
bEnf‹˚Sli˚Re°ri˘i⁄
) const

1104 
UI¡
 
uiAbsP¨tIdxLB
 = 
g_auiZsˇnToRa°î
[
uiCuºP¨tUnôIdx
];

1105 c⁄° 
UI¡
 
numP¨tInCtuWidth
 = 
m_pcPic
->
	`gëNumP¨tInCtuWidth
();

1106 
UI¡
 
uiAbsZ‹dîCUIdxLB
 = 
g_auiZsˇnToRa°î
[ 
m_absZIdxInCtu
 ] + ((
m_puhHeight
[0] / 
m_pcPic
->
	`gëMöCUHeight
()Ë- 1)*
numP¨tInCtuWidth
;

1108 if––
m_pcPic
->
	`gëCtu
(
m_˘uRsAddr
)->
	`gëCUPñY
(Ë+ 
g_auiRa°îToPñY
[
uiAbsP¨tIdxLB
] + (m_pcPic->
	`gëPicSym
()->
	`gëMöCUHeight
(Ë* 
uiP¨tUnôOff£t
)Ë>
m_pcSli˚
->
	`gëSPS
()->
	`gëPicHeightInLumaSam∂es
())

1110 
uiBLP¨tUnôIdx
 = 
MAX_UINT
;

1111  
NULL
;

1114 i‡–
Ra°îAddªss
::
	`ÀssTh™Row
–
uiAbsP¨tIdxLB
, 
m_pcPic
->
	`gëNumP¨tInCtuHeight
(Ë- 
uiP¨tUnôOff£t
, 
numP¨tInCtuWidth
 ) )

1116 i‡–!
Ra°îAddªss
::
	`isZîoCﬁ
–
uiAbsP¨tIdxLB
, 
numP¨tInCtuWidth
 ) )

1118 i‡–
uiCuºP¨tUnôIdx
 > 
g_auiRa°îToZsˇn
[ 
uiAbsP¨tIdxLB
 + 
uiP¨tUnôOff£t
 * 
numP¨tInCtuWidth
 - 1 ] )

1120 
uiBLP¨tUnôIdx
 = 
g_auiRa°îToZsˇn
[ 
uiAbsP¨tIdxLB
 + 
uiP¨tUnôOff£t
 * 
numP¨tInCtuWidth
 - 1 ];

1121 i‡–
Ra°îAddªss
::
	`isEquÆRowOrCﬁ
–
uiAbsP¨tIdxLB
, 
uiAbsZ‹dîCUIdxLB
, 
numP¨tInCtuWidth
 ) )

1123  
m_pcPic
->
	`gëCtu
–
	`gëCtuRsAddr
() );

1127 
uiBLP¨tUnôIdx
 -
m_absZIdxInCtu
;

1128  
this
;

1131 
uiBLP¨tUnôIdx
 = 
MAX_UINT
;

1132  
NULL
;

1134 
uiBLP¨tUnôIdx
 = 
g_auiRa°îToZsˇn
[ 
uiAbsP¨tIdxLB
 + (1+
uiP¨tUnôOff£t
Ë* 
numP¨tInCtuWidth
 - 1 ];

1135 i‡–
bEnf‹˚Sli˚Re°ri˘i⁄
 && !
	`CUIsFromSameSli˚AndTûe
(
m_pCtuLe·
) )

1137  
NULL
;

1139  
m_pCtuLe·
;

1142 
uiBLP¨tUnôIdx
 = 
MAX_UINT
;

1143  
NULL
;

1144 
	}
}

1146 c⁄° 
TComD©aCU
* 
	gTComD©aCU
::
	$gëPUAboveRight
(
UI¡
& 
uiARP¨tUnôIdx
, UI¡ 
uiCuºP¨tUnôIdx
, UI¡ 
uiP¨tUnôOff£t
, 
Boﬁ
 
bEnf‹˚Sli˚Re°ri˘i⁄
) const

1148 
UI¡
 
uiAbsP¨tIdxRT
 = 
g_auiZsˇnToRa°î
[
uiCuºP¨tUnôIdx
];

1149 
UI¡
 
uiAbsZ‹dîCUIdx
 = 
g_auiZsˇnToRa°î
[ 
m_absZIdxInCtu
 ] + (
m_puhWidth
[0] / 
m_pcPic
->
	`gëMöCUWidth
()) - 1;

1150 c⁄° 
UI¡
 
numP¨tInCtuWidth
 = 
m_pcPic
->
	`gëNumP¨tInCtuWidth
();

1152 if––
m_pcPic
->
	`gëCtu
(
m_˘uRsAddr
)->
	`gëCUPñX
(Ë+ 
g_auiRa°îToPñX
[
uiAbsP¨tIdxRT
] + (m_pcPic->
	`gëPicSym
()->
	`gëMöCUHeight
(Ë* 
uiP¨tUnôOff£t
)Ë>
m_pcSli˚
->
	`gëSPS
()->
	`gëPicWidthInLumaSam∂es
() )

1154 
uiARP¨tUnôIdx
 = 
MAX_UINT
;

1155  
NULL
;

1158 i‡–
Ra°îAddªss
::
	`ÀssTh™Cﬁ
–
uiAbsP¨tIdxRT
, 
numP¨tInCtuWidth
 - 
uiP¨tUnôOff£t
,ÇumPartInCtuWidth ) )

1160 i‡–!
Ra°îAddªss
::
	`isZîoRow
–
uiAbsP¨tIdxRT
, 
numP¨tInCtuWidth
 ) )

1162 i‡–
uiCuºP¨tUnôIdx
 > 
g_auiRa°îToZsˇn
[ 
uiAbsP¨tIdxRT
 - 
numP¨tInCtuWidth
 + 
uiP¨tUnôOff£t
 ] )

1164 
uiARP¨tUnôIdx
 = 
g_auiRa°îToZsˇn
[ 
uiAbsP¨tIdxRT
 - 
numP¨tInCtuWidth
 + 
uiP¨tUnôOff£t
 ];

1165 i‡–
Ra°îAddªss
::
	`isEquÆRowOrCﬁ
–
uiAbsP¨tIdxRT
, 
uiAbsZ‹dîCUIdx
, 
numP¨tInCtuWidth
 ) )

1167  
m_pcPic
->
	`gëCtu
–
	`gëCtuRsAddr
() );

1171 
uiARP¨tUnôIdx
 -
m_absZIdxInCtu
;

1172  
this
;

1175 
uiARP¨tUnôIdx
 = 
MAX_UINT
;

1176  
NULL
;

1179 
uiARP¨tUnôIdx
 = 
g_auiRa°îToZsˇn
[ 
uiAbsP¨tIdxRT
 + 
m_pcPic
->
	`gëNumP¨tôi⁄sInCtu
(Ë- 
numP¨tInCtuWidth
 + 
uiP¨tUnôOff£t
 ];

1180 i‡–
bEnf‹˚Sli˚Re°ri˘i⁄
 && !
	`CUIsFromSameSli˚AndTûe
(
m_pCtuAbove
) )

1182  
NULL
;

1184  
m_pCtuAbove
;

1187 i‡–!
Ra°îAddªss
::
	`isZîoRow
–
uiAbsP¨tIdxRT
, 
numP¨tInCtuWidth
 ) )

1189 
uiARP¨tUnôIdx
 = 
MAX_UINT
;

1190  
NULL
;

1193 
uiARP¨tUnôIdx
 = 
g_auiRa°îToZsˇn
[ 
m_pcPic
->
	`gëNumP¨tôi⁄sInCtu
(Ë- 
numP¨tInCtuWidth
 + 
uiP¨tUnôOff£t
-1 ];

1194 i‡–
bEnf‹˚Sli˚Re°ri˘i⁄
 && !
	`CUIsFromSameSli˚AndTûe
(
m_pCtuAboveRight
) )

1196  
NULL
;

1198  
m_pCtuAboveRight
;

1199 
	}
}

1206 c⁄° 
TComD©aCU
* 
	gTComD©aCU
::
	$gëQpMöCuLe·
–
UI¡
& 
uiLP¨tUnôIdx
, UI¡ 
uiCuºAbsIdxInCtu
 ) const

1208 c⁄° 
UI¡
 
numP¨tInCtuWidth
 = 
m_pcPic
->
	`gëNumP¨tInCtuWidth
();

1209 c⁄° 
UI¡
 
maxCUDïth
 = 
	`gëSli˚
()->
	`gëSPS
()->
	`gëMaxTŸÆCUDïth
();

1210 c⁄° 
UI¡
 
maxCuDQPDïth
 = 
	`gëSli˚
()->
	`gëPPS
()->
	`gëMaxCuDQPDïth
();

1211 c⁄° 
UI¡
 
doubÀDïthDif„ªn˚
 = ((
maxCUDïth
 - 
maxCuDQPDïth
)<<1);

1212 
UI¡
 
absZ‹dîQpMöCUIdx
 = (
uiCuºAbsIdxInCtu
>>
doubÀDïthDif„ªn˚
)<<doubleDepthDifference;

1213 
UI¡
 
absR‹dîQpMöCUIdx
 = 
g_auiZsˇnToRa°î
[
absZ‹dîQpMöCUIdx
];

1216 i‡–
Ra°îAddªss
::
	`isZîoCﬁ
(
absR‹dîQpMöCUIdx
, 
numP¨tInCtuWidth
) )

1218  
NULL
;

1222 
uiLP¨tUnôIdx
 = 
g_auiRa°îToZsˇn
[
absR‹dîQpMöCUIdx
 - 1];

1225  
m_pcPic
->
	`gëCtu
–
	`gëCtuRsAddr
() );

1226 
	}
}

1233 c⁄° 
TComD©aCU
* 
	gTComD©aCU
::
	$gëQpMöCuAbove
–
UI¡
& 
uiAP¨tUnôIdx
, UI¡ 
uiCuºAbsIdxInCtu
 ) const

1235 c⁄° 
UI¡
 
numP¨tInCtuWidth
 = 
m_pcPic
->
	`gëNumP¨tInCtuWidth
();

1236 c⁄° 
UI¡
 
maxCUDïth
 = 
	`gëSli˚
()->
	`gëSPS
()->
	`gëMaxTŸÆCUDïth
();

1237 c⁄° 
UI¡
 
maxCuDQPDïth
 = 
	`gëSli˚
()->
	`gëPPS
()->
	`gëMaxCuDQPDïth
();

1238 c⁄° 
UI¡
 
doubÀDïthDif„ªn˚
 = ((
maxCUDïth
 - 
maxCuDQPDïth
)<<1);

1239 
UI¡
 
absZ‹dîQpMöCUIdx
 = (
uiCuºAbsIdxInCtu
>>
doubÀDïthDif„ªn˚
)<<doubleDepthDifference;

1240 
UI¡
 
absR‹dîQpMöCUIdx
 = 
g_auiZsˇnToRa°î
[
absZ‹dîQpMöCUIdx
];

1243 i‡–
Ra°îAddªss
::
	`isZîoRow
–
absR‹dîQpMöCUIdx
, 
numP¨tInCtuWidth
) )

1245  
NULL
;

1249 
uiAP¨tUnôIdx
 = 
g_auiRa°îToZsˇn
[
absR‹dîQpMöCUIdx
 - 
numP¨tInCtuWidth
];

1252  
m_pcPic
->
	`gëCtu
–
	`gëCtuRsAddr
() );

1253 
	}
}

1261 
SCh¨
 
	gTComD©aCU
::
	$gëRefQP
–
UI¡
 
uiCuºAbsIdxInCtu
 ) const

1263 
UI¡
 
lP¨tIdx
 = 
MAX_UINT
;

1264 
UI¡
 
aP¨tIdx
 = 
MAX_UINT
;

1265 c⁄° 
TComD©aCU
* 
cULe·
 = 
	`gëQpMöCuLe·
 ( 
lP¨tIdx
, 
m_absZIdxInCtu
 + 
uiCuºAbsIdxInCtu
 );

1266 c⁄° 
TComD©aCU
* 
cUAbove
 = 
	`gëQpMöCuAbove
–
aP¨tIdx
, 
m_absZIdxInCtu
 + 
uiCuºAbsIdxInCtu
 );

1267  (((
cULe·
? cULe·->
	`gëQP
–
lP¨tIdx
 ): 
	`gëLa°CodedQP
–
uiCuºAbsIdxInCtu
 )Ë+ (
cUAbove
? cUAbove->gëQP–
aP¨tIdx
 ): getLastCodedQP( uiCurrAbsIdxInCtu )) + 1) >> 1);

1268 
	}
}

1270 
I¡
 
	gTComD©aCU
::
	$gëLa°VÆidP¨tIdx
–
I¡
 
iAbsP¨tIdx
 ) const

1272 
I¡
 
iLa°VÆidP¨tIdx
 = 
iAbsP¨tIdx
-1;

1273  
iLa°VÆidP¨tIdx
 >= 0

1274 && 
	`gëPªdi˘i⁄Mode
–
iLa°VÆidP¨tIdx
 ) =
NUMBER_OF_PREDICTION_MODES
 )

1276 
UI¡
 
uiDïth
 = 
	`gëDïth
–
iLa°VÆidP¨tIdx
 );

1277 
iLa°VÆidP¨tIdx
 -
m_uiNumP¨tôi⁄
>>(
uiDïth
<<1);

1279  
iLa°VÆidP¨tIdx
;

1280 
	}
}

1282 
SCh¨
 
	gTComD©aCU
::
	$gëLa°CodedQP
–
UI¡
 
uiAbsP¨tIdx
 ) const

1284 
UI¡
 
uiQUP¨tIdxMask
 = ~((1<<((
	`gëSli˚
()->
	`gëSPS
()->
	`gëMaxTŸÆCUDïth
(Ë- gëSli˚()->
	`gëPPS
()->
	`gëMaxCuDQPDïth
())<<1))-1);

1285 
I¡
 
iLa°VÆidP¨tIdx
 = 
	`gëLa°VÆidP¨tIdx
–
uiAbsP¨tIdx
&
uiQUP¨tIdxMask
 );

1287 i‡–
	`gëPic
()->
	`gëPicSym
()->
	`gëCtuTsToRsAddrM≠
(
	`gëSli˚
()->
	`gëSli˚CurSèπCtuTsAddr
()Ë=
	`gëCtuRsAddr
(Ë&& 
	`I¡
(
	`gëZ‹dîIdxInCtu
())+
iLa°VÆidP¨tIdx
<0)

1289  
	`gëSli˚
()->
	`gëSli˚Qp
();

1291 i‡–
iLa°VÆidP¨tIdx
 >= 0 )

1294  
	`gëQP
–
iLa°VÆidP¨tIdx
 );

1298 i‡–
	`gëZ‹dîIdxInCtu
() > 0 )

1301  
	`gëPic
()->
	`gëCtu
–
	`gëCtuRsAddr
(Ë)->
	`gëLa°CodedQP
–
	`gëZ‹dîIdxInCtu
() );

1303 i‡–
	`gëPic
()->
	`gëPicSym
()->
	`gëCtuRsToTsAddrM≠
(
	`gëCtuRsAddr
()) > 0

1304 && 
	`CUIsFromSameSli˚TûeAndWave‰⁄tRow
(
	`gëPic
()->
	`gëCtu
(gëPic()->
	`gëPicSym
()->
	`gëCtuTsToRsAddrM≠
(gëPic()->gëPicSym()->
	`gëCtuRsToTsAddrM≠
(
	`gëCtuRsAddr
())-1))) )

1307  
	`gëPic
()->
	`gëCtu
–gëPic()->
	`gëPicSym
()->
	`gëCtuTsToRsAddrM≠
(gëPic()->gëPicSym()->
	`gëCtuRsToTsAddrM≠
(
	`gëCtuRsAddr
())-1Ë)->
	`gëLa°CodedQP
–gëPic()->
	`gëNumP¨tôi⁄sInCtu
() );

1312  
	`gëSli˚
()->
	`gëSli˚Qp
();

1315 
	}
}

1322 
Boﬁ
 
	gTComD©aCU
::
	$isLos¶essCoded
(
UI¡
 
absP¨tIdx
) const

1324  (
	`gëSli˚
()->
	`gëPPS
()->
	`gëTønsqu™tBy∑ssE«bÀdFœg
(Ë&& 
	`gëCUTønsqu™tBy∑ss
 (
absP¨tIdx
));

1325 
	}
}

1334 
Void
 
	gTComD©aCU
::
	$gëAŒowedChromaDú
–
UI¡
 
uiAbsP¨tIdx
, UI¡ 
uiModeLi°
[
NUM_CHROMA_MODE
] ) const

1336 
uiModeLi°
[0] = 
PLANAR_IDX
;

1337 
uiModeLi°
[1] = 
VER_IDX
;

1338 
uiModeLi°
[2] = 
HOR_IDX
;

1339 
uiModeLi°
[3] = 
DC_IDX
;

1340 
uiModeLi°
[4] = 
DM_CHROMA_IDX
;

1341 
	`as£π
(4<
NUM_CHROMA_MODE
);

1343 
UI¡
 
uiLumaMode
 = 
	`gëI¡øDú
–
CHANNEL_TYPE_LUMA
, 
uiAbsP¨tIdx
 );

1345  
I¡
 
i
 = 0; i < 
NUM_CHROMA_MODE
 - 1; i++ )

1347 if–
uiLumaMode
 =
uiModeLi°
[
i
] )

1349 
uiModeLi°
[
i
] = 34;

1353 
	}
}

1362 
Void
 
	gTComD©aCU
::
	$gëI¡øDúPªdi˘‹
–
UI¡
 
uiAbsP¨tIdx
, 
I¡
 
uiI¡øDúPªd
[
NUM_MOST_PROBABLE_MODES
], c⁄° 
Comp⁄ítID
 
compID
, I¡* 
piMode
 ) const

1364 
UI¡
 
Le·P¨tIdx
 = 
MAX_UINT
;

1365 
UI¡
 
AboveP¨tIdx
 = 
MAX_UINT
;

1366 
I¡
 
iLe·I¡øDú
, 
iAboveI¡øDú
;

1367 c⁄° 
TComSPS
 *
•s
=
	`gëSli˚
()->
	`gëSPS
();

1368 c⁄° 
UI¡
 
∑πsPîMöCU
 = 1<<(2*(
•s
->
	`gëMaxTŸÆCUDïth
(Ë- sps->
	`gëLog2DiffMaxMöCodögBlockSize
()));

1370 c⁄° 
Ch™√lTy≥
 
chTy≥
 = 
	`toCh™√lTy≥
(
compID
);

1371 c⁄° 
ChromaF‹m©
 
chF‹m
 = 
	`gëPic
()->
	`gëChromaF‹m©
();

1373 c⁄° 
TComD©aCU
 *
pcCULe·
 = 
	`gëPULe·
–
Le·P¨tIdx
, 
m_absZIdxInCtu
 + 
uiAbsP¨tIdx
 );

1375 i‡(
	`isChroma
(
compID
))

1377 
Le·P¨tIdx
 = 
	`gëChromasC‹ª•⁄dögPULumaIdx
(Le·P¨tIdx, 
chF‹m
, 
∑πsPîMöCU
);

1379 
iLe·I¡øDú
 = 
pcCULe·
 ? (ÖcCULe·->
	`isI¡ø
–
Le·P¨tIdx
 ) ?ÖcCULe·->
	`gëI¡øDú
–
chTy≥
, Le·P¨tIdx ) : 
DC_IDX
 ) : DC_IDX;

1382 c⁄° 
TComD©aCU
 *
pcCUAbove
 = 
	`gëPUAbove
–
AboveP¨tIdx
, 
m_absZIdxInCtu
 + 
uiAbsP¨tIdx
, 
åue
,Årue );

1384 i‡(
	`isChroma
(
compID
))

1386 
AboveP¨tIdx
 = 
	`gëChromasC‹ª•⁄dögPULumaIdx
(AboveP¨tIdx, 
chF‹m
, 
∑πsPîMöCU
);

1388 
iAboveI¡øDú
 = 
pcCUAbove
 ? (ÖcCUAbove->
	`isI¡ø
–
AboveP¨tIdx
 ) ?ÖcCUAbove->
	`gëI¡øDú
–
chTy≥
, AboveP¨tIdx ) : 
DC_IDX
 ) : DC_IDX;

1390 i‡(
	`isChroma
(
chTy≥
))

1392 i‡(
iLe·I¡øDú
 =
DM_CHROMA_IDX
)

1394 
iLe·I¡øDú
 = 
pcCULe·
-> 
	`gëI¡øDú
–
CHANNEL_TYPE_LUMA
, 
Le·P¨tIdx
 );

1396 i‡(
iAboveI¡øDú
 =
DM_CHROMA_IDX
)

1398 
iAboveI¡øDú
 = 
pcCUAbove
->
	`gëI¡øDú
–
CHANNEL_TYPE_LUMA
, 
AboveP¨tIdx
 );

1402 
	`as£π
 (2<
NUM_MOST_PROBABLE_MODES
);

1403 if(
iLe·I¡øDú
 =
iAboveI¡øDú
)

1405 if–
piMode
 )

1407 *
piMode
 = 1;

1410 i‡(
iLe·I¡øDú
 > 1)

1412 
uiI¡øDúPªd
[0] = 
iLe·I¡øDú
;

1413 
uiI¡øDúPªd
[1] = ((
iLe·I¡øDú
 + 29) % 32) + 2;

1414 
uiI¡øDúPªd
[2] = ((
iLe·I¡øDú
 - 1 ) % 32) + 2;

1418 
uiI¡øDúPªd
[0] = 
PLANAR_IDX
;

1419 
uiI¡øDúPªd
[1] = 
DC_IDX
;

1420 
uiI¡øDúPªd
[2] = 
VER_IDX
;

1425 if–
piMode
 )

1427 *
piMode
 = 2;

1429 
uiI¡øDúPªd
[0] = 
iLe·I¡øDú
;

1430 
uiI¡øDúPªd
[1] = 
iAboveI¡øDú
;

1432 i‡(
iLe·I¡øDú
 && 
iAboveI¡øDú
 )

1434 
uiI¡øDúPªd
[2] = 
PLANAR_IDX
;

1438 
uiI¡øDúPªd
[2] = (
iLe·I¡øDú
+
iAboveI¡øDú
)<2? 
VER_IDX
 : 
DC_IDX
;

1441 
UI¡
 
i
=0; i<
NUM_MOST_PROBABLE_MODES
; i++)

1443 
	`as£π
(
uiI¡øDúPªd
[
i
] < 35);

1445 
	}
}

1447 
UI¡
 
	gTComD©aCU
::
	$gëCtxS∂ôFœg
–
UI¡
 
uiAbsP¨tIdx
, UI¡ 
uiDïth
 ) const

1449 c⁄° 
TComD©aCU
* 
pcTempCU
;

1450 
UI¡
 
uiTempP¨tIdx
;

1451 
UI¡
 
uiCtx
;

1453 
pcTempCU
 = 
	`gëPULe·
–
uiTempP¨tIdx
, 
m_absZIdxInCtu
 + 
uiAbsP¨tIdx
 );

1454 
uiCtx
 = ( 
pcTempCU
 ) ? ( (ÖcTempCU->
	`gëDïth
–
uiTempP¨tIdx
 ) > 
uiDïth
 ) ? 1 : 0 ) : 0;

1457 
pcTempCU
 = 
	`gëPUAbove
–
uiTempP¨tIdx
, 
m_absZIdxInCtu
 + 
uiAbsP¨tIdx
 );

1458 
uiCtx
 +–
pcTempCU
 ) ? ( (ÖcTempCU->
	`gëDïth
–
uiTempP¨tIdx
 ) > 
uiDïth
 ) ? 1 : 0 ) : 0;

1460  
uiCtx
;

1461 
	}
}

1463 
UI¡
 
	gTComD©aCU
::
	$gëCtxQtCbf
–
TComTU
 &
rTu
, c⁄° 
Ch™√lTy≥
 
chTy≥
 ) const

1465 c⁄° 
UI¡
 
å™sf‹mDïth
 = 
rTu
.
	`GëTønsf‹mDïthRñ
();

1467 i‡(
	`isChroma
(
chTy≥
))

1469  
å™sf‹mDïth
;

1473 c⁄° 
UI¡
 
uiCtx
 = ( 
å™sf‹mDïth
 == 0 ? 1 : 0 );

1474  
uiCtx
;

1476 
	}
}

1478 
UI¡
 
	gTComD©aCU
::
	$gëQuadåìTULog2MöSizeInCU
–
UI¡
 
absP¨tIdx
 ) const

1480 
UI¡
 
log2CbSize
 = 
g_aucC⁄vîtToBô
[
	`gëWidth
–
absP¨tIdx
 )] + 2;

1481 
P¨tSize
 
∑πSize
 = 
	`gëP¨tôi⁄Size
–
absP¨tIdx
 );

1482 
UI¡
 
quadåìTUMaxDïth
 = 
	`isI¡ø
–
absP¨tIdx
 ) ? 
m_pcSli˚
->
	`gëSPS
()->
	`gëQuadåìTUMaxDïthI¡ø
(Ë: m_pcSli˚->gëSPS()->
	`gëQuadåìTUMaxDïthI¡î
();

1483 
I¡
 
öåaS∂ôFœg
 = ( 
	`isI¡ø
–
absP¨tIdx
 ) && 
∑πSize
 =
SIZE_NxN
 ) ? 1 : 0;

1484 
I¡
 
öãrS∂ôFœg
 = ((
quadåìTUMaxDïth
 =1Ë&& 
	`isI¡î
–
absP¨tIdx
 ) && (
∑πSize
 !
SIZE_2Nx2N
) );

1486 
UI¡
 
log2MöTUSizeInCU
 = 0;

1487 i‡(
log2CbSize
 < (
m_pcSli˚
->
	`gëSPS
()->
	`gëQuadåìTULog2MöSize
(Ë+ 
quadåìTUMaxDïth
 - 1 + 
öãrS∂ôFœg
 + 
öåaS∂ôFœg
) )

1490 
log2MöTUSizeInCU
 = 
m_pcSli˚
->
	`gëSPS
()->
	`gëQuadåìTULog2MöSize
();

1495 
log2MöTUSizeInCU
 = 
log2CbSize
 - ( 
quadåìTUMaxDïth
 - 1 + 
öãrS∂ôFœg
 + 
öåaS∂ôFœg
);

1496 i‡–
log2MöTUSizeInCU
 > 
m_pcSli˚
->
	`gëSPS
()->
	`gëQuadåìTULog2MaxSize
())

1499 
log2MöTUSizeInCU
 = 
m_pcSli˚
->
	`gëSPS
()->
	`gëQuadåìTULog2MaxSize
();

1502  
log2MöTUSizeInCU
;

1503 
	}
}

1505 
UI¡
 
	gTComD©aCU
::
	$gëCtxSkùFœg
–
UI¡
 
uiAbsP¨tIdx
 ) const

1507 c⁄° 
TComD©aCU
* 
pcTempCU
;

1508 
UI¡
 
uiTempP¨tIdx
;

1509 
UI¡
 
uiCtx
 = 0;

1512 
pcTempCU
 = 
	`gëPULe·
–
uiTempP¨tIdx
, 
m_absZIdxInCtu
 + 
uiAbsP¨tIdx
 );

1513 
uiCtx
 = ( 
pcTempCU
 ) ?ÖcTempCU->
	`isSkù≥d
–
uiTempP¨tIdx
 ) : 0;

1516 
pcTempCU
 = 
	`gëPUAbove
–
uiTempP¨tIdx
, 
m_absZIdxInCtu
 + 
uiAbsP¨tIdx
 );

1517 
uiCtx
 +–
pcTempCU
 ) ?ÖcTempCU->
	`isSkù≥d
–
uiTempP¨tIdx
 ) : 0;

1519  
uiCtx
;

1520 
	}
}

1522 
UI¡
 
	gTComD©aCU
::
	$gëCtxI¡îDú
–
UI¡
 
uiAbsP¨tIdx
 ) const

1524  
	`gëDïth
–
uiAbsP¨tIdx
 );

1525 
	}
}

1528 
UCh¨
 
	gTComD©aCU
::
	$gëQtRoŸCbf
–
UI¡
 
uiIdx
 ) const

1530 c⁄° 
UI¡
 
numbîVÆidComp⁄íts
 = 
	`gëPic
()->
	`gëNumbîVÆidComp⁄íts
();

1531  
	`gëCbf
–
uiIdx
, 
COMPONENT_Y
, 0 )

1532 || ((
numbîVÆidComp⁄íts
 > 
COMPONENT_Cb
Ë&& 
	`gëCbf
–
uiIdx
, COMPONENT_Cb, 0 ))

1533 || ((
numbîVÆidComp⁄íts
 > 
COMPONENT_Cr
Ë&& 
	`gëCbf
–
uiIdx
, COMPONENT_Cr, 0 ));

1534 
	}
}

1536 
Void
 
	gTComD©aCU
::
	$£tCbfSubP¨ts
–c⁄° 
UI¡
 
uiCbf
[
MAX_NUM_COMPONENT
], UI¡ 
uiAbsP¨tIdx
, UI¡ 
uiDïth
 )

1538 
UI¡
 
uiCuºP¨tNumb
 = 
m_pcPic
->
	`gëNumP¨tôi⁄sInCtu
(Ë>> (
uiDïth
 << 1);

1539 
UI¡
 
comp
=0; comp<
MAX_NUM_COMPONENT
; comp++)

1541 
	`mem£t
–
m_puhCbf
[
comp
] + 
uiAbsP¨tIdx
, 
uiCbf
[comp], –
UCh¨
 ) * 
uiCuºP¨tNumb
 );

1543 
	}
}

1545 
Void
 
	gTComD©aCU
::
	$£tCbfSubP¨ts
–
UI¡
 
uiCbf
, 
Comp⁄ítID
 
compID
, UI¡ 
uiAbsP¨tIdx
, UI¡ 
uiDïth
 )

1547 
UI¡
 
uiCuºP¨tNumb
 = 
m_pcPic
->
	`gëNumP¨tôi⁄sInCtu
(Ë>> (
uiDïth
 << 1);

1548 
	`mem£t
–
m_puhCbf
[
compID
] + 
uiAbsP¨tIdx
, 
uiCbf
, –
UCh¨
 ) * 
uiCuºP¨tNumb
 );

1549 
	}
}

1558 
Void
 
	gTComD©aCU
::
	$£tCbfSubP¨ts
 ( 
UI¡
 
uiCbf
, 
Comp⁄ítID
 
compID
, UI¡ 
uiAbsP¨tIdx
, UI¡ 
uiP¨tIdx
, UI¡ 
uiDïth
 )

1560 
£tSubP¨t
<
UCh¨
>–
uiCbf
, 
m_puhCbf
[
compID
], 
uiAbsP¨tIdx
, 
uiDïth
, 
uiP¨tIdx
 );

1561 
	}
}

1563 
Void
 
	gTComD©aCU
::
	$£tCbfP¨tR™ge
 ( 
UI¡
 
uiCbf
, 
Comp⁄ítID
 
compID
, UI¡ 
uiAbsP¨tIdx
, UI¡ 
uiCovîedP¨tIdxes
 )

1565 
	`mem£t
((
m_puhCbf
[
compID
] + 
uiAbsP¨tIdx
), 
uiCbf
, ((
UCh¨
Ë* 
uiCovîedP¨tIdxes
));

1566 
	}
}

1568 
Void
 
	gTComD©aCU
::
	$bôwi£OrCbfP¨tR™ge
–
UI¡
 
uiCbf
, 
Comp⁄ítID
 
compID
, UI¡ 
uiAbsP¨tIdx
, UI¡ 
uiCovîedP¨tIdxes
 )

1570 c⁄° 
UI¡
 
°›AbsP¨tIdx
 = 
uiAbsP¨tIdx
 + 
uiCovîedP¨tIdxes
;

1572 
UI¡
 
subP¨tIdx
 = 
uiAbsP¨tIdx
; subP¨tIdx < 
°›AbsP¨tIdx
; subPartIdx++)

1574 
m_puhCbf
[
compID
][
subP¨tIdx
] |
uiCbf
;

1576 
	}
}

1578 
Void
 
	gTComD©aCU
::
	$£tDïthSubP¨ts
–
UI¡
 
uiDïth
, UI¡ 
uiAbsP¨tIdx
 )

1580 
UI¡
 
uiCuºP¨tNumb
 = 
m_pcPic
->
	`gëNumP¨tôi⁄sInCtu
(Ë>> (
uiDïth
 << 1);

1581 
	`mem£t
–
m_puhDïth
 + 
uiAbsP¨tIdx
, 
uiDïth
, (
UCh¨
)*
uiCuºP¨tNumb
 );

1582 
	}
}

1584 
Boﬁ
 
	gTComD©aCU
::
	$isFú°AbsZ‹dîIdxInDïth
 (
UI¡
 
uiAbsP¨tIdx
, UI¡ 
uiDïth
) const

1586 
UI¡
 
uiP¨tNumb
 = 
m_pcPic
->
	`gëNumP¨tôi⁄sInCtu
(Ë>> (
uiDïth
 << 1);

1587  (((
m_absZIdxInCtu
 + 
uiAbsP¨tIdx
)% 
uiP¨tNumb
) == 0);

1588 
	}
}

1590 
Void
 
	gTComD©aCU
::
	$£tP¨tSizeSubP¨ts
–
P¨tSize
 
eMode
, 
UI¡
 
uiAbsP¨tIdx
, UI¡ 
uiDïth
 )

1592 
	`as£π
––*
m_≥P¨tSize
) == 1 );

1593 
	`mem£t
–
m_≥P¨tSize
 + 
uiAbsP¨tIdx
, 
eMode
, 
m_pcPic
->
	`gëNumP¨tôi⁄sInCtu
(Ë>> ( 2 * 
uiDïth
 ) );

1594 
	}
}

1596 
Void
 
	gTComD©aCU
::
	$£tCUTønsqu™tBy∑ssSubP¨ts
–
Boﬁ
 
Êag
, 
UI¡
 
uiAbsP¨tIdx
, UI¡ 
uiDïth
 )

1598 
	`mem£t
–
m_CUTønsqu™tBy∑ss
 + 
uiAbsP¨tIdx
, 
Êag
, 
m_pcPic
->
	`gëNumP¨tôi⁄sInCtu
(Ë>> ( 2 * 
uiDïth
 ) );

1599 
	}
}

1601 
Void
 
	gTComD©aCU
::
	$£tSkùFœgSubP¨ts
–
Boﬁ
 
skù
, 
UI¡
 
absP¨tIdx
, UI¡ 
dïth
 )

1603 
	`as£π
––*
m_skùFœg
) == 1 );

1604 
	`mem£t
–
m_skùFœg
 + 
absP¨tIdx
, 
skù
, 
m_pcPic
->
	`gëNumP¨tôi⁄sInCtu
(Ë>> ( 2 * 
dïth
 ) );

1605 
	}
}

1607 
Void
 
	gTComD©aCU
::
	$£tPªdModeSubP¨ts
–
PªdMode
 
eMode
, 
UI¡
 
uiAbsP¨tIdx
, UI¡ 
uiDïth
 )

1609 
	`as£π
––*
m_≥PªdMode
) == 1 );

1610 
	`mem£t
–
m_≥PªdMode
 + 
uiAbsP¨tIdx
, 
eMode
, 
m_pcPic
->
	`gëNumP¨tôi⁄sInCtu
(Ë>> ( 2 * 
uiDïth
 ) );

1611 
	}
}

1613 
Void
 
	gTComD©aCU
::
	$£tChromaQpAdjSubP¨ts
–
UCh¨
 
vÆ
, 
I¡
 
absP¨tIdx
, I¡ 
dïth
 )

1615 
	`as£π
–(*
m_ChromaQpAdj
) == 1 );

1616 
	`mem£t
–
m_ChromaQpAdj
 + 
absP¨tIdx
, 
vÆ
, 
m_pcPic
->
	`gëNumP¨tôi⁄sInCtu
(Ë>> ( 2 * 
dïth
 ) );

1617 
	}
}

1619 
Void
 
	gTComD©aCU
::
	$£tQPSubCUs
–
I¡
 
qp
, 
UI¡
 
absP¨tIdx
, UI¡ 
dïth
, 
Boﬁ
 &
foundN⁄ZîoCbf
 )

1621 
UI¡
 
cuºP¨tNumb
 = 
m_pcPic
->
	`gëNumP¨tôi⁄sInCtu
(Ë>> (
dïth
 << 1);

1622 
UI¡
 
cuºP¨tNumQ
 = 
cuºP¨tNumb
 >> 2;

1623 c⁄° 
UI¡
 
numVÆidComp
 = 
m_pcPic
->
	`gëNumbîVÆidComp⁄íts
();

1625 if(!
foundN⁄ZîoCbf
)

1627 if(
	`gëDïth
(
absP¨tIdx
Ë> 
dïth
)

1629  
UI¡
 
∑πUnôIdx
 = 0;ÖartUnitIdx < 4;ÖartUnitIdx++ )

1631 
	`£tQPSubCUs
–
qp
, 
absP¨tIdx
+
∑πUnôIdx
*
cuºP¨tNumQ
, 
dïth
+1, 
foundN⁄ZîoCbf
 );

1636 if(
	`gëCbf
–
absP¨tIdx
, 
COMPONENT_Y
 ) || (
numVÆidComp
>
COMPONENT_Cb
 && gëCbf–absP¨tIdx, COMPONENT_Cb )Ë|| (numVÆidComp>
COMPONENT_Cr
 && getCbf(ábsPartIdx, COMPONENT_Cr) ) )

1638 
foundN⁄ZîoCbf
 = 
åue
;

1642 
	`£tQPSubP¨ts
(
qp
, 
absP¨tIdx
, 
dïth
);

1646 
	}
}

1648 
Void
 
	gTComD©aCU
::
	$£tQPSubP¨ts
–
I¡
 
qp
, 
UI¡
 
uiAbsP¨tIdx
, UI¡ 
uiDïth
 )

1650 c⁄° 
UI¡
 
numP¨t
 = 
m_pcPic
->
	`gëNumP¨tôi⁄sInCtu
(Ë>> (
uiDïth
 << 1);

1651 
	`mem£t
(
m_phQP
+
uiAbsP¨tIdx
, 
qp
, 
numP¨t
);

1652 
	}
}

1654 
Void
 
	gTComD©aCU
::
	$£tI¡øDúSubP¨ts
–c⁄° 
Ch™√lTy≥
 
ch™√lTy≥
, c⁄° 
UI¡
 
dú
, c⁄° UI¡ 
absP¨tIdx
, c⁄° UI¡ 
dïth
 )

1656 
UI¡
 
numP¨t
 = 
m_pcPic
->
	`gëNumP¨tôi⁄sInCtu
(Ë>> (
dïth
 << 1);

1657 
	`mem£t
–
m_puhI¡øDú
[
ch™√lTy≥
] + 
absP¨tIdx
, 
dú
,(
UCh¨
)*
numP¨t
 );

1658 
	}
}

1660 
	gãm∂©e
<
ty≥«me
 
	gT
>

1661 
Void
 
	gTComD©aCU
::
	$£tSubP¨t
–
T
 
uiP¨amëî
, T* 
puhBa£Ctu
, 
UI¡
 
uiCUAddr
, UI¡ 
uiCUDïth
, UI¡ 
uiPUIdx
 )

1663 
	`as£π
–(
T
) == 1 );

1665 
UI¡
 
uiCuºP¨tNumQ
 = (
m_pcPic
->
	`gëNumP¨tôi⁄sInCtu
(Ë>> (2 * 
uiCUDïth
)) >> 2;

1666  
m_≥P¨tSize
[ 
uiCUAddr
 ] )

1668 
SIZE_2Nx2N
:

1669 
	`mem£t
–
puhBa£Ctu
 + 
uiCUAddr
, 
uiP¨amëî
, 4 * 
uiCuºP¨tNumQ
 );

1671 
SIZE_2NxN
:

1672 
	`mem£t
–
puhBa£Ctu
 + 
uiCUAddr
, 
uiP¨amëî
, 2 * 
uiCuºP¨tNumQ
 );

1674 
SIZE_Nx2N
:

1675 
	`mem£t
–
puhBa£Ctu
 + 
uiCUAddr
, 
uiP¨amëî
, 
uiCuºP¨tNumQ
 );

1676 
	`mem£t
–
puhBa£Ctu
 + 
uiCUAddr
 + 2 * 
uiCuºP¨tNumQ
, 
uiP¨amëî
, uiCurrPartNumQ );

1678 
SIZE_NxN
:

1679 
	`mem£t
–
puhBa£Ctu
 + 
uiCUAddr
, 
uiP¨amëî
, 
uiCuºP¨tNumQ
 );

1681 
SIZE_2NxnU
:

1682 i‡–
uiPUIdx
 == 0 )

1684 
	`mem£t
–
puhBa£Ctu
 + 
uiCUAddr
, 
uiP¨amëî
, (
uiCuºP¨tNumQ
 >> 1) );

1685 
	`mem£t
–
puhBa£Ctu
 + 
uiCUAddr
 + 
uiCuºP¨tNumQ
, 
uiP¨amëî
, (uiCurrPartNumQ >> 1) );

1687 i‡–
uiPUIdx
 == 1 )

1689 
	`mem£t
–
puhBa£Ctu
 + 
uiCUAddr
, 
uiP¨amëî
, (
uiCuºP¨tNumQ
 >> 1) );

1690 
	`mem£t
–
puhBa£Ctu
 + 
uiCUAddr
 + 
uiCuºP¨tNumQ
, 
uiP¨amëî
, ((uiCurrPartNumQ >> 1) + (uiCurrPartNumQ << 1)) );

1694 
	`as£π
(0);

1697 
SIZE_2NxnD
:

1698 i‡–
uiPUIdx
 == 0 )

1700 
	`mem£t
–
puhBa£Ctu
 + 
uiCUAddr
, 
uiP¨amëî
, ((
uiCuºP¨tNumQ
 << 1) + (uiCurrPartNumQ >> 1)) );

1701 
	`mem£t
–
puhBa£Ctu
 + 
uiCUAddr
 + (
uiCuºP¨tNumQ
 << 1Ë+ uiCuºP¨tNumQ, 
uiP¨amëî
, (uiCurrPartNumQ >> 1) );

1703 i‡–
uiPUIdx
 == 1 )

1705 
	`mem£t
–
puhBa£Ctu
 + 
uiCUAddr
, 
uiP¨amëî
, (
uiCuºP¨tNumQ
 >> 1) );

1706 
	`mem£t
–
puhBa£Ctu
 + 
uiCUAddr
 + 
uiCuºP¨tNumQ
, 
uiP¨amëî
, (uiCurrPartNumQ >> 1) );

1710 
	`as£π
(0);

1713 
SIZE_nLx2N
:

1714 i‡–
uiPUIdx
 == 0 )

1716 
	`mem£t
–
puhBa£Ctu
 + 
uiCUAddr
, 
uiP¨amëî
, (
uiCuºP¨tNumQ
 >> 2) );

1717 
	`mem£t
–
puhBa£Ctu
 + 
uiCUAddr
 + (
uiCuºP¨tNumQ
 >> 1), 
uiP¨amëî
, (uiCurrPartNumQ >> 2) );

1718 
	`mem£t
–
puhBa£Ctu
 + 
uiCUAddr
 + (
uiCuºP¨tNumQ
 << 1), 
uiP¨amëî
, (uiCurrPartNumQ >> 2) );

1719 
	`mem£t
–
puhBa£Ctu
 + 
uiCUAddr
 + (
uiCuºP¨tNumQ
 << 1Ë+ (uiCuºP¨tNumQ >> 1), 
uiP¨amëî
, (uiCurrPartNumQ >> 2) );

1721 i‡–
uiPUIdx
 == 1 )

1723 
	`mem£t
–
puhBa£Ctu
 + 
uiCUAddr
, 
uiP¨amëî
, (
uiCuºP¨tNumQ
 >> 2) );

1724 
	`mem£t
–
puhBa£Ctu
 + 
uiCUAddr
 + (
uiCuºP¨tNumQ
 >> 1), 
uiP¨amëî
, (uiCurrPartNumQ + (uiCurrPartNumQ >> 2)) );

1725 
	`mem£t
–
puhBa£Ctu
 + 
uiCUAddr
 + (
uiCuºP¨tNumQ
 << 1), 
uiP¨amëî
, (uiCurrPartNumQ >> 2) );

1726 
	`mem£t
–
puhBa£Ctu
 + 
uiCUAddr
 + (
uiCuºP¨tNumQ
 << 1Ë+ (uiCuºP¨tNumQ >> 1), 
uiP¨amëî
, (uiCurrPartNumQ + (uiCurrPartNumQ >> 2)) );

1730 
	`as£π
(0);

1733 
SIZE_nRx2N
:

1734 i‡–
uiPUIdx
 == 0 )

1736 
	`mem£t
–
puhBa£Ctu
 + 
uiCUAddr
, 
uiP¨amëî
, (
uiCuºP¨tNumQ
 + (uiCurrPartNumQ >> 2)) );

1737 
	`mem£t
–
puhBa£Ctu
 + 
uiCUAddr
 + 
uiCuºP¨tNumQ
 + (uiCuºP¨tNumQ >> 1), 
uiP¨amëî
, (uiCurrPartNumQ >> 2) );

1738 
	`mem£t
–
puhBa£Ctu
 + 
uiCUAddr
 + (
uiCuºP¨tNumQ
 << 1), 
uiP¨amëî
, (uiCurrPartNumQ + (uiCurrPartNumQ >> 2)) );

1739 
	`mem£t
–
puhBa£Ctu
 + 
uiCUAddr
 + (
uiCuºP¨tNumQ
 << 1Ë+ uiCuºP¨tNumQ + (uiCuºP¨tNumQ >> 1), 
uiP¨amëî
, (uiCurrPartNumQ >> 2) );

1741 i‡–
uiPUIdx
 == 1 )

1743 
	`mem£t
–
puhBa£Ctu
 + 
uiCUAddr
, 
uiP¨amëî
, (
uiCuºP¨tNumQ
 >> 2) );

1744 
	`mem£t
–
puhBa£Ctu
 + 
uiCUAddr
 + (
uiCuºP¨tNumQ
 >> 1), 
uiP¨amëî
, (uiCurrPartNumQ >> 2) );

1745 
	`mem£t
–
puhBa£Ctu
 + 
uiCUAddr
 + (
uiCuºP¨tNumQ
 << 1), 
uiP¨amëî
, (uiCurrPartNumQ >> 2) );

1746 
	`mem£t
–
puhBa£Ctu
 + 
uiCUAddr
 + (
uiCuºP¨tNumQ
 << 1Ë+ (uiCuºP¨tNumQ >> 1), 
uiP¨amëî
, (uiCurrPartNumQ >> 2) );

1750 
	`as£π
(0);

1754 
	`as£π
( 0 );

1757 
	}
}

1759 
Void
 
	gTComD©aCU
::
	$£tMîgeFœgSubP¨ts
 ( 
Boﬁ
 
bMîgeFœg
, 
UI¡
 
uiAbsP¨tIdx
, UI¡ 
uiP¨tIdx
, UI¡ 
uiDïth
 )

1761 
	`£tSubP¨t
–
bMîgeFœg
, 
m_pbMîgeFœg
, 
uiAbsP¨tIdx
, 
uiDïth
, 
uiP¨tIdx
 );

1762 
	}
}

1764 
Void
 
	gTComD©aCU
::
	$£tMîgeIndexSubP¨ts
 ( 
UI¡
 
uiMîgeIndex
, UI¡ 
uiAbsP¨tIdx
, UI¡ 
uiP¨tIdx
, UI¡ 
uiDïth
 )

1766 
£tSubP¨t
<
UCh¨
>–
uiMîgeIndex
, 
m_puhMîgeIndex
, 
uiAbsP¨tIdx
, 
uiDïth
, 
uiP¨tIdx
 );

1767 
	}
}

1769 
Void
 
	gTComD©aCU
::
	$£tI¡îDúSubP¨ts
–
UI¡
 
uiDú
, UI¡ 
uiAbsP¨tIdx
, UI¡ 
uiP¨tIdx
, UI¡ 
uiDïth
 )

1771 
£tSubP¨t
<
UCh¨
>–
uiDú
, 
m_puhI¡îDú
, 
uiAbsP¨tIdx
, 
uiDïth
, 
uiP¨tIdx
 );

1772 
	}
}

1774 
Void
 
	gTComD©aCU
::
	$£tMVPIdxSubP¨ts
–
I¡
 
iMVPIdx
, 
RefPicLi°
 
eRefPicLi°
, 
UI¡
 
uiAbsP¨tIdx
, UI¡ 
uiP¨tIdx
, UI¡ 
uiDïth
 )

1776 
£tSubP¨t
<
SCh¨
>–
iMVPIdx
, 
m_≠iMVPIdx
[
eRefPicLi°
], 
uiAbsP¨tIdx
, 
uiDïth
, 
uiP¨tIdx
 );

1777 
	}
}

1779 
Void
 
	gTComD©aCU
::
	$£tMVPNumSubP¨ts
–
I¡
 
iMVPNum
, 
RefPicLi°
 
eRefPicLi°
, 
UI¡
 
uiAbsP¨tIdx
, UI¡ 
uiP¨tIdx
, UI¡ 
uiDïth
 )

1781 
£tSubP¨t
<
SCh¨
>–
iMVPNum
, 
m_≠iMVPNum
[
eRefPicLi°
], 
uiAbsP¨tIdx
, 
uiDïth
, 
uiP¨tIdx
 );

1782 
	}
}

1785 
Void
 
	gTComD©aCU
::
	$£tTrIdxSubP¨ts
–
UI¡
 
uiTrIdx
, UI¡ 
uiAbsP¨tIdx
, UI¡ 
uiDïth
 )

1787 
UI¡
 
uiCuºP¨tNumb
 = 
m_pcPic
->
	`gëNumP¨tôi⁄sInCtu
(Ë>> (
uiDïth
 << 1);

1789 
	`mem£t
–
m_puhTrIdx
 + 
uiAbsP¨tIdx
, 
uiTrIdx
, (
UCh¨
)*
uiCuºP¨tNumb
 );

1790 
	}
}

1792 
Void
 
	gTComD©aCU
::
	$£tTønsf‹mSkùSubP¨ts
–c⁄° 
UI¡
 
u£Tønsf‹mSkù
[
MAX_NUM_COMPONENT
], UI¡ 
uiAbsP¨tIdx
, UI¡ 
uiDïth
 )

1794 
UI¡
 
uiCuºP¨tNumb
 = 
m_pcPic
->
	`gëNumP¨tôi⁄sInCtu
(Ë>> (
uiDïth
 << 1);

1796 
UI¡
 
i
=0; i<
MAX_NUM_COMPONENT
; i++)

1798 
	`mem£t
–
m_puhTønsf‹mSkù
[
i
] + 
uiAbsP¨tIdx
, 
u£Tønsf‹mSkù
[i], –
UCh¨
 ) * 
uiCuºP¨tNumb
 );

1800 
	}
}

1802 
Void
 
	gTComD©aCU
::
	$£tTønsf‹mSkùSubP¨ts
–
UI¡
 
u£Tønsf‹mSkù
, 
Comp⁄ítID
 
compID
, UI¡ 
uiAbsP¨tIdx
, UI¡ 
uiDïth
)

1804 
UI¡
 
uiCuºP¨tNumb
 = 
m_pcPic
->
	`gëNumP¨tôi⁄sInCtu
(Ë>> (
uiDïth
 << 1);

1806 
	`mem£t
–
m_puhTønsf‹mSkù
[
compID
] + 
uiAbsP¨tIdx
, 
u£Tønsf‹mSkù
, –
UCh¨
 ) * 
uiCuºP¨tNumb
 );

1807 
	}
}

1809 
Void
 
	gTComD©aCU
::
	$£tTønsf‹mSkùP¨tR™ge
 ( 
UI¡
 
u£Tønsf‹mSkù
, 
Comp⁄ítID
 
compID
, UI¡ 
uiAbsP¨tIdx
, UI¡ 
uiCovîedP¨tIdxes
 )

1811 
	`mem£t
((
m_puhTønsf‹mSkù
[
compID
] + 
uiAbsP¨tIdx
), 
u£Tønsf‹mSkù
, ((
UCh¨
Ë* 
uiCovîedP¨tIdxes
));

1812 
	}
}

1814 
Void
 
	gTComD©aCU
::
	$£tCrossComp⁄ítPªdi˘i⁄AÕhaP¨tR™ge
–
SCh¨
 
ÆphaVÆue
, 
Comp⁄ítID
 
compID
, 
UI¡
 
uiAbsP¨tIdx
, UI¡ 
uiCovîedP¨tIdxes
 )

1816 
	`mem£t
((
m_¸ossComp⁄ítPªdi˘i⁄AÕha
[
compID
] + 
uiAbsP¨tIdx
), 
ÆphaVÆue
, ((
SCh¨
Ë* 
uiCovîedP¨tIdxes
));

1817 
	}
}

1819 
Void
 
	gTComD©aCU
::
	$£tEx∂icôRdpcmModeP¨tR™ge
 ( 
UI¡
 
rdpcmMode
, 
Comp⁄ítID
 
compID
, UI¡ 
uiAbsP¨tIdx
, UI¡ 
uiCovîedP¨tIdxes
 )

1821 
	`mem£t
((
m_ex∂icôRdpcmMode
[
compID
] + 
uiAbsP¨tIdx
), 
rdpcmMode
, ((
UCh¨
Ë* 
uiCovîedP¨tIdxes
));

1822 
	}
}

1824 
Void
 
	gTComD©aCU
::
	$£tSizeSubP¨ts
–
UI¡
 
uiWidth
, UI¡ 
uiHeight
, UI¡ 
uiAbsP¨tIdx
, UI¡ 
uiDïth
 )

1826 
UI¡
 
uiCuºP¨tNumb
 = 
m_pcPic
->
	`gëNumP¨tôi⁄sInCtu
(Ë>> (
uiDïth
 << 1);

1828 
	`mem£t
–
m_puhWidth
 + 
uiAbsP¨tIdx
, 
uiWidth
, (
UCh¨
)*
uiCuºP¨tNumb
 );

1829 
	`mem£t
–
m_puhHeight
 + 
uiAbsP¨tIdx
, 
uiHeight
, (
UCh¨
)*
uiCuºP¨tNumb
 );

1830 
	}
}

1832 
UCh¨
 
	gTComD©aCU
::
	$gëNumP¨tôi⁄s
(c⁄° 
UI¡
 
uiAbsP¨tIdx
) const

1834 
UCh¨
 
iNumP¨t
 = 0;

1836  
m_≥P¨tSize
[
uiAbsP¨tIdx
] )

1838 
SIZE_2Nx2N
: 
iNumP¨t
 = 1; ;

1839 
SIZE_2NxN
: 
iNumP¨t
 = 2; ;

1840 
SIZE_Nx2N
: 
iNumP¨t
 = 2; ;

1841 
SIZE_NxN
: 
iNumP¨t
 = 4; ;

1842 
SIZE_2NxnU
: 
iNumP¨t
 = 2; ;

1843 
SIZE_2NxnD
: 
iNumP¨t
 = 2; ;

1844 
SIZE_nLx2N
: 
iNumP¨t
 = 2; ;

1845 
SIZE_nRx2N
: 
iNumP¨t
 = 2; ;

1846 : 
	`as£π
 (0); ;

1849  
iNumP¨t
;

1850 
	}
}

1853 
Void
 
	gTComD©aCU
::
	$gëP¨tIndexAndSize
–
UI¡
 
uiP¨tIdx
, UI¡& 
ruiP¨tAddr
, 
I¡
& 
riWidth
, I¡& 
riHeight
 ) const

1855  
m_≥P¨tSize
[0] )

1857 
SIZE_2NxN
:

1858 
riWidth
 = 
	`gëWidth
(0); 
riHeight
 = 
	`gëHeight
(0Ë>> 1; 
ruiP¨tAddr
 = ( 
uiP¨tIdx
 =0 )? 0 : 
m_uiNumP¨tôi⁄
 >> 1;

1860 
SIZE_Nx2N
:

1861 
riWidth
 = 
	`gëWidth
(0Ë>> 1; 
riHeight
 = 
	`gëHeight
(0); 
ruiP¨tAddr
 = ( 
uiP¨tIdx
 =0 )? 0 : 
m_uiNumP¨tôi⁄
 >> 2;

1863 
SIZE_NxN
:

1864 
riWidth
 = 
	`gëWidth
(0Ë>> 1; 
riHeight
 = 
	`gëHeight
(0Ë>> 1; 
ruiP¨tAddr
 = ( 
m_uiNumP¨tôi⁄
 >> 2 ) * 
uiP¨tIdx
;

1866 
SIZE_2NxnU
:

1867 
riWidth
 = 
	`gëWidth
(0);

1868 
riHeight
 = ( 
uiP¨tIdx
 =0 ) ? 
	`gëHeight
(0) >> 2 : ( getHeight(0) >> 2 ) + ( getHeight(0) >> 1 );

1869 
ruiP¨tAddr
 = ( 
uiP¨tIdx
 =0 ) ? 0 : 
m_uiNumP¨tôi⁄
 >> 3;

1871 
SIZE_2NxnD
:

1872 
riWidth
 = 
	`gëWidth
(0);

1873 
riHeight
 = ( 
uiP¨tIdx
 =0 ) ? ( 
	`gëHeight
(0) >> 2 ) + ( getHeight(0) >> 1 ) : getHeight(0) >> 2;

1874 
ruiP¨tAddr
 = ( 
uiP¨tIdx
 =0 ) ? 0 : (
m_uiNumP¨tôi⁄
 >> 1) + (m_uiNumPartition >> 3);

1876 
SIZE_nLx2N
:

1877 
riWidth
 = ( 
uiP¨tIdx
 =0 ) ? 
	`gëWidth
(0) >> 2 : ( getWidth(0) >> 2 ) + ( getWidth(0) >> 1 );

1878 
riHeight
 = 
	`gëHeight
(0);

1879 
ruiP¨tAddr
 = ( 
uiP¨tIdx
 =0 ) ? 0 : 
m_uiNumP¨tôi⁄
 >> 4;

1881 
SIZE_nRx2N
:

1882 
riWidth
 = ( 
uiP¨tIdx
 =0 ) ? ( 
	`gëWidth
(0) >> 2 ) + ( getWidth(0) >> 1 ) : getWidth(0) >> 2;

1883 
riHeight
 = 
	`gëHeight
(0);

1884 
ruiP¨tAddr
 = ( 
uiP¨tIdx
 =0 ) ? 0 : (
m_uiNumP¨tôi⁄
 >> 2) + (m_uiNumPartition >> 4);

1887 
	`as£π
 ( 
m_≥P¨tSize
[0] =
SIZE_2Nx2N
 );

1888 
riWidth
 = 
	`gëWidth
(0); 
riHeight
 = 
	`gëHeight
(0); 
ruiP¨tAddr
 = 0;

1891 
	}
}

1894 
Void
 
	gTComD©aCU
::
	$gëMvFõld
 ( c⁄° 
TComD©aCU
* 
pcCU
, 
UI¡
 
uiAbsP¨tIdx
, 
RefPicLi°
 
eRefPicLi°
, 
TComMvFõld
& 
rcMvFõld
 )

1896 i‡–
pcCU
 =
NULL
 )

1898 
TComMv
 
cZîoMv
;

1899 
rcMvFõld
.
	`£tMvFõld
–
cZîoMv
, 
NOT_VALID
 );

1903 c⁄° 
TComCUMvFõld
* 
pcCUMvFõld
 = 
pcCU
->
	`gëCUMvFõld
–
eRefPicLi°
 );

1904 
rcMvFõld
.
	`£tMvFõld
–
pcCUMvFõld
->
	`gëMv
–
uiAbsP¨tIdx
 ),ÖcCUMvFõld->
	`gëRefIdx
( uiAbsPartIdx ) );

1905 
	}
}

1907 
Void
 
	gTComD©aCU
::
	$dîiveLe·RightT›IdxGíîÆ
 ( 
UI¡
 
uiAbsP¨tIdx
, UI¡ 
uiP¨tIdx
, UI¡& 
ruiP¨tIdxLT
, UI¡& 
ruiP¨tIdxRT
 ) const

1909 
ruiP¨tIdxLT
 = 
m_absZIdxInCtu
 + 
uiAbsP¨tIdx
;

1910 
UI¡
 
uiPUWidth
 = 0;

1912  
m_≥P¨tSize
[
uiAbsP¨tIdx
] )

1914 
SIZE_2Nx2N
: 
uiPUWidth
 = 
m_puhWidth
[
uiAbsP¨tIdx
]; ;

1915 
SIZE_2NxN
: 
uiPUWidth
 = 
m_puhWidth
[
uiAbsP¨tIdx
]; ;

1916 
SIZE_Nx2N
: 
uiPUWidth
 = 
m_puhWidth
[
uiAbsP¨tIdx
] >> 1; ;

1917 
SIZE_NxN
: 
uiPUWidth
 = 
m_puhWidth
[
uiAbsP¨tIdx
] >> 1; ;

1918 
SIZE_2NxnU
: 
uiPUWidth
 = 
m_puhWidth
[
uiAbsP¨tIdx
]; ;

1919 
SIZE_2NxnD
: 
uiPUWidth
 = 
m_puhWidth
[
uiAbsP¨tIdx
]; ;

1920 
SIZE_nLx2N
:

1921 i‡–
uiP¨tIdx
 == 0 )

1923 
uiPUWidth
 = 
m_puhWidth
[
uiAbsP¨tIdx
] >> 2;

1925 i‡–
uiP¨tIdx
 == 1 )

1927 
uiPUWidth
 = (
m_puhWidth
[
uiAbsP¨tIdx
] >> 1) + (m_puhWidth[uiAbsPartIdx] >> 2);

1931 
	`as£π
(0);

1934 
SIZE_nRx2N
:

1935 i‡–
uiP¨tIdx
 == 0 )

1937 
uiPUWidth
 = (
m_puhWidth
[
uiAbsP¨tIdx
] >> 1) + (m_puhWidth[uiAbsPartIdx] >> 2);

1939 i‡–
uiP¨tIdx
 == 1 )

1941 
uiPUWidth
 = 
m_puhWidth
[
uiAbsP¨tIdx
] >> 2;

1945 
	`as£π
(0);

1949 
	`as£π
 (0);

1953 
ruiP¨tIdxRT
 = 
g_auiRa°îToZsˇn
 [
g_auiZsˇnToRa°î
[ 
ruiP¨tIdxLT
 ] + 
uiPUWidth
 / 
m_pcPic
->
	`gëMöCUWidth
() - 1 ];

1954 
	}
}

1956 
Void
 
	gTComD©aCU
::
	$dîiveLe·BŸtomIdxGíîÆ
–
UI¡
 
uiAbsP¨tIdx
, UI¡ 
uiP¨tIdx
, UI¡& 
ruiP¨tIdxLB
 ) const

1958 
UI¡
 
uiPUHeight
 = 0;

1959  
m_≥P¨tSize
[
uiAbsP¨tIdx
] )

1961 
SIZE_2Nx2N
: 
uiPUHeight
 = 
m_puhHeight
[
uiAbsP¨tIdx
]; ;

1962 
SIZE_2NxN
: 
uiPUHeight
 = 
m_puhHeight
[
uiAbsP¨tIdx
] >> 1; ;

1963 
SIZE_Nx2N
: 
uiPUHeight
 = 
m_puhHeight
[
uiAbsP¨tIdx
]; ;

1964 
SIZE_NxN
: 
uiPUHeight
 = 
m_puhHeight
[
uiAbsP¨tIdx
] >> 1; ;

1965 
SIZE_2NxnU
:

1966 i‡–
uiP¨tIdx
 == 0 )

1968 
uiPUHeight
 = 
m_puhHeight
[
uiAbsP¨tIdx
] >> 2;

1970 i‡–
uiP¨tIdx
 == 1 )

1972 
uiPUHeight
 = (
m_puhHeight
[
uiAbsP¨tIdx
] >> 1) + (m_puhHeight[uiAbsPartIdx] >> 2);

1976 
	`as£π
(0);

1979 
SIZE_2NxnD
:

1980 i‡–
uiP¨tIdx
 == 0 )

1982 
uiPUHeight
 = (
m_puhHeight
[
uiAbsP¨tIdx
] >> 1) + (m_puhHeight[uiAbsPartIdx] >> 2);

1984 i‡–
uiP¨tIdx
 == 1 )

1986 
uiPUHeight
 = 
m_puhHeight
[
uiAbsP¨tIdx
] >> 2;

1990 
	`as£π
(0);

1993 
SIZE_nLx2N
: 
uiPUHeight
 = 
m_puhHeight
[
uiAbsP¨tIdx
]; ;

1994 
SIZE_nRx2N
: 
uiPUHeight
 = 
m_puhHeight
[
uiAbsP¨tIdx
]; ;

1996 
	`as£π
 (0);

2000 
ruiP¨tIdxLB
 = 
g_auiRa°îToZsˇn
 [
g_auiZsˇnToRa°î
[ 
m_absZIdxInCtu
 + 
uiAbsP¨tIdx
 ] + ((
uiPUHeight
 / 
m_pcPic
->
	`gëMöCUHeight
()Ë- 1)*m_pcPic->
	`gëNumP¨tInCtuWidth
()];

2001 
	}
}

2003 
Void
 
	gTComD©aCU
::
	$dîiveLe·RightT›Idx
 ( 
UI¡
 
uiP¨tIdx
, UI¡& 
ruiP¨tIdxLT
, UI¡& 
ruiP¨tIdxRT
 ) const

2005 
ruiP¨tIdxLT
 = 
m_absZIdxInCtu
;

2006 
ruiP¨tIdxRT
 = 
g_auiRa°îToZsˇn
 [
g_auiZsˇnToRa°î
[ 
ruiP¨tIdxLT
 ] + 
m_puhWidth
[0] / 
m_pcPic
->
	`gëMöCUWidth
() - 1 ];

2008  
m_≥P¨tSize
[0] )

2010 
SIZE_2Nx2N
: ;

2011 
SIZE_2NxN
:

2012 
ruiP¨tIdxLT
 +–
uiP¨tIdx
 =0 )? 0 : 
m_uiNumP¨tôi⁄
 >> 1; 
ruiP¨tIdxRT
 += ( uiPartIdx == 0 )? 0 : m_uiNumPartition >> 1;

2014 
SIZE_Nx2N
:

2015 
ruiP¨tIdxLT
 +–
uiP¨tIdx
 =0 )? 0 : 
m_uiNumP¨tôi⁄
 >> 2; 
ruiP¨tIdxRT
 -= ( uiPartIdx == 1 )? 0 : m_uiNumPartition >> 2;

2017 
SIZE_NxN
:

2018 
ruiP¨tIdxLT
 +–
m_uiNumP¨tôi⁄
 >> 2 ) * 
uiP¨tIdx
; 
ruiP¨tIdxRT
 += ( m_uiNumPartition >> 2 ) * ( uiPartIdx - 1 );

2020 
SIZE_2NxnU
:

2021 
ruiP¨tIdxLT
 +–
uiP¨tIdx
 =0 )? 0 : 
m_uiNumP¨tôi⁄
 >> 3;

2022 
ruiP¨tIdxRT
 +–
uiP¨tIdx
 =0 )? 0 : 
m_uiNumP¨tôi⁄
 >> 3;

2024 
SIZE_2NxnD
:

2025 
ruiP¨tIdxLT
 +–
uiP¨tIdx
 =0 )? 0 : ( 
m_uiNumP¨tôi⁄
 >> 1 ) + ( m_uiNumPartition >> 3 );

2026 
ruiP¨tIdxRT
 +–
uiP¨tIdx
 =0 )? 0 : ( 
m_uiNumP¨tôi⁄
 >> 1 ) + ( m_uiNumPartition >> 3 );

2028 
SIZE_nLx2N
:

2029 
ruiP¨tIdxLT
 +–
uiP¨tIdx
 =0 )? 0 : 
m_uiNumP¨tôi⁄
 >> 4;

2030 
ruiP¨tIdxRT
 -–
uiP¨tIdx
 =1 )? 0 : ( 
m_uiNumP¨tôi⁄
 >> 2 ) + ( m_uiNumPartition >> 4 );

2032 
SIZE_nRx2N
:

2033 
ruiP¨tIdxLT
 +–
uiP¨tIdx
 =0 )? 0 : ( 
m_uiNumP¨tôi⁄
 >> 2 ) + ( m_uiNumPartition >> 4 );

2034 
ruiP¨tIdxRT
 -–
uiP¨tIdx
 =1 )? 0 : 
m_uiNumP¨tôi⁄
 >> 4;

2037 
	`as£π
 (0);

2041 
	}
}

2043 
Void
 
	gTComD©aCU
::
	$dîiveLe·BŸtomIdx
–
UI¡
 
uiP¨tIdx
, UI¡& 
ruiP¨tIdxLB
 ) const

2045 
ruiP¨tIdxLB
 = 
g_auiRa°îToZsˇn
 [
g_auiZsˇnToRa°î
[ 
m_absZIdxInCtu
 ] + ( ((
m_puhHeight
[0] / 
m_pcPic
->
	`gëMöCUHeight
())>>1Ë- 1)*m_pcPic->
	`gëNumP¨tInCtuWidth
()];

2047  
m_≥P¨tSize
[0] )

2049 
SIZE_2Nx2N
:

2050 
ruiP¨tIdxLB
 +
m_uiNumP¨tôi⁄
 >> 1;

2052 
SIZE_2NxN
:

2053 
ruiP¨tIdxLB
 +–
uiP¨tIdx
 =0 )? 0 : 
m_uiNumP¨tôi⁄
 >> 1;

2055 
SIZE_Nx2N
:

2056 
ruiP¨tIdxLB
 +–
uiP¨tIdx
 =0 )? 
m_uiNumP¨tôi⁄
 >> 1 : (m_uiNumPartition >> 2)*3;

2058 
SIZE_NxN
:

2059 
ruiP¨tIdxLB
 +–
m_uiNumP¨tôi⁄
 >> 2 ) * 
uiP¨tIdx
;

2061 
SIZE_2NxnU
:

2062 
ruiP¨tIdxLB
 +–
uiP¨tIdx
 =0 ) ? -((
I¡
)
m_uiNumP¨tôi⁄
 >> 3) : m_uiNumPartition >> 1;

2064 
SIZE_2NxnD
:

2065 
ruiP¨tIdxLB
 +–
uiP¨tIdx
 =0 ) ? (
m_uiNumP¨tôi⁄
 >> 2) + (m_uiNumPartition >> 3): m_uiNumPartition >> 1;

2067 
SIZE_nLx2N
:

2068 
ruiP¨tIdxLB
 +–
uiP¨tIdx
 =0 ) ? 
m_uiNumP¨tôi⁄
 >> 1 : (m_uiNumPartition >> 1) + (m_uiNumPartition >> 4);

2070 
SIZE_nRx2N
:

2071 
ruiP¨tIdxLB
 +–
uiP¨tIdx
 =0 ) ? 
m_uiNumP¨tôi⁄
 >> 1 : (m_uiNumPartition >> 1) + (m_uiNumPartition >> 2) + (m_uiNumPartition >> 4);

2074 
	`as£π
 (0);

2077 
	}
}

2083 
Void
 
	gTComD©aCU
::
	$dîiveRightBŸtomIdx
–
UI¡
 
uiP¨tIdx
, UI¡ &
ruiP¨tIdxRB
 ) const

2085 
ruiP¨tIdxRB
 = 
g_auiRa°îToZsˇn
 [
g_auiZsˇnToRa°î
[ 
m_absZIdxInCtu
 ] + ( ((
m_puhHeight
[0] / 
m_pcPic
->
	`gëMöCUHeight
())>>1Ë- 1)*m_pcPic->
	`gëNumP¨tInCtuWidth
(Ë+ 
m_puhWidth
[0] / m_pcPic->
	`gëMöCUWidth
() - 1];

2087  
m_≥P¨tSize
[0] )

2089 
SIZE_2Nx2N
:

2090 
ruiP¨tIdxRB
 +
m_uiNumP¨tôi⁄
 >> 1;

2092 
SIZE_2NxN
:

2093 
ruiP¨tIdxRB
 +–
uiP¨tIdx
 =0 )? 0 : 
m_uiNumP¨tôi⁄
 >> 1;

2095 
SIZE_Nx2N
:

2096 
ruiP¨tIdxRB
 +–
uiP¨tIdx
 =0 )? 
m_uiNumP¨tôi⁄
 >> 2 : (m_uiNumPartition >> 1);

2098 
SIZE_NxN
:

2099 
ruiP¨tIdxRB
 +–
m_uiNumP¨tôi⁄
 >> 2 ) * ( 
uiP¨tIdx
 - 1 );

2101 
SIZE_2NxnU
:

2102 
ruiP¨tIdxRB
 +–
uiP¨tIdx
 =0 ) ? -((
I¡
)
m_uiNumP¨tôi⁄
 >> 3) : m_uiNumPartition >> 1;

2104 
SIZE_2NxnD
:

2105 
ruiP¨tIdxRB
 +–
uiP¨tIdx
 =0 ) ? (
m_uiNumP¨tôi⁄
 >> 2) + (m_uiNumPartition >> 3): m_uiNumPartition >> 1;

2107 
SIZE_nLx2N
:

2108 
ruiP¨tIdxRB
 +–
uiP¨tIdx
 =0 ) ? (
m_uiNumP¨tôi⁄
 >> 3) + (m_uiNumPartition >> 4): m_uiNumPartition >> 1;

2110 
SIZE_nRx2N
:

2111 
ruiP¨tIdxRB
 +–
uiP¨tIdx
 =0 ) ? (
m_uiNumP¨tôi⁄
 >> 2) + (m_uiNumPartition >> 3) + (m_uiNumPartition >> 4) : m_uiNumPartition >> 1;

2114 
	`as£π
 (0);

2117 
	}
}

2119 
Boﬁ
 
	gTComD©aCU
::
	$hasEquÆMŸi⁄
–
UI¡
 
uiAbsP¨tIdx
, c⁄° 
TComD©aCU
* 
pcC™dCU
, UI¡ 
uiC™dAbsP¨tIdx
 ) const

2121 i‡–
	`gëI¡îDú
–
uiAbsP¨tIdx
 ) !
pcC™dCU
->gëI¡îDú–
uiC™dAbsP¨tIdx
 ) )

2123  
Ál£
;

2126  
UI¡
 
uiRefLi°Idx
 = 0; uiRefListIdx < 2; uiRefListIdx++ )

2128 i‡–
	`gëI¡îDú
–
uiAbsP¨tIdx
 ) & ( 1 << 
uiRefLi°Idx
 ) )

2130 i‡–
	`gëCUMvFõld
–
	`RefPicLi°
–
uiRefLi°Idx
 ) )->
	`gëMv
–
uiAbsP¨tIdx
 ) !
pcC™dCU
->gëCUMvFõld–RefPicLi°–uiRefLi°Idx ) )->gëMv–
uiC™dAbsP¨tIdx
 ) ||

2131 
	`gëCUMvFõld
–
	`RefPicLi°
–
uiRefLi°Idx
 ) )->
	`gëRefIdx
–
uiAbsP¨tIdx
 ) !
pcC™dCU
->gëCUMvFõld–RefPicLi°–uiRefLi°Idx ) )->gëRefIdx–
uiC™dAbsP¨tIdx
 ) )

2133  
Ál£
;

2138  
åue
;

2139 
	}
}

2142 #i‡
MCTS_ENC_CHECK


2143 
Void
 
	gTComD©aCU
::
	$gëI¡îMîgeC™did©es
–
UI¡
 
uiAbsP¨tIdx
, UI¡ 
uiPUIdx
, 
TComMvFõld
* 
pcMvFõldNeighbours
, 
UCh¨
* 
puhI¡îDúNeighbours
, 
I¡
& 
numVÆidMîgeC™d
, UI¡ &
numS∑tülMîgeC™did©es
, I¡ 
mrgC™dIdx
 ) const

2145 
Void
 
TComD©aCU
::
	$gëI¡îMîgeC™did©es
–
UI¡
 
uiAbsP¨tIdx
, UI¡ 
uiPUIdx
, 
TComMvFõld
* 
pcMvFõldNeighbours
, 
UCh¨
* 
puhI¡îDúNeighbours
, 
I¡
& 
numVÆidMîgeC™d
, I¡ 
mrgC™dIdx
 ) const

2148 
UI¡
 
uiAbsP¨tAddr
 = 
m_absZIdxInCtu
 + 
uiAbsP¨tIdx
;

2149 
Boﬁ
 
abC™dIsI¡î
[ 
MRG_MAX_NUM_CANDS
 ];

2150  
UI¡
 
ui
 = 0; uò< 
	`gëSli˚
()->
	`gëMaxNumMîgeC™d
(); ++ui )

2152 
abC™dIsI¡î
[
ui
] = 
Ál£
;

2153 
pcMvFõldNeighbours
[ ( 
ui
 << 1 ) ].
	`£tRefIdx
(
NOT_VALID
);

2154 
pcMvFõldNeighbours
[ ( 
ui
 << 1 ) + 1 ].
	`£tRefIdx
(
NOT_VALID
);

2156 
numVÆidMîgeC™d
 = 
	`gëSli˚
()->
	`gëMaxNumMîgeC™d
();

2158 
I¡
 
xP
, 
yP
, 
nPSW
, 
nPSH
;

2159 
this
->
	`gëP¨tPosôi⁄
(
uiPUIdx
, 
xP
, 
yP
, 
nPSW
, 
nPSH
);

2161 
I¡
 
iCou¡
 = 0;

2163 
UI¡
 
uiP¨tIdxLT
, 
uiP¨tIdxRT
, 
uiP¨tIdxLB
;

2164 
P¨tSize
 
cCurPS
 = 
	`gëP¨tôi⁄Size
–
uiAbsP¨tIdx
 );

2165 
	`dîiveLe·RightT›IdxGíîÆ
–
uiAbsP¨tIdx
, 
uiPUIdx
, 
uiP¨tIdxLT
, 
uiP¨tIdxRT
 );

2166 
	`dîiveLe·BŸtomIdxGíîÆ
–
uiAbsP¨tIdx
, 
uiPUIdx
, 
uiP¨tIdxLB
 );

2169 
UI¡
 
uiLe·P¨tIdx
 = 0;

2170 c⁄° 
TComD©aCU
 *
pcCULe·
 = 
	`gëPULe·
–
uiLe·P¨tIdx
, 
uiP¨tIdxLB
 );

2172 
Boﬁ
 
isAvaûabÀA1
 = 
pcCULe·
 &&

2173 
pcCULe·
->
	`isDiffMER
(
xP
 -1, 
yP
+
nPSH
-1, xP, yP) &&

2174 !–
uiPUIdx
 =1 && (
cCurPS
 =
SIZE_Nx2N
 || cCurPS =
SIZE_nLx2N
 || cCurPS =
SIZE_nRx2N
) ) &&

2175 
pcCULe·
->
	`isI¡î
–
uiLe·P¨tIdx
 ) ;

2177 i‡–
isAvaûabÀA1
 )

2179 
abC™dIsI¡î
[
iCou¡
] = 
åue
;

2181 
puhI¡îDúNeighbours
[
iCou¡
] = 
pcCULe·
->
	`gëI¡îDú
–
uiLe·P¨tIdx
 );

2183 
TComD©aCU
::
	`gëMvFõld
–
pcCULe·
, 
uiLe·P¨tIdx
, 
REF_PIC_LIST_0
, 
pcMvFõldNeighbours
[
iCou¡
<<1] );

2184 i‡–
	`gëSli˚
()->
	`isI¡îB
() )

2186 
TComD©aCU
::
	`gëMvFõld
–
pcCULe·
, 
uiLe·P¨tIdx
, 
REF_PIC_LIST_1
, 
pcMvFõldNeighbours
[(
iCou¡
<<1)+1] );

2188 i‡–
mrgC™dIdx
 =
iCou¡
 )

2190 #i‡
MCTS_ENC_CHECK


2191 
numS∑tülMîgeC™did©es
 = 
iCou¡
 + 1;

2195 
iCou¡
 ++;

2199 i‡(
iCou¡
 =
	`gëSli˚
()->
	`gëMaxNumMîgeC™d
())

2201 #i‡
MCTS_ENC_CHECK


2202 
numS∑tülMîgeC™did©es
 = 
iCou¡
;

2207 
UI¡
 
uiAboveP¨tIdx
 = 0;

2208 c⁄° 
TComD©aCU
 *
pcCUAbove
 = 
	`gëPUAbove
–
uiAboveP¨tIdx
, 
uiP¨tIdxRT
 );

2210 
Boﬁ
 
isAvaûabÀB1
 = 
pcCUAbove
 &&

2211 
pcCUAbove
->
	`isDiffMER
(
xP
+
nPSW
-1, 
yP
-1, xP, yP) &&

2212 !–
uiPUIdx
 =1 && (
cCurPS
 =
SIZE_2NxN
 || cCurPS =
SIZE_2NxnU
 || cCurPS =
SIZE_2NxnD
) ) &&

2213 
pcCUAbove
->
	`isI¡î
–
uiAboveP¨tIdx
 );

2215 i‡–
isAvaûabÀB1
 && (!
isAvaûabÀA1
 || !
pcCULe·
->
	`hasEquÆMŸi⁄
–
uiLe·P¨tIdx
, 
pcCUAbove
, 
uiAboveP¨tIdx
 ) ) )

2217 
abC™dIsI¡î
[
iCou¡
] = 
åue
;

2219 
puhI¡îDúNeighbours
[
iCou¡
] = 
pcCUAbove
->
	`gëI¡îDú
–
uiAboveP¨tIdx
 );

2221 
TComD©aCU
::
	`gëMvFõld
–
pcCUAbove
, 
uiAboveP¨tIdx
, 
REF_PIC_LIST_0
, 
pcMvFõldNeighbours
[
iCou¡
<<1] );

2222 i‡–
	`gëSli˚
()->
	`isI¡îB
() )

2224 
TComD©aCU
::
	`gëMvFõld
–
pcCUAbove
, 
uiAboveP¨tIdx
, 
REF_PIC_LIST_1
, 
pcMvFõldNeighbours
[(
iCou¡
<<1)+1] );

2226 i‡–
mrgC™dIdx
 =
iCou¡
 )

2228 #i‡
MCTS_ENC_CHECK


2229 
numS∑tülMîgeC™did©es
 = 
iCou¡
 + 1;

2233 
iCou¡
 ++;

2236 i‡(
iCou¡
 =
	`gëSli˚
()->
	`gëMaxNumMîgeC™d
())

2238 #i‡
MCTS_ENC_CHECK


2239 
numS∑tülMîgeC™did©es
 = 
iCou¡
;

2245 
UI¡
 
uiAboveRightP¨tIdx
 = 0;

2246 c⁄° 
TComD©aCU
 *
pcCUAboveRight
 = 
	`gëPUAboveRight
–
uiAboveRightP¨tIdx
, 
uiP¨tIdxRT
 );

2248 
Boﬁ
 
isAvaûabÀB0
 = 
pcCUAboveRight
 &&

2249 
pcCUAboveRight
->
	`isDiffMER
(
xP
+
nPSW
, 
yP
-1, xP, yP) &&

2250 
pcCUAboveRight
->
	`isI¡î
–
uiAboveRightP¨tIdx
 );

2252 i‡–
isAvaûabÀB0
 && ( !
isAvaûabÀB1
 || !
pcCUAbove
->
	`hasEquÆMŸi⁄
–
uiAboveP¨tIdx
, 
pcCUAboveRight
, 
uiAboveRightP¨tIdx
 ) ) )

2254 
abC™dIsI¡î
[
iCou¡
] = 
åue
;

2256 
puhI¡îDúNeighbours
[
iCou¡
] = 
pcCUAboveRight
->
	`gëI¡îDú
–
uiAboveRightP¨tIdx
 );

2258 
TComD©aCU
::
	`gëMvFõld
–
pcCUAboveRight
, 
uiAboveRightP¨tIdx
, 
REF_PIC_LIST_0
, 
pcMvFõldNeighbours
[
iCou¡
<<1] );

2259 i‡–
	`gëSli˚
()->
	`isI¡îB
() )

2261 
TComD©aCU
::
	`gëMvFõld
–
pcCUAboveRight
, 
uiAboveRightP¨tIdx
, 
REF_PIC_LIST_1
, 
pcMvFõldNeighbours
[(
iCou¡
<<1)+1] );

2263 i‡–
mrgC™dIdx
 =
iCou¡
 )

2265 #i‡
MCTS_ENC_CHECK


2266 
numS∑tülMîgeC™did©es
 = 
iCou¡
 + 1;

2270 
iCou¡
 ++;

2273 i‡(
iCou¡
 =
	`gëSli˚
()->
	`gëMaxNumMîgeC™d
())

2275 #i‡
MCTS_ENC_CHECK


2276 
numS∑tülMîgeC™did©es
 = 
iCou¡
;

2282 
UI¡
 
uiLe·BŸtomP¨tIdx
 = 0;

2283 c⁄° 
TComD©aCU
 *
pcCULe·BŸtom
 = 
this
->
	`gëPUBñowLe·
–
uiLe·BŸtomP¨tIdx
, 
uiP¨tIdxLB
 );

2285 
Boﬁ
 
isAvaûabÀA0
 = 
pcCULe·BŸtom
 &&

2286 
pcCULe·BŸtom
->
	`isDiffMER
(
xP
-1, 
yP
+
nPSH
, xP, yP) &&

2287 
pcCULe·BŸtom
->
	`isI¡î
–
uiLe·BŸtomP¨tIdx
 ) ;

2289 i‡–
isAvaûabÀA0
 && ( !
isAvaûabÀA1
 || !
pcCULe·
->
	`hasEquÆMŸi⁄
–
uiLe·P¨tIdx
, 
pcCULe·BŸtom
, 
uiLe·BŸtomP¨tIdx
 ) ) )

2291 
abC™dIsI¡î
[
iCou¡
] = 
åue
;

2293 
puhI¡îDúNeighbours
[
iCou¡
] = 
pcCULe·BŸtom
->
	`gëI¡îDú
–
uiLe·BŸtomP¨tIdx
 );

2295 
TComD©aCU
::
	`gëMvFõld
–
pcCULe·BŸtom
, 
uiLe·BŸtomP¨tIdx
, 
REF_PIC_LIST_0
, 
pcMvFõldNeighbours
[
iCou¡
<<1] );

2296 i‡–
	`gëSli˚
()->
	`isI¡îB
() )

2298 
TComD©aCU
::
	`gëMvFõld
–
pcCULe·BŸtom
, 
uiLe·BŸtomP¨tIdx
, 
REF_PIC_LIST_1
, 
pcMvFõldNeighbours
[(
iCou¡
<<1)+1] );

2300 i‡–
mrgC™dIdx
 =
iCou¡
 )

2302 #i‡
MCTS_ENC_CHECK


2303 
numS∑tülMîgeC™did©es
 = 
iCou¡
 + 1;

2307 
iCou¡
 ++;

2310 i‡(
iCou¡
 =
	`gëSli˚
()->
	`gëMaxNumMîgeC™d
())

2312 #i‡
MCTS_ENC_CHECK


2313 
numS∑tülMîgeC™did©es
 = 
iCou¡
;

2319 if–
iCou¡
 < 4 )

2321 
UI¡
 
uiAboveLe·P¨tIdx
 = 0;

2322 c⁄° 
TComD©aCU
 *
pcCUAboveLe·
 = 
	`gëPUAboveLe·
–
uiAboveLe·P¨tIdx
, 
uiAbsP¨tAddr
 );

2324 
Boﬁ
 
isAvaûabÀB2
 = 
pcCUAboveLe·
 &&

2325 
pcCUAboveLe·
->
	`isDiffMER
(
xP
-1, 
yP
-1, xP, yP) &&

2326 
pcCUAboveLe·
->
	`isI¡î
–
uiAboveLe·P¨tIdx
 );

2328 i‡–
isAvaûabÀB2
 && ( !
isAvaûabÀA1
 || !
pcCULe·
->
	`hasEquÆMŸi⁄
–
uiLe·P¨tIdx
, 
pcCUAboveLe·
, 
uiAboveLe·P¨tIdx
 ) )

2329 && ( !
isAvaûabÀB1
 || !
pcCUAbove
->
	`hasEquÆMŸi⁄
–
uiAboveP¨tIdx
, 
pcCUAboveLe·
, 
uiAboveLe·P¨tIdx
 ) ) )

2331 
abC™dIsI¡î
[
iCou¡
] = 
åue
;

2333 
puhI¡îDúNeighbours
[
iCou¡
] = 
pcCUAboveLe·
->
	`gëI¡îDú
–
uiAboveLe·P¨tIdx
 );

2335 
TComD©aCU
::
	`gëMvFõld
–
pcCUAboveLe·
, 
uiAboveLe·P¨tIdx
, 
REF_PIC_LIST_0
, 
pcMvFõldNeighbours
[
iCou¡
<<1] );

2336 i‡–
	`gëSli˚
()->
	`isI¡îB
() )

2338 
TComD©aCU
::
	`gëMvFõld
–
pcCUAboveLe·
, 
uiAboveLe·P¨tIdx
, 
REF_PIC_LIST_1
, 
pcMvFõldNeighbours
[(
iCou¡
<<1)+1] );

2340 i‡–
mrgC™dIdx
 =
iCou¡
 )

2342 #i‡
MCTS_ENC_CHECK


2343 
numS∑tülMîgeC™did©es
 = 
iCou¡
 + 1;

2347 
iCou¡
 ++;

2351 i‡(
iCou¡
 =
	`gëSli˚
()->
	`gëMaxNumMîgeC™d
())

2353 #i‡
MCTS_ENC_CHECK


2354 
numS∑tülMîgeC™did©es
 = 
iCou¡
;

2358 #i‡
MCTS_ENC_CHECK


2359 
numS∑tülMîgeC™did©es
 = 
iCou¡
;

2361 i‡–
	`gëSli˚
()->
	`gëE«bÀTMVPFœg
() )

2364 
UI¡
 
uiP¨tIdxRB
;

2366 
	`dîiveRightBŸtomIdx
–
uiPUIdx
, 
uiP¨tIdxRB
 );

2368 
UI¡
 
uiAbsP¨tIdxTmp
 = 
g_auiZsˇnToRa°î
[
uiP¨tIdxRB
];

2369 c⁄° 
UI¡
 
numP¨tInCtuWidth
 = 
m_pcPic
->
	`gëNumP¨tInCtuWidth
();

2370 c⁄° 
UI¡
 
numP¨tInCtuHeight
 = 
m_pcPic
->
	`gëNumP¨tInCtuHeight
();

2372 
TComMv
 
cCﬁMv
;

2373 
I¡
 
iRefIdx
;

2374 
I¡
 
˘uRsAddr
 = -1;

2376 i‡–––
m_pcPic
->
	`gëCtu
(
m_˘uRsAddr
)->
	`gëCUPñX
(Ë+ 
g_auiRa°îToPñX
[
uiAbsP¨tIdxTmp
] + m_pcPic->
	`gëMöCUWidth
 (ËË< 
m_pcSli˚
->
	`gëSPS
()->
	`gëPicWidthInLumaSam∂es
 () )

2377 && ( ( 
m_pcPic
->
	`gëCtu
(
m_˘uRsAddr
)->
	`gëCUPñY
(Ë+ 
g_auiRa°îToPñY
[
uiAbsP¨tIdxTmp
] + m_pcPic->
	`gëMöCUHeight
(ËË< 
m_pcSli˚
->
	`gëSPS
()->
	`gëPicHeightInLumaSam∂es
() ) )

2379 i‡––
uiAbsP¨tIdxTmp
 % 
numP¨tInCtuWidth
 <ÇumPartInCtuWidth - 1 ) &&

2380 –
uiAbsP¨tIdxTmp
 / 
numP¨tInCtuWidth
 < 
numP¨tInCtuHeight
 - 1 ) )

2382 
uiAbsP¨tAddr
 = 
g_auiRa°îToZsˇn
[ 
uiAbsP¨tIdxTmp
 + 
numP¨tInCtuWidth
 + 1 ];

2383 
˘uRsAddr
 = 
	`gëCtuRsAddr
();

2385 i‡–
uiAbsP¨tIdxTmp
 % 
numP¨tInCtuWidth
 <ÇumPartInCtuWidth - 1 )

2387 
uiAbsP¨tAddr
 = 
g_auiRa°îToZsˇn
[ (
uiAbsP¨tIdxTmp
 + 
numP¨tInCtuWidth
 + 1Ë% 
m_pcPic
->
	`gëNumP¨tôi⁄sInCtu
() ];

2389 i‡–
uiAbsP¨tIdxTmp
 / 
numP¨tInCtuWidth
 < 
numP¨tInCtuHeight
 - 1 )

2391 
uiAbsP¨tAddr
 = 
g_auiRa°îToZsˇn
[ 
uiAbsP¨tIdxTmp
 + 1 ];

2392 
˘uRsAddr
 = 
	`gëCtuRsAddr
() + 1;

2396 
uiAbsP¨tAddr
 = 0;

2400 
iRefIdx
 = 0;

2402 
Boﬁ
 
bExi°MV
 = 
Ál£
;

2403 
UI¡
 
uiP¨tIdxCíãr
;

2404 
I¡
 
dú
 = 0;

2405 
UI¡
 
uiAºayAddr
 = 
iCou¡
;

2406 
	`xDîiveCíãrIdx
–
uiPUIdx
, 
uiP¨tIdxCíãr
 );

2407 
bExi°MV
 = 
˘uRsAddr
 >0 && 
	`xGëCﬁMVP
–
REF_PIC_LIST_0
, ctuRsAddr, 
uiAbsP¨tAddr
, 
cCﬁMv
, 
iRefIdx
 );

2408 if–
bExi°MV
 =
Ál£
 )

2410 
bExi°MV
 = 
	`xGëCﬁMVP
–
REF_PIC_LIST_0
, 
	`gëCtuRsAddr
(), 
uiP¨tIdxCíãr
, 
cCﬁMv
, 
iRefIdx
 );

2412 if–
bExi°MV
 )

2414 
dú
 |= 1;

2415 
pcMvFõldNeighbours
[ 2 * 
uiAºayAddr
 ].
	`£tMvFõld
–
cCﬁMv
, 
iRefIdx
 );

2418 i‡–
	`gëSli˚
()->
	`isI¡îB
() )

2420 
bExi°MV
 = 
˘uRsAddr
 >0 && 
	`xGëCﬁMVP
–
REF_PIC_LIST_1
, ctuRsAddr, 
uiAbsP¨tAddr
, 
cCﬁMv
, 
iRefIdx
);

2421 if–
bExi°MV
 =
Ál£
 )

2423 
bExi°MV
 = 
	`xGëCﬁMVP
–
REF_PIC_LIST_1
, 
	`gëCtuRsAddr
(), 
uiP¨tIdxCíãr
, 
cCﬁMv
, 
iRefIdx
 );

2425 if–
bExi°MV
 )

2427 
dú
 |= 2;

2428 
pcMvFõldNeighbours
[ 2 * 
uiAºayAddr
 + 1 ].
	`£tMvFõld
–
cCﬁMv
, 
iRefIdx
 );

2432 i‡(
dú
 != 0)

2434 
puhI¡îDúNeighbours
[
uiAºayAddr
] = 
dú
;

2435 
abC™dIsI¡î
[
uiAºayAddr
] = 
åue
;

2437 i‡–
mrgC™dIdx
 =
iCou¡
 )

2441 
iCou¡
++;

2445 i‡(
iCou¡
 =
	`gëSli˚
()->
	`gëMaxNumMîgeC™d
())

2450 
UI¡
 
uiAºayAddr
 = 
iCou¡
;

2451 
UI¡
 
uiCutoff
 = 
uiAºayAddr
;

2453 i‡–
	`gëSli˚
()->
	`isI¡îB
() )

2455 c⁄° 
UI¡
 
NUM_PRIORITY_LIST
=12;

2456 c⁄° 
UI¡
 
uiPri‹ôyLi°0
[
NUM_PRIORITY_LIST
] = {0 , 1, 0, 2, 1, 2, 0, 3, 1, 3, 2, 3};

2457 c⁄° 
UI¡
 
uiPri‹ôyLi°1
[
NUM_PRIORITY_LIST
] = {1 , 0, 2, 0, 2, 1, 3, 0, 3, 1, 3, 2};

2459 
I¡
 
idx
=0; idx<
uiCutoff
*(uiCutoff-1Ë&& 
uiAºayAddr
!
	`gëSli˚
()->
	`gëMaxNumMîgeC™d
(); idx++)

2461 
	`as£π
(
idx
<
NUM_PRIORITY_LIST
);

2462 
I¡
 
i
 = 
uiPri‹ôyLi°0
[
idx
];

2463 
I¡
 
j
 = 
uiPri‹ôyLi°1
[
idx
];

2464 i‡(
abC™dIsI¡î
[
i
] &&ábC™dIsI¡î[
j
]&& (
puhI¡îDúNeighbours
[i]&0x1)&&(puhInterDirNeighbours[j]&0x2))

2466 
abC™dIsI¡î
[
uiAºayAddr
] = 
åue
;

2467 
puhI¡îDúNeighbours
[
uiAºayAddr
] = 3;

2470 
pcMvFõldNeighbours
[
uiAºayAddr
 << 1].
	`£tMvFõld
’cMvFõldNeighbours[
i
<<1].
	`gëMv
(),ÖcMvFõldNeighbours[i<<1].
	`gëRefIdx
());

2471 
pcMvFõldNeighbours
[–
uiAºayAddr
 << 1 ) + 1].
	`£tMvFõld
’cMvFõldNeighbours[(
j
<<1)+1].
	`gëMv
(),ÖcMvFõldNeighbours[(j<<1)+1].
	`gëRefIdx
());

2473 
I¡
 
iRefPOCL0
 = 
m_pcSli˚
->
	`gëRefPOC
–
REF_PIC_LIST_0
, 
pcMvFõldNeighbours
[(
uiAºayAddr
<<1)].
	`gëRefIdx
() );

2474 
I¡
 
iRefPOCL1
 = 
m_pcSli˚
->
	`gëRefPOC
–
REF_PIC_LIST_1
, 
pcMvFõldNeighbours
[(
uiAºayAddr
<<1)+1].
	`gëRefIdx
() );

2475 i‡(
iRefPOCL0
 =
iRefPOCL1
 && 
pcMvFõldNeighbours
[(
uiAºayAddr
<<1)].
	`gëMv
() ==ÖcMvFieldNeighbours[(uiArrayAddr<<1)+1].getMv())

2477 
abC™dIsI¡î
[
uiAºayAddr
] = 
Ál£
;

2481 
uiAºayAddr
++;

2487 i‡(
uiAºayAddr
 =
	`gëSli˚
()->
	`gëMaxNumMîgeC™d
())

2492 
I¡
 
iNumRefIdx
 = (
	`gëSli˚
()->
	`isI¡îB
()Ë? 
	`mö
(
m_pcSli˚
->
	`gëNumRefIdx
(
REF_PIC_LIST_0
), m_pcSli˚->gëNumRefIdx(
REF_PIC_LIST_1
)) : m_pcSlice->getNumRefIdx(REF_PIC_LIST_0);

2494 
I¡
 
r
 = 0;

2495 
I¡
 
ªf˙t
 = 0;

2496 
uiAºayAddr
 < 
	`gëSli˚
()->
	`gëMaxNumMîgeC™d
())

2498 
abC™dIsI¡î
[
uiAºayAddr
] = 
åue
;

2499 
puhI¡îDúNeighbours
[
uiAºayAddr
] = 1;

2500 
pcMvFõldNeighbours
[
uiAºayAddr
 << 1].
	`£tMvFõld
–
	`TComMv
(0, 0), 
r
);

2502 i‡–
	`gëSli˚
()->
	`isI¡îB
() )

2504 
puhI¡îDúNeighbours
[
uiAºayAddr
] = 3;

2505 
pcMvFõldNeighbours
[(
uiAºayAddr
 << 1Ë+ 1].
	`£tMvFõld
(
	`TComMv
(0, 0), 
r
);

2507 
uiAºayAddr
++;

2509 i‡–
ªf˙t
 =
iNumRefIdx
 - 1 )

2511 
r
 = 0;

2515 ++
r
;

2516 ++
ªf˙t
;

2519 
numVÆidMîgeC™d
 = 
uiAºayAddr
;

2520 
	}
}

2526 
Boﬁ
 
	gTComD©aCU
::
	$isDiffMER
(
I¡
 
xN
, I¡ 
yN
, I¡ 
xP
, I¡ 
yP
) const

2529 
UI¡
 
∂evñ
 = 
this
->
	`gëSli˚
()->
	`gëPPS
()->
	`gëLog2P¨ÆÀlMîgeLevñMöus2
() + 2;

2530 i‡((
xN
>>
∂evñ
)!(
xP
>>plevel))

2532  
åue
;

2534 i‡((
yN
>>
∂evñ
)!(
yP
>>plevel))

2536  
åue
;

2538  
Ál£
;

2539 
	}
}

2546 
Void
 
	gTComD©aCU
::
	$gëP¨tPosôi⁄
–
UI¡
 
∑πIdx
, 
I¡
& 
xP
, I¡& 
yP
, I¡& 
nPSW
, I¡& 
nPSH
) const

2548 
UI¡
 
cﬁ
 = 
m_uiCUPñX
;

2549 
UI¡
 
row
 = 
m_uiCUPñY
;

2551  
m_≥P¨tSize
[0] )

2553 
SIZE_2NxN
:

2554 
nPSW
 = 
	`gëWidth
(0);

2555 
nPSH
 = 
	`gëHeight
(0) >> 1;

2556 
xP
 = 
cﬁ
;

2557 
yP
 = (
∑πIdx
 ==0)? 
row
:Ñow + 
nPSH
;

2559 
SIZE_Nx2N
:

2560 
nPSW
 = 
	`gëWidth
(0) >> 1;

2561 
nPSH
 = 
	`gëHeight
(0);

2562 
xP
 = (
∑πIdx
 ==0)? 
cﬁ
: cﬁ + 
nPSW
;

2563 
yP
 = 
row
;

2565 
SIZE_NxN
:

2566 
nPSW
 = 
	`gëWidth
(0) >> 1;

2567 
nPSH
 = 
	`gëHeight
(0) >> 1;

2568 
xP
 = 
cﬁ
 + (
∑πIdx
&0x1)*
nPSW
;

2569 
yP
 = 
row
 + (
∑πIdx
>>1)*
nPSH
;

2571 
SIZE_2NxnU
:

2572 
nPSW
 = 
	`gëWidth
(0);

2573 
nPSH
 = ( 
∑πIdx
 =0 ) ? 
	`gëHeight
(0) >> 2 : ( getHeight(0) >> 2 ) + ( getHeight(0) >> 1 );

2574 
xP
 = 
cﬁ
;

2575 
yP
 = (
∑πIdx
 ==0)? 
row
:Ñow + 
	`gëHeight
(0Ë- 
nPSH
;

2578 
SIZE_2NxnD
:

2579 
nPSW
 = 
	`gëWidth
(0);

2580 
nPSH
 = ( 
∑πIdx
 =0 ) ? ( 
	`gëHeight
(0) >> 2 ) + ( getHeight(0) >> 1 ) : getHeight(0) >> 2;

2581 
xP
 = 
cﬁ
;

2582 
yP
 = (
∑πIdx
 ==0)? 
row
:Ñow + 
	`gëHeight
(0Ë- 
nPSH
;

2584 
SIZE_nLx2N
:

2585 
nPSW
 = ( 
∑πIdx
 =0 ) ? 
	`gëWidth
(0) >> 2 : ( getWidth(0) >> 2 ) + ( getWidth(0) >> 1 );

2586 
nPSH
 = 
	`gëHeight
(0);

2587 
xP
 = (
∑πIdx
 ==0)? 
cﬁ
: cﬁ + 
	`gëWidth
(0Ë- 
nPSW
;

2588 
yP
 = 
row
;

2590 
SIZE_nRx2N
:

2591 
nPSW
 = ( 
∑πIdx
 =0 ) ? ( 
	`gëWidth
(0) >> 2 ) + ( getWidth(0) >> 1 ) : getWidth(0) >> 2;

2592 
nPSH
 = 
	`gëHeight
(0);

2593 
xP
 = (
∑πIdx
 ==0)? 
cﬁ
: cﬁ + 
	`gëWidth
(0Ë- 
nPSW
;

2594 
yP
 = 
row
;

2597 
	`as£π
 ( 
m_≥P¨tSize
[0] =
SIZE_2Nx2N
 );

2598 
nPSW
 = 
	`gëWidth
(0);

2599 
nPSH
 = 
	`gëHeight
(0);

2600 
xP
 = 
cﬁ
 ;

2601 
yP
 = 
row
 ;

2605 
	}
}

2614 
Void
 
	gTComD©aCU
::
	$fûlMvpC™d
 ( c⁄° 
UI¡
 
∑πIdx
, c⁄° UI¡ 
∑πAddr
, c⁄° 
RefPicLi°
 
eRefPicLi°
, c⁄° 
I¡
 
ªfIdx
, 
AMVPInfo
* 
pInfo
 ) const

2616 
pInfo
->
iN
 = 0;

2617 i‡(
ªfIdx
 < 0)

2619 #i‡
MCTS_ENC_CHECK


2620 
pInfo
->
numS∑tülMVPC™did©es
 = 0;

2626 
UI¡
 
∑πIdxLT
, 
∑πIdxRT
, 
∑πIdxLB
;

2627 
	`dîiveLe·RightT›Idx
–
∑πIdx
, 
∑πIdxLT
, 
∑πIdxRT
 );

2628 
	`dîiveLe·BŸtomIdx
–
∑πIdx
, 
∑πIdxLB
 );

2630 
Boﬁ
 
isSˇÀdFœgLX
 = 
Ál£
;

2632 
UI¡
 
idx
;

2633 c⁄° 
TComD©aCU
* 
tmpCU
 = 
	`gëPUBñowLe·
(
idx
, 
∑πIdxLB
);

2634 
isSˇÀdFœgLX
 = (
tmpCU
 !
NULL
Ë&& (tmpCU->
	`isI¡î
(
idx
));

2635 i‡(!
isSˇÀdFœgLX
)

2637 
tmpCU
 = 
	`gëPULe·
(
idx
, 
∑πIdxLB
);

2638 
isSˇÀdFœgLX
 = (
tmpCU
 !
NULL
Ë&& (tmpCU->
	`isI¡î
(
idx
));

2643 i‡(
isSˇÀdFœgLX
)

2645 
Boﬁ
 
bAdded
 = 
	`xAddMVPC™dUnsˇÀd
–*
pInfo
, 
eRefPicLi°
, 
ªfIdx
, 
∑πIdxLB
, 
MD_BELOW_LEFT
);

2646 i‡(!
bAdded
)

2648 
bAdded
 = 
	`xAddMVPC™dUnsˇÀd
–*
pInfo
, 
eRefPicLi°
, 
ªfIdx
, 
∑πIdxLB
, 
MD_LEFT
 );

2649 if(!
bAdded
)

2651 
bAdded
 = 
	`xAddMVPC™dWôhSˇlög
–*
pInfo
, 
eRefPicLi°
, 
ªfIdx
, 
∑πIdxLB
, 
MD_BELOW_LEFT
);

2652 i‡(!
bAdded
)

2654 
	`xAddMVPC™dWôhSˇlög
–*
pInfo
, 
eRefPicLi°
, 
ªfIdx
, 
∑πIdxLB
, 
MD_LEFT
 );

2662 
Boﬁ
 
bAdded
 = 
	`xAddMVPC™dUnsˇÀd
–*
pInfo
, 
eRefPicLi°
, 
ªfIdx
, 
∑πIdxRT
, 
MD_ABOVE_RIGHT
);

2663 i‡(!
bAdded
)

2665 
bAdded
 = 
	`xAddMVPC™dUnsˇÀd
–*
pInfo
, 
eRefPicLi°
, 
ªfIdx
, 
∑πIdxRT
, 
MD_ABOVE
);

2666 if(!
bAdded
)

2668 
	`xAddMVPC™dUnsˇÀd
–*
pInfo
, 
eRefPicLi°
, 
ªfIdx
, 
∑πIdxLT
, 
MD_ABOVE_LEFT
);

2673 if(!
isSˇÀdFœgLX
)

2675 
Boﬁ
 
bAdded
 = 
	`xAddMVPC™dWôhSˇlög
–*
pInfo
, 
eRefPicLi°
, 
ªfIdx
, 
∑πIdxRT
, 
MD_ABOVE_RIGHT
);

2676 i‡(!
bAdded
)

2678 
bAdded
 = 
	`xAddMVPC™dWôhSˇlög
–*
pInfo
, 
eRefPicLi°
, 
ªfIdx
, 
∑πIdxRT
, 
MD_ABOVE
);

2679 if(!
bAdded
)

2681 
	`xAddMVPC™dWôhSˇlög
–*
pInfo
, 
eRefPicLi°
, 
ªfIdx
, 
∑πIdxLT
, 
MD_ABOVE_LEFT
);

2686 i‡–
pInfo
->
iN
 == 2 )

2688 i‡–
pInfo
->
m_acMvC™d
[ 0 ] ==ÖInfo->m_acMvCand[ 1 ] )

2690 
pInfo
->
iN
 = 1;

2693 #i‡
MCTS_ENC_CHECK


2694 
pInfo
->
numS∑tülMVPC™did©es
 =ÖInfo->
iN
;

2696 i‡(
pInfo
->
iN
 < 
AMVP_MAX_NUM_CANDS
 && 
	`gëSli˚
()->
	`gëE«bÀTMVPFœg
() )

2699 c⁄° 
UI¡
 
numP¨tInCtuWidth
 = 
m_pcPic
->
	`gëNumP¨tInCtuWidth
();

2700 c⁄° 
UI¡
 
numP¨tInCtuHeight
 = 
m_pcPic
->
	`gëNumP¨tInCtuHeight
();

2701 c⁄° 
I¡
 
ªfIdx_Cﬁ
 = 
ªfIdx
;

2702 
TComMv
 
cCﬁMv
;

2703 
UI¡
 
∑πIdxRB
;

2704 
UI¡
 
absP¨tIdx
;

2706 
	`dîiveRightBŸtomIdx
–
∑πIdx
, 
∑πIdxRB
 );

2707 
UI¡
 
absP¨tAddr
 = 
m_absZIdxInCtu
 + 
∑πAddr
;

2710 
absP¨tIdx
 = 
g_auiZsˇnToRa°î
[
∑πIdxRB
];

2711 
I¡
 
˘uRsAddr
 = -1;

2712 i‡–––
m_pcPic
->
	`gëCtu
(
m_˘uRsAddr
)->
	`gëCUPñX
(Ë+ 
g_auiRa°îToPñX
[
absP¨tIdx
] + m_pcPic->
	`gëMöCUWidth
 (ËË< 
m_pcSli˚
->
	`gëSPS
()->
	`gëPicWidthInLumaSam∂es
 () )

2713 && ( ( 
m_pcPic
->
	`gëCtu
(
m_˘uRsAddr
)->
	`gëCUPñY
(Ë+ 
g_auiRa°îToPñY
[
absP¨tIdx
] + m_pcPic->
	`gëMöCUHeight
(ËË< 
m_pcSli˚
->
	`gëSPS
()->
	`gëPicHeightInLumaSam∂es
() ) )

2715 i‡––
absP¨tIdx
 % 
numP¨tInCtuWidth
 <ÇumPartInCtuWidth - 1 ) &&

2716 –
absP¨tIdx
 / 
numP¨tInCtuWidth
 < 
numP¨tInCtuHeight
 - 1 ) )

2718 
absP¨tAddr
 = 
g_auiRa°îToZsˇn
[ 
absP¨tIdx
 + 
numP¨tInCtuWidth
 + 1 ];

2719 
˘uRsAddr
 = 
	`gëCtuRsAddr
();

2721 i‡–
absP¨tIdx
 % 
numP¨tInCtuWidth
 <ÇumPartInCtuWidth - 1 )

2723 
absP¨tAddr
 = 
g_auiRa°îToZsˇn
[ (
absP¨tIdx
 + 
numP¨tInCtuWidth
 + 1Ë% 
m_pcPic
->
	`gëNumP¨tôi⁄sInCtu
() ];

2725 i‡–
absP¨tIdx
 / 
numP¨tInCtuWidth
 < 
numP¨tInCtuHeight
 - 1 )

2727 
absP¨tAddr
 = 
g_auiRa°îToZsˇn
[ 
absP¨tIdx
 + 1 ];

2728 
˘uRsAddr
 = 
	`gëCtuRsAddr
() + 1;

2732 
absP¨tAddr
 = 0;

2735 i‡–
˘uRsAddr
 >0 && 
	`xGëCﬁMVP
–
eRefPicLi°
, ctuRsAddr, 
absP¨tAddr
, 
cCﬁMv
, 
ªfIdx_Cﬁ
 ) )

2737 
pInfo
->
m_acMvC™d
[pInfo->
iN
++] = 
cCﬁMv
;

2741 
UI¡
 
uiP¨tIdxCíãr
;

2742 
	`xDîiveCíãrIdx
–
∑πIdx
, 
uiP¨tIdxCíãr
 );

2743 i‡(
	`xGëCﬁMVP
–
eRefPicLi°
, 
	`gëCtuRsAddr
(), 
uiP¨tIdxCíãr
, 
cCﬁMv
, 
ªfIdx_Cﬁ
 ))

2745 
pInfo
->
m_acMvC™d
[pInfo->
iN
++] = 
cCﬁMv
;

2751 
pInfo
->
iN
 < 
AMVP_MAX_NUM_CANDS
)

2753 
pInfo
->
m_acMvC™d
[pInfo->
iN
].
	`£t
(0,0);

2754 
pInfo
->
iN
++;

2757 
	}
}

2760 
Boﬁ
 
	gTComD©aCU
::
	$isBùªdRe°ri˘i⁄
(
UI¡
 
puIdx
) const

2762 
I¡
 
width
 = 0;

2763 
I¡
 
height
 = 0;

2764 
UI¡
 
∑πAddr
;

2766 
	`gëP¨tIndexAndSize
–
puIdx
, 
∑πAddr
, 
width
, 
height
 );

2767 i‡–
	`gëWidth
(0Ë=8 && (
width
 < 8 || 
height
 < 8) )

2769  
åue
;

2771  
Ál£
;

2772 
	}
}

2775 
Void
 
	gTComD©aCU
::
	$˛ùMv
 (
TComMv
& 
rcMv
) const

2777 c⁄° 
TComSPS
 &
•s
=*(
m_pcSli˚
->
	`gëSPS
());

2778 
I¡
 
iMvShi·
 = 2;

2779 
I¡
 
iOff£t
 = 8;

2780 
I¡
 
iH‹Max
 = ( 
•s
.
	`gëPicWidthInLumaSam∂es
(Ë+ 
iOff£t
 - (I¡)
m_uiCUPñX
 - 1 ) << 
iMvShi·
;

2781 
I¡
 
iH‹Mö
 = ( -(I¡)
•s
.
	`gëMaxCUWidth
(Ë- 
iOff£t
 - (I¡)
m_uiCUPñX
 + 1 ) << 
iMvShi·
;

2783 
I¡
 
iVîMax
 = ( 
•s
.
	`gëPicHeightInLumaSam∂es
(Ë+ 
iOff£t
 - (I¡)
m_uiCUPñY
 - 1 ) << 
iMvShi·
;

2784 
I¡
 
iVîMö
 = ( -(I¡)
•s
.
	`gëMaxCUHeight
(Ë- 
iOff£t
 - (I¡)
m_uiCUPñY
 + 1 ) << 
iMvShi·
;

2786 
rcMv
.
	`£tH‹
–
	`mö
 (
iH‹Max
, 
	`max
 (
iH‹Mö
,ÑcMv.
	`gëH‹
())) );

2787 
rcMv
.
	`£tVî
–
	`mö
 (
iVîMax
, 
	`max
 (
iVîMö
,ÑcMv.
	`gëVî
())) );

2788 
	}
}

2791 
UI¡
 
	gTComD©aCU
::
	$gëI¡øSizeIdx
(
UI¡
 
uiAbsP¨tIdx
) const

2793 
UI¡
 
uiShi·
 = ( 
m_≥P¨tSize
[
uiAbsP¨tIdx
]==
SIZE_NxN
 ? 1 : 0 );

2795 
UCh¨
 
uiWidth
 = 
m_puhWidth
[
uiAbsP¨tIdx
]>>
uiShi·
;

2796 
UI¡
 
uiC¡
 = 0;

2797  
uiWidth
 )

2799 
uiC¡
++;

2800 
uiWidth
>>=1;

2802 
uiC¡
-=2;

2803  
uiC¡
 > 6 ? 6 : uiCnt;

2804 
	}
}

2806 
Void
 
	gTComD©aCU
::
	$˛órCbf
–
UI¡
 
uiIdx
, 
Comp⁄ítID
 
compID
, UI¡ 
uiNumP¨ts
 )

2808 
	`mem£t
–&
m_puhCbf
[
compID
][
uiIdx
], 0, (
UCh¨
)*
uiNumP¨ts
);

2809 
	}
}

2817 
Void
 
	gTComD©aCU
::
	$£tIPCMFœgSubP¨ts
 (
Boﬁ
 
bIpcmFœg
, 
UI¡
 
uiAbsP¨tIdx
, UI¡ 
uiDïth
)

2819 
UI¡
 
uiCuºP¨tNumb
 = 
m_pcPic
->
	`gëNumP¨tôi⁄sInCtu
(Ë>> (
uiDïth
 << 1);

2821 
	`mem£t
(
m_pbIPCMFœg
 + 
uiAbsP¨tIdx
, 
bIpcmFœg
, (
Boﬁ
)*
uiCuºP¨tNumb
 );

2822 
	}
}

2828 
Boﬁ
 
	gTComD©aCU
::
	$isSkù≥d
–
UI¡
 
uiP¨tIdx
 ) const

2830  ( 
	`gëSkùFœg
–
uiP¨tIdx
 ) );

2831 
	}
}

2837 
Boﬁ
 
	gTComD©aCU
::
	$xAddMVPC™dUnsˇÀd
–
AMVPInfo
 &
öfo
, c⁄° 
RefPicLi°
 
eRefPicLi°
, c⁄° 
I¡
 
iRefIdx
, c⁄° 
UI¡
 
uiP¨tUnôIdx
, c⁄° 
MVP_DIR
 
eDú
 ) const

2839 c⁄° 
TComD©aCU
* 
√ibCU
 = 
NULL
;

2840 
UI¡
 
√ibPUP¨tIdx
;

2841  
eDú
 )

2843 
MD_LEFT
:

2845 
√ibCU
 = 
	`gëPULe·
(
√ibPUP¨tIdx
, 
uiP¨tUnôIdx
);

2848 
MD_ABOVE
:

2850 
√ibCU
 = 
	`gëPUAbove
(
√ibPUP¨tIdx
, 
uiP¨tUnôIdx
);

2853 
MD_ABOVE_RIGHT
:

2855 
√ibCU
 = 
	`gëPUAboveRight
(
√ibPUP¨tIdx
, 
uiP¨tUnôIdx
);

2858 
MD_BELOW_LEFT
:

2860 
√ibCU
 = 
	`gëPUBñowLe·
(
√ibPUP¨tIdx
, 
uiP¨tUnôIdx
);

2863 
MD_ABOVE_LEFT
:

2865 
√ibCU
 = 
	`gëPUAboveLe·
(
√ibPUP¨tIdx
, 
uiP¨tUnôIdx
);

2874 i‡–
√ibCU
 =
NULL
 )

2876  
Ál£
;

2879 c⁄° 
I¡
 
cuºRefPOC
 = 
m_pcSli˚
->
	`gëRefPic
–
eRefPicLi°
, 
iRefIdx
)->
	`gëPOC
();

2880 c⁄° 
RefPicLi°
 
eRefPicLi°2nd
 = (
eRefPicLi°
 =
REF_PIC_LIST_0
Ë? 
REF_PIC_LIST_1
 : REF_PIC_LIST_0;

2882 
I¡
 
¥edi˘‹Sour˚
=0;ÖredictorSource<2;ÖredictorSource++)

2884 c⁄° 
RefPicLi°
 
eRefPicLi°Index
 = (
¥edi˘‹Sour˚
==0Ë? 
eRefPicLi°
 : 
eRefPicLi°2nd
;

2885 c⁄° 
I¡
 
√ibRefIdx
 = 
√ibCU
->
	`gëCUMvFõld
(
eRefPicLi°Index
)->
	`gëRefIdx
(
√ibPUP¨tIdx
);

2887 i‡–
√ibRefIdx
 >0 && 
cuºRefPOC
 =
√ibCU
->
	`gëSli˚
()->
	`gëRefPOC
–
eRefPicLi°Index
,ÇeibRefIdx ))

2889 
öfo
.
m_acMvC™d
[öfo.
iN
++] = 
√ibCU
->
	`gëCUMvFõld
(
eRefPicLi°Index
)->
	`gëMv
(
√ibPUP¨tIdx
);

2890  
åue
;

2894  
Ál£
;

2895 
	}
}

2905 
Boﬁ
 
	gTComD©aCU
::
	$xAddMVPC™dWôhSˇlög
–
AMVPInfo
 &
öfo
, c⁄° 
RefPicLi°
 
eRefPicLi°
, c⁄° 
I¡
 
iRefIdx
, c⁄° 
UI¡
 
uiP¨tUnôIdx
, c⁄° 
MVP_DIR
 
eDú
 ) const

2907 c⁄° 
TComD©aCU
* 
√ibCU
 = 
NULL
;

2908 
UI¡
 
√ibPUP¨tIdx
;

2909  
eDú
 )

2911 
MD_LEFT
:

2913 
√ibCU
 = 
	`gëPULe·
(
√ibPUP¨tIdx
, 
uiP¨tUnôIdx
);

2916 
MD_ABOVE
:

2918 
√ibCU
 = 
	`gëPUAbove
(
√ibPUP¨tIdx
, 
uiP¨tUnôIdx
);

2921 
MD_ABOVE_RIGHT
:

2923 
√ibCU
 = 
	`gëPUAboveRight
(
√ibPUP¨tIdx
, 
uiP¨tUnôIdx
);

2926 
MD_BELOW_LEFT
:

2928 
√ibCU
 = 
	`gëPUBñowLe·
(
√ibPUP¨tIdx
, 
uiP¨tUnôIdx
);

2931 
MD_ABOVE_LEFT
:

2933 
√ibCU
 = 
	`gëPUAboveLe·
(
√ibPUP¨tIdx
, 
uiP¨tUnôIdx
);

2942 i‡–
√ibCU
 =
NULL
 )

2944  
Ál£
;

2947 c⁄° 
RefPicLi°
 
eRefPicLi°2nd
 = (
eRefPicLi°
 =
REF_PIC_LIST_0
Ë? 
REF_PIC_LIST_1
 : REF_PIC_LIST_0;

2949 c⁄° 
I¡
 
cuºPOC
 = 
m_pcSli˚
->
	`gëPOC
();

2950 c⁄° 
I¡
 
cuºRefPOC
 = 
m_pcSli˚
->
	`gëRefPic
–
eRefPicLi°
, 
iRefIdx
)->
	`gëPOC
();

2951 c⁄° 
Boﬁ
 
bIsCuºRefL⁄gTîm
 = 
m_pcSli˚
->
	`gëRefPic
–
eRefPicLi°
, 
iRefIdx
)->
	`gëIsL⁄gTîm
();

2952 c⁄° 
I¡
 
√ibPOC
 = 
cuºPOC
;

2954 
I¡
 
¥edi˘‹Sour˚
=0;ÖredictorSource<2;ÖredictorSource++)

2956 c⁄° 
RefPicLi°
 
eRefPicLi°Index
 = (
¥edi˘‹Sour˚
==0Ë? 
eRefPicLi°
 : 
eRefPicLi°2nd
;

2957 c⁄° 
I¡
 
√ibRefIdx
 = 
√ibCU
->
	`gëCUMvFõld
(
eRefPicLi°Index
)->
	`gëRefIdx
(
√ibPUP¨tIdx
);

2958 if–
√ibRefIdx
 >= 0)

2960 c⁄° 
Boﬁ
 
bIsNeibRefL⁄gTîm
 = 
√ibCU
->
	`gëSli˚
()->
	`gëRefPic
–
eRefPicLi°Index
, 
√ibRefIdx
 )->
	`gëIsL⁄gTîm
();

2962 i‡–
bIsCuºRefL⁄gTîm
 =
bIsNeibRefL⁄gTîm
 )

2964 c⁄° 
TComMv
 &
cMvPªd
 = 
√ibCU
->
	`gëCUMvFõld
(
eRefPicLi°Index
)->
	`gëMv
(
√ibPUP¨tIdx
);

2965 
TComMv
 
rcMv
;

2966 i‡–
bIsCuºRefL⁄gTîm
 )

2968 
rcMv
 = 
cMvPªd
;

2972 c⁄° 
I¡
 
√ibRefPOC
 = 
√ibCU
->
	`gëSli˚
()->
	`gëRefPOC
–
eRefPicLi°Index
, 
√ibRefIdx
 );

2973 c⁄° 
I¡
 
sˇÀ
 = 
	`xGëDi°SˇÀFa˘‹
–
cuºPOC
, 
cuºRefPOC
, 
√ibPOC
, 
√ibRefPOC
 );

2974 i‡–
sˇÀ
 == 4096 )

2976 
rcMv
 = 
cMvPªd
;

2980 
rcMv
 = 
cMvPªd
.
	`sˇÀMv
–
sˇÀ
 );

2984 
öfo
.
m_acMvC™d
[öfo.
iN
++] = 
rcMv
;

2985  
åue
;

2989  
Ál£
;

2990 
	}
}

2992 
Boﬁ
 
	gTComD©aCU
::
	$xGëCﬁMVP
–c⁄° 
RefPicLi°
 
eRefPicLi°
, c⁄° 
I¡
 
˘uRsAddr
, c⁄° I¡ 
∑πUnôIdx
, 
TComMv
& 
rcMv
, c⁄° I¡ 
ªfIdx
 ) const

2994 c⁄° 
UI¡
 
absP¨tAddr
 = 
∑πUnôIdx
;

2997 c⁄° 
TComPic
 * c⁄° 
pCﬁPic
 = 
	`gëSli˚
()->
	`gëRefPic
–
	`RefPicLi°
(gëSli˚()->
	`isI¡îB
(Ë? 1-gëSli˚()->
	`gëCﬁFromL0Fœg
(Ë: 0), gëSli˚()->
	`gëCﬁRefIdx
());

2998 #i‡
REDUCED_ENCODER_MEMORY


2999 i‡(!
pCﬁPic
->
	`gëPicSym
()->
	`hasDPBPîCtuD©a
())

3001  
Ál£
;

3003 c⁄° 
TComPicSym
::
DPBPîCtuD©a
 * c⁄° 
pCﬁDpbCtu
 = &(
pCﬁPic
->
	`gëPicSym
()->
	`gëDPBPîCtuD©a
(
˘uRsAddr
));

3004 c⁄° 
TComSli˚
 * c⁄° 
pCﬁSli˚
 = 
pCﬁDpbCtu
->
	`gëSli˚
();

3005 if(
pCﬁDpbCtu
->
	`gëP¨tôi⁄Size
(
∑πUnôIdx
)==
NUMBER_OF_PART_SIZES
)

3007 c⁄° 
TComD©aCU
 * c⁄° 
pCﬁCtu
 = 
pCﬁPic
->
	`gëCtu
–
˘uRsAddr
 );

3008 if(
pCﬁCtu
->
	`gëPic
()==0 ||ÖCﬁCtu->
	`gëP¨tôi⁄Size
(
∑πUnôIdx
)==
NUMBER_OF_PART_SIZES
)

3011  
Ál£
;

3014 #i‡
REDUCED_ENCODER_MEMORY


3015 i‡(!
pCﬁDpbCtu
->
	`isI¡î
(
absP¨tAddr
))

3017 i‡(!
pCﬁCtu
->
	`isI¡î
(
absP¨tAddr
))

3020  
Ál£
;

3023 
RefPicLi°
 
eCﬁRefPicLi°
 = 
	`gëSli˚
()->
	`gëCheckLDC
(Ë? 
eRefPicLi°
 : 
	`RefPicLi°
(gëSli˚()->
	`gëCﬁFromL0Fœg
());

3024 #i‡
REDUCED_ENCODER_MEMORY


3025 
I¡
 
iCﬁRefIdx
 = 
pCﬁDpbCtu
->
	`gëCUMvFõld
(
	`RefPicLi°
(
eCﬁRefPicLi°
))->
	`gëRefIdx
(
absP¨tAddr
);

3027 
I¡
 
iCﬁRefIdx
 = 
pCﬁCtu
->
	`gëCUMvFõld
(
	`RefPicLi°
(
eCﬁRefPicLi°
))->
	`gëRefIdx
(
absP¨tAddr
);

3030 i‡(
iCﬁRefIdx
 < 0 )

3032 
eCﬁRefPicLi°
 = 
	`RefPicLi°
(1 -ÉColRefPicList);

3033 #i‡
REDUCED_ENCODER_MEMORY


3034 
iCﬁRefIdx
 = 
pCﬁDpbCtu
->
	`gëCUMvFõld
(
	`RefPicLi°
(
eCﬁRefPicLi°
))->
	`gëRefIdx
(
absP¨tAddr
);

3036 
iCﬁRefIdx
 = 
pCﬁCtu
->
	`gëCUMvFõld
(
	`RefPicLi°
(
eCﬁRefPicLi°
))->
	`gëRefIdx
(
absP¨tAddr
);

3039 i‡(
iCﬁRefIdx
 < 0 )

3041  
Ál£
;

3045 c⁄° 
Boﬁ
 
bIsCuºRefL⁄gTîm
 = 
m_pcSli˚
->
	`gëRefPic
(
eRefPicLi°
, 
ªfIdx
)->
	`gëIsL⁄gTîm
();

3046 #i‡
REDUCED_ENCODER_MEMORY


3047 c⁄° 
Boﬁ
 
bIsCﬁRefL⁄gTîm
 = 
pCﬁSli˚
->
	`gëIsU£dAsL⁄gTîm
(
eCﬁRefPicLi°
, 
iCﬁRefIdx
);

3049 c⁄° 
Boﬁ
 
bIsCﬁRefL⁄gTîm
 = 
pCﬁCtu
->
	`gëSli˚
()->
	`gëIsU£dAsL⁄gTîm
(
eCﬁRefPicLi°
, 
iCﬁRefIdx
);

3052 i‡–
bIsCuºRefL⁄gTîm
 !
bIsCﬁRefL⁄gTîm
 )

3054  
Ál£
;

3058 #i‡
REDUCED_ENCODER_MEMORY


3059 c⁄° 
TComMv
 &
cCﬁMv
 = 
pCﬁDpbCtu
->
	`gëCUMvFõld
(
eCﬁRefPicLi°
)->
	`gëMv
(
absP¨tAddr
);

3061 c⁄° 
TComMv
 &
cCﬁMv
 = 
pCﬁCtu
->
	`gëCUMvFõld
(
eCﬁRefPicLi°
)->
	`gëMv
(
absP¨tAddr
);

3063 i‡–
bIsCuºRefL⁄gTîm
 )

3065 
rcMv
 = 
cCﬁMv
;

3069 c⁄° 
I¡
 
cuºPOC
 = 
m_pcSli˚
->
	`gëPOC
();

3070 #i‡
REDUCED_ENCODER_MEMORY


3071 c⁄° 
I¡
 
cﬁPOC
 = 
pCﬁSli˚
->
	`gëPOC
();

3072 c⁄° 
I¡
 
cﬁRefPOC
 = 
pCﬁSli˚
->
	`gëRefPOC
(
eCﬁRefPicLi°
, 
iCﬁRefIdx
);

3074 c⁄° 
I¡
 
cﬁPOC
 = 
pCﬁCtu
->
	`gëSli˚
()->
	`gëPOC
();

3075 c⁄° 
I¡
 
cﬁRefPOC
 = 
pCﬁCtu
->
	`gëSli˚
()->
	`gëRefPOC
(
eCﬁRefPicLi°
, 
iCﬁRefIdx
);

3077 c⁄° 
I¡
 
cuºRefPOC
 = 
m_pcSli˚
->
	`gëRefPic
(
eRefPicLi°
, 
ªfIdx
)->
	`gëPOC
();

3078 c⁄° 
I¡
 
sˇÀ
 = 
	`xGëDi°SˇÀFa˘‹
(
cuºPOC
, 
cuºRefPOC
, 
cﬁPOC
, 
cﬁRefPOC
);

3079 i‡–
sˇÀ
 == 4096 )

3081 
rcMv
 = 
cCﬁMv
;

3085 
rcMv
 = 
cCﬁMv
.
	`sˇÀMv
–
sˇÀ
 );

3089  
åue
;

3090 
	}
}

3093 
I¡
 
	gTComD©aCU
::
	$xGëDi°SˇÀFa˘‹
(
I¡
 
iCuºPOC
, I¡ 
iCuºRefPOC
, I¡ 
iCﬁPOC
, I¡ 
iCﬁRefPOC
)

3095 
I¡
 
iDiffPocD
 = 
iCﬁPOC
 - 
iCﬁRefPOC
;

3096 
I¡
 
iDiffPocB
 = 
iCuºPOC
 - 
iCuºRefPOC
;

3098 if–
iDiffPocD
 =
iDiffPocB
 )

3104 
I¡
 
iTDB
 = 
	`Clù3
–-128, 127, 
iDiffPocB
 );

3105 
I¡
 
iTDD
 = 
	`Clù3
–-128, 127, 
iDiffPocD
 );

3106 
I¡
 
iX
 = (0x4000 + 
	`abs
(
iTDD
/2)) / iTDD;

3107 
I¡
 
iSˇÀ
 = 
	`Clù3
–-4096, 4095, (
iTDB
 * 
iX
 + 32) >> 6 );

3108  
iSˇÀ
;

3110 
	}
}

3112 
Void
 
	gTComD©aCU
::
	$xDîiveCíãrIdx
–
UI¡
 
uiP¨tIdx
, UI¡& 
ruiP¨tIdxCíãr
 ) const

3114 
UI¡
 
uiP¨tAddr
;

3115 
I¡
 
iP¨tWidth
;

3116 
I¡
 
iP¨tHeight
;

3117 
	`gëP¨tIndexAndSize
–
uiP¨tIdx
, 
uiP¨tAddr
, 
iP¨tWidth
, 
iP¨tHeight
);

3119 
ruiP¨tIdxCíãr
 = 
m_absZIdxInCtu
+
uiP¨tAddr
;

3120 
ruiP¨tIdxCíãr
 = 
g_auiRa°îToZsˇn
[ 
g_auiZsˇnToRa°î
[ÑuiPartIdxCenter ]

3121 + ( 
iP¨tHeight
/
m_pcPic
->
	`gëMöCUHeight
(Ë)/2*m_pcPic->
	`gëNumP¨tInCtuWidth
()

3122 + ( 
iP¨tWidth
/
m_pcPic
->
	`gëMöCUWidth
() )/2];

3123 
	}
}

3125 
Void
 
	gTComD©aCU
::
	$com¥essMV
()

3127 #i‡
REDUCED_ENCODER_MEMORY


3128 c⁄° 
I¡
 
sˇÀFa˘‹
 = 
°d
::
max
<I¡>(1,4 * 
AMVP_DECIMATION_FACTOR
 / 
m_unôSize
);

3129 
TComPicSym
 &
picSym
=*(
	`gëPic
()->
	`gëPicSym
());

3130 
TComPicSym
::
DPBPîCtuD©a
 &
dpbF‹Ctu
=
picSym
.
	`gëDPBPîCtuD©a
(
	`gëCtuRsAddr
());

3132 
UI¡
 
i
=0; i<
NUM_REF_PIC_LIST_01
; i++)

3134 
dpbF‹Ctu
.
m_CUMvFõld
[
i
].
	`com¥ess
(dpbF‹Ctu.
m_≥PªdMode
, m_≥PªdMode, 
sˇÀFa˘‹
,
m_acCUMvFõld
[i]);

3135 
	`mem˝y
(
dpbF‹Ctu
.
m_≥P¨tSize
, m_≥P¨tSize, (*m_≥P¨tSize)*
m_uiNumP¨tôi⁄
);

3136 
dpbF‹Ctu
.
m_pSli˚
 = 
	`gëSli˚
();

3139 
I¡
 
sˇÀFa˘‹
 = 4 * 
AMVP_DECIMATION_FACTOR
 / 
m_unôSize
;

3140 i‡(
sˇÀFa˘‹
 > 0)

3142 
UI¡
 
i
=0; i<
NUM_REF_PIC_LIST_01
; i++)

3144 
m_acCUMvFõld
[
i
].
	`com¥ess
(
m_≥PªdMode
, 
sˇÀFa˘‹
);

3148 
	}
}

3150 
UI¡
 
	gTComD©aCU
::
	$gëC€fSˇnIdx
(c⁄° 
UI¡
 
uiAbsP¨tIdx
, c⁄° UI¡ 
uiWidth
, c⁄° UI¡ 
uiHeight
, c⁄° 
Comp⁄ítID
 
compID
) const

3156 i‡(!
	`isI¡ø
(
uiAbsP¨tIdx
))

3158  
SCAN_DIAG
;

3165 c⁄° 
ChromaF‹m©
 
f‹m©
 = 
	`gëPic
()->
	`gëChromaF‹m©
();

3167 c⁄° 
UI¡
 
maximumWidth
 = 
MDCS_MAXIMUM_WIDTH
 >> 
	`gëComp⁄ítSˇÀX
(
compID
, 
f‹m©
);

3168 c⁄° 
UI¡
 
maximumHeight
 = 
MDCS_MAXIMUM_HEIGHT
 >> 
	`gëComp⁄ítSˇÀY
(
compID
, 
f‹m©
);

3170 i‡((
uiWidth
 > 
maximumWidth
Ë|| (
uiHeight
 > 
maximumHeight
))

3172  
SCAN_DIAG
;

3179 
UI¡
 
uiDúMode
 = 
	`gëI¡øDú
(
	`toCh™√lTy≥
(
compID
), 
uiAbsP¨tIdx
);

3181 i‡(
uiDúMode
==
DM_CHROMA_IDX
)

3183 c⁄° 
TComSPS
 *
•s
=
	`gëSli˚
()->
	`gëSPS
();

3184 c⁄° 
UI¡
 
∑πsPîMöCU
 = 1<<(2*(
•s
->
	`gëMaxTŸÆCUDïth
(Ë- sps->
	`gëLog2DiffMaxMöCodögBlockSize
()));

3185 
uiDúMode
 = 
	`gëI¡øDú
(
CHANNEL_TYPE_LUMA
, 
	`gëChromasC‹ª•⁄dögPULumaIdx
(
uiAbsP¨tIdx
, 
	`gëPic
()->
	`gëChromaF‹m©
(), 
∑πsPîMöCU
));

3188 i‡(
	`isChroma
(
compID
Ë&& (
f‹m©
 =
CHROMA_422
))

3190 
uiDúMode
 = 
g_chroma422I¡øAngÀM≠pögTabÀ
[uiDirMode];

3195 i‡(
	`abs
((
I¡
)
uiDúMode
 - 
VER_IDX
Ë<
MDCS_ANGLE_LIMIT
)

3197  
SCAN_HOR
;

3199 i‡(
	`abs
((
I¡
)
uiDúMode
 - 
HOR_IDX
Ë<
MDCS_ANGLE_LIMIT
)

3201  
SCAN_VER
;

3205  
SCAN_DIAG
;

3207 
	}
}

3209 #i‡
MCTS_ENC_CHECK


3210 
Boﬁ
 
	gTComD©aCU
::
	$isLa°CﬁumnCTUInTûe
() const

3212 
UI¡
 
cuºítTûeIdx
 = 
this
->
	`gëPic
()->
	`gëPicSym
()->
	`gëTûeIdxM≠
—his->
	`gëCtuRsAddr
());

3213 
TComTûe
 *
pCuºítTûe
 = 
m_pcPic
->
	`gëPicSym
()->
	`gëTComTûe
(
cuºítTûeIdx
);

3214 
UI¡
 
‰ameWidthInCtus
 = 
m_pcPic
->
	`gëPicSym
()->
	`gëFømeWidthInCtus
();

3215 
UI¡
 
rightEdgeCTUPosInCuºítTûe
 = 
pCuºítTûe
->
	`gëRightEdgePosInCtus
();

3216 
UI¡
 
˘uXPosInCtus
 = 
this
->
	`gëCtuRsAddr
(Ë% 
‰ameWidthInCtus
;

3218  (
rightEdgeCTUPosInCuºítTûe
 =
˘uXPosInCtus
);

3219 
	}
}

	@TComDataCU.h

39 #i‚de‡
__TCOMDATACU__


40 
	#__TCOMDATACU__


	)

42 
	~<Æg‹ôhm
>

43 
	~<ve˘‹
>

46 
	~"Comm⁄Def.h
"

47 
	~"TComMŸi⁄Info.h
"

48 
	~"TComSli˚.h
"

49 
	~"TComRdCo°.h
"

50 
	~"TComP©ã∫.h
"

55 
˛ass
 
	gTComTU
;

57 c⁄° 
UI¡
 
	gNUM_MOST_PROBABLE_MODES
=3;

64 ˛as†
	cTComD©aCU


66 
	mpublic
:

72 
TComPic
* 
m_pcPic
;

73 
TComSli˚
* 
	mm_pcSli˚
;

79 
UI¡
 
	mm_˘uRsAddr
;

80 
UI¡
 
	mm_absZIdxInCtu
;

81 
UI¡
 
	mm_uiCUPñX
;

82 
UI¡
 
	mm_uiCUPñY
;

83 
UI¡
 
	mm_uiNumP¨tôi⁄
;

84 
UCh¨
* 
	mm_puhWidth
;

85 
UCh¨
* 
	mm_puhHeight
;

86 
UCh¨
* 
	mm_puhDïth
;

87 
I¡
 
	mm_unôSize
;

93 
Boﬁ
* 
	mm_skùFœg
;

94 
SCh¨
* 
	mm_≥P¨tSize
;

95 
SCh¨
* 
	mm_≥PªdMode
;

96 
SCh¨
* 
	mm_¸ossComp⁄ítPªdi˘i⁄AÕha
[
MAX_NUM_COMPONENT
];

97 
Boﬁ
* 
	mm_CUTønsqu™tBy∑ss
;

98 
SCh¨
* 
	mm_phQP
;

99 
UCh¨
* 
	mm_ChromaQpAdj
;

100 
UI¡
 
	mm_codedChromaQpAdj
;

101 
UCh¨
* 
	mm_puhTrIdx
;

102 
UCh¨
* 
	mm_puhTønsf‹mSkù
[
MAX_NUM_COMPONENT
];

103 
UCh¨
* 
	mm_puhCbf
[
MAX_NUM_COMPONENT
];

104 
TComCUMvFõld
 
	mm_acCUMvFõld
[
NUM_REF_PIC_LIST_01
];

105 
TC€ff
* 
	mm_pcTrC€ff
[
MAX_NUM_COMPONENT
];

106 #i‡
ADAPTIVE_QP_SELECTION


107 
TC€ff
* 
	mm_pcAæC€ff
[
MAX_NUM_COMPONENT
];

108 
Boﬁ
 
	mm_AæC€ffIsAlü£dAŒoˇti⁄
;

111 
Pñ
* 
	mm_pcIPCMSam∂e
[
MAX_NUM_COMPONENT
];

117 
TComD©aCU
* 
	mm_pCtuAboveLe·
;

118 
TComD©aCU
* 
	mm_pCtuAboveRight
;

119 
TComD©aCU
* 
	mm_pCtuAbove
;

120 
TComD©aCU
* 
	mm_pCtuLe·
;

121 
TComMvFõld
 
	mm_cMvFõldA
;

122 
TComMvFõld
 
	mm_cMvFõldB
;

123 
TComMvFõld
 
	mm_cMvFõldC
;

124 
TComMv
 
	mm_cMvPªd
;

130 
Boﬁ
* 
	mm_pbMîgeFœg
;

131 
UCh¨
* 
	mm_puhMîgeIndex
;

132 #i‡
AMP_MRG


133 
Boﬁ
 
	mm_bIsMîgeAMP
;

135 
UCh¨
* 
	mm_puhI¡øDú
[
MAX_NUM_CHANNEL_TYPE
];

136 
UCh¨
* 
	mm_puhI¡îDú
;

137 
SCh¨
* 
	mm_≠iMVPIdx
[
NUM_REF_PIC_LIST_01
];

138 
SCh¨
* 
	mm_≠iMVPNum
[
NUM_REF_PIC_LIST_01
];

139 
Boﬁ
* 
	mm_pbIPCMFœg
;

140 #i‡
MCTS_ENC_CHECK


141 
Boﬁ
 
	mm_tM˘sMvpIsVÆid
;

148 
Boﬁ
 
	mm_bDecSubCu
;

149 
DoubÀ
 
	mm_dTŸÆCo°
;

150 
Di°‹ti⁄
 
	mm_uiTŸÆDi°‹ti⁄
;

151 
UI¡
 
	mm_uiTŸÆBôs
;

152 
UI¡
 
	mm_uiTŸÆBös
;

153 
SCh¨
 
	mm_codedQP
;

154 
UCh¨
* 
	mm_ex∂icôRdpcmMode
[
MAX_NUM_COMPONENT
];

156 
	m¥Ÿe˘ed
:

159 
Boﬁ
 
	$xAddMVPC™dUnsˇÀd
 ( 
AMVPInfo
 &
öfo
, c⁄° 
RefPicLi°
 
eRefPicLi°
, c⁄° 
I¡
 
iRefIdx
, c⁄° 
UI¡
 
uiP¨tUnôIdx
, c⁄° 
MVP_DIR
 
eDú
 ) const;

160 
Boﬁ
 
	$xAddMVPC™dWôhSˇlög
 ( 
AMVPInfo
 &
öfo
, c⁄° 
RefPicLi°
 
eRefPicLi°
, c⁄° 
I¡
 
iRefIdx
, c⁄° 
UI¡
 
uiP¨tUnôIdx
, c⁄° 
MVP_DIR
 
eDú
 ) const;

162 
Void
 
	$dîiveRightBŸtomIdx
 ( 
UI¡
 
uiP¨tIdx
, UI¡& 
ruiP¨tIdxRB
 ) const;

163 
Boﬁ
 
	$xGëCﬁMVP
 ( c⁄° 
RefPicLi°
 
eRefPicLi°
, c⁄° 
I¡
 
˘uRsAddr
, c⁄° I¡ 
∑πUnôIdx
, 
TComMv
& 
rcMv
, c⁄° I¡ 
ªfIdx
 ) const;

166 
I¡
 
	`xGëDi°SˇÀFa˘‹
 ( I¡ 
iCuºPOC
, I¡ 
iCuºRefPOC
, I¡ 
iCﬁPOC
, I¡ 
iCﬁRefPOC
 );

168 
Void
 
	$xDîiveCíãrIdx
 ( 
UI¡
 
uiP¨tIdx
, UI¡& 
ruiP¨tIdxCíãr
 ) const;

170 
public
:

171 
	`TComD©aCU
();

172 
vútuÆ
 ~
	`TComD©aCU
();

178 
Void
 
	`¸óã
 ( 
ChromaF‹m©
 
chromaF‹m©IDC
, 
UI¡
 
uiNumP¨tôi⁄
, UI¡ 
uiWidth
, UI¡ 
uiHeight
, 
Boﬁ
 
bDecSubCu
, 
I¡
 
unôSize


179 #i‡
ADAPTIVE_QP_SELECTION


180 , 
TC€ff
 *
pP¨ítARLBuf„r
 = 0

183 
Void
 
	`de°roy
 ( );

185 
Void
 
	`öôCtu
 ( 
TComPic
* 
pcPic
, 
UI¡
 
˘uRsAddr
 );

186 
Void
 
	`öôE°D©a
 ( c⁄° 
UI¡
 
uiDïth
, c⁄° 
I¡
 
qp
, c⁄° 
Boﬁ
 
bTønsqu™tBy∑ss
 );

187 
Void
 
	`öôSubCU
 ( 
TComD©aCU
* 
pcCU
, 
UI¡
 
uiP¨tUnôIdx
, UI¡ 
uiDïth
, 
I¡
 
qp
 );

188 
Void
 
	`£tOutsideCUP¨t
 ( 
UI¡
 
uiAbsP¨tIdx
, UI¡ 
uiDïth
 );

190 
Void
 
	`c›ySubCU
 ( 
TComD©aCU
* 
pcCU
, 
UI¡
 
uiP¨tUnôIdx
 );

191 
Void
 
	`c›yI¡îPªdInfoFrom
 ( 
TComD©aCU
* 
pcCU
, 
UI¡
 
uiAbsP¨tIdx
, 
RefPicLi°
 
eRefPicLi°
 );

192 
Void
 
	`c›yP¨tFrom
 ( 
TComD©aCU
* 
pcCU
, 
UI¡
 
uiP¨tUnôIdx
, UI¡ 
uiDïth
 );

194 
Void
 
	`c›yToPic
 ( 
UCh¨
 
uiDïth
 );

200 
TComPic
* 
	$gëPic
 ( ) {  
m_pcPic
; }

201 c⁄° 
TComPic
* 
	$gëPic
 ( ) c⁄° {  
m_pcPic
; 
	}
}

202 
TComSli˚
* 
	$gëSli˚
 ( ) {  
m_pcSli˚
; 
	}
}

203 c⁄° 
TComSli˚
* 
	$gëSli˚
 ( ) c⁄° {  
m_pcSli˚
; 
	}
}

204 
	gUI¡
& 
	$gëCtuRsAddr
 ( ) {  
m_˘uRsAddr
; 
	}
}

205 
UI¡
 
	$gëCtuRsAddr
 ( ) c⁄° {  
m_˘uRsAddr
; 
	}
}

206 
UI¡
 
	$gëZ‹dîIdxInCtu
 ( ) c⁄° {  
m_absZIdxInCtu
; 
	}
}

207 
UI¡
 
	$gëCUPñX
 ( ) c⁄° {  
m_uiCUPñX
; 
	}
}

208 
UI¡
 
	$gëCUPñY
 ( ) c⁄° {  
m_uiCUPñY
; 
	}
}

210 
UCh¨
* 
	$gëDïth
 ( ) {  
m_puhDïth
; 
	}
}

211 
UCh¨
 
	$gëDïth
 ( 
UI¡
 
uiIdx
 ) c⁄° {  
m_puhDïth
[uiIdx]; 
	}
}

212 
Void
 
	$£tDïth
 ( 
UI¡
 
uiIdx
, 
UCh¨
 
uh
 ) { 
m_puhDïth
[uiIdx] = uh; 
	}
}

214 
Void
 
£tDïthSubP¨ts
 ( 
UI¡
 
uiDïth
, UI¡ 
uiAbsP¨tIdx
 );

216 #i‡
MCTS_ENC_CHECK


217 
Void
 
	$£tTM˘sMvpIsVÆid
(
Boﬁ
 
b
Ë{ 
m_tM˘sMvpIsVÆid
 = b; 
	}
}

218 
Boﬁ
 
	$gëTM˘sMvpIsVÆid
(Ë{  
m_tM˘sMvpIsVÆid
; 
	}
}

219 
Boﬁ
 
	$isLa°CﬁumnCTUInTûe
() const;

226 
SCh¨
* 
	$gëP¨tôi⁄Size
 ( ) {  
m_≥P¨tSize
; 
	}
}

227 
P¨tSize
 
	$gëP¨tôi⁄Size
 ( 
UI¡
 
uiIdx
 ) c⁄° {  
°©ic_ˇ°
<
P¨tSize
>–
m_≥P¨tSize
[uiIdx] ); 
	}
}

228 
Void
 
	$£tP¨tôi⁄Size
 ( 
UI¡
 
uiIdx
, 
P¨tSize
 
uh
 ) { 
m_≥P¨tSize
[uiIdx] = uh; 
	}
}

229 
Void
 
£tP¨tSizeSubP¨ts
 ( 
P¨tSize
 
eMode
, 
UI¡
 
uiAbsP¨tIdx
, UI¡ 
uiDïth
 );

230 
Void
 
£tCUTønsqu™tBy∑ssSubP¨ts
 ( 
Boﬁ
 
Êag
, 
UI¡
 
uiAbsP¨tIdx
, UI¡ 
uiDïth
 );

232 
Boﬁ
* 
	$gëSkùFœg
 ( ) {  
m_skùFœg
; 
	}
}

233 
Boﬁ
 
	$gëSkùFœg
 ( 
UI¡
 
idx
 ) c⁄° {  
m_skùFœg
[idx]; 
	}
}

234 
Void
 
	$£tSkùFœg
 ( 
UI¡
 
idx
, 
Boﬁ
 
skù
 ) { 
m_skùFœg
[idx] = skù; 
	}
}

235 
Void
 
£tSkùFœgSubP¨ts
 ( 
Boﬁ
 
skù
, 
UI¡
 
absP¨tIdx
, UI¡ 
dïth
 );

237 
SCh¨
* 
	$gëPªdi˘i⁄Mode
 ( ) {  
m_≥PªdMode
; 
	}
}

238 
PªdMode
 
	$gëPªdi˘i⁄Mode
 ( 
UI¡
 
uiIdx
 ) c⁄° {  
°©ic_ˇ°
<
PªdMode
>–
m_≥PªdMode
[uiIdx] ); 
	}
}

239 
Void
 
	$£tPªdi˘i⁄Mode
 ( 
UI¡
 
uiIdx
, 
PªdMode
 
uh
 ) { 
m_≥PªdMode
[uiIdx] = uh; 
	}
}

240 
Void
 
£tPªdModeSubP¨ts
 ( 
PªdMode
 
eMode
, 
UI¡
 
uiAbsP¨tIdx
, UI¡ 
uiDïth
 );

242 
SCh¨
* 
	$gëCrossComp⁄ítPªdi˘i⁄AÕha
–
Comp⁄ítID
 
compID
 ) {  
m_¸ossComp⁄ítPªdi˘i⁄AÕha
[compID]; 
	}
}

243 
SCh¨
 
	$gëCrossComp⁄ítPªdi˘i⁄AÕha
–
UI¡
 
uiIdx
, 
Comp⁄ítID
 
compID
 ) {  
m_¸ossComp⁄ítPªdi˘i⁄AÕha
[compID][uiIdx]; 
	}
}

245 
Boﬁ
* 
	$gëCUTønsqu™tBy∑ss
 ( ) {  
m_CUTønsqu™tBy∑ss
; 
	}
}

246 
Boﬁ
 
	$gëCUTønsqu™tBy∑ss
 ( 
UI¡
 
uiIdx
 ) c⁄° {  
m_CUTønsqu™tBy∑ss
[uiIdx]; 
	}
}

248 
UCh¨
* 
	$gëWidth
 ( ) {  
m_puhWidth
; 
	}
}

249 
UCh¨
 
	$gëWidth
 ( 
UI¡
 
uiIdx
 ) c⁄° {  
m_puhWidth
[uiIdx]; 
	}
}

250 
Void
 
	$£tWidth
 ( 
UI¡
 
uiIdx
, 
UCh¨
 
uh
 ) { 
m_puhWidth
[uiIdx] = uh; 
	}
}

252 
UCh¨
* 
	$gëHeight
 ( ) {  
m_puhHeight
; 
	}
}

253 
UCh¨
 
	$gëHeight
 ( 
UI¡
 
uiIdx
 ) c⁄° {  
m_puhHeight
[uiIdx]; 
	}
}

254 
Void
 
	$£tHeight
 ( 
UI¡
 
uiIdx
, 
UCh¨
 
uh
 ) { 
m_puhHeight
[uiIdx] = uh; 
	}
}

256 
Void
 
£tSizeSubP¨ts
 ( 
UI¡
 
uiWidth
, UI¡ 
uiHeight
, UI¡ 
uiAbsP¨tIdx
, UI¡ 
uiDïth
 );

258 
SCh¨
* 
	$gëQP
 ( ) {  
m_phQP
; 
	}
}

259 
SCh¨
 
	$gëQP
 ( 
UI¡
 
uiIdx
 ) c⁄° {  
m_phQP
[uiIdx]; 
	}
}

260 
Void
 
	$£tQP
 ( 
UI¡
 
uiIdx
, 
SCh¨
 
vÆue
 ) { 
m_phQP
[uiIdx] = vÆue; 
	}
}

261 
Void
 
£tQPSubP¨ts
 ( 
I¡
 
qp
, 
UI¡
 
uiAbsP¨tIdx
, UI¡ 
uiDïth
 );

262 
I¡
 
	$gëLa°VÆidP¨tIdx
 ( 
I¡
 
iAbsP¨tIdx
 ) const;

263 
SCh¨
 
	$gëLa°CodedQP
 ( 
UI¡
 
uiAbsP¨tIdx
 ) const;

264 
Void
 
	`£tQPSubCUs
 ( 
I¡
 
qp
, 
UI¡
 
absP¨tIdx
, UI¡ 
dïth
, 
Boﬁ
 &
foundN⁄ZîoCbf
 );

265 
Void
 
	$£tCodedQP
 ( 
SCh¨
 
qp
 ) { 
m_codedQP
 = qp; 
	}
}

266 
SCh¨
 
	$gëCodedQP
 ( ) c⁄° {  
m_codedQP
; 
	}
}

268 
UCh¨
* 
	$gëChromaQpAdj
 ( ) {  
m_ChromaQpAdj
; 
	}
}

269 
UCh¨
 
	$gëChromaQpAdj
 ( 
I¡
 
idx
 ) c⁄° {  
m_ChromaQpAdj
[idx]; 
	}
}

270 
Void
 
	$£tChromaQpAdj
 ( 
I¡
 
idx
, 
UCh¨
 
vÆ
 ) { 
m_ChromaQpAdj
[idx] = vÆ; 
	}
}

271 
Void
 
£tChromaQpAdjSubP¨ts
 ( 
UCh¨
 
vÆ
, 
I¡
 
absP¨tIdx
, I¡ 
dïth
 );

272 
Void
 
	$£tCodedChromaQpAdj
 ( 
SCh¨
 
qp
 ) { 
m_codedChromaQpAdj
 = qp; 
	}
}

273 
SCh¨
 
	$gëCodedChromaQpAdj
 ( ) c⁄° {  
m_codedChromaQpAdj
; 
	}
}

275 
Boﬁ
 
	$isLos¶essCoded
 ( 
UI¡
 
absP¨tIdx
 ) const;

277 
UCh¨
* 
	$gëTønsf‹mIdx
 ( ) {  
m_puhTrIdx
; 
	}
}

278 
UCh¨
 
	$gëTønsf‹mIdx
 ( 
UI¡
 
uiIdx
 ) c⁄° {  
m_puhTrIdx
[uiIdx]; 
	}
}

279 
Void
 
£tTrIdxSubP¨ts
 ( 
UI¡
 
uiTrIdx
, UI¡ 
uiAbsP¨tIdx
, UI¡ 
uiDïth
 );

281 
UCh¨
* 
	$gëTønsf‹mSkù
 ( 
Comp⁄ítID
 
compID
 ) {  
m_puhTønsf‹mSkù
[compID]; 
	}
}

282 
UCh¨
 
	$gëTønsf‹mSkù
 ( 
UI¡
 
uiIdx
, 
Comp⁄ítID
 
compID
 ) c⁄° {  
m_puhTønsf‹mSkù
[compID][uiIdx]; 
	}
}

283 
Void
 
£tTønsf‹mSkùSubP¨ts
 ( 
UI¡
 
u£Tønsf‹mSkù
, 
Comp⁄ítID
 
compID
, UI¡ 
uiAbsP¨tIdx
, UI¡ 
uiDïth
 );

284 
Void
 
£tTønsf‹mSkùSubP¨ts
 ( c⁄° 
UI¡
 
u£Tønsf‹mSkù
[
MAX_NUM_COMPONENT
], UI¡ 
uiAbsP¨tIdx
, UI¡ 
uiDïth
 );

286 
UCh¨
* 
	$gëEx∂icôRdpcmMode
 ( 
Comp⁄ítID
 
comp⁄ít
 ) {  
m_ex∂icôRdpcmMode
[comp⁄ít]; 
	}
}

287 
UCh¨
 
	$gëEx∂icôRdpcmMode
 ( 
Comp⁄ítID
 
comp⁄ít
, 
UI¡
 
∑πIdx
 ) c⁄° {  
m_ex∂icôRdpcmMode
[comp⁄ít][∑πIdx]; 
	}
}

288 
Void
 
£tEx∂icôRdpcmModeP¨tR™ge
 ( 
UI¡
 
rdpcmMode
, 
Comp⁄ítID
 
compID
, UI¡ 
uiAbsP¨tIdx
, UI¡ 
uiCovîedP¨tIdxes
 );

290 
Boﬁ
 
	$isRDPCME«bÀd
 ( 
UI¡
 
uiAbsP¨tIdx
 ) c⁄° {  
	`gëSli˚
()->
	`gëSPS
()->
	`gëSpsR™geExãnsi⁄
().
	`gëRdpcmE«bÀdFœg
(
	`isI¡ø
(uiAbsP¨tIdxË? 
RDPCM_SIGNAL_IMPLICIT
 : 
RDPCM_SIGNAL_EXPLICIT
); 
	}
}

292 
Void
 
£tCrossComp⁄ítPªdi˘i⁄AÕhaP¨tR™ge
 ( 
SCh¨
 
ÆphaVÆue
, 
Comp⁄ítID
 
compID
, 
UI¡
 
uiAbsP¨tIdx
, UI¡ 
uiCovîedP¨tIdxes
 );

293 
Void
 
£tTønsf‹mSkùP¨tR™ge
 ( 
UI¡
 
u£Tønsf‹mSkù
, 
Comp⁄ítID
 
compID
, UI¡ 
uiAbsP¨tIdx
, UI¡ 
uiCovîedP¨tIdxes
 );

295 
UI¡
 
	$gëQuadåìTULog2MöSizeInCU
 ( 
UI¡
 
uiIdx
 ) const;

297 
TComCUMvFõld
* 
	$gëCUMvFõld
 ( 
RefPicLi°
 
e
 ) {  &
m_acCUMvFõld
[e]; 
	}
}

298 c⁄° 
TComCUMvFõld
* 
	$gëCUMvFõld
 ( 
RefPicLi°
 
e
 ) c⁄° {  &
m_acCUMvFõld
[e]; 
	}
}

300 
TC€ff
* 
	$gëC€ff
 ( 
Comp⁄ítID
 
comp⁄ít
 ) {  
m_pcTrC€ff
[comp⁄ít]; 
	}
}

302 #i‡
ADAPTIVE_QP_SELECTION


303 
TC€ff
* 
	$gëAæC€ff
 ( 
Comp⁄ítID
 
comp⁄ít
 ) {  
m_pcAæC€ff
[comp⁄ít]; 
	}
}

305 
Pñ
* 
	$gëPCMSam∂e
 ( 
Comp⁄ítID
 
comp⁄ít
 ) {  
m_pcIPCMSam∂e
[comp⁄ít]; 
	}
}

307 
UCh¨
 
	$gëCbf
 ( 
UI¡
 
uiIdx
, 
Comp⁄ítID
 
eTy≥
 ) c⁄° {  
m_puhCbf
[eTy≥][uiIdx]; 
	}
}

308 
UCh¨
* 
	$gëCbf
 ( 
Comp⁄ítID
 
eTy≥
 ) {  
m_puhCbf
[eTy≥]; 
	}
}

309 
UCh¨
 
	$gëCbf
 ( 
UI¡
 
uiIdx
, 
Comp⁄ítID
 
eTy≥
, UI¡ 
uiTrDïth
 ) c⁄° {  ( ( 
	`gëCbf
–uiIdx,ÉTy≥ ) >> uiTrDïth ) & 0x1 ); 
	}
}

310 
Void
 
	$£tCbf
 ( 
UI¡
 
uiIdx
, 
Comp⁄ítID
 
eTy≥
, 
UCh¨
 
uh
 ) { 
m_puhCbf
[eTy≥][uiIdx] = uh; 
	}
}

311 
Void
 
˛órCbf
 ( 
UI¡
 
uiIdx
, 
Comp⁄ítID
 
eTy≥
, UI¡ 
uiNumP¨ts
 );

312 
UCh¨
 
	$gëQtRoŸCbf
 ( 
UI¡
 
uiIdx
 ) const;

314 
Void
 
	`£tCbfSubP¨ts
 ( c⁄° 
UI¡
 
uiCbf
[
MAX_NUM_COMPONENT
], UI¡ 
uiAbsP¨tIdx
, UI¡ 
uiDïth
 );

315 
Void
 
	`£tCbfSubP¨ts
 ( 
UI¡
 
uiCbf
, 
Comp⁄ítID
 
compID
, UI¡ 
uiAbsP¨tIdx
, UI¡ 
uiDïth
 );

316 
Void
 
	`£tCbfSubP¨ts
 ( 
UI¡
 
uiCbf
, 
Comp⁄ítID
 
compID
, UI¡ 
uiAbsP¨tIdx
, UI¡ 
uiP¨tIdx
, UI¡ 
uiDïth
 );

318 
Void
 
	`£tCbfP¨tR™ge
 ( 
UI¡
 
uiCbf
, 
Comp⁄ítID
 
compID
, UI¡ 
uiAbsP¨tIdx
, UI¡ 
uiCovîedP¨tIdxes
 );

319 
Void
 
	`bôwi£OrCbfP¨tR™ge
 ( 
UI¡
 
uiCbf
, 
Comp⁄ítID
 
compID
, UI¡ 
uiAbsP¨tIdx
, UI¡ 
uiCovîedP¨tIdxes
 );

325 
Boﬁ
* 
	$gëMîgeFœg
 ( ) {  
m_pbMîgeFœg
; 
	}
}

326 
Boﬁ
 
	$gëMîgeFœg
 ( 
UI¡
 
uiIdx
 ) c⁄° {  
m_pbMîgeFœg
[uiIdx]; 
	}
}

327 
Void
 
	$£tMîgeFœg
 ( 
UI¡
 
uiIdx
, 
Boﬁ
 
b
 ) { 
m_pbMîgeFœg
[uiIdx] = b; 
	}
}

328 
Void
 
£tMîgeFœgSubP¨ts
 ( 
Boﬁ
 
bMîgeFœg
, 
UI¡
 
uiAbsP¨tIdx
, UI¡ 
uiP¨tIdx
, UI¡ 
uiDïth
 );

330 
UCh¨
* 
	$gëMîgeIndex
 ( ) {  
m_puhMîgeIndex
; 
	}
}

331 
UCh¨
 
	$gëMîgeIndex
 ( 
UI¡
 
uiIdx
 ) c⁄° {  
m_puhMîgeIndex
[uiIdx]; 
	}
}

332 
Void
 
	$£tMîgeIndex
 ( 
UI¡
 
uiIdx
, UI¡ 
uiMîgeIndex
 ) { 
m_puhMîgeIndex
[uiIdx] = uiMîgeIndex; 
	}
}

333 
Void
 
£tMîgeIndexSubP¨ts
 ( 
UI¡
 
uiMîgeIndex
, UI¡ 
uiAbsP¨tIdx
, UI¡ 
uiP¨tIdx
, UI¡ 
uiDïth
 );

334 
	gãm∂©e
 <
ty≥«me
 
	gT
>

335 
Void
 
£tSubP¨t
 ( 
T
 
bP¨amëî
, T* 
pbBa£Ctu
, 
UI¡
 
uiCUAddr
, UI¡ 
uiCUDïth
, UI¡ 
uiPUIdx
 );

337 #i‡
AMP_MRG


338 
Void
 
	$£tMîgeAMP
 ( 
Boﬁ
 
b
 ) { 
m_bIsMîgeAMP
 = b; 
	}
}

339 
Boﬁ
 
	$gëMîgeAMP
 ( ) c⁄° {  
m_bIsMîgeAMP
; 
	}
}

342 
UCh¨
* 
	$gëI¡øDú
 ( c⁄° 
Ch™√lTy≥
 
ch™√lTy≥
 ) c⁄° {  
m_puhI¡øDú
[ch™√lTy≥]; 
	}
}

343 
UCh¨
 
	$gëI¡øDú
 ( c⁄° 
Ch™√lTy≥
 
ch™√lTy≥
, c⁄° 
UI¡
 
uiIdx
 ) c⁄° {  
m_puhI¡øDú
[ch™√lTy≥][uiIdx]; 
	}
}

345 
Void
 
£tI¡øDúSubP¨ts
 ( c⁄° 
Ch™√lTy≥
 
ch™√lTy≥
,

346 c⁄° 
UI¡
 
uiDú
,

347 c⁄° 
UI¡
 
uiAbsP¨tIdx
,

348 c⁄° 
UI¡
 
uiDïth
 );

350 
UCh¨
* 
	$gëI¡îDú
 ( ) {  
m_puhI¡îDú
; 
	}
}

351 
UCh¨
 
	$gëI¡îDú
 ( 
UI¡
 
uiIdx
 ) c⁄° {  
m_puhI¡îDú
[uiIdx]; 
	}
}

352 
Void
 
	$£tI¡îDú
 ( 
UI¡
 
uiIdx
, 
UCh¨
 
uh
 ) { 
m_puhI¡îDú
[uiIdx] = uh; 
	}
}

353 
Void
 
£tI¡îDúSubP¨ts
 ( 
UI¡
 
uiDú
, UI¡ 
uiAbsP¨tIdx
, UI¡ 
uiP¨tIdx
, UI¡ 
uiDïth
 );

354 
Boﬁ
* 
	$gëIPCMFœg
 ( ) {  
m_pbIPCMFœg
; 
	}
}

355 
Boﬁ
 
	$gëIPCMFœg
 ( 
UI¡
 
uiIdx
 ) c⁄° {  
m_pbIPCMFœg
[uiIdx]; 
	}
}

356 
Void
 
	$£tIPCMFœg
 ( 
UI¡
 
uiIdx
, 
Boﬁ
 
b
 ) { 
m_pbIPCMFœg
[uiIdx] = b; 
	}
}

357 
Void
 
£tIPCMFœgSubP¨ts
 ( 
Boﬁ
 
bIpcmFœg
, 
UI¡
 
uiAbsP¨tIdx
, UI¡ 
uiDïth
 );

363 
Void
 
	$gëP¨tIndexAndSize
 ( 
UI¡
 
uiP¨tIdx
, UI¡& 
ruiP¨tAddr
, 
I¡
& 
riWidth
, I¡& 
riHeight
 ) const;

364 
UCh¨
 
	$gëNumP¨tôi⁄s
 ( c⁄° 
UI¡
 
uiAbsP¨tIdx
 = 0 ) const;

365 
Boﬁ
 
	$isFú°AbsZ‹dîIdxInDïth
 ( 
UI¡
 
uiAbsP¨tIdx
, UI¡ 
uiDïth
 ) const;

371 
Void
 
	`gëMvFõld
 ( c⁄° 
TComD©aCU
* 
pcCU
, 
UI¡
 
uiAbsP¨tIdx
, 
RefPicLi°
 
eRefPicLi°
, 
TComMvFõld
& 
rcMvFõld
 );

373 
Void
 
	$fûlMvpC™d
 ( c⁄° 
UI¡
 
uiP¨tIdx
, c⁄° UI¡ 
uiP¨tAddr
, c⁄° 
RefPicLi°
 
eRefPicLi°
, c⁄° 
I¡
 
iRefIdx
, 
AMVPInfo
* 
pInfo
 ) const;

374 
Boﬁ
 
	$isDiffMER
 ( 
I¡
 
xN
, I¡ 
yN
, I¡ 
xP
, I¡ 
yP
 ) const;

375 
Void
 
	$gëP¨tPosôi⁄
 ( 
UI¡
 
∑πIdx
, 
I¡
& 
xP
, I¡& 
yP
, I¡& 
nPSW
, I¡& 
nPSH
 ) const;

377 
Void
 
	$£tMVPIdx
 ( 
RefPicLi°
 
eRefPicLi°
, 
UI¡
 
uiIdx
, 
I¡
 
iMVPIdx
Ë{ 
m_≠iMVPIdx
[eRefPicLi°][uiIdx] = iMVPIdx; 
	}
}

378 
I¡
 
	$gëMVPIdx
 ( 
RefPicLi°
 
eRefPicLi°
, 
UI¡
 
uiIdx
Ëc⁄° {  
m_≠iMVPIdx
[eRefPicLi°][uiIdx]; 
	}
}

379 
SCh¨
* 
	$gëMVPIdx
 ( 
RefPicLi°
 
eRefPicLi°
 ) {  
m_≠iMVPIdx
[eRefPicLi°]; 
	}
}

381 
Void
 
	$£tMVPNum
 ( 
RefPicLi°
 
eRefPicLi°
, 
UI¡
 
uiIdx
, 
I¡
 
iMVPNum
 ) { 
m_≠iMVPNum
[eRefPicLi°][uiIdx] = iMVPNum; 
	}
}

382 
I¡
 
	$gëMVPNum
 ( 
RefPicLi°
 
eRefPicLi°
, 
UI¡
 
uiIdx
 ) c⁄° {  
m_≠iMVPNum
[eRefPicLi°][uiIdx]; 
	}
}

383 
SCh¨
* 
	$gëMVPNum
 ( 
RefPicLi°
 
eRefPicLi°
 ) {  
m_≠iMVPNum
[eRefPicLi°]; 
	}
}

385 
Void
 
£tMVPIdxSubP¨ts
 ( 
I¡
 
iMVPIdx
, 
RefPicLi°
 
eRefPicLi°
, 
UI¡
 
uiAbsP¨tIdx
, UI¡ 
uiP¨tIdx
, UI¡ 
uiDïth
 );

386 
Void
 
£tMVPNumSubP¨ts
 ( 
I¡
 
iMVPNum
, 
RefPicLi°
 
eRefPicLi°
, 
UI¡
 
uiAbsP¨tIdx
, UI¡ 
uiP¨tIdx
, UI¡ 
uiDïth
 );

388 
Void
 
	$˛ùMv
 ( 
TComMv
& 
rcMv
 ) const;

389 
Void
 
	$gëMvPªdLe·
 ( 
TComMv
& 
rcMvPªd
 ) c⁄° {ÑcMvPªd = 
m_cMvFõldA
.
	`gëMv
(); 
	}
}

390 
Void
 
	$gëMvPªdAbove
 ( 
TComMv
& 
rcMvPªd
 ) c⁄° {ÑcMvPªd = 
m_cMvFõldB
.
	`gëMv
(); 
	}
}

391 
Void
 
	$gëMvPªdAboveRight
 ( 
TComMv
& 
rcMvPªd
 ) c⁄° {ÑcMvPªd = 
m_cMvFõldC
.
	`gëMv
(); 
	}
}

393 
Void
 
com¥essMV
 ();

399 
TComD©aCU
* 
	$gëCtuLe·
 ( ) {  
m_pCtuLe·
; 
	}
}

400 
TComD©aCU
* 
	$gëCtuAbove
 ( ) {  
m_pCtuAbove
; 
	}
}

401 
TComD©aCU
* 
	$gëCtuAboveLe·
 ( ) {  
m_pCtuAboveLe·
; 
	}
}

402 
TComD©aCU
* 
	$gëCtuAboveRight
 ( ) {  
m_pCtuAboveRight
; 
	}
}

403 
Boﬁ
 
	$CUIsFromSameSli˚
 ( c⁄° 
TComD©aCU
 *
pCU
 ) c⁄° {  (ÖCU!=
NULL
 &&ÖCU->
	`gëSli˚
()->
	`gëSli˚CurSèπCtuTsAddr
(Ë=gëSli˚()->gëSli˚CurSèπCtuTsAddr(Ë); 
	}
}

404 
Boﬁ
 
	$CUIsFromSameTûe
 ( c⁄° 
TComD©aCU
 *
pCU
 ) const;

405 
Boﬁ
 
	$CUIsFromSameSli˚AndTûe
 ( c⁄° 
TComD©aCU
 *
pCU
 ) const;

406 
Boﬁ
 
	$CUIsFromSameSli˚TûeAndWave‰⁄tRow
–c⁄° 
TComD©aCU
 *
pCU
 ) const;

407 
Boﬁ
 
	$isLa°SubCUOfCtu
 ( c⁄° 
UI¡
 
absP¨tIdx
 ) const;

410 c⁄° 
TComD©aCU
* 
	$gëPULe·
 ( 
UI¡
& 
uiLP¨tUnôIdx
,

411 
UI¡
 
uiCuºP¨tUnôIdx
,

412 
Boﬁ
 
bEnf‹˚Sli˚Re°ri˘i⁄
=
åue
,

413 
Boﬁ
 
bEnf‹˚TûeRe°ri˘i⁄
=
åue
 ) const;

415 c⁄° 
TComD©aCU
* 
	$gëPUAbove
 ( 
UI¡
& 
uiAP¨tUnôIdx
,

416 
UI¡
 
uiCuºP¨tUnôIdx
,

417 
Boﬁ
 
bEnf‹˚Sli˚Re°ri˘i⁄
=
åue
,

418 
Boﬁ
 
∂™¨AtCTUBound¨y
 = 
Ál£
,

419 
Boﬁ
 
bEnf‹˚TûeRe°ri˘i⁄
=
åue
 ) const;

421 c⁄° 
TComD©aCU
* 
	$gëPUAboveLe·
 ( 
UI¡
& 
uiALP¨tUnôIdx
, UI¡ 
uiCuºP¨tUnôIdx
, 
Boﬁ
 
bEnf‹˚Sli˚Re°ri˘i⁄
=
åue
 ) const;

423 c⁄° 
TComD©aCU
* 
	$gëQpMöCuLe·
 ( 
UI¡
& 
uiLP¨tUnôIdx
, UI¡ 
uiCuºAbsIdxInCtu
 ) const;

424 c⁄° 
TComD©aCU
* 
	$gëQpMöCuAbove
 ( 
UI¡
& 
uiAP¨tUnôIdx
, UI¡ 
uiCuºAbsIdxInCtu
 ) const;

427 c⁄° 
TComD©aCU
* 
	$gëPUAboveRight
 ( 
UI¡
& 
uiARP¨tUnôIdx
, UI¡ 
uiCuºP¨tUnôIdx
, UI¡ 
uiP¨tUnôOff£t
 = 1, 
Boﬁ
 
bEnf‹˚Sli˚Re°ri˘i⁄
=
åue
 ) const;

429 c⁄° 
TComD©aCU
* 
	$gëPUBñowLe·
 ( 
UI¡
& 
uiBLP¨tUnôIdx
, UI¡ 
uiCuºP¨tUnôIdx
, UI¡ 
uiP¨tUnôOff£t
 = 1, 
Boﬁ
 
bEnf‹˚Sli˚Re°ri˘i⁄
=
åue
 ) const;

431 
SCh¨
 
	$gëRefQP
 ( 
UI¡
 
uiCuºAbsIdxInCtu
 ) const;

433 
Void
 
	$dîiveLe·RightT›Idx
 ( 
UI¡
 
uiP¨tIdx
, UI¡& 
ruiP¨tIdxLT
, UI¡& 
ruiP¨tIdxRT
 ) const;

434 
Void
 
	$dîiveLe·BŸtomIdx
 ( 
UI¡
 
uiP¨tIdx
, UI¡& 
ruiP¨tIdxLB
 ) const;

436 
Boﬁ
 
	$hasEquÆMŸi⁄
 ( 
UI¡
 
uiAbsP¨tIdx
, c⁄° 
TComD©aCU
* 
pcC™dCU
, UI¡ 
uiC™dAbsP¨tIdx
 ) const;

437 #i‡
MCTS_ENC_CHECK


438 
Void
 
	`gëI¡îMîgeC™did©es
 ( 
UI¡
 
uiAbsP¨tIdx
, UI¡ 
uiPUIdx
, 
TComMvFõld
* 
pcMFõldNeighbours
, 
UCh¨
* 
puhI¡îDúNeighbours
, 
I¡
& 
numVÆidMîgeC™d
, UI¡& 
numS∑tülMîgeC™did©es
 , I¡ 
mrgC™dIdx
 = -1) const;

440 
Void
 
	`gëI¡îMîgeC™did©es
 ( 
UI¡
 
uiAbsP¨tIdx
, UI¡ 
uiPUIdx
, 
TComMvFõld
* 
pcMFõldNeighbours
, 
UCh¨
* 
puhI¡îDúNeighbours
, 
I¡
& 
numVÆidMîgeC™d
, I¡ 
mrgC™dIdx
 = -1 ) const;

443 
Void
 
	$dîiveLe·RightT›IdxGíîÆ
 ( 
UI¡
 
uiAbsP¨tIdx
, UI¡ 
uiP¨tIdx
, UI¡& 
ruiP¨tIdxLT
, UI¡& 
ruiP¨tIdxRT
 ) const;

444 
Void
 
	$dîiveLe·BŸtomIdxGíîÆ
 ( 
UI¡
 
uiAbsP¨tIdx
, UI¡ 
uiP¨tIdx
, UI¡& 
ruiP¨tIdxLB
 ) const;

450 
Boﬁ
 
	$isI¡ø
 ( 
UI¡
 
uiP¨tIdx
 ) c⁄° {  
m_≥PªdMode
[ uiP¨tIdx ] =
MODE_INTRA
; 
	}
}

451 
Boﬁ
 
	$isI¡î
 ( 
UI¡
 
uiP¨tIdx
 ) c⁄° {  
m_≥PªdMode
[ uiP¨tIdx ] =
MODE_INTER
; 
	}
}

452 
Boﬁ
 
	$isSkù≥d
 ( 
UI¡
 
uiP¨tIdx
 ) const;

453 
Boﬁ
 
	$isBùªdRe°ri˘i⁄
 ( 
UI¡
 
puIdx
 ) const;

459 
UI¡
 
	$gëI¡øSizeIdx
 ( 
UI¡
 
uiAbsP¨tIdx
 ) const;

461 
Void
 
	$gëAŒowedChromaDú
 ( 
UI¡
 
uiAbsP¨tIdx
, UI¡* 
uiModeLi°
 ) const;

462 
Void
 
	$gëI¡øDúPªdi˘‹
 ( 
UI¡
 
uiAbsP¨tIdx
, 
I¡
 
uiI¡øDúPªd
[
NUM_MOST_PROBABLE_MODES
], c⁄° 
Comp⁄ítID
 
compID
, I¡* 
piMode
 = 
NULL
 ) const;

468 
UI¡
 
	$gëCtxS∂ôFœg
 ( 
UI¡
 
uiAbsP¨tIdx
, UI¡ 
uiDïth
 ) const;

469 
UI¡
 
	$gëCtxQtCbf
 ( 
TComTU
 &
rTu
, c⁄° 
Ch™√lTy≥
 
chTy≥
 ) const;

471 
UI¡
 
	$gëCtxSkùFœg
 ( 
UI¡
 
uiAbsP¨tIdx
 ) const;

472 
UI¡
 
	$gëCtxI¡îDú
 ( 
UI¡
 
uiAbsP¨tIdx
 ) const;

474 
UI¡
& 
	$gëTŸÆBös
 ( ) {  
m_uiTŸÆBös
; 
	}
}

479 
	gDoubÀ
& 
	$gëTŸÆCo°
 ( ) {  
m_dTŸÆCo°
; 
	}
}

480 
	gDi°‹ti⁄
& 
	$gëTŸÆDi°‹ti⁄
 ( ) {  
m_uiTŸÆDi°‹ti⁄
; 
	}
}

481 
	gUI¡
& 
	$gëTŸÆBôs
 ( ) {  
m_uiTŸÆBôs
; 
	}
}

482 
	gUI¡
& 
	$gëTŸÆNumP¨t
 ( ) {  
m_uiNumP¨tôi⁄
; 
	}
}

484 
UI¡
 
	$gëC€fSˇnIdx
 ( c⁄° 
UI¡
 
uiAbsP¨tIdx
, c⁄° UI¡ 
uiWidth
, c⁄° UI¡ 
uiHeight
, c⁄° 
Comp⁄ítID
 
compID
 ) const ;

486 
	}
};

488 
«me•a˚
 
	gRa°îAddªss


496 
ölöe
 
Boﬁ
 
isEquÆCﬁ
–
I¡
 
addrA
, I¡ 
addrB
, I¡ 
numUnôsPîRow
 )

499  (–
	gaddrA
 ^ 
	gaddrB
 ) & ( 
	gnumUnôsPîRow
 - 1 ) ) == 0;

508 
ölöe
 
Boﬁ
 
isEquÆRow
–
I¡
 
addrA
, I¡ 
addrB
, I¡ 
numUnôsPîRow
 )

511  (–
	gaddrA
 ^ 
	gaddrB
 ) &~ ( 
	gnumUnôsPîRow
 - 1 ) ) == 0;

520 
ölöe
 
Boﬁ
 
isEquÆRowOrCﬁ
–
I¡
 
addrA
, I¡ 
addrB
, I¡ 
numUnôsPîRow
 )

522  
isEquÆCﬁ
–
addrA
, 
addrB
, 
numUnôsPîRow
 ) | 
isEquÆRow
(áddrA,áddrB,ÇumUnitsPerRow );

530 
ölöe
 
Boﬁ
 
isZîoCﬁ
–
I¡
 
addr
, I¡ 
numUnôsPîRow
 )

533  ( 
	gaddr
 & ( 
	gnumUnôsPîRow
 - 1 ) ) == 0;

541 
ölöe
 
Boﬁ
 
isZîoRow
–
I¡
 
addr
, I¡ 
numUnôsPîRow
 )

544  ( 
	gaddr
 &~ ( 
	gnumUnôsPîRow
 - 1 ) ) == 0;

553 
ölöe
 
Boﬁ
 
ÀssTh™Cﬁ
–
I¡
 
addr
, I¡ 
vÆ
, I¡ 
numUnôsPîRow
 )

556  ( 
	gaddr
 & ( 
	gnumUnôsPîRow
 - 1 ) ) < 
	gvÆ
;

565 
ölöe
 
Boﬁ
 
ÀssTh™Row
–
I¡
 
addr
, I¡ 
vÆ
, I¡ 
numUnôsPîRow
 )

568  
	gaddr
 < 
vÆ
 * 
	gnumUnôsPîRow
;

	@TComInterpolationFilter.cpp

43 
	~"TComRom.h
"

44 
	~"TComI¡îpﬁ©i⁄Fûãr.h
"

45 
	~<as£π.h
>

47 
	~"TComChromaF‹m©.h
"

49 #i‡
VECTOR_CODING__INTERPOLATION_FILTER
 && (
RExt__HIGH_BIT_DEPTH_SUPPORT
==0)

50 
	~<emmöåö.h
>

60 c⁄° 
TFûãrC€ff
 
	gTComI¡îpﬁ©i⁄Fûãr
::
m_lumaFûãr
[
LUMA_INTERPOLATION_FILTER_SUB_SAMPLE_POSITIONS
][
NTAPS_LUMA
] =

68 c⁄° 
TFûãrC€ff
 
	gTComI¡îpﬁ©i⁄Fûãr
::
m_chromaFûãr
[
CHROMA_INTERPOLATION_FILTER_SUB_SAMPLE_POSITIONS
][
NTAPS_CHROMA
] =

80 #i‡
VECTOR_CODING__INTERPOLATION_FILTER
 && (
RExt__HIGH_BIT_DEPTH_SUPPORT
==0)

81 
ölöe
 
__m128i
 
	$simdI¡îpﬁ©eLuma4
–
Sh‹t
 c⁄° *
§c
 , 
I¡
 
§cSåide
 , 
__m128i
 *
mmC€ff
 , c⁄° __m128ò& 
mmOff£t
 , I¡ 
shi·
 )

83 
__m128i
 
sumHi
 = 
	`_mm_£tzîo_si128
();

84 
__m128i
 
sumLo
 = 
	`_mm_£tzîo_si128
();

85  
I¡
 
n
 = 0 ;Ç < 8 ;Ç++ )

87 
__m128i
 
mmPix
 = 
	`_mm_lﬂdl_ïi64
––__m128i* )
§c
 );

88 
__m128i
 
hi
 = 
	`_mm_mulhi_ïi16
–
mmPix
 , 
mmC€ff
[
n
] );

89 
__m128i
 
lo
 = 
	`_mm_muŒo_ïi16
–
mmPix
 , 
mmC€ff
[
n
] );

90 
sumHi
 = 
	`_mm_add_ïi32
–sumHò, 
	`_mm_u≈ackhi_ïi16
–
lo
 , 
hi
 ) );

91 
sumLo
 = 
	`_mm_add_ïi32
–sumLÿ, 
	`_mm_u≈acklo_ïi16
–
lo
 , 
hi
 ) );

92 
§c
 +
§cSåide
;

94 
sumHi
 = 
	`_mm_§ai_ïi32
–
	`_mm_add_ïi32
–sumHò, 
mmOff£t
 ) , 
shi·
 );

95 
sumLo
 = 
	`_mm_§ai_ïi32
–
	`_mm_add_ïi32
–sumLÿ, 
mmOff£t
 ) , 
shi·
 );

96 –
	`_mm_∑cks_ïi32
–
sumLo
 , 
sumHi
 ) );

97 
	}
}

99 
ölöe
 
__m128i
 
	$simdI¡îpﬁ©eChroma4
–
Sh‹t
 c⁄° *
§c
 , 
I¡
 
§cSåide
 , 
__m128i
 *
mmC€ff
 , c⁄° __m128ò& 
mmOff£t
 , I¡ 
shi·
 )

101 
__m128i
 
sumHi
 = 
	`_mm_£tzîo_si128
();

102 
__m128i
 
sumLo
 = 
	`_mm_£tzîo_si128
();

103  
I¡
 
n
 = 0 ;Ç < 4 ;Ç++ )

105 
__m128i
 
mmPix
 = 
	`_mm_lﬂdl_ïi64
––__m128i* )
§c
 );

106 
__m128i
 
hi
 = 
	`_mm_mulhi_ïi16
–
mmPix
 , 
mmC€ff
[
n
] );

107 
__m128i
 
lo
 = 
	`_mm_muŒo_ïi16
–
mmPix
 , 
mmC€ff
[
n
] );

108 
sumHi
 = 
	`_mm_add_ïi32
–sumHò, 
	`_mm_u≈ackhi_ïi16
–
lo
 , 
hi
 ) );

109 
sumLo
 = 
	`_mm_add_ïi32
–sumLÿ, 
	`_mm_u≈acklo_ïi16
–
lo
 , 
hi
 ) );

110 
§c
 +
§cSåide
;

112 
sumHi
 = 
	`_mm_§ai_ïi32
–
	`_mm_add_ïi32
–sumHò, 
mmOff£t
 ) , 
shi·
 );

113 
sumLo
 = 
	`_mm_§ai_ïi32
–
	`_mm_add_ïi32
–sumLÿ, 
mmOff£t
 ) , 
shi·
 );

114 –
	`_mm_∑cks_ïi32
–
sumLo
 , 
sumHi
 ) );

115 
	}
}

117 
ölöe
 
__m128i
 
	$simdI¡îpﬁ©eLuma8
–
Sh‹t
 c⁄° *
§c
 , 
I¡
 
§cSåide
 , 
__m128i
 *
mmC€ff
 , c⁄° __m128ò& 
mmOff£t
 , I¡ 
shi·
 )

119 
__m128i
 
sumHi
 = 
	`_mm_£tzîo_si128
();

120 
__m128i
 
sumLo
 = 
	`_mm_£tzîo_si128
();

121  
I¡
 
n
 = 0 ;Ç < 8 ;Ç++ )

123 
__m128i
 
mmPix
 = 
	`_mm_lﬂdu_si128
––__m128i* )
§c
 );

124 
__m128i
 
hi
 = 
	`_mm_mulhi_ïi16
–
mmPix
 , 
mmC€ff
[
n
] );

125 
__m128i
 
lo
 = 
	`_mm_muŒo_ïi16
–
mmPix
 , 
mmC€ff
[
n
] );

126 
sumHi
 = 
	`_mm_add_ïi32
–sumHò, 
	`_mm_u≈ackhi_ïi16
–
lo
 , 
hi
 ) );

127 
sumLo
 = 
	`_mm_add_ïi32
–sumLÿ, 
	`_mm_u≈acklo_ïi16
–
lo
 , 
hi
 ) );

128 
§c
 +
§cSåide
;

130 
sumHi
 = 
	`_mm_§ai_ïi32
–
	`_mm_add_ïi32
–sumHò, 
mmOff£t
 ) , 
shi·
 );

131 
sumLo
 = 
	`_mm_§ai_ïi32
–
	`_mm_add_ïi32
–sumLÿ, 
mmOff£t
 ) , 
shi·
 );

132 –
	`_mm_∑cks_ïi32
–
sumLo
 , 
sumHi
 ) );

133 
	}
}

135 
ölöe
 
__m128i
 
	$simdI¡îpﬁ©eLuma2P8
–
Sh‹t
 c⁄° *
§c
 , 
I¡
 
§cSåide
 , 
__m128i
 *
mmC€ff
 , c⁄° __m128ò& 
mmOff£t
 , I¡ 
shi·
 )

137 
__m128i
 
sumHi
 = 
	`_mm_£tzîo_si128
();

138 
__m128i
 
sumLo
 = 
	`_mm_£tzîo_si128
();

139  
I¡
 
n
 = 0 ;Ç < 2 ;Ç++ )

141 
__m128i
 
mmPix
 = 
	`_mm_lﬂdu_si128
––__m128i* )
§c
 );

142 
__m128i
 
hi
 = 
	`_mm_mulhi_ïi16
–
mmPix
 , 
mmC€ff
[
n
] );

143 
__m128i
 
lo
 = 
	`_mm_muŒo_ïi16
–
mmPix
 , 
mmC€ff
[
n
] );

144 
sumHi
 = 
	`_mm_add_ïi32
–sumHò, 
	`_mm_u≈ackhi_ïi16
–
lo
 , 
hi
 ) );

145 
sumLo
 = 
	`_mm_add_ïi32
–sumLÿ, 
	`_mm_u≈acklo_ïi16
–
lo
 , 
hi
 ) );

146 
§c
 +
§cSåide
;

148 
sumHi
 = 
	`_mm_§ai_ïi32
–
	`_mm_add_ïi32
–sumHò, 
mmOff£t
 ) , 
shi·
 );

149 
sumLo
 = 
	`_mm_§ai_ïi32
–
	`_mm_add_ïi32
–sumLÿ, 
mmOff£t
 ) , 
shi·
 );

150 –
	`_mm_∑cks_ïi32
–
sumLo
 , 
sumHi
 ) );

151 
	}
}

153 
ölöe
 
__m128i
 
	$simdI¡îpﬁ©eLuma2P4
–
Sh‹t
 c⁄° *
§c
 , 
I¡
 
§cSåide
 , 
__m128i
 *
mmC€ff
 , c⁄° __m128ò& 
mmOff£t
 , I¡ 
shi·
 )

155 
__m128i
 
sumHi
 = 
	`_mm_£tzîo_si128
();

156 
__m128i
 
sumLo
 = 
	`_mm_£tzîo_si128
();

157  
I¡
 
n
 = 0 ;Ç < 2 ;Ç++ )

159 
__m128i
 
mmPix
 = 
	`_mm_lﬂdl_ïi64
––__m128i* )
§c
 );

160 
__m128i
 
hi
 = 
	`_mm_mulhi_ïi16
–
mmPix
 , 
mmC€ff
[
n
] );

161 
__m128i
 
lo
 = 
	`_mm_muŒo_ïi16
–
mmPix
 , 
mmC€ff
[
n
] );

162 
sumHi
 = 
	`_mm_add_ïi32
–sumHò, 
	`_mm_u≈ackhi_ïi16
–
lo
 , 
hi
 ) );

163 
sumLo
 = 
	`_mm_add_ïi32
–sumLÿ, 
	`_mm_u≈acklo_ïi16
–
lo
 , 
hi
 ) );

164 
§c
 +
§cSåide
;

166 
sumHi
 = 
	`_mm_§ai_ïi32
–
	`_mm_add_ïi32
–sumHò, 
mmOff£t
 ) , 
shi·
 );

167 
sumLo
 = 
	`_mm_§ai_ïi32
–
	`_mm_add_ïi32
–sumLÿ, 
mmOff£t
 ) , 
shi·
 );

168 –
	`_mm_∑cks_ïi32
–
sumLo
 , 
sumHi
 ) );

169 
	}
}

171 
ölöe
 
__m128i
 
	$simdClù3
–
__m128i
 
mmMö
 , __m128ò
mmMax
 , __m128ò
mmPix
 )

173 
__m128i
 
mmMask
 = 
	`_mm_cmpgt_ïi16
–
mmPix
 , 
mmMö
 );

174 
mmPix
 = 
	`_mm_‹_si128
–
	`_mm_™d_si128
–
mmMask
 , mmPix ) , 
	`_mm_™dnŸ_si128
–mmMask , 
mmMö
 ) );

175 
mmMask
 = 
	`_mm_cm∂t_ïi16
–
mmPix
 , 
mmMax
 );

176 
mmPix
 = 
	`_mm_‹_si128
–
	`_mm_™d_si128
–
mmMask
 , mmPix ) , 
	`_mm_™dnŸ_si128
–mmMask , 
mmMax
 ) );

177 –
mmPix
 );

178 
	}
}

198 
Void
 
	gTComI¡îpﬁ©i⁄Fûãr
::
	$fûãrC›y
(
I¡
 
bôDïth
, c⁄° 
Pñ
 *
§c
, I¡ 
§cSåide
, Pñ *
d°
, I¡ 
d°Såide
, I¡ 
width
, I¡ 
height
, 
Boﬁ
 
isFú°
, Boﬁ 
isLa°
)

200 
I¡
 
row
, 
cﬁ
;

202 i‡–
isFú°
 =
isLa°
 )

204 
row
 = 0;Ñow < 
height
;Ñow++)

206 
cﬁ
 = 0; cﬁ < 
width
; col++)

208 
d°
[
cﬁ
] = 
§c
[col];

211 
§c
 +
§cSåide
;

212 
d°
 +
d°Såide
;

215 i‡–
isFú°
 )

217 c⁄° 
I¡
 
shi·
 = 
°d
::
max
<I¡>(2, (
IF_INTERNAL_PREC
 - 
bôDïth
));

219 
row
 = 0;Ñow < 
height
;Ñow++)

221 
cﬁ
 = 0; cﬁ < 
width
; col++)

223 
Pñ
 
vÆ
 = 
	`À·Shi·_round
(
§c
[
cﬁ
], 
shi·
);

224 
d°
[
cﬁ
] = 
vÆ
 - (
Pñ
)
IF_INTERNAL_OFFS
;

227 
§c
 +
§cSåide
;

228 
d°
 +
d°Såide
;

233 c⁄° 
I¡
 
shi·
 = 
°d
::
max
<I¡>(2, (
IF_INTERNAL_PREC
 - 
bôDïth
));

235 
Pñ
 
maxVÆ
 = (1 << 
bôDïth
) - 1;

236 
Pñ
 
möVÆ
 = 0;

237 
row
 = 0;Ñow < 
height
;Ñow++)

239 
cﬁ
 = 0; cﬁ < 
width
; col++)

241 
Pñ
 
vÆ
 = 
§c
[ 
cﬁ
 ];

242 
vÆ
 = 
	`rightShi·_round
((vÆ + 
IF_INTERNAL_OFFS
), 
shi·
);

243 i‡(
vÆ
 < 
möVÆ
)

245 
vÆ
 = 
möVÆ
;

247 i‡(
vÆ
 > 
maxVÆ
)

249 
vÆ
 = 
maxVÆ
;

251 
d°
[
cﬁ
] = 
vÆ
;

254 
§c
 +
§cSåide
;

255 
d°
 +
d°Såide
;

258 
	}
}

276 
	gãm∂©e
<
I¡
 
	gN
, 
Boﬁ
 
	gisVîtiˇl
, Boﬁ 
	gisFú°
, Boﬁ 
	gisLa°
>

277 
Void
 
	gTComI¡îpﬁ©i⁄Fûãr
::
	$fûãr
(
I¡
 
bôDïth
, 
Pñ
 c⁄° *
§c
, I¡ 
§cSåide
, Pñ *
d°
, I¡ 
d°Såide
, I¡ 
width
, I¡ 
height
, 
TFûãrC€ff
 c⁄° *
c€ff
)

279 
I¡
 
row
, 
cﬁ
;

281 
Pñ
 
c
[8];

282 
c
[0] = 
c€ff
[0];

283 
c
[1] = 
c€ff
[1];

284 i‡–
N
 >= 4 )

286 
c
[2] = 
c€ff
[2];

287 
c
[3] = 
c€ff
[3];

289 i‡–
N
 >= 6 )

291 
c
[4] = 
c€ff
[4];

292 
c
[5] = 
c€ff
[5];

294 i‡–
N
 == 8 )

296 
c
[6] = 
c€ff
[6];

297 
c
[7] = 
c€ff
[7];

300 
I¡
 
cSåide
 = ( 
isVîtiˇl
 ) ? 
§cSåide
 : 1;

301 
§c
 -–
N
/2 - 1 ) * 
cSåide
;

303 
I¡
 
off£t
;

304 
Pñ
 
maxVÆ
;

305 
I¡
 
hódRoom
 = 
°d
::
max
<I¡>(2, (
IF_INTERNAL_PREC
 - 
bôDïth
));

306 
I¡
 
shi·
 = 
IF_FILTER_PREC
;

309 
	`as£π
(
shi·
 >= 0);

311 i‡–
isLa°
 )

313 
shi·
 +(
isFú°
Ë? 0 : 
hódRoom
;

314 
off£t
 = 1 << (
shi·
 - 1);

315 
off£t
 +(
isFú°
Ë? 0 : 
IF_INTERNAL_OFFS
 << 
IF_FILTER_PREC
;

316 
maxVÆ
 = (1 << 
bôDïth
) - 1;

320 
shi·
 -(
isFú°
Ë? 
hódRoom
 : 0;

321 
off£t
 = (
isFú°
Ë? -
IF_INTERNAL_OFFS
 << 
shi·
 : 0;

322 
maxVÆ
 = 0;

325 #i‡
VECTOR_CODING__INTERPOLATION_FILTER
 && (
RExt__HIGH_BIT_DEPTH_SUPPORT
==0)

326 if–
bôDïth
 <= 10 )

328 if–
N
 =8 && !–
width
 & 0x07 ) )

330 
Sh‹t
 
möVÆ
 = 0;

331 
__m128i
 
mmOff£t
 = 
	`_mm_£t1_ïi32
–
off£t
 );

332 
__m128i
 
mmC€ff
[8];

333 
__m128i
 
mmMö
 = 
	`_mm_£t1_ïi16
–
möVÆ
 );

334 
__m128i
 
mmMax
 = 
	`_mm_£t1_ïi16
–
maxVÆ
 );

335  
I¡
 
n
 = 0 ;Ç < 8 ;Ç++ )

336 
mmC€ff
[
n
] = 
	`_mm_£t1_ïi16
–
c
[n] );

337  
row
 = 0 ;Ñow < 
height
 ;Ñow++ )

339  
cﬁ
 = 0 ; cﬁ < 
width
 ; col += 8 )

341 
__m128i
 
mmFûãªd
 = 
	`simdI¡îpﬁ©eLuma8
–
§c
 + 
cﬁ
 , 
cSåide
 , 
mmC€ff
 , 
mmOff£t
 , 
shi·
 );

342 if–
isLa°
 )

344 
mmFûãªd
 = 
	`simdClù3
–
mmMö
 , 
mmMax
 , mmFiltered );

346 
	`_mm_°‹eu_si128
––
__m128i
 * )–
d°
 + 
cﬁ
 ) , 
mmFûãªd
 );

348 
§c
 +
§cSåide
;

349 
d°
 +
d°Såide
;

353 if–
N
 =8 && !–
width
 & 0x03 ) )

355 
Sh‹t
 
möVÆ
 = 0;

356 
__m128i
 
mmOff£t
 = 
	`_mm_£t1_ïi32
–
off£t
 );

357 
__m128i
 
mmC€ff
[8];

358 
__m128i
 
mmMö
 = 
	`_mm_£t1_ïi16
–
möVÆ
 );

359 
__m128i
 
mmMax
 = 
	`_mm_£t1_ïi16
–
maxVÆ
 );

360  
I¡
 
n
 = 0 ;Ç < 8 ;Ç++ )

361 
mmC€ff
[
n
] = 
	`_mm_£t1_ïi16
–
c
[n] );

362  
row
 = 0 ;Ñow < 
height
 ;Ñow++ )

364  
cﬁ
 = 0 ; cﬁ < 
width
 ; col += 4 )

366 
__m128i
 
mmFûãªd
 = 
	`simdI¡îpﬁ©eLuma4
–
§c
 + 
cﬁ
 , 
cSåide
 , 
mmC€ff
 , 
mmOff£t
 , 
shi·
 );

367 if–
isLa°
 )

369 
mmFûãªd
 = 
	`simdClù3
–
mmMö
 , 
mmMax
 , mmFiltered );

371 
	`_mm_°‹ñ_ïi64
––
__m128i
 * )–
d°
 + 
cﬁ
 ) , 
mmFûãªd
 );

373 
§c
 +
§cSåide
;

374 
d°
 +
d°Såide
;

378 if–
N
 =4 && !–
width
 & 0x03 ) )

380 
Sh‹t
 
möVÆ
 = 0;

381 
__m128i
 
mmOff£t
 = 
	`_mm_£t1_ïi32
–
off£t
 );

382 
__m128i
 
mmC€ff
[8];

383 
__m128i
 
mmMö
 = 
	`_mm_£t1_ïi16
–
möVÆ
 );

384 
__m128i
 
mmMax
 = 
	`_mm_£t1_ïi16
–
maxVÆ
 );

385  
I¡
 
n
 = 0 ;Ç < 4 ;Ç++ )

386 
mmC€ff
[
n
] = 
	`_mm_£t1_ïi16
–
c
[n] );

387  
row
 = 0 ;Ñow < 
height
 ;Ñow++ )

389  
cﬁ
 = 0 ; cﬁ < 
width
 ; col += 4 )

391 
__m128i
 
mmFûãªd
 = 
	`simdI¡îpﬁ©eChroma4
–
§c
 + 
cﬁ
 , 
cSåide
 , 
mmC€ff
 , 
mmOff£t
 , 
shi·
 );

392 if–
isLa°
 )

394 
mmFûãªd
 = 
	`simdClù3
–
mmMö
 , 
mmMax
 , mmFiltered );

396 
	`_mm_°‹ñ_ïi64
––
__m128i
 * )–
d°
 + 
cﬁ
 ) , 
mmFûãªd
 );

398 
§c
 +
§cSåide
;

399 
d°
 +
d°Såide
;

403 if–
N
 =2 && !–
width
 & 0x07 ) )

405 
Sh‹t
 
möVÆ
 = 0;

406 
__m128i
 
mmOff£t
 = 
	`_mm_£t1_ïi32
–
off£t
 );

407 
__m128i
 
mmC€ff
[2];

408 
__m128i
 
mmMö
 = 
	`_mm_£t1_ïi16
–
möVÆ
 );

409 
__m128i
 
mmMax
 = 
	`_mm_£t1_ïi16
–
maxVÆ
 );

410  
I¡
 
n
 = 0 ;Ç < 2 ;Ç++ )

411 
mmC€ff
[
n
] = 
	`_mm_£t1_ïi16
–
c
[n] );

412  
row
 = 0 ;Ñow < 
height
 ;Ñow++ )

414  
cﬁ
 = 0 ; cﬁ < 
width
 ; col += 8 )

416 
__m128i
 
mmFûãªd
 = 
	`simdI¡îpﬁ©eLuma2P8
–
§c
 + 
cﬁ
 , 
cSåide
 , 
mmC€ff
 , 
mmOff£t
 , 
shi·
 );

417 if–
isLa°
 )

419 
mmFûãªd
 = 
	`simdClù3
–
mmMö
 , 
mmMax
 , mmFiltered );

421 
	`_mm_°‹eu_si128
––
__m128i
 * )–
d°
 + 
cﬁ
 ) , 
mmFûãªd
 );

423 
§c
 +
§cSåide
;

424 
d°
 +
d°Såide
;

428 if–
N
 =2 && !–
width
 & 0x03 ) )

430 
Sh‹t
 
möVÆ
 = 0;

431 
__m128i
 
mmOff£t
 = 
	`_mm_£t1_ïi32
–
off£t
 );

432 
__m128i
 
mmC€ff
[8];

433 
__m128i
 
mmMö
 = 
	`_mm_£t1_ïi16
–
möVÆ
 );

434 
__m128i
 
mmMax
 = 
	`_mm_£t1_ïi16
–
maxVÆ
 );

435  
I¡
 
n
 = 0 ;Ç < 2 ;Ç++ )

436 
mmC€ff
[
n
] = 
	`_mm_£t1_ïi16
–
c
[n] );

437  
row
 = 0 ;Ñow < 
height
 ;Ñow++ )

439  
cﬁ
 = 0 ; cﬁ < 
width
 ; col += 4 )

441 
__m128i
 
mmFûãªd
 = 
	`simdI¡îpﬁ©eLuma2P4
–
§c
 + 
cﬁ
 , 
cSåide
 , 
mmC€ff
 , 
mmOff£t
 , 
shi·
 );

442 if–
isLa°
 )

444 
mmFûãªd
 = 
	`simdClù3
–
mmMö
 , 
mmMax
 , mmFiltered );

446 
	`_mm_°‹ñ_ïi64
––
__m128i
 * )–
d°
 + 
cﬁ
 ) , 
mmFûãªd
 );

448 
§c
 +
§cSåide
;

449 
d°
 +
d°Såide
;

456 
row
 = 0;Ñow < 
height
;Ñow++)

458 
cﬁ
 = 0; cﬁ < 
width
; col++)

460 
I¡
 
sum
;

462 
sum
 = 
§c
[ 
cﬁ
 + 0 * 
cSåide
] * 
c
[0];

463 
sum
 +
§c
[ 
cﬁ
 + 1 * 
cSåide
] * 
c
[1];

464 i‡–
N
 >= 4 )

466 
sum
 +
§c
[ 
cﬁ
 + 2 * 
cSåide
] * 
c
[2];

467 
sum
 +
§c
[ 
cﬁ
 + 3 * 
cSåide
] * 
c
[3];

469 i‡–
N
 >= 6 )

471 
sum
 +
§c
[ 
cﬁ
 + 4 * 
cSåide
] * 
c
[4];

472 
sum
 +
§c
[ 
cﬁ
 + 5 * 
cSåide
] * 
c
[5];

474 i‡–
N
 == 8 )

476 
sum
 +
§c
[ 
cﬁ
 + 6 * 
cSåide
] * 
c
[6];

477 
sum
 +
§c
[ 
cﬁ
 + 7 * 
cSåide
] * 
c
[7];

480 
Pñ
 
vÆ
 = ( 
sum
 + 
off£t
 ) >> 
shi·
;

481 i‡–
isLa°
 )

483 
vÆ
 = ( val < 0 ) ? 0 : val;

484 
vÆ
 = ( vÆ > 
maxVÆ
 ) ? maxVal : val;

486 
d°
[
cﬁ
] = 
vÆ
;

489 
§c
 +
§cSåide
;

490 
d°
 +
d°Såide
;

492 
	}
}

508 
	gãm∂©e
<
I¡
 
	gN
>

509 
Void
 
	gTComI¡îpﬁ©i⁄Fûãr
::
	$fûãrH‹
(
I¡
 
bôDïth
, 
Pñ
 *
§c
, I¡ 
§cSåide
, Pñ *
d°
, I¡ 
d°Såide
, I¡ 
width
, I¡ 
height
, 
Boﬁ
 
isLa°
, 
TFûãrC€ff
 c⁄° *
c€ff
)

511 i‡–
isLa°
 )

513 
fûãr
<
N
, 
Ál£
, 
åue
,Årue>(
bôDïth
, 
§c
, 
§cSåide
, 
d°
, 
d°Såide
, 
width
, 
height
, 
c€ff
);

517 
fûãr
<
N
, 
Ál£
, 
åue
, fÆ£>(
bôDïth
, 
§c
, 
§cSåide
, 
d°
, 
d°Såide
, 
width
, 
height
, 
c€ff
);

519 
	}
}

536 
	gãm∂©e
<
I¡
 
	gN
>

537 
Void
 
	gTComI¡îpﬁ©i⁄Fûãr
::
	$fûãrVî
(
I¡
 
bôDïth
, 
Pñ
 *
§c
, I¡ 
§cSåide
, Pñ *
d°
, I¡ 
d°Såide
, I¡ 
width
, I¡ 
height
, 
Boﬁ
 
isFú°
, Boﬁ 
isLa°
, 
TFûãrC€ff
 c⁄° *
c€ff
)

539 i‡–
isFú°
 && 
isLa°
 )

541 
fûãr
<
N
, 
åue
,Årue,Årue>(
bôDïth
, 
§c
, 
§cSåide
, 
d°
, 
d°Såide
, 
width
, 
height
, 
c€ff
);

543 i‡–
isFú°
 && !
isLa°
 )

545 
fûãr
<
N
, 
åue
,Årue, 
Ál£
>(
bôDïth
, 
§c
, 
§cSåide
, 
d°
, 
d°Såide
, 
width
, 
height
, 
c€ff
);

547 i‡–!
isFú°
 && 
isLa°
 )

549 
fûãr
<
N
, 
åue
, 
Ál£
,Årue>(
bôDïth
, 
§c
, 
§cSåide
, 
d°
, 
d°Såide
, 
width
, 
height
, 
c€ff
);

553 
fûãr
<
N
, 
åue
, 
Ál£
, fÆ£>(
bôDïth
, 
§c
, 
§cSåide
, 
d°
, 
d°Såide
, 
width
, 
height
, 
c€ff
);

555 
	}
}

576 
Void
 
	gTComI¡îpﬁ©i⁄Fûãr
::
	$fûãrH‹
(c⁄° 
Comp⁄ítID
 
compID
, 
Pñ
 *
§c
, 
I¡
 
§cSåide
, Pñ *
d°
, I¡ 
d°Såide
, I¡ 
width
, I¡ 
height
, I¡ 
‰ac
, 
Boﬁ
 
isLa°
, c⁄° 
ChromaF‹m©
 
fmt
, c⁄° I¡ 
bôDïth
 )

578 i‡–
‰ac
 == 0 )

580 
	`fûãrC›y
(
bôDïth
, 
§c
, 
§cSåide
, 
d°
, 
d°Såide
, 
width
, 
height
, 
åue
, 
isLa°
 );

582 i‡(
	`isLuma
(
compID
))

584 
	`as£π
(
‰ac
 >0 && fø¯< 
LUMA_INTERPOLATION_FILTER_SUB_SAMPLE_POSITIONS
);

585 
fûãrH‹
<
NTAPS_LUMA
>(
bôDïth
, 
§c
, 
§cSåide
, 
d°
, 
d°Såide
, 
width
, 
height
, 
isLa°
, 
m_lumaFûãr
[
‰ac
]);

589 c⁄° 
UI¡
 
csx
 = 
	`gëComp⁄ítSˇÀX
(
compID
, 
fmt
);

590 
	`as£π
(
‰ac
 >=0 && 
csx
<2 && (‰ac<<(1-csx)Ë< 
CHROMA_INTERPOLATION_FILTER_SUB_SAMPLE_POSITIONS
);

591 
fûãrH‹
<
NTAPS_CHROMA
>(
bôDïth
, 
§c
, 
§cSåide
, 
d°
, 
d°Såide
, 
width
, 
height
, 
isLa°
, 
m_chromaFûãr
[
‰ac
<<(1-
csx
)]);

593 
	}
}

612 
Void
 
	gTComI¡îpﬁ©i⁄Fûãr
::
	$fûãrVî
(c⁄° 
Comp⁄ítID
 
compID
, 
Pñ
 *
§c
, 
I¡
 
§cSåide
, Pñ *
d°
, I¡ 
d°Såide
, I¡ 
width
, I¡ 
height
, I¡ 
‰ac
, 
Boﬁ
 
isFú°
, Boﬁ 
isLa°
, c⁄° 
ChromaF‹m©
 
fmt
, c⁄° I¡ 
bôDïth
 )

614 i‡–
‰ac
 == 0 )

616 
	`fûãrC›y
(
bôDïth
, 
§c
, 
§cSåide
, 
d°
, 
d°Såide
, 
width
, 
height
, 
isFú°
, 
isLa°
 );

618 i‡(
	`isLuma
(
compID
))

620 
	`as£π
(
‰ac
 >0 && fø¯< 
LUMA_INTERPOLATION_FILTER_SUB_SAMPLE_POSITIONS
);

621 
fûãrVî
<
NTAPS_LUMA
>(
bôDïth
, 
§c
, 
§cSåide
, 
d°
, 
d°Såide
, 
width
, 
height
, 
isFú°
, 
isLa°
, 
m_lumaFûãr
[
‰ac
]);

625 c⁄° 
UI¡
 
csy
 = 
	`gëComp⁄ítSˇÀY
(
compID
, 
fmt
);

626 
	`as£π
(
‰ac
 >=0 && 
csy
<2 && (‰ac<<(1-csy)Ë< 
CHROMA_INTERPOLATION_FILTER_SUB_SAMPLE_POSITIONS
);

627 
fûãrVî
<
NTAPS_CHROMA
>(
bôDïth
, 
§c
, 
§cSåide
, 
d°
, 
d°Såide
, 
width
, 
height
, 
isFú°
, 
isLa°
, 
m_chromaFûãr
[
‰ac
<<(1-
csy
)]);

629 
	}
}

	@TComInterpolationFilter.h

39 #i‚de‡
__TCOMINTERPOLATIONFILTER__


40 
	#__TCOMINTERPOLATIONFILTER__


	)

42 
	~"Comm⁄Def.h
"

47 
	#NTAPS_LUMA
 8

48 
	#NTAPS_CHROMA
 4

49 
	#IF_INTERNAL_PREC
 14

50 
	#IF_FILTER_PREC
 6

51 
	#IF_INTERNAL_OFFS
 (1<<(
IF_INTERNAL_PREC
-1))

52 

	)

56 ˛as†
	cTComI¡îpﬁ©i⁄Fûãr


58 c⁄° 
TFûãrC€ff
 
	mm_lumaFûãr
[
LUMA_INTERPOLATION_FILTER_SUB_SAMPLE_POSITIONS
][
NTAPS_LUMA
];

59 c⁄° 
TFûãrC€ff
 
	mm_chromaFûãr
[
CHROMA_INTERPOLATION_FILTER_SUB_SAMPLE_POSITIONS
][
NTAPS_CHROMA
];

61 
Void
 
fûãrC›y
(
I¡
 
bôDïth
, c⁄° 
Pñ
 *
§c
, I¡ 
§cSåide
, Pñ *
d°
, I¡ 
d°Såide
, I¡ 
width
, I¡ 
height
, 
Boﬁ
 
isFú°
, Boﬁ 
isLa°
);

63 
	mãm∂©e
<
I¡
 
	mN
, 
Boﬁ
 
	misVîtiˇl
, Boﬁ 
	misFú°
, Boﬁ 
	misLa°
>

64 
Void
 
fûãr
(
I¡
 
bôDïth
, 
Pñ
 c⁄° *
§c
, I¡ 
§cSåide
, Pñ *
d°
, I¡ 
d°Såide
, I¡ 
width
, I¡ 
height
, 
TFûãrC€ff
 c⁄° *
c€ff
);

66 
	mãm∂©e
<
I¡
 
	mN
>

67 
Void
 
fûãrH‹
(
I¡
 
bôDïth
, 
Pñ
 *
§c
, I¡ 
§cSåide
, Pñ *
d°
, I¡ 
d°Såide
, I¡ 
width
, I¡ 
height
, 
Boﬁ
 
isLa°
, 
TFûãrC€ff
 c⁄° *
c€ff
);

68 
	mãm∂©e
<
I¡
 
	mN
>

69 
Void
 
fûãrVî
(
I¡
 
bôDïth
, 
Pñ
 *
§c
, I¡ 
§cSåide
, Pñ *
d°
, I¡ 
d°Såide
, I¡ 
width
, I¡ 
height
, 
Boﬁ
 
isFú°
, Boﬁ 
isLa°
, 
TFûãrC€ff
 c⁄° *
c€ff
);

71 
	mpublic
:

72 
	$TComI¡îpﬁ©i⁄Fûãr
() {}

73 ~
	$TComI¡îpﬁ©i⁄Fûãr
(Ë{
	}
}

75 
Void
 
fûãrH‹
(c⁄° 
Comp⁄ítID
 
compID
, 
Pñ
 *
§c
, 
I¡
 
§cSåide
, Pñ *
d°
, I¡ 
d°Såide
, I¡ 
width
, I¡ 
height
, I¡ 
‰ac
, 
Boﬁ
 
isLa°
, c⁄° 
ChromaF‹m©
 
fmt
, c⁄° I¡ 
bôDïth
 );

76 
Void
 
fûãrVî
(c⁄° 
Comp⁄ítID
 
compID
, 
Pñ
 *
§c
, 
I¡
 
§cSåide
, Pñ *
d°
, I¡ 
d°Såide
, I¡ 
width
, I¡ 
height
, I¡ 
‰ac
, 
Boﬁ
 
isFú°
, Boﬁ 
isLa°
, c⁄° 
ChromaF‹m©
 
fmt
, c⁄° I¡ 
bôDïth
 );

	@TComList.h

38 #i‚de‡
__TCOMLIST__


39 
	#__TCOMLIST__


	)

41 #i‡
_MSC_VER
 > 1000

42 #¥agm®
⁄˚


45 
	~<li°
>

46 
	~<as£π.h
>

47 
	~"Comm⁄Def.h
"

49 
	~<c°dlib
>

50 
usög
 
«me•a˚
 
	g°d
;

60 
	gãm∂©e
< 
˛ass
 
	gC
 >

61 
˛ass
 
	gTComLi°
 : 
public
 
°d
::
li°
< 
C
 >

63 
public
:

64 
ty≥«me
 
	t°d
::
	tli°
<
	tC
>::
	tôî©‹
 
	tTComIãøt‹
;

66 
	gTComLi°
& 
	g›î©‹
 +–c⁄° 
TComLi°
& 
rcTComLi°
)

68 if–! 
rcTComLi°
.
em±y
() )

70 
ö£π
–
this
->
íd
(), 
rcTComLi°
.
begö
(),ÑcTComList.end());

72  *
	gthis
;

75 
C
 
p›Back
()

77 
C
 
	gcT
 = 
this
->
back
();

78 
	gthis
->
p›_back
();

79  
	gcT
;

82 
C
 
p›Fr⁄t
()

84 
C
 
	gcT
 = 
this
->
‰⁄t
();

85 
	gthis
->
p›_‰⁄t
();

86  
	gcT
;

89 
Void
 
pushBack
–c⁄° 
C
& 
rcT
 )

92 if–
	grcT
 !
NULL
 )

94 
this
->
push_back
–
rcT
);

98 
Void
 
pushFr⁄t
–c⁄° 
C
& 
rcT
 )

101 if–
	grcT
 !
NULL
 )

103 
this
->
push_‰⁄t
–
rcT
);

107 
TComIãøt‹
 
föd
–c⁄° 
C
& 
rcT
 )

109  
	g°d
::
li°
< 
C
 >::
föd
–
this
->
begö
(),Åhis->
íd
(), 
rcT
 );

	@TComLoopFilter.cpp

38 
	~"TComLo›Fûãr.h
"

39 
	~"TComSli˚.h
"

40 
	~"TComMv.h
"

41 
	~"TComTU.h
"

53 
	#DEFAULT_INTRA_TC_OFFSET
 2

54 

	)

59 c⁄° 
UCh¨
 
	gTComLo›Fûãr
::
sm_tcTabÀ
[
MAX_QP
 + 1 + 
DEFAULT_INTRA_TC_OFFSET
] =

64 c⁄° 
UCh¨
 
	gTComLo›Fûãr
::
sm_bëaTabÀ
[
MAX_QP
 + 1] =

73 
	gTComLo›Fûãr
::
	$TComLo›Fûãr
()

74 : 
	`m_uiNumP¨tôi⁄s
(0)

75 , 
	$m_bLFCrossTûeBound¨y
(
åue
)

77  
I¡
 
edgeDú
 = 0;ÉdgeDú < 
NUM_EDGE_DIR
;ÉdgeDir++ )

79 
m_ØpucBS
 [
edgeDú
] = 
NULL
;

80 
m_ØpbEdgeFûãr
[
edgeDú
] = 
NULL
;

82 
	}
}

84 
	gTComLo›Fûãr
::~
	$TComLo›Fûãr
()

86 
	}
}

91 
Void
 
TComLo›Fûãr
::
	$£tCfg
–
Boﬁ
 
bLFCrossTûeBound¨y
 )

93 
m_bLFCrossTûeBound¨y
 = 
bLFCrossTûeBound¨y
;

94 
	}
}

96 
Void
 
	gTComLo›Fûãr
::
	$¸óã
–
UI¡
 
uiMaxCUDïth
 )

98 
	`de°roy
();

99 
m_uiNumP¨tôi⁄s
 = 1 << ( 
uiMaxCUDïth
<<1 );

100  
I¡
 
edgeDú
 = 0;ÉdgeDú < 
NUM_EDGE_DIR
;ÉdgeDir++ )

102 
m_ØpucBS
 [
edgeDú
] = 
√w
 
UCh¨
[
m_uiNumP¨tôi⁄s
];

103 
m_ØpbEdgeFûãr
[
edgeDú
] = 
√w
 
Boﬁ
 [
m_uiNumP¨tôi⁄s
];

105 
	}
}

107 
Void
 
	gTComLo›Fûãr
::
	$de°roy
()

109  
I¡
 
edgeDú
 = 0;ÉdgeDú < 
NUM_EDGE_DIR
;ÉdgeDir++ )

111 i‡(
m_ØpucBS
[
edgeDú
] !
NULL
)

113 
dñëe
 [] 
m_ØpucBS
[
edgeDú
];

114 
m_ØpucBS
[
edgeDú
] = 
NULL
;

117 i‡(
m_ØpbEdgeFûãr
[
edgeDú
])

119 
dñëe
 [] 
m_ØpbEdgeFûãr
[
edgeDú
];

120 
m_ØpbEdgeFûãr
[
edgeDú
] = 
NULL
;

123 
	}
}

130 
Void
 
	gTComLo›Fûãr
::
	$lo›FûãrPic
–
TComPic
* 
pcPic
 )

133  
UI¡
 
˘uRsAddr
 = 0; ctuRsAdd∏< 
pcPic
->
	`gëNumbîOfCtusInFøme
(); ctuRsAddr++ )

135 
TComD©aCU
* 
pCtu
 = 
pcPic
->
	`gëCtu
–
˘uRsAddr
 );

137 ::
	`mem£t
–
m_ØpucBS
 [
EDGE_VER
], 0, –
UCh¨
 ) * 
m_uiNumP¨tôi⁄s
 );

138 ::
	`mem£t
–
m_ØpbEdgeFûãr
[
EDGE_VER
], 0, –
Boﬁ
 ) * 
m_uiNumP¨tôi⁄s
 );

141 
	`xDeblockCU
–
pCtu
, 0, 0, 
EDGE_VER
 );

145  
UI¡
 
˘uRsAddr
 = 0; ctuRsAdd∏< 
pcPic
->
	`gëNumbîOfCtusInFøme
(); ctuRsAddr++ )

147 
TComD©aCU
* 
pCtu
 = 
pcPic
->
	`gëCtu
–
˘uRsAddr
 );

149 ::
	`mem£t
–
m_ØpucBS
 [
EDGE_HOR
], 0, –
UCh¨
 ) * 
m_uiNumP¨tôi⁄s
 );

150 ::
	`mem£t
–
m_ØpbEdgeFûãr
[
EDGE_HOR
], 0, –
Boﬁ
 ) * 
m_uiNumP¨tôi⁄s
 );

153 
	`xDeblockCU
–
pCtu
, 0, 0, 
EDGE_HOR
 );

155 
	}
}

170 
Void
 
	gTComLo›Fûãr
::
	$xDeblockCU
–
TComD©aCU
* 
pcCU
, 
UI¡
 
uiAbsZ‹dîIdx
, UI¡ 
uiDïth
, 
DeblockEdgeDú
 
edgeDú
 )

172 if(
pcCU
->
	`gëPic
()==0||pcCU->
	`gëP¨tôi⁄Size
(
uiAbsZ‹dîIdx
)==
NUMBER_OF_PART_SIZES
)

176 
TComPic
* 
pcPic
 = 
pcCU
->
	`gëPic
();

177 
UI¡
 
uiCurNumP¨ts
 = 
pcPic
->
	`gëNumP¨tôi⁄sInCtu
(Ë>> (
uiDïth
<<1);

178 
UI¡
 
uiQNumP¨ts
 = 
uiCurNumP¨ts
>>2;

179 c⁄° 
TComSPS
 &
•s
 = *(
pcCU
->
	`gëSli˚
()->
	`gëSPS
());

181 if–
pcCU
->
	`gëDïth
(
uiAbsZ‹dîIdx
Ë> 
uiDïth
 )

183  
UI¡
 
uiP¨tIdx
 = 0; uiP¨tIdx < 4; uiP¨tIdx++, 
uiAbsZ‹dîIdx
+=
uiQNumP¨ts
 )

185 
UI¡
 
uiLPñX
 = 
pcCU
->
	`gëCUPñX
(Ë+ 
g_auiRa°îToPñX
[ 
g_auiZsˇnToRa°î
[
uiAbsZ‹dîIdx
] ];

186 
UI¡
 
uiTPñY
 = 
pcCU
->
	`gëCUPñY
(Ë+ 
g_auiRa°îToPñY
[ 
g_auiZsˇnToRa°î
[
uiAbsZ‹dîIdx
] ];

187 if––
uiLPñX
 < 
•s
.
	`gëPicWidthInLumaSam∂es
(ËË&& ( 
uiTPñY
 < sps.
	`gëPicHeightInLumaSam∂es
() ) )

189 
	`xDeblockCU
–
pcCU
, 
uiAbsZ‹dîIdx
, 
uiDïth
+1, 
edgeDú
 );

195 
	`xSëLo›fûãrP¨am
–
pcCU
, 
uiAbsZ‹dîIdx
 );

196 
TComTURecur£
 
	`tuRecur£
(
pcCU
, 
uiAbsZ‹dîIdx
);

197 
	`xSëEdgefûãrTU
 ( 
tuRecur£
 );

198 
	`xSëEdgefûãrPU
 ( 
pcCU
, 
uiAbsZ‹dîIdx
 );

200 c⁄° 
UI¡
 
uiPñsInP¨t
 = 
•s
.
	`gëMaxCUWidth
(Ë>> sps.
	`gëMaxTŸÆCUDïth
();

202  
UI¡
 
uiP¨tIdx
 = 
uiAbsZ‹dîIdx
; uiP¨tIdx < uiAbsZ‹dîIdx + 
uiCurNumP¨ts
; uiPartIdx++ )

204 
UI¡
 
uiBSCheck
;

205 if–
uiPñsInP¨t
 == 4 )

207 
uiBSCheck
 = (
edgeDú
 =
EDGE_VER
 && 
uiP¨tIdx
%2 =0Ë|| (edgeDú =
EDGE_HOR
 && (uiPartIdx-((uiPartIdx>>2)<<2))/2 == 0);

211 
uiBSCheck
 = 1;

214 i‡–
m_ØpbEdgeFûãr
[
edgeDú
][
uiP¨tIdx
] && 
uiBSCheck
 )

216 
	`xGëBound¨ySåígthSögÀ
 ( 
pcCU
, 
edgeDú
, 
uiP¨tIdx
 );

220 
UI¡
 
P¨tIdxIn¸
 = 
DEBLOCK_SMALLEST_BLOCK
 / 
uiPñsInP¨t
 ? DEBLOCK_SMALLEST_BLOCK / uiPelsInPart : 1 ;

222 
UI¡
 
uiSizeInPU
 = 
pcPic
->
	`gëNumP¨tInCtuWidth
()>>(
uiDïth
);

223 c⁄° 
ChromaF‹m©
 
chFmt
=
pcPic
->
	`gëChromaF‹m©
();

224 c⁄° 
UI¡
 
shi·Fa˘‹
 = 
edgeDú
 =
EDGE_VER
 ? 
pcPic
->
	`gëComp⁄ítSˇÀX
(
COMPONENT_Cb
Ë:ÖcPic->
	`gëComp⁄ítSˇÀY
(COMPONENT_Cb);

225 c⁄° 
Boﬁ
 
bAlwaysDoChroma
=
chFmt
==
CHROMA_444
;

227  
I¡
 
iEdge
 = 0; iEdgê< 
uiSizeInPU
 ; iEdge+=
P¨tIdxIn¸
)

229 
	`xEdgeFûãrLuma
 ( 
pcCU
, 
uiAbsZ‹dîIdx
, 
uiDïth
, 
edgeDú
, 
iEdge
 );

230 i‡–
chFmt
!=
CHROMA_400
 && (
bAlwaysDoChroma
 ||

231 (
uiPñsInP¨t
>
DEBLOCK_SMALLEST_BLOCK
) ||

232 (
iEdge
 % ( (
DEBLOCK_SMALLEST_BLOCK
<<
shi·Fa˘‹
)/
uiPñsInP¨t
 ) ) == 0

236 
	`xEdgeFûãrChroma
 ( 
pcCU
, 
uiAbsZ‹dîIdx
, 
uiDïth
, 
edgeDú
, 
iEdge
 );

239 
	}
}

241 
Void
 
	gTComLo›Fûãr
::
	$xSëEdgefûãrMu…ùÀ
–
TComD©aCU
* 
pcCU
,

242 
UI¡
 
uiAbsZ‹dîIdx
,

243 
UI¡
 
uiDïth
,

244 
DeblockEdgeDú
 
edgeDú
,

245 
I¡
 
iEdgeIdx
,

246 
Boﬁ
 
bVÆue
,

247 
UI¡
 
uiWidthInBa£Unôs
,

248 
UI¡
 
uiHeightInBa£Unôs
,

249 c⁄° 
TComRe˘™gÀ
 *
ª˘
)

251 i‡–
uiWidthInBa£Unôs
 == 0 )

253 
uiWidthInBa£Unôs
 = 
pcCU
->
	`gëPic
()->
	`gëNumP¨tInCtuWidth
 (Ë>> 
uiDïth
;

255 i‡–
uiHeightInBa£Unôs
 == 0 )

257 
uiHeightInBa£Unôs
 = 
pcCU
->
	`gëPic
()->
	`gëNumP¨tInCtuHeight
(Ë>> 
uiDïth
;

259 c⁄° 
UI¡
 
uiNumEÀm
 = 
edgeDú
 =
EDGE_VER
 ? 
uiHeightInBa£Unôs
 : 
uiWidthInBa£Unôs
;

260 
	`as£π
–
uiNumEÀm
 > 0 );

261 
	`as£π
–
uiWidthInBa£Unôs
 > 0 );

262 
	`as£π
–
uiHeightInBa£Unôs
 > 0 );

263  
UI¡
 
ui
 = 0; uò< 
uiNumEÀm
; ui++ )

265 c⁄° 
UI¡
 
uiBsIdx
 = 
	`xCÆcBsIdx
–
pcCU
, 
uiAbsZ‹dîIdx
, 
edgeDú
, 
iEdgeIdx
, 
ui
, 
ª˘
 );

266 
m_ØpbEdgeFûãr
[
edgeDú
][
uiBsIdx
] = 
bVÆue
;

267 i‡(
iEdgeIdx
 == 0)

269 
m_ØpucBS
[
edgeDú
][
uiBsIdx
] = 
bVÆue
;

272 
	}
}

274 
Void
 
	gTComLo›Fûãr
::
	$xSëEdgefûãrTU
–
TComTU
 &
rTu
 )

276 
TComD©aCU
* 
pcCU
 = 
rTu
.
	`gëCU
();

277 
UI¡
 
uiTønsDïthTŸÆ
 = 
rTu
.
	`GëTønsf‹mDïthTŸÆ
();

279 if–
pcCU
->
	`gëTønsf‹mIdx
–
rTu
.
	`GëAbsP¨tIdxTU
(ËË+ÖcCU->
	`gëDïth
–rTu.GëAbsP¨tIdxTU()Ë> 
uiTønsDïthTŸÆ
 )

281 
TComTURecur£
 
	`tuChûd
(
rTu
, 
Ál£
);

284 
	`xSëEdgefûãrTU
–
tuChûd
 );

285 } 
tuChûd
.
	`√xtSe˘i⁄
(
rTu
));

289 c⁄° 
TComRe˘™gÀ
 &
ª˘
 = 
rTu
.
	`gëRe˘
(
COMPONENT_Y
);

290 c⁄° 
TComSPS
 &
•s
=*(
pcCU
->
	`gëSli˚
()->
	`gëSPS
());

292 c⁄° 
UI¡
 
uiWidthInBa£Unôs
 = 
ª˘
.
width
 / (
•s
.
	`gëMaxCUWidth
(Ë>> sps.
	`gëMaxTŸÆCUDïth
());

293 c⁄° 
UI¡
 
uiHeightInBa£Unôs
 = 
ª˘
.
height
 / (
•s
.
	`gëMaxCUHeight
(Ë>> sps.
	`gëMaxTŸÆCUDïth
());

295 
	`xSëEdgefûãrMu…ùÀ
–
pcCU
, 
rTu
.
	`GëAbsP¨tIdxCU
(), 
uiTønsDïthTŸÆ
, 
EDGE_VER
, 0, 
m_°LFCUP¨am
.
bI¡î«lEdge
, 
uiWidthInBa£Unôs
, 
uiHeightInBa£Unôs
, &
ª˘
 );

296 
	`xSëEdgefûãrMu…ùÀ
–
pcCU
, 
rTu
.
	`GëAbsP¨tIdxCU
(), 
uiTønsDïthTŸÆ
, 
EDGE_HOR
, 0, 
m_°LFCUP¨am
.
bI¡î«lEdge
, 
uiWidthInBa£Unôs
, 
uiHeightInBa£Unôs
, &
ª˘
 );

297 
	}
}

299 
Void
 
	gTComLo›Fûãr
::
	$xSëEdgefûãrPU
–
TComD©aCU
* 
pcCU
, 
UI¡
 
uiAbsZ‹dîIdx
 )

301 c⁄° 
UI¡
 
uiDïth
 = 
pcCU
->
	`gëDïth
–
uiAbsZ‹dîIdx
 );

302 c⁄° 
UI¡
 
uiWidthInBa£Unôs
 = 
pcCU
->
	`gëPic
()->
	`gëNumP¨tInCtuWidth
 (Ë>> 
uiDïth
;

303 c⁄° 
UI¡
 
uiHeightInBa£Unôs
 = 
pcCU
->
	`gëPic
()->
	`gëNumP¨tInCtuHeight
(Ë>> 
uiDïth
;

304 c⁄° 
UI¡
 
uiHWidthInBa£Unôs
 = 
uiWidthInBa£Unôs
 >> 1;

305 c⁄° 
UI¡
 
uiHHeightInBa£Unôs
 = 
uiHeightInBa£Unôs
 >> 1;

306 c⁄° 
UI¡
 
uiQWidthInBa£Unôs
 = 
uiWidthInBa£Unôs
 >> 2;

307 c⁄° 
UI¡
 
uiQHeightInBa£Unôs
 = 
uiHeightInBa£Unôs
 >> 2;

309 
	`xSëEdgefûãrMu…ùÀ
–
pcCU
, 
uiAbsZ‹dîIdx
, 
uiDïth
, 
EDGE_VER
, 0, 
m_°LFCUP¨am
.
bLe·Edge
 );

310 
	`xSëEdgefûãrMu…ùÀ
–
pcCU
, 
uiAbsZ‹dîIdx
, 
uiDïth
, 
EDGE_HOR
, 0, 
m_°LFCUP¨am
.
bT›Edge
 );

312  
pcCU
->
	`gëP¨tôi⁄Size
–
uiAbsZ‹dîIdx
 ) )

314 
SIZE_2Nx2N
:

318 
SIZE_2NxN
:

320 
	`xSëEdgefûãrMu…ùÀ
–
pcCU
, 
uiAbsZ‹dîIdx
, 
uiDïth
, 
EDGE_HOR
, 
uiHHeightInBa£Unôs
, 
m_°LFCUP¨am
.
bI¡î«lEdge
 );

323 
SIZE_Nx2N
:

325 
	`xSëEdgefûãrMu…ùÀ
–
pcCU
, 
uiAbsZ‹dîIdx
, 
uiDïth
, 
EDGE_VER
, 
uiHWidthInBa£Unôs
, 
m_°LFCUP¨am
.
bI¡î«lEdge
 );

328 
SIZE_NxN
:

330 
	`xSëEdgefûãrMu…ùÀ
–
pcCU
, 
uiAbsZ‹dîIdx
, 
uiDïth
, 
EDGE_VER
, 
uiHWidthInBa£Unôs
, 
m_°LFCUP¨am
.
bI¡î«lEdge
 );

331 
	`xSëEdgefûãrMu…ùÀ
–
pcCU
, 
uiAbsZ‹dîIdx
, 
uiDïth
, 
EDGE_HOR
, 
uiHHeightInBa£Unôs
, 
m_°LFCUP¨am
.
bI¡î«lEdge
 );

334 
SIZE_2NxnU
:

336 
	`xSëEdgefûãrMu…ùÀ
–
pcCU
, 
uiAbsZ‹dîIdx
, 
uiDïth
, 
EDGE_HOR
, 
uiQHeightInBa£Unôs
, 
m_°LFCUP¨am
.
bI¡î«lEdge
 );

339 
SIZE_2NxnD
:

341 
	`xSëEdgefûãrMu…ùÀ
–
pcCU
, 
uiAbsZ‹dîIdx
, 
uiDïth
, 
EDGE_HOR
, 
uiHeightInBa£Unôs
 - 
uiQHeightInBa£Unôs
, 
m_°LFCUP¨am
.
bI¡î«lEdge
 );

344 
SIZE_nLx2N
:

346 
	`xSëEdgefûãrMu…ùÀ
–
pcCU
, 
uiAbsZ‹dîIdx
, 
uiDïth
, 
EDGE_VER
, 
uiQWidthInBa£Unôs
, 
m_°LFCUP¨am
.
bI¡î«lEdge
 );

349 
SIZE_nRx2N
:

351 
	`xSëEdgefûãrMu…ùÀ
–
pcCU
, 
uiAbsZ‹dîIdx
, 
uiDïth
, 
EDGE_VER
, 
uiWidthInBa£Unôs
 - 
uiQWidthInBa£Unôs
, 
m_°LFCUP¨am
.
bI¡î«lEdge
 );

359 
	}
}

362 
Void
 
	gTComLo›Fûãr
::
	$xSëLo›fûãrP¨am
–
TComD©aCU
* 
pcCU
, 
UI¡
 
uiAbsZ‹dîIdx
 )

364 
UI¡
 
uiX
 = 
pcCU
->
	`gëCUPñX
(Ë+ 
g_auiRa°îToPñX
[ 
g_auiZsˇnToRa°î
[ 
uiAbsZ‹dîIdx
 ] ];

365 
UI¡
 
uiY
 = 
pcCU
->
	`gëCUPñY
(Ë+ 
g_auiRa°îToPñY
[ 
g_auiZsˇnToRa°î
[ 
uiAbsZ‹dîIdx
 ] ];

367 
UI¡
 
uiTempP¨tIdx
;

369 
m_°LFCUP¨am
.
bI¡î«lEdge
 = ! 
pcCU
->
	`gëSli˚
()->
	`gëDeblockögFûãrDißbÀ
();

371 i‡–(
uiX
 =0Ë|| 
pcCU
->
	`gëSli˚
()->
	`gëDeblockögFûãrDißbÀ
() )

373 
m_°LFCUP¨am
.
bLe·Edge
 = 
Ál£
;

377 
m_°LFCUP¨am
.
bLe·Edge
 = 
åue
;

379 i‡–
m_°LFCUP¨am
.
bLe·Edge
 )

381 c⁄° 
TComD©aCU
* 
pcTempCU
 = 
pcCU
->
	`gëPULe·
–
uiTempP¨tIdx
, 
uiAbsZ‹dîIdx
, !pcCU->
	`gëSli˚
()->
	`gëLFCrossSli˚Bound¨yFœg
(), !
m_bLFCrossTûeBound¨y
);

383 i‡–
pcTempCU
 !
NULL
 )

385 
m_°LFCUP¨am
.
bLe·Edge
 = 
åue
;

389 
m_°LFCUP¨am
.
bLe·Edge
 = 
Ál£
;

393 i‡–(
uiY
 =0 ) || 
pcCU
->
	`gëSli˚
()->
	`gëDeblockögFûãrDißbÀ
() )

395 
m_°LFCUP¨am
.
bT›Edge
 = 
Ál£
;

399 
m_°LFCUP¨am
.
bT›Edge
 = 
åue
;

401 i‡–
m_°LFCUP¨am
.
bT›Edge
 )

403 c⁄° 
TComD©aCU
* 
pcTempCU
 = 
pcCU
->
	`gëPUAbove
–
uiTempP¨tIdx
, 
uiAbsZ‹dîIdx
, !pcCU->
	`gëSli˚
()->
	`gëLFCrossSli˚Bound¨yFœg
(), 
Ál£
, !
m_bLFCrossTûeBound¨y
);

405 i‡–
pcTempCU
 !
NULL
 )

407 
m_°LFCUP¨am
.
bT›Edge
 = 
åue
;

411 
m_°LFCUP¨am
.
bT›Edge
 = 
Ál£
;

414 
	}
}

416 
Void
 
	gTComLo›Fûãr
::
	$xGëBound¨ySåígthSögÀ
 ( 
TComD©aCU
* 
pCtu
, 
DeblockEdgeDú
 
edgeDú
, 
UI¡
 
uiAbsP¨tIdx4x4BlockWôhöCtu
 )

418 
TComSli˚
 * c⁄° 
pcSli˚
 = 
pCtu
->
	`gëSli˚
();

420 c⁄° 
Boﬁ
 
lfCrossSli˚Bound¨yFœg
=
pCtu
->
	`gëSli˚
()->
	`gëLFCrossSli˚Bound¨yFœg
();

422 c⁄° 
UI¡
 
uiP¨tQ
 = 
uiAbsP¨tIdx4x4BlockWôhöCtu
;

423 
TComD©aCU
* c⁄° 
pcCUQ
 = 
pCtu
;

425 
UI¡
 
uiP¨tP
;

426 c⁄° 
TComD©aCU
* 
pcCUP
;

427 
UI¡
 
uiBs
 = 0;

430 i‡(
edgeDú
 =
EDGE_VER
)

432 
pcCUP
 = 
pcCUQ
->
	`gëPULe·
(
uiP¨tP
, 
uiP¨tQ
, !
lfCrossSli˚Bound¨yFœg
, !
m_bLFCrossTûeBound¨y
);

436 
pcCUP
 = 
pcCUQ
->
	`gëPUAbove
(
uiP¨tP
, 
uiP¨tQ
, !
pCtu
->
	`gëSli˚
()->
	`gëLFCrossSli˚Bound¨yFœg
(), 
Ál£
, !
m_bLFCrossTûeBound¨y
);

440 i‡–
pcCUP
->
	`isI¡ø
(
uiP¨tP
Ë|| 
pcCUQ
->isI¡ø(
uiP¨tQ
) )

442 
uiBs
 = 2;

446 i‡–!
pcCUP
->
	`isI¡ø
(
uiP¨tP
Ë&& !
pcCUQ
->isI¡ø(
uiP¨tQ
) )

448 
UI¡
 
nsP¨tQ
 = 
uiP¨tQ
;

449 
UI¡
 
nsP¨tP
 = 
uiP¨tP
;

451 i‡–
m_ØpucBS
[
edgeDú
][
uiAbsP¨tIdx4x4BlockWôhöCtu
] && (
pcCUQ
->
	`gëCbf
–
nsP¨tQ
, 
COMPONENT_Y
,ÖcCUQ->
	`gëTønsf‹mIdx
“sP¨tQ)Ë!0 || 
pcCUP
->gëCbf–
nsP¨tP
, COMPONENT_Y,ÖcCUP->getTransformIdx(nsPartP) ) != 0) )

453 
uiBs
 = 1;

457 i‡(
pcSli˚
->
	`isI¡îB
(Ë|| 
pcCUP
->
	`gëSli˚
()->isInterB())

459 
I¡
 
iRefIdx
;

460 
iRefIdx
 = 
pcCUP
->
	`gëCUMvFõld
(
REF_PIC_LIST_0
)->
	`gëRefIdx
(
uiP¨tP
);

461 c⁄° 
TComPic
 *
piRefP0
 = (
iRefIdx
 < 0Ë? 
NULL
 : 
pcCUP
->
	`gëSli˚
()->
	`gëRefPic
(
REF_PIC_LIST_0
, iRefIdx);

462 
iRefIdx
 = 
pcCUP
->
	`gëCUMvFõld
(
REF_PIC_LIST_1
)->
	`gëRefIdx
(
uiP¨tP
);

463 c⁄° 
TComPic
 *
piRefP1
 = (
iRefIdx
 < 0Ë? 
NULL
 : 
pcCUP
->
	`gëSli˚
()->
	`gëRefPic
(
REF_PIC_LIST_1
, iRefIdx);

464 
iRefIdx
 = 
pcCUQ
->
	`gëCUMvFõld
(
REF_PIC_LIST_0
)->
	`gëRefIdx
(
uiP¨tQ
);

465 c⁄° 
TComPic
 *
piRefQ0
 = (
iRefIdx
 < 0Ë? 
NULL
 : 
pcSli˚
->
	`gëRefPic
(
REF_PIC_LIST_0
, iRefIdx);

466 
iRefIdx
 = 
pcCUQ
->
	`gëCUMvFõld
(
REF_PIC_LIST_1
)->
	`gëRefIdx
(
uiP¨tQ
);

467 c⁄° 
TComPic
 *
piRefQ1
 = (
iRefIdx
 < 0Ë? 
NULL
 : 
pcSli˚
->
	`gëRefPic
(
REF_PIC_LIST_1
, iRefIdx);

469 
TComMv
 
pcMvP0
 = 
pcCUP
->
	`gëCUMvFõld
(
REF_PIC_LIST_0
)->
	`gëMv
(
uiP¨tP
);

470 
TComMv
 
pcMvP1
 = 
pcCUP
->
	`gëCUMvFõld
(
REF_PIC_LIST_1
)->
	`gëMv
(
uiP¨tP
);

471 
TComMv
 
pcMvQ0
 = 
pcCUQ
->
	`gëCUMvFõld
(
REF_PIC_LIST_0
)->
	`gëMv
(
uiP¨tQ
);

472 
TComMv
 
pcMvQ1
 = 
pcCUQ
->
	`gëCUMvFõld
(
REF_PIC_LIST_1
)->
	`gëMv
(
uiP¨tQ
);

474 i‡(
piRefP0
 =
NULL
)

476 
pcMvP0
.
	`£tZîo
();

478 i‡(
piRefP1
 =
NULL
)

480 
pcMvP1
.
	`£tZîo
();

482 i‡(
piRefQ0
 =
NULL
)

484 
pcMvQ0
.
	`£tZîo
();

486 i‡(
piRefQ1
 =
NULL
)

488 
pcMvQ1
.
	`£tZîo
();

491 i‡–((
piRefP0
==
piRefQ0
)&&(
piRefP1
==
piRefQ1
)) || ((piRefP0==piRefQ1)&&(piRefP1==piRefQ0)) )

493 i‡–
piRefP0
 !
piRefP1
 )

495 i‡–
piRefP0
 =
piRefQ0
 )

497 
uiBs
 = ((
	`abs
(
pcMvQ0
.
	`gëH‹
(Ë- 
pcMvP0
.getHor()) >= 4) ||

498 (
	`abs
(
pcMvQ0
.
	`gëVî
(Ë- 
pcMvP0
.getVer()) >= 4) ||

499 (
	`abs
(
pcMvQ1
.
	`gëH‹
(Ë- 
pcMvP1
.getHor()) >= 4) ||

500 (
	`abs
(
pcMvQ1
.
	`gëVî
(Ë- 
pcMvP1
.getVer()) >= 4)) ? 1 : 0;

504 
uiBs
 = ((
	`abs
(
pcMvQ1
.
	`gëH‹
(Ë- 
pcMvP0
.getHor()) >= 4) ||

505 (
	`abs
(
pcMvQ1
.
	`gëVî
(Ë- 
pcMvP0
.getVer()) >= 4) ||

506 (
	`abs
(
pcMvQ0
.
	`gëH‹
(Ë- 
pcMvP1
.getHor()) >= 4) ||

507 (
	`abs
(
pcMvQ0
.
	`gëVî
(Ë- 
pcMvP1
.getVer()) >= 4)) ? 1 : 0;

512 
uiBs
 = ((
	`abs
(
pcMvQ0
.
	`gëH‹
(Ë- 
pcMvP0
.getHor()) >= 4) ||

513 (
	`abs
(
pcMvQ0
.
	`gëVî
(Ë- 
pcMvP0
.getVer()) >= 4) ||

514 (
	`abs
(
pcMvQ1
.
	`gëH‹
(Ë- 
pcMvP1
.getHor()) >= 4) ||

515 (
	`abs
(
pcMvQ1
.
	`gëVî
(Ë- 
pcMvP1
.getVer()) >= 4)) &&

516 ((
	`abs
(
pcMvQ1
.
	`gëH‹
(Ë- 
pcMvP0
.getHor()) >= 4) ||

517 (
	`abs
(
pcMvQ1
.
	`gëVî
(Ë- 
pcMvP0
.getVer()) >= 4) ||

518 (
	`abs
(
pcMvQ0
.
	`gëH‹
(Ë- 
pcMvP1
.getHor()) >= 4) ||

519 (
	`abs
(
pcMvQ0
.
	`gëVî
(Ë- 
pcMvP1
.getVer()) >= 4)) ? 1 : 0;

524 
uiBs
 = 1;

529 
I¡
 
iRefIdx
;

530 
iRefIdx
 = 
pcCUP
->
	`gëCUMvFõld
(
REF_PIC_LIST_0
)->
	`gëRefIdx
(
uiP¨tP
);

531 c⁄° 
TComPic
 *
piRefP0
 = (
iRefIdx
 < 0Ë? 
NULL
 : 
pcCUP
->
	`gëSli˚
()->
	`gëRefPic
(
REF_PIC_LIST_0
, iRefIdx);

532 
iRefIdx
 = 
pcCUQ
->
	`gëCUMvFõld
(
REF_PIC_LIST_0
)->
	`gëRefIdx
(
uiP¨tQ
);

533 c⁄° 
TComPic
 *
piRefQ0
 = (
iRefIdx
 < 0Ë? 
NULL
 : 
pcSli˚
->
	`gëRefPic
(
REF_PIC_LIST_0
, iRefIdx);

534 
TComMv
 
pcMvP0
 = 
pcCUP
->
	`gëCUMvFõld
(
REF_PIC_LIST_0
)->
	`gëMv
(
uiP¨tP
);

535 
TComMv
 
pcMvQ0
 = 
pcCUQ
->
	`gëCUMvFõld
(
REF_PIC_LIST_0
)->
	`gëMv
(
uiP¨tQ
);

537 i‡(
piRefP0
 =
NULL
)

539 
pcMvP0
.
	`£tZîo
();

541 i‡(
piRefQ0
 =
NULL
)

543 
pcMvQ0
.
	`£tZîo
();

546 
uiBs
 = ((
piRefP0
 !
piRefQ0
) ||

547 (
	`abs
(
pcMvQ0
.
	`gëH‹
(Ë- 
pcMvP0
.getHor()) >= 4) ||

548 (
	`abs
(
pcMvQ0
.
	`gëVî
(Ë- 
pcMvP0
.getVer()) >= 4)) ? 1 : 0;

553 
m_ØpucBS
[
edgeDú
][
uiAbsP¨tIdx4x4BlockWôhöCtu
] = 
uiBs
;

554 
	}
}

557 
Void
 
	gTComLo›Fûãr
::
	$xEdgeFûãrLuma
–
TComD©aCU
* c⁄° 
pcCU
, c⁄° 
UI¡
 
uiAbsZ‹dîIdx
, c⁄° UI¡ 
uiDïth
, c⁄° 
DeblockEdgeDú
 
edgeDú
, c⁄° 
I¡
 
iEdge
 )

559 
TComPicYuv
 *
pcPicYuvRec
 = 
pcCU
->
	`gëPic
()->
	`gëPicYuvRec
();

560 
Pñ
 *
piSrc
 = 
pcPicYuvRec
->
	`gëAddr
(
COMPONENT_Y
, 
pcCU
->
	`gëCtuRsAddr
(), 
uiAbsZ‹dîIdx
 );

561 
Pñ
 *
piTmpSrc
 = 
piSrc
;

562 c⁄° 
TComSPS
 &
•s
 = *(
pcCU
->
	`gëSli˚
()->
	`gëSPS
());

563 c⁄° 
Boﬁ
 
µsTønsqu™tBy∑ssE«bÀdFœg
 = 
pcCU
->
	`gëSli˚
()->
	`gëPPS
()->
	`gëTønsqu™tBy∑ssE«bÀdFœg
();

564 c⁄° 
I¡
 
bôDïthLuma
 = 
•s
.
	`gëBôDïth
(
CHANNEL_TYPE_LUMA
);

565 c⁄° 
Boﬁ
 
lfCrossSli˚Bound¨yFœg
 = 
pcCU
->
	`gëSli˚
()->
	`gëLFCrossSli˚Bound¨yFœg
();

567 
I¡
 
iSåide
 = 
pcPicYuvRec
->
	`gëSåide
(
COMPONENT_Y
);

568 
I¡
 
iQP
 = 0;

569 
I¡
 
iQP_P
 = 0;

570 
I¡
 
iQP_Q
 = 0;

571 
UI¡
 
uiNumP¨ts
 = 
pcCU
->
	`gëPic
()->
	`gëNumP¨tInCtuWidth
()>>
uiDïth
;

573 
UI¡
 
uiPñsInP¨t
 = 
•s
.
	`gëMaxCUWidth
(Ë>> sps.
	`gëMaxTŸÆCUDïth
();

574 
UI¡
 
uiBsAbsIdx
 = 0, 
uiBs
 = 0;

575 
I¡
 
iOff£t
, 
iSrcSãp
;

577 
Boﬁ
 
bPCMFûãr
 = (
•s
.
	`gëU£PCM
(Ë&& sps.
	`gëPCMFûãrDißbÀFœg
())? 
åue
 : 
Ál£
;

578 
Boﬁ
 
bP¨tPNoFûãr
 = 
Ál£
;

579 
Boﬁ
 
bP¨tQNoFûãr
 = 
Ál£
;

580 
UI¡
 
uiP¨tPIdx
 = 0;

581 
UI¡
 
uiP¨tQIdx
 = 0;

582 c⁄° 
TComD©aCU
* 
pcCUP
 = 
pcCU
;

583 
TComD©aCU
* 
pcCUQ
 = 
pcCU
;

584 
I¡
 
bëaOff£tDiv2
 = 
pcCUQ
->
	`gëSli˚
()->
	`gëDeblockögFûãrBëaOff£tDiv2
();

585 
I¡
 
tcOff£tDiv2
 = 
pcCUQ
->
	`gëSli˚
()->
	`gëDeblockögFûãrTcOff£tDiv2
();

587 i‡(
edgeDú
 =
EDGE_VER
)

589 
iOff£t
 = 1;

590 
iSrcSãp
 = 
iSåide
;

591 
piTmpSrc
 +
iEdge
*
uiPñsInP¨t
;

595 
iOff£t
 = 
iSåide
;

596 
iSrcSãp
 = 1;

597 
piTmpSrc
 +
iEdge
*
uiPñsInP¨t
*
iSåide
;

600 c⁄° 
I¡
 
iBôdïthSˇÀ
 = 1 << (
bôDïthLuma
-8);

602  
UI¡
 
iIdx
 = 0; iIdx < 
uiNumP¨ts
; iIdx++ )

604 
uiBsAbsIdx
 = 
	`xCÆcBsIdx
–
pcCU
, 
uiAbsZ‹dîIdx
, 
edgeDú
, 
iEdge
, 
iIdx
);

605 
uiBs
 = 
m_ØpucBS
[
edgeDú
][
uiBsAbsIdx
];

606 i‡–
uiBs
 )

608 
iQP_Q
 = 
pcCU
->
	`gëQP
–
uiBsAbsIdx
 );

609 
uiP¨tQIdx
 = 
uiBsAbsIdx
;

611 i‡(
edgeDú
 =
EDGE_VER
)

613 
pcCUP
 = 
pcCUQ
->
	`gëPULe·
 (
uiP¨tPIdx
, 
uiP¨tQIdx
,!
lfCrossSli˚Bound¨yFœg
, !
m_bLFCrossTûeBound¨y
);

617 
pcCUP
 = 
pcCUQ
->
	`gëPUAbove
(
uiP¨tPIdx
, 
uiP¨tQIdx
,!
lfCrossSli˚Bound¨yFœg
, 
Ál£
, !
m_bLFCrossTûeBound¨y
);

620 
iQP_P
 = 
pcCUP
->
	`gëQP
(
uiP¨tPIdx
);

621 
iQP
 = (
iQP_P
 + 
iQP_Q
 + 1) >> 1;

623 
I¡
 
iIndexTC
 = 
	`Clù3
(0, 
MAX_QP
+
DEFAULT_INTRA_TC_OFFSET
, 
	`I¡
(
iQP
 + DEFAULT_INTRA_TC_OFFSET*(
uiBs
-1Ë+ (
tcOff£tDiv2
 << 1)));

624 
I¡
 
iIndexB
 = 
	`Clù3
(0, 
MAX_QP
, 
iQP
 + (
bëaOff£tDiv2
 << 1));

626 
I¡
 
iTc
 = 
sm_tcTabÀ
[
iIndexTC
]*
iBôdïthSˇÀ
;

627 
I¡
 
iBëa
 = 
sm_bëaTabÀ
[
iIndexB
]*
iBôdïthSˇÀ
;

628 
I¡
 
iSideThªshﬁd
 = (
iBëa
+(iBeta>>1))>>3;

629 
I¡
 
iThrCut
 = 
iTc
*10;

632 
UI¡
 
uiBlocksInP¨t
 = 
uiPñsInP¨t
 / 4 ? uiPelsInPart / 4 : 1;

633 
UI¡
 
iBlkIdx
 = 0; iBlkIdx<
uiBlocksInP¨t
; iBlkIdx ++)

635 
I¡
 
dp0
 = 
	`xCÆcDP
–
piTmpSrc
+
iSrcSãp
*(
iIdx
*
uiPñsInP¨t
+
iBlkIdx
*4+0), 
iOff£t
);

636 
I¡
 
dq0
 = 
	`xCÆcDQ
–
piTmpSrc
+
iSrcSãp
*(
iIdx
*
uiPñsInP¨t
+
iBlkIdx
*4+0), 
iOff£t
);

637 
I¡
 
dp3
 = 
	`xCÆcDP
–
piTmpSrc
+
iSrcSãp
*(
iIdx
*
uiPñsInP¨t
+
iBlkIdx
*4+3), 
iOff£t
);

638 
I¡
 
dq3
 = 
	`xCÆcDQ
–
piTmpSrc
+
iSrcSãp
*(
iIdx
*
uiPñsInP¨t
+
iBlkIdx
*4+3), 
iOff£t
);

639 
I¡
 
d0
 = 
dp0
 + 
dq0
;

640 
I¡
 
d3
 = 
dp3
 + 
dq3
;

642 
I¡
 
dp
 = 
dp0
 + 
dp3
;

643 
I¡
 
dq
 = 
dq0
 + 
dq3
;

644 
I¡
 
d
 = 
d0
 + 
d3
;

646 i‡(
bPCMFûãr
 || 
µsTønsqu™tBy∑ssE«bÀdFœg
)

649 
bP¨tPNoFûãr
 = (
bPCMFûãr
 && 
pcCUP
->
	`gëIPCMFœg
(
uiP¨tPIdx
));

650 
bP¨tQNoFûãr
 = (
bPCMFûãr
 && 
pcCUQ
->
	`gëIPCMFœg
(
uiP¨tQIdx
));

653 
bP¨tPNoFûãr
 = bP¨tPNoFûã∏|| (
pcCUP
->
	`isLos¶essCoded
(
uiP¨tPIdx
) );

654 
bP¨tQNoFûãr
 = bP¨tQNoFûã∏|| (
pcCUQ
->
	`isLos¶essCoded
(
uiP¨tQIdx
) );

657 i‡(
d
 < 
iBëa
)

659 
Boﬁ
 
bFûãrP
 = (
dp
 < 
iSideThªshﬁd
);

660 
Boﬁ
 
bFûãrQ
 = (
dq
 < 
iSideThªshﬁd
);

662 
Boﬁ
 
sw
 = 
	`xU£Så⁄gFûãrög
–
iOff£t
, 2*
d0
, 
iBëa
, 
iTc
, 
piTmpSrc
+
iSrcSãp
*(
iIdx
*
uiPñsInP¨t
+
iBlkIdx
*4+0))

663 && 
	`xU£Så⁄gFûãrög
–
iOff£t
, 2*
d3
, 
iBëa
, 
iTc
, 
piTmpSrc
+
iSrcSãp
*(
iIdx
*
uiPñsInP¨t
+
iBlkIdx
*4+3));

665  
I¡
 
i
 = 0; i < 
DEBLOCK_SMALLEST_BLOCK
/2; i++)

667 
	`xPñFûãrLuma
–
piTmpSrc
+
iSrcSãp
*(
iIdx
*
uiPñsInP¨t
+
iBlkIdx
*4+
i
), 
iOff£t
, 
iTc
, 
sw
, 
bP¨tPNoFûãr
, 
bP¨tQNoFûãr
, 
iThrCut
, 
bFûãrP
, 
bFûãrQ
, 
bôDïthLuma
);

673 
	}
}

676 
Void
 
	gTComLo›Fûãr
::
	$xEdgeFûãrChroma
–
TComD©aCU
* c⁄° 
pcCU
, c⁄° 
UI¡
 
uiAbsZ‹dîIdx
, c⁄° UI¡ 
uiDïth
, c⁄° 
DeblockEdgeDú
 
edgeDú
, c⁄° 
I¡
 
iEdge
 )

678 
TComPicYuv
 *
pcPicYuvRec
 = 
pcCU
->
	`gëPic
()->
	`gëPicYuvRec
();

679 
I¡
 
iSåide
 = 
pcPicYuvRec
->
	`gëSåide
(
COMPONENT_Cb
);

680 
Pñ
 *
piSrcCb
 = 
pcPicYuvRec
->
	`gëAddr
–
COMPONENT_Cb
, 
pcCU
->
	`gëCtuRsAddr
(), 
uiAbsZ‹dîIdx
 );

681 
Pñ
 *
piSrcCr
 = 
pcPicYuvRec
->
	`gëAddr
–
COMPONENT_Cr
, 
pcCU
->
	`gëCtuRsAddr
(), 
uiAbsZ‹dîIdx
 );

682 c⁄° 
TComSPS
 &
•s
 = *(
pcCU
->
	`gëSli˚
()->
	`gëSPS
());

683 c⁄° 
I¡
 
bôDïthChroma
 = 
•s
.
	`gëBôDïth
(
CHANNEL_TYPE_CHROMA
);

685 c⁄° 
UI¡
 
uiPñsInP¨tChromaH
 = 
•s
.
	`gëMaxCUWidth
(Ë>> (•s.
	`gëMaxTŸÆCUDïth
()+
pcPicYuvRec
->
	`gëComp⁄ítSˇÀX
(
COMPONENT_Cb
));

686 c⁄° 
UI¡
 
uiPñsInP¨tChromaV
 = 
•s
.
	`gëMaxCUHeight
(Ë>> (•s.
	`gëMaxTŸÆCUDïth
()+
pcPicYuvRec
->
	`gëComp⁄ítSˇÀY
(
COMPONENT_Cb
));

688 
I¡
 
iQP
 = 0;

689 
I¡
 
iQP_P
 = 0;

690 
I¡
 
iQP_Q
 = 0;

692 
I¡
 
iOff£t
, 
iSrcSãp
;

693 
UI¡
 
uiLo›Lígth
;

695 c⁄° 
UI¡
 
uiCtuWidthInBa£Unôs
 = 
pcCU
->
	`gëPic
()->
	`gëNumP¨tInCtuWidth
();

697 
Boﬁ
 
bPCMFûãr
 = (
pcCU
->
	`gëSli˚
()->
	`gëSPS
()->
	`gëU£PCM
(Ë&&ÖcCU->gëSli˚()->gëSPS()->
	`gëPCMFûãrDißbÀFœg
())? 
åue
 : 
Ál£
;

698 
Boﬁ
 
bP¨tPNoFûãr
 = 
Ál£
;

699 
Boﬁ
 
bP¨tQNoFûãr
 = 
Ál£
;

700 
TComD©aCU
* 
pcCUQ
 = 
pcCU
;

701 
I¡
 
tcOff£tDiv2
 = 
pcCU
->
	`gëSli˚
()->
	`gëDeblockögFûãrTcOff£tDiv2
();

704 
UI¡
 
uiEdgeNumInCtuVît
 = 
g_auiZsˇnToRa°î
[
uiAbsZ‹dîIdx
]%
uiCtuWidthInBa£Unôs
 + 
iEdge
;

705 
UI¡
 
uiEdgeNumInCtuH‹
 = 
g_auiZsˇnToRa°î
[
uiAbsZ‹dîIdx
]/
uiCtuWidthInBa£Unôs
 + 
iEdge
;

707 i‡–(
uiPñsInP¨tChromaH
 < 
DEBLOCK_SMALLEST_BLOCK
Ë&& (
uiPñsInP¨tChromaV
 < DEBLOCK_SMALLEST_BLOCK) &&

709 –(
uiEdgeNumInCtuVît
%(
DEBLOCK_SMALLEST_BLOCK
/
uiPñsInP¨tChromaH
)Ë&& (
edgeDú
==
EDGE_VER
) ) ||

710 –(
uiEdgeNumInCtuH‹
 %(
DEBLOCK_SMALLEST_BLOCK
/
uiPñsInP¨tChromaV
)Ë&& (
edgeDú
==
EDGE_HOR
) )

718 c⁄° 
Boﬁ
 
lfCrossSli˚Bound¨yFœg
=
pcCU
->
	`gëSli˚
()->
	`gëLFCrossSli˚Bound¨yFœg
();

720 
UI¡
 
uiNumP¨ts
 = 
pcCU
->
	`gëPic
()->
	`gëNumP¨tInCtuWidth
()>>
uiDïth
;

722 
UI¡
 
uiBsAbsIdx
;

723 
UCh¨
 
ucBs
;

725 
Pñ
* 
piTmpSrcCb
 = 
piSrcCb
;

726 
Pñ
* 
piTmpSrcCr
 = 
piSrcCr
;

728 i‡(
edgeDú
 =
EDGE_VER
)

730 
iOff£t
 = 1;

731 
iSrcSãp
 = 
iSåide
;

732 
piTmpSrcCb
 +
iEdge
*
uiPñsInP¨tChromaH
;

733 
piTmpSrcCr
 +
iEdge
*
uiPñsInP¨tChromaH
;

734 
uiLo›Lígth
=
uiPñsInP¨tChromaV
;

738 
iOff£t
 = 
iSåide
;

739 
iSrcSãp
 = 1;

740 
piTmpSrcCb
 +
iEdge
*
iSåide
*
uiPñsInP¨tChromaV
;

741 
piTmpSrcCr
 +
iEdge
*
iSåide
*
uiPñsInP¨tChromaV
;

742 
uiLo›Lígth
=
uiPñsInP¨tChromaH
;

745 c⁄° 
I¡
 
iBôdïthSˇÀ
 = 1 << (
pcCU
->
	`gëSli˚
()->
	`gëSPS
()->
	`gëBôDïth
(
CHANNEL_TYPE_CHROMA
)-8);

747  
UI¡
 
iIdx
 = 0; iIdx < 
uiNumP¨ts
; iIdx++ )

749 
uiBsAbsIdx
 = 
	`xCÆcBsIdx
–
pcCU
, 
uiAbsZ‹dîIdx
, 
edgeDú
, 
iEdge
, 
iIdx
);

750 
ucBs
 = 
m_ØpucBS
[
edgeDú
][
uiBsAbsIdx
];

752 i‡–
ucBs
 > 1)

754 
iQP_Q
 = 
pcCU
->
	`gëQP
–
uiBsAbsIdx
 );

755 
UI¡
 
uiP¨tQIdx
 = 
uiBsAbsIdx
;

757 c⁄° 
TComD©aCU
* 
pcCUP
;

758 
UI¡
 
uiP¨tPIdx
;

760 i‡(
edgeDú
 =
EDGE_VER
)

762 
pcCUP
 = 
pcCUQ
->
	`gëPULe·
 (
uiP¨tPIdx
, 
uiP¨tQIdx
,!
lfCrossSli˚Bound¨yFœg
, !
m_bLFCrossTûeBound¨y
);

766 
pcCUP
 = 
pcCUQ
->
	`gëPUAbove
(
uiP¨tPIdx
, 
uiP¨tQIdx
,!
lfCrossSli˚Bound¨yFœg
, 
Ál£
, !
m_bLFCrossTûeBound¨y
);

769 
iQP_P
 = 
pcCUP
->
	`gëQP
(
uiP¨tPIdx
);

771 i‡(
bPCMFûãr
 || 
pcCU
->
	`gëSli˚
()->
	`gëPPS
()->
	`gëTønsqu™tBy∑ssE«bÀdFœg
())

774 
bP¨tPNoFûãr
 = (
bPCMFûãr
 && 
pcCUP
->
	`gëIPCMFœg
(
uiP¨tPIdx
));

775 
bP¨tQNoFûãr
 = (
bPCMFûãr
 && 
pcCUQ
->
	`gëIPCMFœg
(
uiP¨tQIdx
));

778 
bP¨tPNoFûãr
 = bP¨tPNoFûã∏|| (
pcCUP
->
	`isLos¶essCoded
(
uiP¨tPIdx
));

779 
bP¨tQNoFûãr
 = bP¨tQNoFûã∏|| (
pcCUQ
->
	`isLos¶essCoded
(
uiP¨tQIdx
));

782  
UI¡
 
chromaIdx
 = 0; chromaIdx < 2; chromaIdx++ )

784 
I¡
 
chromaQPOff£t
 = 
pcCU
->
	`gëSli˚
()->
	`gëPPS
()->
	`gëQpOff£t
(
	`Comp⁄ítID
(
chromaIdx
 + 1));

785 
Pñ
* 
piTmpSrcChroma
 = (
chromaIdx
 =0Ë? 
piTmpSrcCb
 : 
piTmpSrcCr
;

787 
iQP
 = ((
iQP_P
 + 
iQP_Q
 + 1Ë>> 1Ë+ 
chromaQPOff£t
;

788 i‡(
iQP
 >
chromaQPM≠pögTabÀSize
)

790 i‡(
pcPicYuvRec
->
	`gëChromaF‹m©
()==
CHROMA_420
)

792 
iQP
 -=6;

794 i‡(
iQP
>51)

796 
iQP
=51;

799 i‡(
iQP
 >= 0 )

801 
iQP
 = 
	`gëSˇÀdChromaQP
(iQP, 
pcPicYuvRec
->
	`gëChromaF‹m©
());

804 
I¡
 
iIndexTC
 = 
	`Clù3
(0, 
MAX_QP
+
DEFAULT_INTRA_TC_OFFSET
, 
iQP
 + DEFAULT_INTRA_TC_OFFSET*(
ucBs
 - 1Ë+ (
tcOff£tDiv2
 << 1));

805 
I¡
 
iTc
 = 
sm_tcTabÀ
[
iIndexTC
]*
iBôdïthSˇÀ
;

807  
UI¡
 
uiSãp
 = 0; uiSã∞< 
uiLo›Lígth
; uiStep++ )

809 
	`xPñFûãrChroma
–
piTmpSrcChroma
 + 
iSrcSãp
*(
uiSãp
+
iIdx
*
uiLo›Lígth
), 
iOff£t
, 
iTc
 , 
bP¨tPNoFûãr
, 
bP¨tQNoFûãr
, 
bôDïthChroma
);

814 
	}
}

830 
__ölöe
 
Void
 
	gTComLo›Fûãr
::
	$xPñFûãrLuma
–
Pñ
* 
piSrc
, 
I¡
 
iOff£t
, I¡ 
tc
, 
Boﬁ
 
sw
, Boﬁ 
bP¨tPNoFûãr
, Boﬁ 
bP¨tQNoFûãr
, I¡ 
iThrCut
, Boﬁ 
bFûãrSec⁄dP
, Boﬁ 
bFûãrSec⁄dQ
, c⁄° I¡ 
bôDïthLuma
)

832 
I¡
 
dñè
;

834 
Pñ
 
m4
 = 
piSrc
[0];

835 
Pñ
 
m3
 = 
piSrc
[-
iOff£t
];

836 
Pñ
 
m5
 = 
piSrc
[ 
iOff£t
];

837 
Pñ
 
m2
 = 
piSrc
[-
iOff£t
*2];

838 
Pñ
 
m6
 = 
piSrc
[ 
iOff£t
*2];

839 
Pñ
 
m1
 = 
piSrc
[-
iOff£t
*3];

840 
Pñ
 
m7
 = 
piSrc
[ 
iOff£t
*3];

841 
Pñ
 
m0
 = 
piSrc
[-
iOff£t
*4];

843 i‡(
sw
)

845 
piSrc
[-
iOff£t
] = 
	`Clù3
(
m3
-2*
tc
, m3+2*tc, ((
m1
 + 2*
m2
 + 2*m3 + 2*
m4
 + 
m5
 + 4) >> 3));

846 
piSrc
[0] = 
	`Clù3
(
m4
-2*
tc
, m4+2*tc, ((
m2
 + 2*
m3
 + 2*m4 + 2*
m5
 + 
m6
 + 4) >> 3));

847 
piSrc
[-
iOff£t
*2] = 
	`Clù3
(
m2
-2*
tc
, m2+2*tc, ((
m1
 + m2 + 
m3
 + 
m4
 + 2)>>2));

848 
piSrc
[ 
iOff£t
] = 
	`Clù3
(
m5
-2*
tc
, m5+2*tc, ((
m3
 + 
m4
 + m5 + 
m6
 + 2)>>2));

849 
piSrc
[-
iOff£t
*3] = 
	`Clù3
(
m1
-2*
tc
, m1+2*tc, ((2*
m0
 + 3*m1 + 
m2
 + 
m3
 + 
m4
 + 4 )>>3));

850 
piSrc
[ 
iOff£t
*2] = 
	`Clù3
(
m6
-2*
tc
, m6+2*tc, ((
m3
 + 
m4
 + 
m5
 + 3*m6 + 2*
m7
 +4 )>>3));

855 
dñè
 = (9*(
m4
-
m3
Ë-3*(
m5
-
m2
) + 8)>>4 ;

857 i‡–
	`abs
(
dñè
Ë< 
iThrCut
 )

859 
dñè
 = 
	`Clù3
(-
tc
,Åc, delta);

860 
piSrc
[-
iOff£t
] = 
	`ClùBD
((
m3
+
dñè
), 
bôDïthLuma
);

861 
piSrc
[0] = 
	`ClùBD
((
m4
-
dñè
), 
bôDïthLuma
);

863 
I¡
 
tc2
 = 
tc
>>1;

864 if(
bFûãrSec⁄dP
)

866 
I¡
 
dñè1
 = 
	`Clù3
(-
tc2
,Åc2, (–((
m1
+
m3
+1)>>1)- 
m2
+
dñè
)>>1));

867 
piSrc
[-
iOff£t
*2] = 
	`ClùBD
((
m2
+
dñè1
), 
bôDïthLuma
);

869 if(
bFûãrSec⁄dQ
)

871 
I¡
 
dñè2
 = 
	`Clù3
(-
tc2
,Åc2, (–((
m6
+
m4
+1)>>1)- 
m5
-
dñè
)>>1));

872 
piSrc
[ 
iOff£t
] = 
	`ClùBD
((
m5
+
dñè2
), 
bôDïthLuma
);

877 if(
bP¨tPNoFûãr
)

879 
piSrc
[-
iOff£t
] = 
m3
;

880 
piSrc
[-
iOff£t
*2] = 
m2
;

881 
piSrc
[-
iOff£t
*3] = 
m1
;

883 if(
bP¨tQNoFûãr
)

885 
piSrc
[0] = 
m4
;

886 
piSrc
[ 
iOff£t
] = 
m5
;

887 
piSrc
[ 
iOff£t
*2] = 
m6
;

889 
	}
}

901 
__ölöe
 
Void
 
	gTComLo›Fûãr
::
	$xPñFûãrChroma
–
Pñ
* 
piSrc
, 
I¡
 
iOff£t
, I¡ 
tc
, 
Boﬁ
 
bP¨tPNoFûãr
, Boﬁ 
bP¨tQNoFûãr
, c⁄° I¡ 
bôDïthChroma
)

903 
I¡
 
dñè
;

905 
Pñ
 
m4
 = 
piSrc
[0];

906 
Pñ
 
m3
 = 
piSrc
[-
iOff£t
];

907 
Pñ
 
m5
 = 
piSrc
[ 
iOff£t
];

908 
Pñ
 
m2
 = 
piSrc
[-
iOff£t
*2];

910 
dñè
 = 
	`Clù3
(-
tc
,tc, (((–
m4
 - 
m3
 ) << 2 ) + 
m2
 - 
m5
 + 4 ) >> 3) );

911 
piSrc
[-
iOff£t
] = 
	`ClùBD
((
m3
+
dñè
), 
bôDïthChroma
);

912 
piSrc
[0] = 
	`ClùBD
((
m4
-
dñè
), 
bôDïthChroma
);

914 if(
bP¨tPNoFûãr
)

916 
piSrc
[-
iOff£t
] = 
m3
;

918 if(
bP¨tQNoFûãr
)

920 
piSrc
[0] = 
m4
;

922 
	}
}

933 
__ölöe
 
Boﬁ
 
	gTComLo›Fûãr
::
	$xU£Så⁄gFûãrög
–
I¡
 
off£t
, I¡ 
d
, I¡ 
bëa
, I¡ 
tc
, 
Pñ
* 
piSrc
)

935 
Pñ
 
m4
 = 
piSrc
[0];

936 
Pñ
 
m3
 = 
piSrc
[-
off£t
];

937 
Pñ
 
m7
 = 
piSrc
[ 
off£t
*3];

938 
Pñ
 
m0
 = 
piSrc
[-
off£t
*4];

940 
I¡
 
d_°r⁄g
 = 
	`abs
(
m0
-
m3
Ë+ábs(
m7
-
m4
);

942  ( (
d_°r⁄g
 < (
bëa
>>3)Ë&& (
d
<(bëa>>2)Ë&& ( 
	`abs
(
m3
-
m4
Ë< ((
tc
*5+1)>>1)) );

943 
	}
}

945 
__ölöe
 
I¡
 
	gTComLo›Fûãr
::
	$xCÆcDP
–
Pñ
* 
piSrc
, 
I¡
 
iOff£t
)

947  
	`abs
–
piSrc
[-
iOff£t
*3] - 2*piSrc[-iOffset*2] +ÖiSrc[-iOffset] ) ;

948 
	}
}

950 
__ölöe
 
I¡
 
	gTComLo›Fûãr
::
	$xCÆcDQ
–
Pñ
* 
piSrc
, 
I¡
 
iOff£t
)

952  
	`abs
–
piSrc
[0] - 2*piSrc[
iOff£t
] +ÖiSrc[iOffset*2] );

953 
	}
}

	@TComLoopFilter.h

38 #i‚de‡
__TCOMLOOPFILTER__


39 
	#__TCOMLOOPFILTER__


	)

41 
	~"Comm⁄Def.h
"

42 
	~"TComPic.h
"

47 
	#DEBLOCK_SMALLEST_BLOCK
 8

	)

54 ˛as†
	cTComLo›Fûãr


56 
	m¥iv©e
:

58 
UI¡
 
m_uiNumP¨tôi⁄s
;

59 
UCh¨
* 
	mm_ØpucBS
[
NUM_EDGE_DIR
];

60 
Boﬁ
* 
	mm_ØpbEdgeFûãr
[
NUM_EDGE_DIR
];

61 
LFCUP¨am
 
	mm_°LFCUP¨am
;

63 
Boﬁ
 
	mm_bLFCrossTûeBound¨y
;

65 
	m¥Ÿe˘ed
:

67 
Void
 
xDeblockCU
 ( 
TComD©aCU
* 
pcCU
, 
UI¡
 
uiAbsZ‹dîIdx
, UI¡ 
uiDïth
, 
DeblockEdgeDú
 
edgeDú
 );

70 
Void
 
xSëLo›fûãrP¨am
 ( 
TComD©aCU
* 
pcCU
, 
UI¡
 
uiAbsZ‹dîIdx
 );

72 
Void
 
xSëEdgefûãrTU
 ( 
TComTU
 &
rTu
 );

73 
Void
 
xSëEdgefûãrPU
 ( 
TComD©aCU
* 
pcCU
, 
UI¡
 
uiAbsZ‹dîIdx
 );

74 
Void
 
xGëBound¨ySåígthSögÀ
 ( 
TComD©aCU
* 
pCtu
, 
DeblockEdgeDú
 
edgeDú
, 
UI¡
 
uiP¨tIdx
 );

75 
UI¡
 
	$xCÆcBsIdx
 ( 
TComD©aCU
* 
pcCU
, 
UI¡
 
absZIdxInCtu
, 
DeblockEdgeDú
 
edgeDú
, 
I¡
 
iEdgeIdx
, I¡ 
iBa£UnôIdx
, c⁄° 
TComRe˘™gÀ
 *
ª˘
=
NULL
 )

77 
TComPic
* c⁄° 
pcPic
 = 
pcCU
->
	`gëPic
();

78 c⁄° 
UI¡
 
˘uWidthInBa£Unôs
 = 
pcPic
->
	`gëNumP¨tInCtuWidth
();

79 
I¡
 
ø°îOff£tTU
=0;

80 i‡(
ª˘
 !
NULL
)

82 c⁄° 
UI¡
 
möCuWidth
 =
pcPic
->
	`gëMöCUWidth
();

83 c⁄° 
UI¡
 
möCuHeight
=
pcPic
->
	`gëMöCUHeight
();

84 
ø°îOff£tTU
 = 
ª˘
->
x0
/
möCuWidth
 + (ª˘->
y0
/
möCuHeight
)*
˘uWidthInBa£Unôs
;

86 if–
edgeDú
 =
EDGE_VER
 )

88  
g_auiRa°îToZsˇn
[
g_auiZsˇnToRa°î
[
absZIdxInCtu
] + 
iBa£UnôIdx
 * 
˘uWidthInBa£Unôs
 + 
iEdgeIdx
 + 
ø°îOff£tTU
 ];

92  
g_auiRa°îToZsˇn
[
g_auiZsˇnToRa°î
[
absZIdxInCtu
] + 
iEdgeIdx
 * 
˘uWidthInBa£Unôs
 + 
iBa£UnôIdx
 + 
ø°îOff£tTU
 ];

96 
Void
 
	`xSëEdgefûãrMu…ùÀ
–
TComD©aCU
* 
pcCU
,

97 
UI¡
 
uiAbsZ‹dîIdx
,

98 
UI¡
 
uiDïth
,

99 
DeblockEdgeDú
 
edgeDú
,

100 
I¡
 
iEdgeIdx
,

101 
Boﬁ
 
bVÆue
,

102 
UI¡
 
uiWidthInBa£Unôs
 = 0,

103 
UI¡
 
uiHeightInBa£Unôs
 = 0,

104 c⁄° 
TComRe˘™gÀ
 *
ª˘
 = 0

107 
Void
 
	`xEdgeFûãrLuma
 ( 
TComD©aCU
* c⁄° 
pcCU
, c⁄° 
UI¡
 
uiAbsZ‹dîIdx
, c⁄° UI¡ 
uiDïth
, c⁄° 
DeblockEdgeDú
 
edgeDú
, c⁄° 
I¡
 
iEdge
 );

108 
Void
 
	`xEdgeFûãrChroma
 ( 
TComD©aCU
* c⁄° 
pcCU
, c⁄° 
UI¡
 
uiAbsZ‹dîIdx
, c⁄° UI¡ 
uiDïth
, c⁄° 
DeblockEdgeDú
 
edgeDú
, c⁄° 
I¡
 
iEdge
 );

110 
__ölöe
 
Void
 
	`xPñFûãrLuma
–
Pñ
* 
piSrc
, 
I¡
 
iOff£t
, I¡ 
tc
, 
Boﬁ
 
sw
, Boﬁ 
bP¨tPNoFûãr
, Boﬁ 
bP¨tQNoFûãr
, I¡ 
iThrCut
, Boﬁ 
bFûãrSec⁄dP
, Boﬁ 
bFûãrSec⁄dQ
, c⁄° I¡ 
bôDïthLuma
);

111 
__ölöe
 
Void
 
	`xPñFûãrChroma
–
Pñ
* 
piSrc
, 
I¡
 
iOff£t
, I¡ 
tc
, 
Boﬁ
 
bP¨tPNoFûãr
, Boﬁ 
bP¨tQNoFûãr
, c⁄° I¡ 
bôDïthChroma
);

114 
__ölöe
 
Boﬁ
 
	`xU£Så⁄gFûãrög
–
I¡
 
off£t
, I¡ 
d
, I¡ 
bëa
, I¡ 
tc
, 
Pñ
* 
piSrc
);

115 
__ölöe
 
I¡
 
	`xCÆcDP
–
Pñ
* 
piSrc
, I¡ 
iOff£t
);

116 
__ölöe
 
I¡
 
	`xCÆcDQ
–
Pñ
* 
piSrc
, I¡ 
iOff£t
);

118 c⁄° 
UCh¨
 
sm_tcTabÀ
[54];

119 c⁄° 
UCh¨
 
sm_bëaTabÀ
[52];

121 
public
:

122 
	`TComLo›Fûãr
();

123 
vútuÆ
 ~
	`TComLo›Fûãr
();

125 
Void
 
	`¸óã
 ( 
UI¡
 
uiMaxCUDïth
 );

126 
Void
 
	`de°roy
 ();

129 
Void
 
	`£tCfg
–
Boﬁ
 
bLFCrossTûeBound¨y
 );

132 
Void
 
	`lo›FûãrPic
–
TComPic
* 
pcPic
 );

134 
I¡
 
	$gëBëa
–
I¡
 
qp
 )

136 
I¡
 
ödexB
 = 
	`Clù3
–0, 
MAX_QP
, 
qp
 );

137  
sm_bëaTabÀ
[ 
ödexB
 ];

138 
	}
}

	@TComMotionInfo.cpp

38 
	~<mem‹y.h
>

39 
	~"TComMŸi⁄Info.h
"

40 
	~"as£π.h
"

41 
	~<°dlib.h
>

54 
Void
 
	gTComCUMvFõld
::
	$¸óã
–
UI¡
 
uiNumP¨tôi⁄
 )

56 
	`as£π
(
m_pcMv
 =
NULL
);

57 
	`as£π
(
m_pcMvd
 =
NULL
);

58 
	`as£π
(
m_piRefIdx
 =
NULL
);

60 
m_pcMv
 = 
√w
 
TComMv
[ 
uiNumP¨tôi⁄
 ];

61 
m_pcMvd
 = 
√w
 
TComMv
[ 
uiNumP¨tôi⁄
 ];

62 
m_piRefIdx
 = 
√w
 
SCh¨
 [ 
uiNumP¨tôi⁄
 ];

64 
m_uiNumP¨tôi⁄
 = 
uiNumP¨tôi⁄
;

65 
	}
}

67 
Void
 
	gTComCUMvFõld
::
	$de°roy
()

69 
	`as£π
(
m_pcMv
 !
NULL
);

70 
	`as£π
(
m_pcMvd
 !
NULL
);

71 
	`as£π
(
m_piRefIdx
 !
NULL
);

73 
dñëe
[] 
m_pcMv
;

74 
dñëe
[] 
m_pcMvd
;

75 
dñëe
[] 
m_piRefIdx
;

77 
m_pcMv
 = 
NULL
;

78 
m_pcMvd
 = 
NULL
;

79 
m_piRefIdx
 = 
NULL
;

81 
m_uiNumP¨tôi⁄
 = 0;

82 
	}
}

88 
Void
 
	gTComCUMvFõld
::
	$˛órMvFõld
()

90  
I¡
 
i
 = 0; i < 
m_uiNumP¨tôi⁄
; i++ )

92 
m_pcMv
 [ 
i
 ].
	`£tZîo
();

93 
m_pcMvd
[ 
i
 ].
	`£tZîo
();

95 
	`as£π
––*
m_piRefIdx
 ) == 1 );

96 
	`mem£t
–
m_piRefIdx
, 
NOT_VALID
, 
m_uiNumP¨tôi⁄
 * ( *m_piRefIdx ) );

97 
	}
}

99 
Void
 
	gTComCUMvFõld
::
	$c›yFrom
–
TComCUMvFõld
 c⁄° * 
pcCUMvFõldSrc
, 
I¡
 
iNumP¨tSrc
, I¡ 
iP¨tAddrD°
 )

101 
I¡
 
iSizeInTComMv
 = –
TComMv
 ) * 
iNumP¨tSrc
;

103 
	`mem˝y
–
m_pcMv
 + 
iP¨tAddrD°
, 
pcCUMvFõldSrc
->m_pcMv, 
iSizeInTComMv
 );

104 
	`mem˝y
–
m_pcMvd
 + 
iP¨tAddrD°
, 
pcCUMvFõldSrc
->m_pcMvd, 
iSizeInTComMv
 );

105 
	`mem˝y
–
m_piRefIdx
 + 
iP¨tAddrD°
, 
pcCUMvFõldSrc
->m_piRefIdx, –*m_piRefIdx ) * 
iNumP¨tSrc
 );

106 
	}
}

108 
Void
 
	gTComCUMvFõld
::
	$c›yTo
–
TComCUMvFõld
* 
pcCUMvFõldD°
, 
I¡
 
iP¨tAddrD°
 ) const

110 
	`c›yTo
–
pcCUMvFõldD°
, 
iP¨tAddrD°
, 0, 
m_uiNumP¨tôi⁄
 );

111 
	}
}

113 
Void
 
	gTComCUMvFõld
::
	$c›yTo
–
TComCUMvFõld
* 
pcCUMvFõldD°
, 
I¡
 
iP¨tAddrD°
, 
UI¡
 
uiOff£t
, UI¡ 
uiNumP¨t
 ) const

115 
I¡
 
iSizeInTComMv
 = –
TComMv
 ) * 
uiNumP¨t
;

116 
I¡
 
iOff£t
 = 
uiOff£t
 + 
iP¨tAddrD°
;

118 
	`mem˝y
–
pcCUMvFõldD°
->
m_pcMv
 + 
iOff£t
, m_pcMv + 
uiOff£t
, 
iSizeInTComMv
 );

119 
	`mem˝y
–
pcCUMvFõldD°
->
m_pcMvd
 + 
iOff£t
, m_pcMvd + 
uiOff£t
, 
iSizeInTComMv
 );

120 
	`mem˝y
–
pcCUMvFõldD°
->
m_piRefIdx
 + 
iOff£t
, m_piRefIdx + 
uiOff£t
, –*m_piRefIdx ) * 
uiNumP¨t
 );

121 
	}
}

127 
	gãm∂©e
 <
ty≥«me
 
	gT
>

128 
Void
 
	gTComCUMvFõld
::
	$£tAŒ
–
T
 *
p
, T c⁄° & 
vÆ
, 
P¨tSize
 
eCUMode
, 
I¡
 
iP¨tAddr
, 
UI¡
 
uiDïth
, I¡ 
iP¨tIdx
 )

130 
I¡
 
i
;

131 
p
 +
iP¨tAddr
;

132 
I¡
 
numEÀmíts
 = 
m_uiNumP¨tôi⁄
 >> ( 2 * 
uiDïth
 );

134  
eCUMode
 )

136 
SIZE_2Nx2N
:

137  
i
 = 0; i < 
numEÀmíts
; i++ )

139 
p
[ 
i
 ] = 
vÆ
;

143 
SIZE_2NxN
:

144 
numEÀmíts
 >>= 1;

145  
i
 = 0; i < 
numEÀmíts
; i++ )

147 
p
[ 
i
 ] = 
vÆ
;

151 
SIZE_Nx2N
:

152 
numEÀmíts
 >>= 2;

153  
i
 = 0; i < 
numEÀmíts
; i++ )

155 
p
[ 
i
 ] = 
vÆ
;

156 
p
[ 
i
 + 2 * 
numEÀmíts
 ] = 
vÆ
;

160 
SIZE_NxN
:

161 
numEÀmíts
 >>= 2;

162  
i
 = 0; i < 
numEÀmíts
; i++)

164 
p
[ 
i
 ] = 
vÆ
;

167 
SIZE_2NxnU
:

169 
I¡
 
iCuºP¨tNumQ
 = 
numEÀmíts
>>2;

170 if–
iP¨tIdx
 == 0 )

172 
T
 *
pT
 = 
p
;

173 
T
 *
pT2
 = 
p
 + 
iCuºP¨tNumQ
;

174 
i
 = 0; i < (
iCuºP¨tNumQ
>>1); i++)

176 
pT
 [
i
] = 
vÆ
;

177 
pT2
[
i
] = 
vÆ
;

182 
T
 *
pT
 = 
p
;

183 
i
 = 0; i < (
iCuºP¨tNumQ
>>1); i++)

185 
pT
[
i
] = 
vÆ
;

188 
pT
 = 
p
 + 
iCuºP¨tNumQ
;

189 
i
 = 0; i < ( (
iCuºP¨tNumQ
>>1) + (iCurrPartNumQ<<1) ); i++)

191 
pT
[
i
] = 
vÆ
;

196 
SIZE_2NxnD
:

198 
I¡
 
iCuºP¨tNumQ
 = 
numEÀmíts
>>2;

199 if–
iP¨tIdx
 == 0 )

201 
T
 *
pT
 = 
p
;

202 
i
 = 0; i < ( (
iCuºP¨tNumQ
>>1) + (iCurrPartNumQ<<1) ); i++)

204 
pT
[
i
] = 
vÆ
;

206 
pT
 = 
p
 + ( 
numEÀmíts
 - 
iCuºP¨tNumQ
 );

207 
i
 = 0; i < (
iCuºP¨tNumQ
>>1); i++)

209 
pT
[
i
] = 
vÆ
;

214 
T
 *
pT
 = 
p
;

215 
T
 *
pT2
 = 
p
 + 
iCuºP¨tNumQ
;

216 
i
 = 0; i < (
iCuºP¨tNumQ
>>1); i++)

218 
pT
 [
i
] = 
vÆ
;

219 
pT2
[
i
] = 
vÆ
;

224 
SIZE_nLx2N
:

226 
I¡
 
iCuºP¨tNumQ
 = 
numEÀmíts
>>2;

227 if–
iP¨tIdx
 == 0 )

229 
T
 *
pT
 = 
p
;

230 
T
 *
pT2
 = 
p
 + (
iCuºP¨tNumQ
<<1);

231 
T
 *
pT3
 = 
p
 + (
iCuºP¨tNumQ
>>1);

232 
T
 *
pT4
 = 
p
 + (
iCuºP¨tNumQ
<<1) + (iCurrPartNumQ>>1);

234 
i
 = 0; i < (
iCuºP¨tNumQ
>>2); i++)

236 
pT
 [
i
] = 
vÆ
;

237 
pT2
[
i
] = 
vÆ
;

238 
pT3
[
i
] = 
vÆ
;

239 
pT4
[
i
] = 
vÆ
;

244 
T
 *
pT
 = 
p
;

245 
T
 *
pT2
 = 
p
 + (
iCuºP¨tNumQ
<<1);

246 
i
 = 0; i < (
iCuºP¨tNumQ
>>2); i++)

248 
pT
 [
i
] = 
vÆ
;

249 
pT2
[
i
] = 
vÆ
;

252 
pT
 = 
p
 + (
iCuºP¨tNumQ
>>1);

253 
pT2
 = 
p
 + (
iCuºP¨tNumQ
<<1) + (iCurrPartNumQ>>1);

254 
i
 = 0; i < ( (
iCuºP¨tNumQ
>>2) + iCurrPartNumQ ); i++)

256 
pT
 [
i
] = 
vÆ
;

257 
pT2
[
i
] = 
vÆ
;

262 
SIZE_nRx2N
:

264 
I¡
 
iCuºP¨tNumQ
 = 
numEÀmíts
>>2;

265 if–
iP¨tIdx
 == 0 )

267 
T
 *
pT
 = 
p
;

268 
T
 *
pT2
 = 
p
 + (
iCuºP¨tNumQ
<<1);

269 
i
 = 0; i < ( (
iCuºP¨tNumQ
>>2) + iCurrPartNumQ ); i++)

271 
pT
 [
i
] = 
vÆ
;

272 
pT2
[
i
] = 
vÆ
;

275 
pT
 = 
p
 + 
iCuºP¨tNumQ
 + (iCurrPartNumQ>>1);

276 
pT2
 = 
p
 + 
numEÀmíts
 - 
iCuºP¨tNumQ
 + (iCurrPartNumQ>>1);

277 
i
 = 0; i < (
iCuºP¨tNumQ
>>2); i++)

279 
pT
 [
i
] = 
vÆ
;

280 
pT2
[
i
] = 
vÆ
;

285 
T
 *
pT
 = 
p
;

286 
T
 *
pT2
 = 
p
 + (
iCuºP¨tNumQ
>>1);

287 
T
 *
pT3
 = 
p
 + (
iCuºP¨tNumQ
<<1);

288 
T
 *
pT4
 = 
p
 + (
iCuºP¨tNumQ
<<1) + (iCurrPartNumQ>>1);

289 
i
 = 0; i < (
iCuºP¨tNumQ
>>2); i++)

291 
pT
 [
i
] = 
vÆ
;

292 
pT2
[
i
] = 
vÆ
;

293 
pT3
[
i
] = 
vÆ
;

294 
pT4
[
i
] = 
vÆ
;

300 
	`as£π
(0);

303 
	}
}

305 
Void
 
	gTComCUMvFõld
::
	$£tAŒMv
–
TComMv
 c⁄° & 
mv
, 
P¨tSize
 
eCUMode
, 
I¡
 
iP¨tAddr
, 
UI¡
 
uiDïth
, I¡ 
iP¨tIdx
 )

307 
	`£tAŒ
(
m_pcMv
, 
mv
, 
eCUMode
, 
iP¨tAddr
, 
uiDïth
, 
iP¨tIdx
);

308 
	}
}

310 
Void
 
	gTComCUMvFõld
::
	$£tAŒMvd
–
TComMv
 c⁄° & 
mvd
, 
P¨tSize
 
eCUMode
, 
I¡
 
iP¨tAddr
, 
UI¡
 
uiDïth
, I¡ 
iP¨tIdx
 )

312 
	`£tAŒ
(
m_pcMvd
, 
mvd
, 
eCUMode
, 
iP¨tAddr
, 
uiDïth
, 
iP¨tIdx
);

313 
	}
}

315 
Void
 
	gTComCUMvFõld
::
	$£tAŒRefIdx
 ( 
I¡
 
iRefIdx
, 
P¨tSize
 
eCUMode
, I¡ 
iP¨tAddr
, 
UI¡
 
uiDïth
, I¡ 
iP¨tIdx
 )

317 
	`£tAŒ
(
m_piRefIdx
, 
°©ic_ˇ°
<
SCh¨
>(
iRefIdx
), 
eCUMode
, 
iP¨tAddr
, 
uiDïth
, 
iP¨tIdx
);

318 
	}
}

320 
Void
 
	gTComCUMvFõld
::
	$£tAŒMvFõld
–
TComMvFõld
 c⁄° & 
mvFõld
, 
P¨tSize
 
eCUMode
, 
I¡
 
iP¨tAddr
, 
UI¡
 
uiDïth
, I¡ 
iP¨tIdx
 )

322 
	`£tAŒMv
 ( 
mvFõld
.
	`gëMv
(), 
eCUMode
, 
iP¨tAddr
, 
uiDïth
, 
iP¨tIdx
 );

323 
	`£tAŒRefIdx
–
mvFõld
.
	`gëRefIdx
(), 
eCUMode
, 
iP¨tAddr
, 
uiDïth
, 
iP¨tIdx
 );

324 
	}
}

330 #i‡
REDUCED_ENCODER_MEMORY


331 
Void
 
	gTComCUMvFõld
::
	$com¥ess
(
SCh¨
 *
≥PªdMode
, c⁄° SCh¨* 
≥PªdModeSour˚
, c⁄° 
I¡
 
sˇÀ
, c⁄° 
TComCUMvFõld
 &
sour˚
)

333 c⁄° 
I¡
 
numSub∑πsWôhIdítiˇlMŸi⁄
 = 
sˇÀ
 * scale;

334 
	`as£π
–
numSub∑πsWôhIdítiˇlMŸi⁄
 > 0 &&ÇumSub∑πsWôhIdítiˇlMŸi⁄ <
m_uiNumP¨tôi⁄
);

335 
	`as£π
(
sour˚
.
m_uiNumP¨tôi⁄
 == m_uiNumPartition);

337  
I¡
 
∑πIdx
 = 0;Ö¨tIdx < 
m_uiNumP¨tôi⁄
;Ö¨tIdx +
numSub∑πsWôhIdítiˇlMŸi⁄
 )

339 
TComMv
 
	`cMv
(0,0);

340 
I¡
 
iRefIdx
 = 0;

342 
cMv
 = 
sour˚
.
m_pcMv
[ 
∑πIdx
 ];

343 
PªdMode
 
¥edMode
 = 
°©ic_ˇ°
<PªdMode>–
≥PªdModeSour˚
[ 
∑πIdx
 ] );

344 
iRefIdx
 = 
sour˚
.
m_piRefIdx
[ 
∑πIdx
 ];

345  
I¡
 
i
 = 0; i < 
numSub∑πsWôhIdítiˇlMŸi⁄
; i++ )

347 
m_pcMv
[ 
∑πIdx
 + 
i
 ] = 
cMv
;

348 
≥PªdMode
[ 
∑πIdx
 + 
i
 ] = 
¥edMode
;

349 
m_piRefIdx
[ 
∑πIdx
 + 
i
 ] = 
iRefIdx
;

352 
	}
}

354 
Void
 
	gTComCUMvFõld
::
	$com¥ess
(
SCh¨
* 
≥PªdMode
, 
I¡
 
sˇÀ
)

356 
I¡
 
N
 = 
sˇÀ
 * scale;

357 
	`as£π
–
N
 > 0 && N <
m_uiNumP¨tôi⁄
);

359  
I¡
 
uiP¨tIdx
 = 0; uiP¨tIdx < 
m_uiNumP¨tôi⁄
; uiP¨tIdx +
N
 )

361 
TComMv
 
	`cMv
(0,0);

362 
I¡
 
iRefIdx
 = 0;

364 
cMv
 = 
m_pcMv
[ 
uiP¨tIdx
 ];

365 
PªdMode
 
¥edMode
 = 
°©ic_ˇ°
<PªdMode>–
≥PªdMode
[ 
uiP¨tIdx
 ] );

366 
iRefIdx
 = 
m_piRefIdx
[ 
uiP¨tIdx
 ];

367  
I¡
 
i
 = 0; i < 
N
; i++ )

369 
m_pcMv
[ 
uiP¨tIdx
 + 
i
 ] = 
cMv
;

370 
≥PªdMode
[ 
uiP¨tIdx
 + 
i
 ] = 
¥edMode
;

371 
m_piRefIdx
[ 
uiP¨tIdx
 + 
i
 ] = 
iRefIdx
;

374 
	}
}

	@TComMotionInfo.h

39 #i‚de‡
__TCOMMOTIONINFO__


40 
	#__TCOMMOTIONINFO__


	)

42 
	~<mem‹y.h
>

43 
	~"Comm⁄Def.h
"

44 
	~"TComMv.h
"

54 
	s_AMVPInfo


56 
TComMv
 
	mm_acMvC™d
[ 
AMVP_MAX_NUM_CANDS
 ];

57 
I¡
 
	miN
;

58 #i‡
MCTS_ENC_CHECK


59 
UI¡
 
	mnumS∑tülMVPC™did©es
;

61 } 
	tAMVPInfo
;

68 ˛as†
	cTComMvFõld


70 
	m¥iv©e
:

71 
TComMv
 
m_acMv
;

72 
I¡
 
	mm_iRefIdx
;

74 
	mpublic
:

75 
	$TComMvFõld
(Ë: 
	$m_iRefIdx
–
NOT_VALID
 ) {}

77 
Void
 
	$£tMvFõld
–
TComMv
 c⁄° & 
cMv
, 
I¡
 
iRefIdx
 )

79 
m_acMv
 = 
cMv
;

80 
m_iRefIdx
 = 
iRefIdx
;

81 
	}
}

83 
Void
 
	$£tRefIdx
–
I¡
 
ªfIdx
 ) { 
m_iRefIdx
 =ÑefIdx; 
	}
}

85 
TComMv
 c⁄° & 
	$gëMv
(Ëc⁄° {  
m_acMv
; 
	}
}

86 
	gTComMv
 & 
	$gëMv
(Ë{  
m_acMv
; 
	}
}

88 
I¡
 
	$gëRefIdx
(Ëc⁄° {  
m_iRefIdx
; 
	}
}

89 
I¡
 
	$gëH‹
 (Ëc⁄° {  
m_acMv
.
	`gëH‹
(); 
	}
}

90 
I¡
 
	$gëVî
 (Ëc⁄° {  
m_acMv
.
	`gëVî
(); 
	}
}

94 ˛as†
	cTComCUMvFõld


96 
	mpublic
:

97 
TComMv
* 
m_pcMv
;

98 
TComMv
* 
	mm_pcMvd
;

99 
SCh¨
* 
	mm_piRefIdx
;

100 
UI¡
 
	mm_uiNumP¨tôi⁄
;

101 
AMVPInfo
 
	mm_cAMVPInfo
;

103 
	mãm∂©e
 <
ty≥«me
 
	mT
>

104 
Void
 
£tAŒ
–
T
 *
p
, T c⁄° & 
vÆ
, 
P¨tSize
 
eCUMode
, 
I¡
 
iP¨tAddr
, 
UI¡
 
uiDïth
, I¡ 
iP¨tIdx
 );

106 
	mpublic
:

107 
	$TComCUMvFõld
(Ë: 
	`m_pcMv
(
NULL
), 
	`m_pcMvd
(NULL), 
	`m_piRefIdx
(NULL), 
	$m_uiNumP¨tôi⁄
(0) {}

108 ~
	$TComCUMvFõld
(Ë{
	}
}

114 
Void
 
¸óã
–
UI¡
 
uiNumP¨tôi⁄
 );

115 
Void
 
de°roy
();

121 
Void
 
˛órMvFõld
();

123 
Void
 
c›yFrom
–
TComCUMvFõld
 c⁄° * 
pcCUMvFõldSrc
, 
I¡
 
iNumP¨tSrc
, I¡ 
iP¨tAddrD°
 );

124 
Void
 
	$c›yTo
 ( 
TComCUMvFõld
* 
pcCUMvFõldD°
, 
I¡
 
iP¨tAddrD°
 ) const;

125 
Void
 
	$c›yTo
 ( 
TComCUMvFõld
* 
pcCUMvFõldD°
, 
I¡
 
iP¨tAddrD°
, 
UI¡
 
uiOff£t
, UI¡ 
uiNumP¨t
 ) const;

131 
TComMv
 c⁄° & 
	$gëMv
 ( 
I¡
 
iIdx
 ) c⁄° {  
m_pcMv
 [iIdx]; 
	}
}

132 
TComMv
 c⁄° & 
	$gëMvd
 ( 
I¡
 
iIdx
 ) c⁄° {  
m_pcMvd
 [iIdx]; 
	}
}

133 
I¡
 
	$gëRefIdx
–
I¡
 
iIdx
 ) c⁄° {  
m_piRefIdx
[iIdx]; 
	}
}

135 
AMVPInfo
* 
	$gëAMVPInfo
 (Ë{  &
m_cAMVPInfo
; 
	}
}

141 
Void
 
£tAŒMv
 ( 
TComMv
 c⁄° & 
rcMv
, 
P¨tSize
 
eCUMode
, 
I¡
 
iP¨tAddr
, 
UI¡
 
uiDïth
, I¡ 
iP¨tIdx
=0 );

142 
Void
 
£tAŒMvd
 ( 
TComMv
 c⁄° & 
rcMvd
, 
P¨tSize
 
eCUMode
, 
I¡
 
iP¨tAddr
, 
UI¡
 
uiDïth
, I¡ 
iP¨tIdx
=0 );

143 
Void
 
£tAŒRefIdx
 ( 
I¡
 
iRefIdx
, 
P¨tSize
 
eMbMode
, I¡ 
iP¨tAddr
, 
UI¡
 
uiDïth
, I¡ 
iP¨tIdx
=0 );

144 
Void
 
£tAŒMvFõld
–
TComMvFõld
 c⁄° & 
mvFõld
, 
P¨tSize
 
eMbMode
, 
I¡
 
iP¨tAddr
, 
UI¡
 
uiDïth
, I¡ 
iP¨tIdx
=0 );

146 
Void
 
	$£tNumP¨tôi⁄
–
I¡
 
iNumP¨t
 )

148 
m_uiNumP¨tôi⁄
 = 
iNumP¨t
;

149 
	}
}

151 
Void
 
	$lökToWôhOff£t
–
TComCUMvFõld
 c⁄° * 
§c
, 
I¡
 
off£t
 )

153 
m_pcMv
 = 
§c
->m_pcMv + 
off£t
;

154 
m_pcMvd
 = 
§c
->m_pcMvd + 
off£t
;

155 
m_piRefIdx
 = 
§c
->m_piRefIdx + 
off£t
;

156 
	}
}

158 #i‡
REDUCED_ENCODER_MEMORY


159 
Void
 
com¥ess
(
SCh¨
 *
≥PªdMode
, c⁄° SCh¨* 
≥PªdModeSour˚
, c⁄° 
I¡
 
sˇÀ
, c⁄° 
TComCUMvFõld
 &
sour˚
);

161 
Void
 
com¥ess
(
SCh¨
* 
≥PªdMode
, 
I¡
 
sˇÀ
);

	@TComMv.h

38 #i‚de‡
__TCOMMV__


39 
	#__TCOMMV__


	)

41 
	~"Comm⁄Def.h
"

51 ˛as†
	cTComMv


53 
	mpublic
:

54 
Sh‹t
 
m_iH‹
;

55 
Sh‹t
 
	mm_iVî
;

57 
	mpublic
:

63 
	$TComMv
() :

64 
	`m_iH‹
(0),

65 
	$m_iVî
(0)

69 
	$TComMv
–
Sh‹t
 
iH‹
, Sh‹à
iVî
 ) :

70 
	`m_iH‹
(
iH‹
),

71 
	$m_iVî
(
iVî
)

73 
	}
}

79 
Void
 
	$£t
 ( 
Sh‹t
 
iH‹
, Sh‹à
iVî
Ë{ 
m_iH‹
 = iH‹; 
m_iVî
 = iVî; 
	}
}

80 
Void
 
	$£tH‹
 ( 
Sh‹t
 
i
 ) { 
m_iH‹
 = i; 
	}
}

81 
Void
 
	$£tVî
 ( 
Sh‹t
 
i
 ) { 
m_iVî
 = i; 
	}
}

82 
Void
 
	$£tZîo
 (Ë{ 
m_iH‹
 = 
m_iVî
 = 0; 
	}
}

88 
I¡
 
	$gëH‹
 (Ëc⁄° {  
m_iH‹
; 
	}
}

89 
I¡
 
	$gëVî
 (Ëc⁄° {  
m_iVî
; 
	}
}

90 
I¡
 
	$gëAbsH‹
 (Ëc⁄° {  
	`abs
–
m_iH‹
 ); 
	}
}

91 
I¡
 
	$gëAbsVî
 (Ëc⁄° {  
	`abs
–
m_iVî
 ); 
	}
}

97 c⁄° 
	gTComMv
& 
	g›î©‹
 +(c⁄° 
TComMv
& 
rcMv
)

99 
m_iH‹
 +
rcMv
.m_iHor;

100 
	gm_iVî
 +
rcMv
.
m_iVî
;

101  *
	gthis
;

104 c⁄° 
	gTComMv
& 
	g›î©‹
-(c⁄° 
TComMv
& 
rcMv
)

106 
m_iH‹
 -
rcMv
.m_iHor;

107 
	gm_iVî
 -
rcMv
.
m_iVî
;

108  *
	gthis
;

111 #i‡!
ME_ENABLE_ROUNDING_OF_MVS


112 c⁄° 
	gTComMv
& 
	g›î©‹
>>(c⁄° 
I¡
 
i
)

114 
m_iH‹
 >>
i
;

115 
	gm_iVî
 >>
i
;

116  *
	gthis
;

120 #i‡
ME_ENABLE_ROUNDING_OF_MVS


122 
Void
 
	$divideByPowîOf2
 (c⁄° 
I¡
 
i
)

124 
I¡
 
off£t
 = (
i
 == 0) ? 0 : 1 << (i - 1);

125 
m_iH‹
 +
off£t
;

126 
m_iVî
 +
off£t
;

128 
m_iH‹
 >>
i
;

129 
m_iVî
 >>
i
;

130 
	}
}

133 c⁄° 
	gTComMv
& 
	g›î©‹
<<(c⁄° 
I¡
 
i
)

135 
m_iH‹
 <<
i
;

136 
	gm_iVî
 <<
i
;

137  *
	gthis
;

140 c⁄° 
TComMv
 
	g›î©‹
 - ( c⁄° 
	gTComMv
& 
	grcMv
 ) const

142  
TComMv
–
m_iH‹
 - 
rcMv
.m_iH‹, 
m_iVî
 -ÑcMv.m_iVer );

145 c⁄° 
TComMv
 
	g›î©‹
 + ( c⁄° 
	gTComMv
& 
	grcMv
 ) const

147  
TComMv
–
m_iH‹
 + 
rcMv
.m_iH‹, 
m_iVî
 +ÑcMv.m_iVer );

150 
Boﬁ
 
	g›î©‹
=–c⁄° 
TComMv
& 
rcMv
 ) const

152  (
m_iH‹
==
rcMv
.m_iH‹ && 
m_iVî
==rcMv.m_iVer);

155 
Boﬁ
 
	g›î©‹
!–c⁄° 
TComMv
& 
rcMv
 ) const

157  (
m_iH‹
!=
rcMv
.m_iH‹ || 
m_iVî
!=rcMv.m_iVer);

160 c⁄° 
TComMv
 
	$sˇÀMv
–
I¡
 
iSˇÀ
 ) const

162 
I¡
 
mvx
 = 
	`Clù3
–-32768, 32767, (
iSˇÀ
 * 
	`gëH‹
() + 127 + (iScale * getHor() < 0)) >> 8 );

163 
I¡
 
mvy
 = 
	`Clù3
–-32768, 32767, (
iSˇÀ
 * 
	`gëVî
() + 127 + (iScale * getVer() < 0)) >> 8 );

164  
	`TComMv
–
mvx
, 
mvy
 );

165 
	}
}

	@TComPattern.cpp

38 
	~"TComPic.h
"

39 
	~"TComP©ã∫.h
"

40 
	~"TComD©aCU.h
"

41 
	~"TComTU.h
"

42 
	~"Debug.h
"

43 
	~"TComPªdi˘i⁄.h
"

51 
Void
 
fûlRe„ªn˚Sam∂es
–c⁄° 
I¡
 
bôDïth
,

52 #i‡
O0043_BEST_EFFORT_DECODING


53 c⁄° 
I¡
 
bôDïthDñè
,

55 c⁄° 
Pñ
* 
piRoiOrigö
,

56 
Pñ
* 
piI¡øTemp
,

57 c⁄° 
Boﬁ
* 
bNeighb‹Fœgs
,

58 c⁄° 
I¡
 
iNumI¡øNeighb‹
,

59 c⁄° 
I¡
 
unôWidth
,

60 c⁄° 
I¡
 
unôHeight
,

61 c⁄° 
I¡
 
iAboveUnôs
,

62 c⁄° 
I¡
 
iLe·Unôs
,

63 c⁄° 
UI¡
 
uiWidth
,

64 c⁄° 
UI¡
 
uiHeight
,

65 c⁄° 
I¡
 
iPicSåide
 );

68 
Boﬁ
 
isAboveLe·AvaûabÀ
 ( c⁄° 
TComD©aCU
* 
pcCU
, 
UI¡
 
uiP¨tIdxLT
 );

69 
I¡
 
isAboveAvaûabÀ
 ( c⁄° 
TComD©aCU
* 
pcCU
, 
UI¡
 
uiP¨tIdxLT
, UI¡ 
uiP¨tIdxRT
, 
Boﬁ
* 
bVÆidFœgs
 );

70 
I¡
 
isLe·AvaûabÀ
 ( c⁄° 
TComD©aCU
* 
pcCU
, 
UI¡
 
uiP¨tIdxLT
, UI¡ 
uiP¨tIdxLB
, 
Boﬁ
* 
bVÆidFœgs
 );

71 
I¡
 
isAboveRightAvaûabÀ
 ( c⁄° 
TComD©aCU
* 
pcCU
, 
UI¡
 
uiP¨tIdxLT
, UI¡ 
uiP¨tIdxRT
, 
Boﬁ
* 
bVÆidFœgs
 );

72 
I¡
 
isBñowLe·AvaûabÀ
 ( c⁄° 
TComD©aCU
* 
pcCU
, 
UI¡
 
uiP¨tIdxLT
, UI¡ 
uiP¨tIdxLB
, 
Boﬁ
* 
bVÆidFœgs
 );

80 #i‡
MCTS_ENC_CHECK


81 
Void
 
	gTComP©ã∫
::
	$öôP©ã∫
(
Pñ
* 
piY
,

82 
I¡
 
roiWidth
,

83 
I¡
 
roiHeight
,

84 
I¡
 
°ride
,

85 
I¡
 
bôDïthLuma
,

86 
I¡
 
roiPosX
,

87 
I¡
 
roiPosY
)

89 
Void
 
TComP©ã∫
::
	$öôP©ã∫
 (
Pñ
* 
piY
,

90 
I¡
 
roiWidth
,

91 
I¡
 
roiHeight
,

92 
I¡
 
°ride
,

93 
I¡
 
bôDïthLuma
)

96 
m_piROIOrigö
 = 
piY
;

97 
m_roiWidth
 = 
roiWidth
;

98 
m_roiHeight
 = 
roiHeight
;

99 
m_∑âînSåide
 = 
°ride
;

100 
m_bôDïth
 = 
bôDïthLuma
;

101 #i‡
MCTS_ENC_CHECK


102 
m_roiPosX
 = 
roiPosX
;

103 
m_roiPosY
 = 
roiPosY
;

105 
	}
}

107 #i‡
MCTS_ENC_CHECK


108 
Void
 
	gTComP©ã∫
::
	$£tTûeB‹dîs
(
I¡
 
tûeLe·T›PñPosX
, I¡ 
tûeLe·T›PñPosY
, I¡ 
tûeRightBŸtomPñPosX
, I¡ 
tûeRightBŸtomPñPosY
)

110 
m_tûeLe·T›PñPosX
 = 
tûeLe·T›PñPosX
;

111 
m_tûeLe·T›PñPosY
 = 
tûeLe·T›PñPosY
;

112 
m_tûeRightBŸtomPñPosX
 = 
tûeRightBŸtomPñPosX
;

113 
m_tûeRightBŸtomPñPosY
 = 
tûeRightBŸtomPñPosY
;

114 
	}
}

119 
Void
 
	gTComPªdi˘i⁄
::
öôI¡øP©ã∫ChTy≥
–
TComTU
 &
rTu
, c⁄° 
Comp⁄ítID
 
compID
, c⁄° 
Boﬁ
 
bFûãrRefSam∂es
 
	$DEBUG_STRING_FN_DECLARE
(
sDebug
))

121 c⁄° 
Ch™√lTy≥
 
chTy≥
 = 
	`toCh™√lTy≥
(
compID
);

123 
TComD©aCU
 *
pcCU
=
rTu
.
	`gëCU
();

124 c⁄° 
TComSPS
 &
•s
 = *(
pcCU
->
	`gëSli˚
()->
	`gëSPS
());

125 c⁄° 
UI¡
 
uiZ‹dîIdxInP¨t
=
rTu
.
	`GëAbsP¨tIdxTU
();

126 c⁄° 
UI¡
 
uiTuWidth
 = 
rTu
.
	`gëRe˘
(
compID
).
width
;

127 c⁄° 
UI¡
 
uiTuHeight
 = 
rTu
.
	`gëRe˘
(
compID
).
height
;

128 c⁄° 
UI¡
 
uiTuWidth2
 = 
uiTuWidth
 << 1;

129 c⁄° 
UI¡
 
uiTuHeight2
 = 
uiTuHeight
 << 1;

131 c⁄° 
I¡
 
iBa£UnôSize
 = 
•s
.
	`gëMaxCUWidth
(Ë>> sps.
	`gëMaxTŸÆCUDïth
();

132 c⁄° 
I¡
 
iUnôWidth
 = 
iBa£UnôSize
 >> 
pcCU
->
	`gëPic
()->
	`gëPicYuvRec
()->
	`gëComp⁄ítSˇÀX
(
compID
);

133 c⁄° 
I¡
 
iUnôHeight
 = 
iBa£UnôSize
 >> 
pcCU
->
	`gëPic
()->
	`gëPicYuvRec
()->
	`gëComp⁄ítSˇÀY
(
compID
);

134 c⁄° 
I¡
 
iTUWidthInUnôs
 = 
uiTuWidth
 / 
iUnôWidth
;

135 c⁄° 
I¡
 
iTUHeightInUnôs
 = 
uiTuHeight
 / 
iUnôHeight
;

136 c⁄° 
I¡
 
iAboveUnôs
 = 
iTUWidthInUnôs
 << 1;

137 c⁄° 
I¡
 
iLe·Unôs
 = 
iTUHeightInUnôs
 << 1;

138 c⁄° 
I¡
 
bôDïthF‹Ch™√l
 = 
•s
.
	`gëBôDïth
(
chTy≥
);

140 
	`as£π
(
iTUHeightInUnôs
 > 0 && 
iTUWidthInUnôs
 > 0);

142 c⁄° 
I¡
 
iP¨tIdxSåide
 = 
pcCU
->
	`gëPic
()->
	`gëNumP¨tInCtuWidth
();

143 c⁄° 
UI¡
 
uiP¨tIdxLT
 = 
pcCU
->
	`gëZ‹dîIdxInCtu
(Ë+ 
uiZ‹dîIdxInP¨t
;

144 c⁄° 
UI¡
 
uiP¨tIdxRT
 = 
g_auiRa°îToZsˇn
[ 
g_auiZsˇnToRa°î
[ 
uiP¨tIdxLT
 ] + 
iTUWidthInUnôs
 - 1 ];

145 c⁄° 
UI¡
 
uiP¨tIdxLB
 = 
g_auiRa°îToZsˇn
[ 
g_auiZsˇnToRa°î
[ 
uiP¨tIdxLT
 ] + ((
iTUHeightInUnôs
 - 1Ë* 
iP¨tIdxSåide
)];

147 
I¡
 
iPicSåide
 = 
pcCU
->
	`gëPic
()->
	`gëSåide
(
compID
);

148 
Boﬁ
 
bNeighb‹Fœgs
[4 * 
MAX_NUM_PART_IDXS_IN_CTU_WIDTH
 + 1];

149 
I¡
 
iNumI¡øNeighb‹
 = 0;

151 
bNeighb‹Fœgs
[
iLe·Unôs
] = 
	`isAboveLe·AvaûabÀ
–
pcCU
, 
uiP¨tIdxLT
 );

152 
iNumI¡øNeighb‹
 +
bNeighb‹Fœgs
[
iLe·Unôs
] ? 1 : 0;

153 
iNumI¡øNeighb‹
 +
	`isAboveAvaûabÀ
 ( 
pcCU
, 
uiP¨tIdxLT
, 
uiP¨tIdxRT
, (
bNeighb‹Fœgs
 + 
iLe·Unôs
 + 1) );

154 
iNumI¡øNeighb‹
 +
	`isAboveRightAvaûabÀ
–
pcCU
, 
uiP¨tIdxLT
, 
uiP¨tIdxRT
, (
bNeighb‹Fœgs
 + 
iLe·Unôs
 + 1 + 
iTUWidthInUnôs
 ) );

155 
iNumI¡øNeighb‹
 +
	`isLe·AvaûabÀ
 ( 
pcCU
, 
uiP¨tIdxLT
, 
uiP¨tIdxLB
, (
bNeighb‹Fœgs
 + 
iLe·Unôs
 - 1) );

156 
iNumI¡øNeighb‹
 +
	`isBñowLe·AvaûabÀ
 ( 
pcCU
, 
uiP¨tIdxLT
, 
uiP¨tIdxLB
, (
bNeighb‹Fœgs
 + 
iLe·Unôs
 - 1 - 
iTUHeightInUnôs
) );

158 c⁄° 
UI¡
 
uiROIWidth
 = 
uiTuWidth2
+1;

159 c⁄° 
UI¡
 
uiROIHeight
 = 
uiTuHeight2
+1;

161 
	`as£π
(
uiROIWidth
*
uiROIHeight
 <
m_iYuvExtSize
);

163 #i‡
DEBUG_STRING


164 
°d
::
°rög°ªam
 
	`ss
(°rög°ªam::
out
);

168 
Pñ
 *
piI¡øTemp
 = 
m_piYuvExt
[
compID
][
PRED_BUF_UNFILTERED
];

169 
Pñ
 *
piRoiOrigö
 = 
pcCU
->
	`gëPic
()->
	`gëPicYuvRec
()->
	`gëAddr
(
compID
,ÖcCU->
	`gëCtuRsAddr
(),ÖcCU->
	`gëZ‹dîIdxInCtu
()+
uiZ‹dîIdxInP¨t
);

170 #i‡
O0043_BEST_EFFORT_DECODING


171 c⁄° 
I¡
 
bôDïthF‹Ch™√lInSåóm
 = 
•s
.
	`gëSåómBôDïth
(
chTy≥
);

172 
	`fûlRe„ªn˚Sam∂es
 (
bôDïthF‹Ch™√lInSåóm
, bôDïthF‹Ch™√lInSåóm - 
bôDïthF‹Ch™√l
,

174 
	`fûlRe„ªn˚Sam∂es
 (
bôDïthF‹Ch™√l
,

176 
piRoiOrigö
, 
piI¡øTemp
, 
bNeighb‹Fœgs
, 
iNumI¡øNeighb‹
, 
iUnôWidth
, 
iUnôHeight
, 
iAboveUnôs
, 
iLe·Unôs
,

177 
uiROIWidth
, 
uiROIHeight
, 
iPicSåide
);

180 #i‡
DEBUG_STRING


181 i‡(
DebugO±i⁄Li°
::
DebugSåög_Pªd
.
	`gëI¡
()&
	`DebugSåögGëPªdModeMask
(
MODE_INTRA
))

183 
ss
 << "###: gíî©ög Re‡Sam∂e†f‹ ch™√»" << 
compID
 << "ánd " << 
rTu
.
	`gëRe˘
(compID).
width
 << " x " <<ÑTu.gëRe˘(compID).
height
 << "\n";

184 
UI¡
 
y
=0; y<
uiROIHeight
; y++)

186 
ss
 << "###: - ";

187 
UI¡
 
x
=0; x<
uiROIWidth
; x++)

189 i‡(
x
==0 || 
y
==0)

191 
ss
 << 
piI¡øTemp
[
y
*
uiROIWidth
 + 
x
] << ", ";

195 
ss
 << "\n";

200 i‡(
bFûãrRefSam∂es
)

204 
I¡
 
°ride
 = 
uiROIWidth
;

205 c⁄° 
Pñ
 *
piSrcPå
 = 
piI¡øTemp
 + (
°ride
 * 
uiTuHeight2
);

206 
Pñ
 *
piDe°På
 = 
m_piYuvExt
[
compID
][
PRED_BUF_FILTERED
] + (
°ride
 * 
uiTuHeight2
);

210 
Boﬁ
 
u£Så⁄gI¡øSmoŸhög
 = 
	`isLuma
(
chTy≥
Ë&& 
•s
.
	`gëU£Så⁄gI¡øSmoŸhög
();

212 c⁄° 
Pñ
 
bŸtomLe·
 = 
piI¡øTemp
[
°ride
 * 
uiTuHeight2
];

213 c⁄° 
Pñ
 
t›Le·
 = 
piI¡øTemp
[0];

214 c⁄° 
Pñ
 
t›Right
 = 
piI¡øTemp
[
uiTuWidth2
];

216 i‡(
u£Så⁄gI¡øSmoŸhög
)

218 #i‡
O0043_BEST_EFFORT_DECODING


219 c⁄° 
I¡
 
thªshﬁd
 = 1 << (
bôDïthF‹Ch™√lInSåóm
 - 5);

221 c⁄° 
I¡
 
thªshﬁd
 = 1 << (
bôDïthF‹Ch™√l
 - 5);

223 c⁄° 
Boﬁ
 
bûöórLe·
 = 
	`abs
((
bŸtomLe·
 + 
t›Le·
 ) - (2 * 
piI¡øTemp
[
°ride
 * 
uiTuHeight
])Ë< 
thªshﬁd
;

224 c⁄° 
Boﬁ
 
bûöórAbove
 = 
	`abs
((
t›Le·
 + 
t›Right
Ë- (2 * 
piI¡øTemp
[ 
uiTuWidth
 ])Ë< 
thªshﬁd
;

225 i‡((
uiTuWidth
 < 32Ë|| (!
bûöórLe·
Ë|| (!
bûöórAbove
))

227 
u£Så⁄gI¡øSmoŸhög
 = 
Ál£
;

231 *
piDe°På
 = *
piSrcPå
;

232 
piDe°På
 -
°ride
;

233 
piSrcPå
 -
°ride
;

239 i‡(
u£Så⁄gI¡øSmoŸhög
)

241 c⁄° 
I¡
 
shi·
 = 
g_aucC⁄vîtToBô
[
uiTuHeight
] + 3;

243 
UI¡
 
i
=1; i<
uiTuHeight2
; i++, 
piDe°På
-=
°ride
)

245 *
piDe°På
 = (((
uiTuHeight2
 - 
i
Ë* 
bŸtomLe·
Ë+ (ò* 
t›Le·
Ë+ 
uiTuHeight
Ë>> 
shi·
;

248 
piSrcPå
 -
°ride
 * (
uiTuHeight2
 - 1);

252 
UI¡
 
i
=1; i<
uiTuHeight2
; i++, 
piDe°På
-=
°ride
, 
piSrcPå
-=stride)

254 *
piDe°På
 = ( 
piSrcPå
[
°ride
] + 2*piSrcPtr[0] +ÖiSrcPtr[-stride] + 2 ) >> 2;

262 i‡(
u£Så⁄gI¡øSmoŸhög
)

264 *
piDe°På
 = 
piSrcPå
[0];

268 *
piDe°På
 = ( 
piSrcPå
[
°ride
] + 2*piSrcPtr[0] +ÖiSrcPtr[1] + 2 ) >> 2;

270 
piDe°På
 += 1;

271 
piSrcPå
 += 1;

277 i‡(
u£Så⁄gI¡øSmoŸhög
)

279 c⁄° 
I¡
 
shi·
 = 
g_aucC⁄vîtToBô
[
uiTuWidth
] + 3;

281 
UI¡
 
i
=1; i<
uiTuWidth2
; i++, 
piDe°På
++)

283 *
piDe°På
 = (((
uiTuWidth2
 - 
i
Ë* 
t›Le·
Ë+ (ò* 
t›Right
Ë+ 
uiTuWidth
Ë>> 
shi·
;

286 
piSrcPå
 +
uiTuWidth2
 - 1;

290 
UI¡
 
i
=1; i<
uiTuWidth2
; i++, 
piDe°På
++, 
piSrcPå
++)

292 *
piDe°På
 = ( 
piSrcPå
[1] + 2*piSrcPtr[0] +ÖiSrcPtr[-1] + 2 ) >> 2;

298 *
piDe°På
=*
piSrcPå
;

300 #i‡
DEBUG_STRING


301 i‡(
DebugO±i⁄Li°
::
DebugSåög_Pªd
.
	`gëI¡
()&
	`DebugSåögGëPªdModeMask
(
MODE_INTRA
))

303 
ss
 << "###: fûãªdÑesu… f‹ ch™√»" << 
compID
 <<"\n";

304 
UI¡
 
y
=0; y<
uiROIHeight
; y++)

306 
ss
 << "###: - ";

307 
UI¡
 
x
=0; x<
uiROIWidth
; x++)

309 i‡(
x
==0 || 
y
==0)

311 
ss
 << 
m_piYuvExt
[
compID
][
PRED_BUF_FILTERED
][
y
*
uiROIWidth
 + 
x
] << ", ";

315 
ss
 << "\n";

323 
	`DEBUG_STRING_APPEND
(
sDebug
, 
ss
.
	`°r
())

324 
	}
}

326 
Void
 
fûlRe„ªn˚Sam∂es
–c⁄° 
I¡
 
bôDïth
,

327 #i‡
O0043_BEST_EFFORT_DECODING


328 c⁄° 
I¡
 
bôDïthDñè
,

330 c⁄° 
Pñ
* 
piRoiOrigö
,

331 
Pñ
* 
piI¡øTemp
,

332 c⁄° 
Boﬁ
* 
bNeighb‹Fœgs
,

333 c⁄° 
I¡
 
iNumI¡øNeighb‹
,

334 c⁄° 
I¡
 
unôWidth
,

335 c⁄° 
I¡
 
unôHeight
,

336 c⁄° 
I¡
 
iAboveUnôs
,

337 c⁄° 
I¡
 
iLe·Unôs
,

338 c⁄° 
UI¡
 
uiWidth
,

339 c⁄° 
UI¡
 
uiHeight
,

340 c⁄° 
I¡
 
iPicSåide
 )

342 c⁄° 
Pñ
* 
	gpiRoiTemp
;

343 
I¡
 
	gi
, 
	gj
;

344 
I¡
 
	giDCVÆue
 = 1 << (
bôDïth
 - 1);

345 c⁄° 
I¡
 
	giTŸÆUnôs
 = 
iAboveUnôs
 + 
iLe·Unôs
 + 1;

347 i‡(
	giNumI¡øNeighb‹
 == 0)

350 
i
=0; 
	gi
<
	guiWidth
; i++)

352 
	gpiI¡øTemp
[
i
] = 
iDCVÆue
;

354 
	gi
=1; i<
	guiHeight
; i++)

356 
	gpiI¡øTemp
[
i
*
uiWidth
] = 
iDCVÆue
;

359 i‡(
	giNumI¡øNeighb‹
 =
iTŸÆUnôs
)

362 
piRoiTemp
 = 
piRoiOrigö
 - 
iPicSåide
 - 1;

364 
	gi
=0; i<
	guiWidth
; i++)

366 #i‡
O0043_BEST_EFFORT_DECODING


367 
	gpiI¡øTemp
[
i
] = 
piRoiTemp
[i] << 
bôDïthDñè
;

369 
	gpiI¡øTemp
[
i
] = 
piRoiTemp
[i];

374 
	gpiRoiTemp
 = 
piRoiOrigö
 - 1;

376 
	gi
=1; i<
	guiHeight
; i++)

378 #i‡
O0043_BEST_EFFORT_DECODING


379 
	gpiI¡øTemp
[
i
*
uiWidth
] = (*(
piRoiTemp
)Ë<< 
bôDïthDñè
;

381 
	gpiI¡øTemp
[
i
*
uiWidth
] = *(
piRoiTemp
);

383 
	gpiRoiTemp
 +
iPicSåide
;

389 c⁄° 
I¡
 
	giTŸÆSam∂es
 = (
iLe·Unôs
 * 
unôHeight
Ë+ ((
iAboveUnôs
 + 1Ë* 
unôWidth
);

390 
Pñ
 
	gpiI¡øLöe
[5 * 
MAX_CU_SIZE
];

391 
Pñ
 *
	gpiI¡øLöeTemp
;

392 c⁄° 
Boﬁ
 *
	gpbNeighb‹Fœgs
;

396 
	gi
=0; i<
	giTŸÆSam∂es
; i++)

398 
	gpiI¡øLöe
[
i
] = 
iDCVÆue
;

402 
	gpiRoiTemp
 = 
piRoiOrigö
 - 
iPicSåide
 - 1;

403 
	gpiI¡øLöeTemp
 = 
piI¡øLöe
 + (
iLe·Unôs
 * 
unôHeight
);

404 
	gpbNeighb‹Fœgs
 = 
bNeighb‹Fœgs
 + 
iLe·Unôs
;

405 i‡(*
	gpbNeighb‹Fœgs
)

407 #i‡
O0043_BEST_EFFORT_DECODING


408 
Pñ
 
	gt›Le·VÆ
=
piRoiTemp
[0] << 
bôDïthDñè
;

410 
Pñ
 
	gt›Le·VÆ
=
piRoiTemp
[0];

412 
	gi
=0; i<
	gunôWidth
; i++)

414 
	gpiI¡øLöeTemp
[
i
] = 
t›Le·VÆ
;

419 
	gpiRoiTemp
 +
iPicSåide
;

420 
	gpiI¡øLöeTemp
--;

421 
	gpbNeighb‹Fœgs
--;

423 
	gj
=0; j<
	giLe·Unôs
; j++)

425 i‡(*
	gpbNeighb‹Fœgs
)

427 
	gi
=0; i<
	gunôHeight
; i++)

429 #i‡
O0043_BEST_EFFORT_DECODING


430 
	gpiI¡øLöeTemp
[-
i
] = 
piRoiTemp
[i*
iPicSåide
] << 
bôDïthDñè
;

432 
	gpiI¡øLöeTemp
[-
i
] = 
piRoiTemp
[i*
iPicSåide
];

436 
	gpiRoiTemp
 +
unôHeight
*
iPicSåide
;

437 
	gpiI¡øLöeTemp
 -
unôHeight
;

438 
	gpbNeighb‹Fœgs
--;

442 
	gpiRoiTemp
 = 
piRoiOrigö
 - 
iPicSåide
;

444 
	gpiI¡øLöeTemp
 = 
piI¡øLöe
 + (
iLe·Unôs
 * 
unôHeight
Ë+ 
unôWidth
;

445 
	gpbNeighb‹Fœgs
 = 
bNeighb‹Fœgs
 + 
iLe·Unôs
 + 1;

446 
	gj
=0; j<
	giAboveUnôs
; j++)

448 i‡(*
	gpbNeighb‹Fœgs
)

450 
	gi
=0; i<
	gunôWidth
; i++)

452 #i‡
O0043_BEST_EFFORT_DECODING


453 
	gpiI¡øLöeTemp
[
i
] = 
piRoiTemp
[i] << 
bôDïthDñè
;

455 
	gpiI¡øLöeTemp
[
i
] = 
piRoiTemp
[i];

459 
	gpiRoiTemp
 +
unôWidth
;

460 
	gpiI¡øLöeTemp
 +
unôWidth
;

461 
	gpbNeighb‹Fœgs
++;

465 
I¡
 
	giCuºJnô
 = 0;

466 
Pñ
 *
	gpiI¡øLöeCur
 = 
piI¡øLöe
;

467 c⁄° 
UI¡
 
	gpiI¡øLöeT›RowOff£t
 = 
iLe·Unôs
 * (
unôHeight
 - 
unôWidth
);

469 i‡(!
	gbNeighb‹Fœgs
[0])

473 
I¡
 
	giNext
 = 1;

474 
	giNext
 < 
	giTŸÆUnôs
 && !
	gbNeighb‹Fœgs
[
iNext
])

476 
	giNext
++;

478 
Pñ
 *
	gpiI¡øLöeNext
 = 
piI¡øLöe
 + ((
iNext
 < 
iLe·Unôs
Ë? (iNexà* 
unôHeight
Ë: (
piI¡øLöeT›RowOff£t
 + (iNexà* 
unôWidth
)));

479 c⁄° 
Pñ
 
	gªfSam∂e
 = *
piI¡øLöeNext
;

481 
I¡
 
	giNextOrT›
 = 
°d
::
mö
<I¡>(
iNext
, 
	giLe·Unôs
);

483 
	giCuºJnô
 < 
	giNextOrT›
)

485 
	gi
=0; i<
	gunôHeight
; i++)

487 
	gpiI¡øLöeCur
[
i
] = 
ªfSam∂e
;

489 
	gpiI¡øLöeCur
 +
unôHeight
;

490 
	giCuºJnô
++;

493 
	giCuºJnô
 < 
	giNext
)

495 
	gi
=0; i<
	gunôWidth
; i++)

497 
	gpiI¡øLöeCur
[
i
] = 
ªfSam∂e
;

499 
	gpiI¡øLöeCur
 +
unôWidth
;

500 
	giCuºJnô
++;

506 
	giCuºJnô
 < 
	giTŸÆUnôs
)

508 i‡(!
	gbNeighb‹Fœgs
[
iCuºJnô
])

511 c⁄° 
I¡
 
	gnumSam∂esInCuºUnô
 = (
iCuºJnô
 >
iLe·Unôs
Ë? 
unôWidth
 : 
unôHeight
;

512 c⁄° 
Pñ
 
	gªfSam∂e
 = *(
piI¡øLöeCur
-1);

513 
	gi
=0; i<
	gnumSam∂esInCuºUnô
; i++)

515 
	gpiI¡øLöeCur
[
i
] = 
ªfSam∂e
;

517 
	gpiI¡øLöeCur
 +
numSam∂esInCuºUnô
;

518 
	giCuºJnô
++;

523 
	gpiI¡øLöeCur
 +(
iCuºJnô
 >
iLe·Unôs
Ë? 
unôWidth
 : 
unôHeight
;

524 
	giCuºJnô
++;

530 
	gpiI¡øLöeTemp
 = 
piI¡øLöe
 + 
uiHeight
 + 
unôWidth
 - 2;

532 
	gi
=0; i<
	guiWidth
; i++)

534 
	gpiI¡øTemp
[
i
] = 
piI¡øLöeTemp
[i];

537 
	gpiI¡øLöeTemp
 = 
piI¡øLöe
 + 
uiHeight
 - 1;

538 
	gi
=1; i<
	guiHeight
; i++)

540 
	gpiI¡øTemp
[
i
*
uiWidth
] = 
piI¡øLöeTemp
[-i];

545 
Boﬁ
 
	gTComPªdi˘i⁄
::
	$fûãrögI¡øRe„ªn˚Sam∂es
(c⁄° 
Comp⁄ítID
 
compID
, 
UI¡
 
uiDúMode
, UI¡ 
uiTuChWidth
, UI¡ 
uiTuChHeight
, c⁄° 
ChromaF‹m©
 
chFmt
, c⁄° 
Boﬁ
 
öåaRe„ªn˚SmoŸhögDißbÀd
)

547 
Boﬁ
 
bFûãr
;

549 i‡(!
	`fûãrI¡øRe„ªn˚Sam∂es
(
	`toCh™√lTy≥
(
compID
), 
chFmt
, 
öåaRe„ªn˚SmoŸhögDißbÀd
))

551 
bFûãr
=
Ál£
;

555 
	`as£π
(
uiTuChWidth
>=4 && 
uiTuChHeight
>=4 && uiTuChWidth<128 && uiTuChHeight<128);

557 i‡(
uiDúMode
 =
DC_IDX
)

559 
bFûãr
=
Ál£
;

563 
I¡
 
diff
 = 
mö
<I¡>(
	`abs
((I¡Ë
uiDúMode
 - 
HOR_IDX
),ábs((I¡)uiDúModê- 
VER_IDX
));

564 
UI¡
 
sizeIndex
=
g_aucC⁄vîtToBô
[
uiTuChWidth
];

565 
	`as£π
(
sizeIndex
 < 
MAX_INTRA_FILTER_DEPTHS
);

566 
bFûãr
 = 
diff
 > 
m_aucI¡øFûãr
[
	`toCh™√lTy≥
(
compID
)][
sizeIndex
];

569  
bFûãr
;

570 
	}
}

572 
Boﬁ
 
	$isAboveLe·AvaûabÀ
–c⁄° 
TComD©aCU
* 
pcCU
, 
UI¡
 
uiP¨tIdxLT
 )

574 
Boﬁ
 
bAboveLe·Fœg
;

575 
UI¡
 
uiP¨tAboveLe·
;

576 c⁄° 
TComD©aCU
* 
pcCUAboveLe·
 = 
pcCU
->
	`gëPUAboveLe·
–
uiP¨tAboveLe·
, 
uiP¨tIdxLT
 );

577 if(
pcCU
->
	`gëSli˚
()->
	`gëPPS
()->
	`gëC⁄°øöedI¡øPªd
())

579 
bAboveLe·Fœg
 = ( 
pcCUAboveLe·
 &&ÖcCUAboveLe·->
	`isI¡ø
–
uiP¨tAboveLe·
 ) );

583 
bAboveLe·Fœg
 = (
pcCUAboveLe·
 ? 
åue
 : 
Ál£
);

585  
bAboveLe·Fœg
;

586 
	}
}

588 
I¡
 
	$isAboveAvaûabÀ
–c⁄° 
TComD©aCU
* 
pcCU
, 
UI¡
 
uiP¨tIdxLT
, UI¡ 
uiP¨tIdxRT
, 
Boﬁ
 *
bVÆidFœgs
 )

590 c⁄° 
UI¡
 
uiRa°îP¨tBegö
 = 
g_auiZsˇnToRa°î
[
uiP¨tIdxLT
];

591 c⁄° 
UI¡
 
uiRa°îP¨tEnd
 = 
g_auiZsˇnToRa°î
[
uiP¨tIdxRT
]+1;

592 c⁄° 
UI¡
 
uiIdxSãp
 = 1;

593 
Boﬁ
 *
pbVÆidFœgs
 = 
bVÆidFœgs
;

594 
I¡
 
iNumI¡ø
 = 0;

596  
UI¡
 
uiRa°îP¨t
 = 
uiRa°îP¨tBegö
; uiRa°îP¨à< 
uiRa°îP¨tEnd
; uiRa°îP¨à+
uiIdxSãp
 )

598 
UI¡
 
uiP¨tAbove
;

599 c⁄° 
TComD©aCU
* 
pcCUAbove
 = 
pcCU
->
	`gëPUAbove
–
uiP¨tAbove
, 
g_auiRa°îToZsˇn
[
uiRa°îP¨t
] );

600 if(
pcCU
->
	`gëSli˚
()->
	`gëPPS
()->
	`gëC⁄°øöedI¡øPªd
())

602 i‡–
pcCUAbove
 &&ÖcCUAbove->
	`isI¡ø
–
uiP¨tAbove
 ) )

604 
iNumI¡ø
++;

605 *
pbVÆidFœgs
 = 
åue
;

609 *
pbVÆidFœgs
 = 
Ál£
;

614 i‡(
pcCUAbove
)

616 
iNumI¡ø
++;

617 *
pbVÆidFœgs
 = 
åue
;

621 *
pbVÆidFœgs
 = 
Ál£
;

624 
pbVÆidFœgs
++;

626  
iNumI¡ø
;

627 
	}
}

629 
I¡
 
	$isLe·AvaûabÀ
–c⁄° 
TComD©aCU
* 
pcCU
, 
UI¡
 
uiP¨tIdxLT
, UI¡ 
uiP¨tIdxLB
, 
Boﬁ
 *
bVÆidFœgs
 )

631 c⁄° 
UI¡
 
uiRa°îP¨tBegö
 = 
g_auiZsˇnToRa°î
[
uiP¨tIdxLT
];

632 c⁄° 
UI¡
 
uiRa°îP¨tEnd
 = 
g_auiZsˇnToRa°î
[
uiP¨tIdxLB
]+1;

633 c⁄° 
UI¡
 
uiIdxSãp
 = 
pcCU
->
	`gëPic
()->
	`gëNumP¨tInCtuWidth
();

634 
Boﬁ
 *
pbVÆidFœgs
 = 
bVÆidFœgs
;

635 
I¡
 
iNumI¡ø
 = 0;

637  
UI¡
 
uiRa°îP¨t
 = 
uiRa°îP¨tBegö
; uiRa°îP¨à< 
uiRa°îP¨tEnd
; uiRa°îP¨à+
uiIdxSãp
 )

639 
UI¡
 
uiP¨tLe·
;

640 c⁄° 
TComD©aCU
* 
pcCULe·
 = 
pcCU
->
	`gëPULe·
–
uiP¨tLe·
, 
g_auiRa°îToZsˇn
[
uiRa°îP¨t
] );

641 if(
pcCU
->
	`gëSli˚
()->
	`gëPPS
()->
	`gëC⁄°øöedI¡øPªd
())

643 i‡–
pcCULe·
 &&ÖcCULe·->
	`isI¡ø
–
uiP¨tLe·
 ) )

645 
iNumI¡ø
++;

646 *
pbVÆidFœgs
 = 
åue
;

650 *
pbVÆidFœgs
 = 
Ál£
;

655 i‡–
pcCULe·
 )

657 
iNumI¡ø
++;

658 *
pbVÆidFœgs
 = 
åue
;

662 *
pbVÆidFœgs
 = 
Ál£
;

665 
pbVÆidFœgs
--;

668  
iNumI¡ø
;

669 
	}
}

671 
I¡
 
	$isAboveRightAvaûabÀ
–c⁄° 
TComD©aCU
* 
pcCU
, 
UI¡
 
uiP¨tIdxLT
, UI¡ 
uiP¨tIdxRT
, 
Boﬁ
 *
bVÆidFœgs
 )

673 c⁄° 
UI¡
 
uiNumUnôsInPU
 = 
g_auiZsˇnToRa°î
[
uiP¨tIdxRT
] - g_auiZsˇnToRa°î[
uiP¨tIdxLT
] + 1;

674 
Boﬁ
 *
pbVÆidFœgs
 = 
bVÆidFœgs
;

675 
I¡
 
iNumI¡ø
 = 0;

677  
UI¡
 
uiOff£t
 = 1; uiOff£à<
uiNumUnôsInPU
; uiOffset++ )

679 
UI¡
 
uiP¨tAboveRight
;

680 c⁄° 
TComD©aCU
* 
pcCUAboveRight
 = 
pcCU
->
	`gëPUAboveRight
–
uiP¨tAboveRight
, 
uiP¨tIdxRT
, 
uiOff£t
 );

681 if(
pcCU
->
	`gëSli˚
()->
	`gëPPS
()->
	`gëC⁄°øöedI¡øPªd
())

683 i‡–
pcCUAboveRight
 &&ÖcCUAboveRight->
	`isI¡ø
–
uiP¨tAboveRight
 ) )

685 
iNumI¡ø
++;

686 *
pbVÆidFœgs
 = 
åue
;

690 *
pbVÆidFœgs
 = 
Ál£
;

695 i‡–
pcCUAboveRight
 )

697 
iNumI¡ø
++;

698 *
pbVÆidFœgs
 = 
åue
;

702 *
pbVÆidFœgs
 = 
Ál£
;

705 
pbVÆidFœgs
++;

708  
iNumI¡ø
;

709 
	}
}

711 
I¡
 
	$isBñowLe·AvaûabÀ
–c⁄° 
TComD©aCU
* 
pcCU
, 
UI¡
 
uiP¨tIdxLT
, UI¡ 
uiP¨tIdxLB
, 
Boﬁ
 *
bVÆidFœgs
 )

713 c⁄° 
UI¡
 
uiNumUnôsInPU
 = (
g_auiZsˇnToRa°î
[
uiP¨tIdxLB
] - g_auiZsˇnToRa°î[
uiP¨tIdxLT
]Ë/ 
pcCU
->
	`gëPic
()->
	`gëNumP¨tInCtuWidth
() + 1;

714 
Boﬁ
 *
pbVÆidFœgs
 = 
bVÆidFœgs
;

715 
I¡
 
iNumI¡ø
 = 0;

717  
UI¡
 
uiOff£t
 = 1; uiOff£à<
uiNumUnôsInPU
; uiOffset++ )

719 
UI¡
 
uiP¨tBñowLe·
;

720 c⁄° 
TComD©aCU
* 
pcCUBñowLe·
 = 
pcCU
->
	`gëPUBñowLe·
–
uiP¨tBñowLe·
, 
uiP¨tIdxLB
, 
uiOff£t
 );

721 if(
pcCU
->
	`gëSli˚
()->
	`gëPPS
()->
	`gëC⁄°øöedI¡øPªd
())

723 i‡–
pcCUBñowLe·
 &&ÖcCUBñowLe·->
	`isI¡ø
–
uiP¨tBñowLe·
 ) )

725 
iNumI¡ø
++;

726 *
pbVÆidFœgs
 = 
åue
;

730 *
pbVÆidFœgs
 = 
Ál£
;

735 i‡–
pcCUBñowLe·
 )

737 
iNumI¡ø
++;

738 *
pbVÆidFœgs
 = 
åue
;

742 *
pbVÆidFœgs
 = 
Ál£
;

745 
pbVÆidFœgs
--;

748  
iNumI¡ø
;

749 
	}
}

	@TComPattern.h

38 #i‚de‡
__TCOMPATTERN__


39 
	#__TCOMPATTERN__


	)

42 
	~"Comm⁄Def.h
"

51 
˛ass
 
	gTComD©aCU
;

52 
˛ass
 
	gTComTU
;

55 ˛as†
	cTComP©ã∫


57 
	m¥iv©e
:

58 
Pñ
* 
m_piROIOrigö
;

59 
I¡
 
	mm_roiWidth
;

60 
I¡
 
	mm_roiHeight
;

61 
I¡
 
	mm_∑âînSåide
;

62 
I¡
 
	mm_bôDïth
;

64 #i‡
MCTS_ENC_CHECK


65 
I¡
 
	mm_roiPosX
;

66 
I¡
 
	mm_roiPosY
;

67 
I¡
 
	mm_tûeLe·T›PñPosX
;

68 
I¡
 
	mm_tûeLe·T›PñPosY
;

69 
I¡
 
	mm_tûeRightBŸtomPñPosX
;

70 
I¡
 
	mm_tûeRightBŸtomPñPosY
;

73 
	mpublic
:

75 
I¡
 
	$gëROIYWidth
(Ëc⁄° {  
m_roiWidth
; }

76 
I¡
 
	$gëROIYHeight
(Ëc⁄° {  
m_roiHeight
; 
	}
}

77 
I¡
 
	$gëP©ã∫LSåide
(Ëc⁄° {  
m_∑âînSåide
; 
	}
}

78 
I¡
 
	$gëBôDïthY
(Ëc⁄° {  
m_bôDïth
; 
	}
}

79 #i‡
MCTS_ENC_CHECK


80 
I¡
 
	$gëROIYPosX
(Ëc⁄° {  
m_roiPosX
; 
	}
}

81 
I¡
 
	$gëROIYPosY
(Ëc⁄° {  
m_roiPosY
; 
	}
}

83 
I¡
 
	$gëTûeLe·T›PñPosX
(Ëc⁄° {  
m_tûeLe·T›PñPosX
; 
	}
}

84 
I¡
 
	$gëTûeLe·T›PñPosY
(Ëc⁄° {  
m_tûeLe·T›PñPosY
; 
	}
}

85 
I¡
 
	$gëTûeRightBŸtomPñPosX
(Ëc⁄° {  
m_tûeRightBŸtomPñPosX
; 
	}
}

86 
I¡
 
	$gëTûeRightBŸtomPñPosY
(Ëc⁄° {  
m_tûeRightBŸtomPñPosY
; 
	}
}

89 
__ölöe
 
Pñ
* 
	$gëROIY
()

91  
m_piROIOrigö
;

92 
	}
}

93 
__ölöe
 c⁄° 
Pñ
* 
	$gëROIY
() const

95  
m_piROIOrigö
;

96 
	}
}

98 
	$TComP©ã∫
()

99 : 
	`m_piROIOrigö
(
NULL
)

100 , 
	`m_roiWidth
(0)

101 , 
	`m_roiHeight
(0)

102 , 
	`m_∑âînSåide
(0)

103 , 
	$m_bôDïth
(0)

104 #i‡
MCTS_ENC_CHECK


105 , 
	`m_roiPosX
(0)

106 , 
	`m_roiPosY
(0)

107 , 
	`m_tûeLe·T›PñPosX
(0)

108 , 
	`m_tûeLe·T›PñPosY
(0)

109 , 
	`m_tûeRightBŸtomPñPosX
(0)

110 , 
	$m_tûeRightBŸtomPñPosY
(0)

112 {
	}
};

120 #i‡
MCTS_ENC_CHECK


121 
Void
 
öôP©ã∫
(
Pñ
* 
piY
, 
I¡
 
roiWidth
, I¡ 
roiHeight
, I¡ 
°ride
, I¡ 
bôDïthLuma
, I¡ 
roiPosX
, I¡ 
roiPosY
);

122 
Void
 
£tTûeB‹dîs
(
I¡
 
tûeLe·T›PñPosX
, I¡ 
tûeLe·T›PñPosY
, I¡ 
tûeRightBŸtomPñPosX
, I¡ 
tûeRightBŸtomPñPosY
);

124 
Void
 
öôP©ã∫
(
Pñ
* 
piY
, 
I¡
 
roiWidth
, I¡ 
roiHeight
, I¡ 
°ride
, I¡ 
bôDïthLuma
);

	@TComPic.cpp

38 
	~"TComPic.h
"

39 
	~"SEI.h
"

48 
	gTComPic
::
	$TComPic
()

49 : 
	`m_uiTLayî
 (0)

50 , 
	`m_bU£dByCuº
 (
Ál£
)

51 , 
	`m_bIsL⁄gTîm
 (
Ál£
)

52 , 
	`m_pcPicYuvPªd
 (
NULL
)

53 , 
	`m_pcPicYuvResi
 (
NULL
)

54 , 
	`m_bRec⁄°ru˘ed
 (
Ál£
)

55 , 
	`m_bNìdedF‹Ouçut
 (
Ál£
)

56 , 
	`m_uiCuºSli˚Idx
 (0)

57 , 
	$m_bCheckLTMSB
 (
Ál£
)

59 
UI¡
 
i
=0; i<
NUM_PIC_YUV
; i++)

61 
m_≠cPicYuv
[
i
] = 
NULL
;

63 #i‡
FGS_RDD5_ENABLE


64 
m_gøöCh¨a˘îi°ic
 = 
NULL
;

65 
m_gøöBuf
 = 
NULL
;

67 
	}
}

69 
	gTComPic
::~
	$TComPic
()

71 
	`de°roy
();

72 
	}
}

74 #i‡
REDUCED_ENCODER_MEMORY


75 
Void
 
	gTComPic
::
	$¸óã
–c⁄° 
TComSPS
 &
•s
, c⁄° 
TComPPS
 &
µs
, c⁄° 
Boﬁ
 
bCª©eEncodîSour˚PicYuv
, c⁄° Boﬁ 
bCª©eF‹ImmedüãRec⁄°ru˘i⁄
 )

77 
Void
 
TComPic
::
	$¸óã
–c⁄° 
TComSPS
 &
•s
, c⁄° 
TComPPS
 &
µs
, c⁄° 
Boﬁ
 
bIsVútuÆ
)

80 
	`de°roy
();

82 c⁄° 
ChromaF‹m©
 
chromaF‹m©IDC
 = 
•s
.
	`gëChromaF‹m©Idc
();

83 c⁄° 
I¡
 
iWidth
 = 
•s
.
	`gëPicWidthInLumaSam∂es
();

84 c⁄° 
I¡
 
iHeight
 = 
•s
.
	`gëPicHeightInLumaSam∂es
();

85 c⁄° 
UI¡
 
uiMaxCuWidth
 = 
•s
.
	`gëMaxCUWidth
();

86 c⁄° 
UI¡
 
uiMaxCuHeight
 = 
•s
.
	`gëMaxCUHeight
();

87 c⁄° 
UI¡
 
uiMaxDïth
 = 
•s
.
	`gëMaxTŸÆCUDïth
();

89 #i‡
REDUCED_ENCODER_MEMORY


90 
m_picSym
.
	`¸óã
–
•s
, 
µs
, 
uiMaxDïth
, 
bCª©eF‹ImmedüãRec⁄°ru˘i⁄
 );

91 i‡(
bCª©eEncodîSour˚PicYuv
)

93 
m_picSym
.
	`¸óã
–
•s
, 
µs
, 
uiMaxDïth
 );

94 i‡(!
bIsVútuÆ
)

97 
m_≠cPicYuv
[
PIC_YUV_ORG
 ] = 
√w
 
TComPicYuv
; m_≠cPicYuv[PIC_YUV_ORG ]->
	`¸óã
–
iWidth
, 
iHeight
, 
chromaF‹m©IDC
, 
uiMaxCuWidth
, 
uiMaxCuHeight
, 
uiMaxDïth
, 
åue
 );

98 
m_≠cPicYuv
[
PIC_YUV_TRUE_ORG
] = 
√w
 
TComPicYuv
; m_≠cPicYuv[PIC_YUV_TRUE_ORG]->
	`¸óã
–
iWidth
, 
iHeight
, 
chromaF‹m©IDC
, 
uiMaxCuWidth
, 
uiMaxCuHeight
, 
uiMaxDïth
, 
åue
 );

100 #i‡
REDUCED_ENCODER_MEMORY


101 i‡(
bCª©eF‹ImmedüãRec⁄°ru˘i⁄
)

104 
m_≠cPicYuv
[
PIC_YUV_REC
] = 
√w
 
TComPicYuv
; m_≠cPicYuv[PIC_YUV_REC]->
	`¸óã
–
iWidth
, 
iHeight
, 
chromaF‹m©IDC
, 
uiMaxCuWidth
, 
uiMaxCuHeight
, 
uiMaxDïth
, 
åue
 );

105 #i‡
REDUCED_ENCODER_MEMORY


110 i‡(
m_SEIs
.
	`size
() > 0)

112 
	`dñëeSEIs
 (
m_SEIs
);

114 
m_bU£dByCuº
 = 
Ál£
;

115 
	}
}

117 #i‡
REDUCED_ENCODER_MEMORY


118 
Void
 
	gTComPic
::
	$¥ï¨eF‹EncodîSour˚PicYuv
()

120 c⁄° 
TComSPS
 &
•s
=
m_picSym
.
	`gëSPS
();

122 c⁄° 
ChromaF‹m©
 
chromaF‹m©IDC
 = 
•s
.
	`gëChromaF‹m©Idc
();

123 c⁄° 
I¡
 
iWidth
 = 
•s
.
	`gëPicWidthInLumaSam∂es
();

124 c⁄° 
I¡
 
iHeight
 = 
•s
.
	`gëPicHeightInLumaSam∂es
();

125 c⁄° 
UI¡
 
uiMaxCuWidth
 = 
•s
.
	`gëMaxCUWidth
();

126 c⁄° 
UI¡
 
uiMaxCuHeight
 = 
•s
.
	`gëMaxCUHeight
();

127 c⁄° 
UI¡
 
uiMaxDïth
 = 
•s
.
	`gëMaxTŸÆCUDïth
();

129 i‡(
m_≠cPicYuv
[
PIC_YUV_ORG
 ]==
NULL
)

131 
m_≠cPicYuv
[
PIC_YUV_ORG
 ] = 
√w
 
TComPicYuv
; m_≠cPicYuv[PIC_YUV_ORG ]->
	`¸óã
–
iWidth
, 
iHeight
, 
chromaF‹m©IDC
, 
uiMaxCuWidth
, 
uiMaxCuHeight
, 
uiMaxDïth
, 
åue
 );

133 i‡(
m_≠cPicYuv
[
PIC_YUV_TRUE_ORG
 ]==
NULL
)

135 
m_≠cPicYuv
[
PIC_YUV_TRUE_ORG
] = 
√w
 
TComPicYuv
; m_≠cPicYuv[PIC_YUV_TRUE_ORG]->
	`¸óã
–
iWidth
, 
iHeight
, 
chromaF‹m©IDC
, 
uiMaxCuWidth
, 
uiMaxCuHeight
, 
uiMaxDïth
, 
åue
 );

137 
	}
}

139 
Void
 
	gTComPic
::
	$¥ï¨eF‹Rec⁄°ru˘i⁄
()

141 i‡(
m_≠cPicYuv
[
PIC_YUV_REC
] =
NULL
)

143 c⁄° 
TComSPS
 &
•s
=
m_picSym
.
	`gëSPS
();

144 c⁄° 
ChromaF‹m©
 
chromaF‹m©IDC
 = 
•s
.
	`gëChromaF‹m©Idc
();

145 c⁄° 
I¡
 
iWidth
 = 
•s
.
	`gëPicWidthInLumaSam∂es
();

146 c⁄° 
I¡
 
iHeight
 = 
•s
.
	`gëPicHeightInLumaSam∂es
();

147 c⁄° 
UI¡
 
uiMaxCuWidth
 = 
•s
.
	`gëMaxCUWidth
();

148 c⁄° 
UI¡
 
uiMaxCuHeight
 = 
•s
.
	`gëMaxCUHeight
();

149 c⁄° 
UI¡
 
uiMaxDïth
 = 
•s
.
	`gëMaxTŸÆCUDïth
();

151 
m_≠cPicYuv
[
PIC_YUV_REC
] = 
√w
 
TComPicYuv
; m_≠cPicYuv[PIC_YUV_REC]->
	`¸óã
–
iWidth
, 
iHeight
, 
chromaF‹m©IDC
, 
uiMaxCuWidth
, 
uiMaxCuHeight
, 
uiMaxDïth
, 
åue
 );

155 
m_≠cPicYuv
[
PIC_YUV_REC
]->
	`£tB‹dîExãnsi⁄
(
Ál£
);

157 
m_picSym
.
	`¥ï¨eF‹Rec⁄°ru˘i⁄
();

158 
	}
}

160 
Void
 
	gTComPic
::
	$ªÀa£Rec⁄°ru˘i⁄I¡îmedüãD©a
()

162 
m_picSym
.
	`ªÀa£Rec⁄°ru˘i⁄I¡îmedüãD©a
();

163 
	}
}

165 
Void
 
	gTComPic
::
	$ªÀa£EncodîSour˚ImageD©a
()

167 i‡(
m_≠cPicYuv
[
PIC_YUV_ORG
 ])

169 
m_≠cPicYuv
[
PIC_YUV_ORG
]->
	`de°roy
();

170 
dñëe
 
m_≠cPicYuv
[
PIC_YUV_ORG
];

171 
m_≠cPicYuv
[
PIC_YUV_ORG
] = 
NULL
;

173 i‡(
m_≠cPicYuv
[
PIC_YUV_TRUE_ORG
 ])

175 
m_≠cPicYuv
[
PIC_YUV_TRUE_ORG
]->
	`de°roy
();

176 
dñëe
 
m_≠cPicYuv
[
PIC_YUV_TRUE_ORG
];

177 
m_≠cPicYuv
[
PIC_YUV_TRUE_ORG
] = 
NULL
;

179 
	}
}

181 
Void
 
	gTComPic
::
	$ªÀa£AŒRec⁄°ru˘i⁄D©a
()

183 i‡(
m_≠cPicYuv
[
PIC_YUV_REC
 ])

185 
m_≠cPicYuv
[
PIC_YUV_REC
]->
	`de°roy
();

186 
dñëe
 
m_≠cPicYuv
[
PIC_YUV_REC
];

187 
m_≠cPicYuv
[
PIC_YUV_REC
] = 
NULL
;

189 
m_picSym
.
	`ªÀa£AŒRec⁄°ru˘i⁄D©a
();

190 
	}
}

193 
Void
 
	gTComPic
::
	$de°roy
()

195 
m_picSym
.
	`de°roy
();

197 
UI¡
 
i
=0; i<
NUM_PIC_YUV
; i++)

199 i‡(
m_≠cPicYuv
[
i
])

201 
m_≠cPicYuv
[
i
]->
	`de°roy
();

202 
dñëe
 
m_≠cPicYuv
[
i
];

203 
m_≠cPicYuv
[
i
] = 
NULL
;

207 
	`dñëeSEIs
(
m_SEIs
);

208 #i‡
FGS_RDD5_ENABLE


209 
m_gøöBuf
 = 
NULL
;

211 
	}
}

213 
Void
 
	gTComPic
::
	$com¥essMŸi⁄
()

215 
TComPicSym
* 
pPicSym
 = 
	`gëPicSym
();

216  
UI¡
 
uiCUAddr
 = 0; uiCUAdd∏< 
pPicSym
->
	`gëNumbîOfCtusInFøme
(); uiCUAddr++ )

218 
TComD©aCU
* 
pCtu
 = 
pPicSym
->
	`gëCtu
(
uiCUAddr
);

219 
pCtu
->
	`com¥essMV
();

221 
	}
}

223 
Boﬁ
 
	gTComPic
::
	$gëSAOMîgeAvaûabûôy
(
I¡
 
cuºAddr
, I¡ 
mîgeAddr
)

225 
Boﬁ
 
mîgeCtbInSli˚Seg
 = (
mîgeAddr
 >
	`gëPicSym
()->
	`gëCtuTsToRsAddrM≠
(
	`gëCtu
(
cuºAddr
)->
	`gëSli˚
()->
	`gëSli˚CurSèπCtuTsAddr
()));

226 
Boﬁ
 
mîgeCtbInTûe
 = (
	`gëPicSym
()->
	`gëTûeIdxM≠
(
mîgeAddr
Ë=gëPicSym()->gëTûeIdxM≠(
cuºAddr
));

227  (
mîgeCtbInSli˚Seg
 && 
mîgeCtbInTûe
);

228 
	}
}

230 
UI¡
 
	gTComPic
::
	$gëSub°ªamF‹CtuAddr
(c⁄° 
UI¡
 
˘uAddr
, c⁄° 
Boﬁ
 
bAddªssInRa°î
, 
TComSli˚
 *
pcSli˚
)

232 
UI¡
 
subSåm
;

233 c⁄° 
boﬁ
 
bWPPE«bÀd
=
pcSli˚
->
	`gëPPS
()->
	`gëE¡r›yCodögSyncE«bÀdFœg
();

234 c⁄° 
TComPicSym
 &
picSym
 = *(
	`gëPicSym
());

236 i‡((
bWPPE«bÀd
 && 
picSym
.
	`gëFømeHeightInCtus
()>1Ë|| (picSym.
	`gëNumTûes
()>1))

238 i‡(
bWPPE«bÀd
)

240 c⁄° 
UI¡
 
˘uRsAddr
 = 
bAddªssInRa°î
?
˘uAddr
 : 
picSym
.
	`gëCtuTsToRsAddrM≠
(ctuAddr);

241 c⁄° 
UI¡
 
‰ameWidthInCtus
 = 
picSym
.
	`gëFømeWidthInCtus
();

242 c⁄° 
UI¡
 
tûeIndex
 = 
picSym
.
	`gëTûeIdxM≠
(
˘uRsAddr
);

243 c⁄° 
UI¡
 
numTûeCﬁumns
 = (
picSym
.
	`gëNumTûeCﬁumnsMöus1
()+1);

244 c⁄° 
TComTûe
 *
pTûe
 = 
picSym
.
	`gëTComTûe
(
tûeIndex
);

245 c⁄° 
UI¡
 
fú°CtuRsAddrOfTûe
 = 
pTûe
->
	`gëFú°CtuRsAddr
();

246 c⁄° 
UI¡
 
tûeYInCtus
 = 
fú°CtuRsAddrOfTûe
 / 
‰ameWidthInCtus
;

248 c⁄° 
UI¡
 
˘uLöe
 = 
˘uRsAddr
 / 
‰ameWidthInCtus
;

249 c⁄° 
UI¡
 
°¨tögSub°ªamF‹Tûe
 =(
tûeYInCtus
*
numTûeCﬁumns
Ë+ (
pTûe
->
	`gëTûeHeightInCtus
()*(
tûeIndex
%numTileColumns));

250 
subSåm
 = 
°¨tögSub°ªamF‹Tûe
 + (
˘uLöe
 - 
tûeYInCtus
);

254 c⁄° 
UI¡
 
˘uRsAddr
 = 
bAddªssInRa°î
?
˘uAddr
 : 
picSym
.
	`gëCtuTsToRsAddrM≠
(ctuAddr);

255 c⁄° 
UI¡
 
tûeIndex
 = 
picSym
.
	`gëTûeIdxM≠
(
˘uRsAddr
);

256 
subSåm
=
tûeIndex
;

262 
subSåm
 = 0;

264  
subSåm
;

265 
	}
}

267 #i‡
FGS_RDD5_ENABLE


269 
	gTComPic
::
	$¸óãGøöSy¡hesizî
(
Boﬁ
 
bFú°Pi˘uªInSequí˚
, 
SEIFûmGøöSy¡hesizî
* 
pGøöCh¨a˘îi°ics
, 
TComPicYuv
* 
pGøöBuf
, c⁄° 
TComSPS
* 
•s
)

271 
m_gøöCh¨a˘îi°ic
 = 
pGøöCh¨a˘îi°ics
;

272 
m_gøöBuf
 = 
pGøöBuf
;

274 i‡(
bFú°Pi˘uªInSequí˚
)

277 
m_gøöCh¨a˘îi°ic
->
	`¸óã
(
•s
->
	`gëPicWidthInLumaSam∂es
(), sps->
	`gëPicHeightInLumaSam∂es
(),

278 
•s
->
	`gëChromaF‹m©Idc
(), sps->
	`gëBôDïth
(
CHANNEL_TYPE_LUMA
), 0, 1);

281 
m_gøöBuf
->
	`¸óãWôhoutCUInfo
(
•s
->
	`gëPicWidthInLumaSam∂es
(), sps->
	`gëPicHeightInLumaSam∂es
(),

282 
•s
->
	`gëChromaF‹m©Idc
(), 
Ál£
, 0, 0);

284 
m_gøöCh¨a˘îi°ic
->
	`fgsInô
();

286 
	}
}

288 
TComPicYuv
* 
	gTComPic
::
	$gëPicYuvDi•
()

290 
I¡
 
∑ylﬂdTy≥
 = 0;

291 
°d
::
li°
<
SEI
*>::
ôî©‹
 
mesßge
;

293 
m_gøöCh¨a˘îi°ic
->
m_îr‹Code
 = -1;

294 
mesßge
 = 
m_SEIs
.
	`begö
(); mesßgê!m_SEIs.
	`íd
(); ++message)

296 
∑ylﬂdTy≥
 = (*
mesßge
)->
	`∑ylﬂdTy≥
();

297 i‡(
∑ylﬂdTy≥
 =
SEI
::
FILM_GRAIN_CHARACTERISTICS
)

299 
m_gøöCh¨a˘îi°ic
->
m_pFgcP¨amëîs
 = 
°©ic_ˇ°
<
SEIFûmGøöCh¨a˘îi°ics
*>(*
mesßge
);

301 
m_gøöCh¨a˘îi°ic
->
m_îr‹Code
 = m_gøöCh¨a˘îi°ic->
	`gøöVÆid©eP¨ams
();

306 i‡(
FGS_SUCCESS
 =
m_gøöCh¨a˘îi°ic
->
m_îr‹Code
)

308 
m_≠cPicYuv
[
PIC_YUV_REC
]->
	`c›yToPic
(
m_gøöBuf
);

309 
m_gøöCh¨a˘îi°ic
->
m_poc
 = 
	`gëPOC
();

310 
m_gøöCh¨a˘îi°ic
->
	`gøöSy¡hesizeAndBÀnd
(
m_gøöBuf
, 
	`gëSli˚
(0)->
	`gëIdrPicFœg
());

311  
m_gøöBuf
;

315 i‡(
∑ylﬂdTy≥
 =
SEI
::
FILM_GRAIN_CHARACTERISTICS
)

317 
	`Ârötf
(
°dout
, "Fûm Gøö sy¡hesi†i†nŸÖîf‹med. Eº‹ code: 0x%x \n", 
m_gøöCh¨a˘îi°ic
->
m_îr‹Code
);

319  
m_≠cPicYuv
[
PIC_YUV_REC
];

322 
	}
}

	@TComPic.h

38 #i‚de‡
__TCOMPIC__


39 
	#__TCOMPIC__


	)

42 
	~"Comm⁄Def.h
"

43 
	~"TComPicSym.h
"

44 
	~"TComPicYuv.h
"

45 
	~"TComBôSåóm.h
"

46 #i‡
FGS_RDD5_ENABLE


47 
	~"SEIFûmGøöSy¡hesizî.h
"

59 ˛as†
	cTComPic


61 
	mpublic
:

62 íum { 
PIC_YUV_ORG
=0, 
	mPIC_YUV_REC
=1, 
	mPIC_YUV_TRUE_ORG
=2, 
	mNUM_PIC_YUV
=3 } 
	tPIC_YUV_T
;

64 
TComPicYuv
* 
	$gëPicYuvTrueOrg
(Ë{  
m_≠cPicYuv
[
PIC_YUV_TRUE_ORG
]; 
	}
}

66 
	g¥iv©e
:

67 
UI¡
 
m_uiTLayî
;

68 
Boﬁ
 
	gm_bU£dByCuº
;

69 
Boﬁ
 
	gm_bIsL⁄gTîm
;

70 
TComPicSym
 
	gm_picSym
;

71 
TComPicYuv
* 
	gm_≠cPicYuv
[
NUM_PIC_YUV
];

73 
TComPicYuv
* 
	gm_pcPicYuvPªd
;

74 
TComPicYuv
* 
	gm_pcPicYuvResi
;

75 
Boﬁ
 
	gm_bRec⁄°ru˘ed
;

76 
Boﬁ
 
	gm_bNìdedF‹Ouçut
;

77 
UI¡
 
	gm_uiCuºSli˚Idx
;

78 
Boﬁ
 
	gm_bCheckLTMSB
;

80 
Boﬁ
 
	gm_isT›
;

81 
Boﬁ
 
	gm_isFõld
;

83 
	g°d
::
ve˘‹
<
°d
::ve˘‹<
TComD©aCU
*> > 
m_vSli˚CUD©aLök
;

85 
SEIMesßges
 
	gm_SEIs
;

87 
	gpublic
:

88 
TComPic
();

89 
	gvútuÆ
 ~
TComPic
();

91 #i‡
REDUCED_ENCODER_MEMORY


92 
Void
 
¸óã
–c⁄° 
TComSPS
 &
•s
, c⁄° 
TComPPS
 &
µs
, c⁄° 
Boﬁ
 
bCª©eEncodîSour˚PicYuv
, c⁄° Boﬁ 
bCª©eF‹ImmedüãRec⁄°ru˘i⁄
 );

93 
Void
 
¥ï¨eF‹EncodîSour˚PicYuv
();

94 
Void
 
¥ï¨eF‹Rec⁄°ru˘i⁄
();

95 
Void
 
ªÀa£Rec⁄°ru˘i⁄I¡îmedüãD©a
();

96 
Void
 
ªÀa£AŒRec⁄°ru˘i⁄D©a
();

97 
Void
 
ªÀa£EncodîSour˚ImageD©a
();

99 
Void
 
¸óã
–c⁄° 
TComSPS
 &
•s
, c⁄° 
TComPPS
 &
µs
, c⁄° 
Boﬁ
 
bIsVútuÆ
 );

102 
vútuÆ
 
Void
 
de°roy
();

104 
UI¡
 
	$gëTLayî
(Ëc⁄° {  
m_uiTLayî
; 
	}
}

105 
Void
 
	$£tTLayî
–
UI¡
 
uiTLayî
 ) { 
m_uiTLayî
 = uiTLayî; 
	}
}

107 
Boﬁ
 
	$gëU£dByCuº
(Ëc⁄° {  
m_bU£dByCuº
; 
	}
}

108 
Void
 
	$£tU£dByCuº
–
Boﬁ
 
bU£d
 ) { 
m_bU£dByCuº
 = bU£d; 
	}
}

109 
Boﬁ
 
	$gëIsL⁄gTîm
(Ëc⁄° {  
m_bIsL⁄gTîm
; 
	}
}

110 
Void
 
	$£tIsL⁄gTîm
–
Boﬁ
 
…
 ) { 
m_bIsL⁄gTîm
 =Üt; 
	}
}

111 
Void
 
	$£tCheckLTMSBPª£¡
 (
Boﬁ
 
b
 ) {
m_bCheckLTMSB
=b;
	}
}

112 
Boﬁ
 
	$gëCheckLTMSBPª£¡
 (Ë{  
m_bCheckLTMSB
;
	}
}

114 
TComPicSym
* 
	$gëPicSym
(Ë{  &
m_picSym
; 
	}
}

115 c⁄° 
TComPicSym
* 
	$gëPicSym
(Ëc⁄° {  &
m_picSym
; 
	}
}

116 
TComSli˚
* 
	$gëSli˚
(
I¡
 
i
Ë{  
m_picSym
.
	`gëSli˚
(i); 
	}
}

117 c⁄° 
TComSli˚
* 
	$gëSli˚
(
I¡
 
i
Ëc⁄° {  
m_picSym
.
	`gëSli˚
(i); 
	}
}

118 
I¡
 
	$gëPOC
(Ëc⁄° {  
m_picSym
.
	`gëSli˚
(
m_uiCuºSli˚Idx
)->
	`gëPOC
(); 
	}
}

119 
TComD©aCU
* 
	$gëCtu
–
UI¡
 
˘uRsAddr
 ) {  
m_picSym
.
	`gëCtu
–˘uRsAdd∏); 
	}
}

120 c⁄° 
TComD©aCU
* 
	$gëCtu
–
UI¡
 
˘uRsAddr
 ) c⁄° {  
m_picSym
.
	`gëCtu
–˘uRsAdd∏); 
	}
}

122 
TComPicYuv
* 
	$gëPicYuvOrg
(Ë{  
m_≠cPicYuv
[
PIC_YUV_ORG
]; 
	}
}

123 
TComPicYuv
* 
	$gëPicYuvRec
(Ë{  
m_≠cPicYuv
[
PIC_YUV_REC
]; 
	}
}

125 #i‡
FGS_RDD5_ENABLE


126 
Void
 
¸óãGøöSy¡hesizî
(
Boﬁ
 
bFú°Pi˘uªInSequí˚
, 
SEIFûmGøöSy¡hesizî
* 
pGøöCh¨a˘îi°ics
, 
TComPicYuv
* 
pGøöBuf
, c⁄° 
TComSPS
* 
•s
);

127 
SEIFûmGøöSy¡hesizî
 *
	gm_gøöCh¨a˘îi°ic
;

128 
TComPicYuv
 *
	gm_gøöBuf
;

129 
TComPicYuv
* 
gëPicYuvDi•
();

132 
TComPicYuv
* 
	$gëPicYuvPªd
(Ë{  
m_pcPicYuvPªd
; 
	}
}

133 
TComPicYuv
* 
	$gëPicYuvResi
(Ë{  
m_pcPicYuvResi
; 
	}
}

134 
Void
 
	$£tPicYuvPªd
–
TComPicYuv
* 
pcPicYuv
 ) { 
m_pcPicYuvPªd
 =ÖcPicYuv; 
	}
}

135 
Void
 
	$£tPicYuvResi
–
TComPicYuv
* 
pcPicYuv
 ) { 
m_pcPicYuvResi
 =ÖcPicYuv; 
	}
}

137 
UI¡
 
	$gëNumbîOfCtusInFøme
(Ëc⁄° {  
m_picSym
.
	`gëNumbîOfCtusInFøme
(); 
	}
}

138 
UI¡
 
	$gëNumP¨tInCtuWidth
(Ëc⁄° {  
m_picSym
.
	`gëNumP¨tInCtuWidth
(); 
	}
}

139 
UI¡
 
	$gëNumP¨tInCtuHeight
(Ëc⁄° {  
m_picSym
.
	`gëNumP¨tInCtuHeight
(); 
	}
}

140 
UI¡
 
	$gëNumP¨tôi⁄sInCtu
(Ëc⁄° {  
m_picSym
.
	`gëNumP¨tôi⁄sInCtu
(); 
	}
}

141 
UI¡
 
	$gëFømeWidthInCtus
(Ëc⁄° {  
m_picSym
.
	`gëFømeWidthInCtus
(); 
	}
}

142 
UI¡
 
	$gëFømeHeightInCtus
(Ëc⁄° {  
m_picSym
.
	`gëFømeHeightInCtus
(); 
	}
}

143 
UI¡
 
	$gëMöCUWidth
(Ëc⁄° {  
m_picSym
.
	`gëMöCUWidth
(); 
	}
}

144 
UI¡
 
	$gëMöCUHeight
(Ëc⁄° {  
m_picSym
.
	`gëMöCUHeight
(); 
	}
}

146 
I¡
 
	$gëSåide
(c⁄° 
Comp⁄ítID
 
id
Ëc⁄° {  
m_≠cPicYuv
[
PIC_YUV_REC
]->
	`gëSåide
(id); 
	}
}

147 
I¡
 
	$gëComp⁄ítSˇÀX
(c⁄° 
Comp⁄ítID
 
id
Ëc⁄° {  
m_≠cPicYuv
[
PIC_YUV_REC
]->
	`gëComp⁄ítSˇÀX
(id); 
	}
}

148 
I¡
 
	$gëComp⁄ítSˇÀY
(c⁄° 
Comp⁄ítID
 
id
Ëc⁄° {  
m_≠cPicYuv
[
PIC_YUV_REC
]->
	`gëComp⁄ítSˇÀY
(id); 
	}
}

149 
ChromaF‹m©
 
	$gëChromaF‹m©
(Ëc⁄° {  
m_≠cPicYuv
[
PIC_YUV_REC
]->
	`gëChromaF‹m©
(); 
	}
}

150 
I¡
 
	$gëNumbîVÆidComp⁄íts
(Ëc⁄° {  
m_≠cPicYuv
[
PIC_YUV_REC
]->
	`gëNumbîVÆidComp⁄íts
(); 
	}
}

152 
Void
 
	$£tRec⁄M¨k
 (
Boﬁ
 
b
Ë{ 
m_bRec⁄°ru˘ed
 = b; 
	}
}

153 
Boﬁ
 
	$gëRec⁄M¨k
 (Ëc⁄° {  
m_bRec⁄°ru˘ed
; 
	}
}

154 
Void
 
	$£tOuçutM¨k
 (
Boﬁ
 
b
Ë{ 
m_bNìdedF‹Ouçut
 = b; 
	}
}

155 
Boﬁ
 
	$gëOuçutM¨k
 (Ëc⁄° {  
m_bNìdedF‹Ouçut
; 
	}
}

157 
Void
 
com¥essMŸi⁄
();

158 
UI¡
 
	$gëCuºSli˚Idx
(Ëc⁄° {  
m_uiCuºSli˚Idx
; 
	}
}

159 
Void
 
	$£tCuºSli˚Idx
(
UI¡
 
i
Ë{ 
m_uiCuºSli˚Idx
 = i; 
	}
}

160 
UI¡
 
	$gëNumAŒoˇãdSli˚
(Ëc⁄° { 
m_picSym
.
	`gëNumAŒoˇãdSli˚
();
	}
}

161 
Void
 
	$ÆloˇãNewSli˚
(Ë{
m_picSym
.
	`ÆloˇãNewSli˚
(); 
	}
}

162 
Void
 
	$˛órSli˚Buf„r
(Ë{
m_picSym
.
	`˛órSli˚Buf„r
(); 
	}
}

164 c⁄° 
	gWödow
& 
	$gëC⁄f‹m™˚Wödow
(Ëc⁄° {  
m_picSym
.
	`gëSPS
().
	`gëC⁄f‹m™˚Wödow
(); 
	}
}

165 
Wödow
 
	$gëDefDi•œyWödow
(Ëc⁄° {  
m_picSym
.
	`gëSPS
().
	`gëVuiP¨amëîsPª£¡Fœg
(Ë? m_picSym.gëSPS().
	`gëVuiP¨amëîs
()->
	`gëDeÁu…Di•œyWödow
(Ë: 
	`Wödow
(); 
	}
}

167 
Boﬁ
 
gëSAOMîgeAvaûabûôy
(
I¡
 
cuºAddr
, I¡ 
mîgeAddr
);

169 
UI¡
 
gëSub°ªamF‹CtuAddr
(c⁄° UI¡ 
˘uAddr
, c⁄° 
Boﬁ
 
bAddªssInRa°î
, 
TComSli˚
 *
pcSli˚
);

173 
Void
 
	$£tT›Fõld
(
Boﬁ
 
b
Ë{
m_isT›
 = b;
	}
}

174 
Boﬁ
 
	$isT›Fõld
(Ë{ 
m_isT›
;
	}
}

175 
Void
 
	$£tFõld
(
Boﬁ
 
b
Ë{
m_isFõld
 = b;
	}
}

176 
Boﬁ
 
	$isFõld
(Ëc⁄° { 
m_isFõld
;
	}
}

179 
Void
 
	$£tSEIs
(
SEIMesßges
& 
£is
Ë{ 
m_SEIs
 = seis; 
	}
}

184 
	gSEIMesßges
& 
	$gëSEIs
(Ë{  
m_SEIs
; 
	}
}

189 c⁄° 
	gSEIMesßges
& 
	$gëSEIs
(Ëc⁄° {  
m_SEIs
; 
	}
}

	@TComPicSym.cpp

38 
	~"TComPicSym.h
"

39 
	~"TComSam∂eAd≠tiveOff£t.h
"

40 
	~"TComSli˚.h
"

49 
	gTComPicSym
::
	$TComPicSym
()

50 :
	`m_‰ameWidthInCtus
(0)

51 ,
	`m_‰ameHeightInCtus
(0)

52 ,
	`m_uiMöCUWidth
(0)

53 ,
	`m_uiMöCUHeight
(0)

54 ,
	`m_uhTŸÆDïth
(0)

55 ,
	`m_numP¨tôi⁄sInCtu
(0)

56 ,
	`m_numP¨tInCtuWidth
(0)

57 ,
	`m_numP¨tInCtuHeight
(0)

58 ,
	`m_numCtusInFøme
(0)

59 ,
	`m_≠Sli˚s
()

60 ,
	`m_pi˘uªCtuAºay
(
NULL
)

61 ,
	`m_numTûeCﬁumnsMöus1
(0)

62 ,
	`m_numTûeRowsMöus1
(0)

63 ,
	`m_˘uTsToRsAddrM≠
(
NULL
)

64 ,
	`m_puiTûeIdxM≠
(
NULL
)

65 ,
	$m_˘uRsToTsAddrM≠
(
NULL
)

66 #i‡
REDUCED_ENCODER_MEMORY


67 ,
	$m_dpbPîCtuD©a
(
NULL
)

69 ,
	$m_ßoBlkP¨ams
(
NULL
)

70 #i‡
ADAPTIVE_QP_SELECTION


71 ,
	$m_pP¨ítARLBuf„r
(
NULL
)

73 {
	}
}

76 
	gTComPicSym
::~
	$TComPicSym
()

78 
	`de°roy
();

79 
	}
}

82 #i‡
REDUCED_ENCODER_MEMORY


83 
Void
 
	gTComPicSym
::
	$¸óã
 ( c⁄° 
TComSPS
 &
•s
, c⁄° 
TComPPS
 &
µs
, 
UI¡
 
uiMaxDïth
, c⁄° 
Boﬁ
 
bAŒoˇãCtuAºay
 )

85 
Void
 
TComPicSym
::
	$¸óã
 ( c⁄° 
TComSPS
 &
•s
, c⁄° 
TComPPS
 &
µs
, 
UI¡
 
uiMaxDïth
 )

88 
	`de°roy
();

90 
m_•s
 = 
•s
;

91 
m_µs
 = 
µs
;

93 #i‡!
REDUCED_ENCODER_MEMORY


94 c⁄° 
ChromaF‹m©
 
chromaF‹m©IDC
 = 
•s
.
	`gëChromaF‹m©Idc
();

96 c⁄° 
I¡
 
iPicWidth
 = 
•s
.
	`gëPicWidthInLumaSam∂es
();

97 c⁄° 
I¡
 
iPicHeight
 = 
•s
.
	`gëPicHeightInLumaSam∂es
();

98 c⁄° 
UI¡
 
uiMaxCuWidth
 = 
•s
.
	`gëMaxCUWidth
();

99 c⁄° 
UI¡
 
uiMaxCuHeight
 = 
•s
.
	`gëMaxCUHeight
();

101 
m_uhTŸÆDïth
 = 
uiMaxDïth
;

102 
m_numP¨tôi⁄sInCtu
 = 1<<(
m_uhTŸÆDïth
<<1);

104 
m_uiMöCUWidth
 = 
uiMaxCuWidth
 >> 
m_uhTŸÆDïth
;

105 
m_uiMöCUHeight
 = 
uiMaxCuHeight
 >> 
m_uhTŸÆDïth
;

107 
m_numP¨tInCtuWidth
 = 
uiMaxCuWidth
 / 
m_uiMöCUWidth
;

108 
m_numP¨tInCtuHeight
 = 
uiMaxCuHeight
 / 
m_uiMöCUHeight
;

110 
m_‰ameWidthInCtus
 = ( 
iPicWidth
 %
uiMaxCuWidth
 ) ? iPicWidth /uiMaxCuWidth + 1 : iPicWidth /uiMaxCuWidth;

111 
m_‰ameHeightInCtus
 = ( 
iPicHeight
%
uiMaxCuHeight
 ) ? iPicHeight/uiMaxCuHeight + 1 : iPicHeight/uiMaxCuHeight;

113 
m_numCtusInFøme
 = 
m_‰ameWidthInCtus
 * 
m_‰ameHeightInCtus
;

114 #i‡
REDUCED_ENCODER_MEMORY


115 
m_pi˘uªCtuAºay
 = 
NULL
;

117 
m_pi˘uªCtuAºay
 = 
√w
 
TComD©aCU
*[
m_numCtusInFøme
];

120 
	`˛órSli˚Buf„r
();

121 
	`ÆloˇãNewSli˚
();

123 #i‡
ADAPTIVE_QP_SELECTION


124 i‡(
m_pP¨ítARLBuf„r
 =
NULL
)

126 
m_pP¨ítARLBuf„r
 = 
√w
 
TC€ff
[
uiMaxCuWidth
*
uiMaxCuHeight
*
MAX_NUM_COMPONENT
];

130 #i‡
REDUCED_ENCODER_MEMORY


131 i‡(
bAŒoˇãCtuAºay
)

133 
	`¥ï¨eF‹Rec⁄°ru˘i⁄
();

136 
UI¡
 
i
=0; i<
m_numCtusInFøme
 ; i++ )

138 
m_pi˘uªCtuAºay
[
i
] = 
√w
 
TComD©aCU
;

139 
m_pi˘uªCtuAºay
[
i
]->
	`¸óã
–
chromaF‹m©IDC
, 
m_numP¨tôi⁄sInCtu
, 
uiMaxCuWidth
, 
uiMaxCuHeight
, 
Ál£
, uiMaxCuWidth >> 
m_uhTŸÆDïth


140 #i‡
ADAPTIVE_QP_SELECTION


141 , 
m_pP¨ítARLBuf„r


147 
m_˘uTsToRsAddrM≠
 = 
√w
 
UI¡
[
m_numCtusInFøme
+1];

148 
m_puiTûeIdxM≠
 = 
√w
 
UI¡
[
m_numCtusInFøme
];

149 
m_˘uRsToTsAddrM≠
 = 
√w
 
UI¡
[
m_numCtusInFøme
+1];

151 
UI¡
 
i
=0; i<
m_numCtusInFøme
; i++ )

153 
m_˘uTsToRsAddrM≠
[
i
] = i;

154 
m_˘uRsToTsAddrM≠
[
i
] = i;

157 
m_ßoBlkP¨ams
 = 
√w
 
SAOBlkP¨am
[
m_numCtusInFøme
];

160 
	`xInôTûes
();

161 
	`xInôCtuTsRsAddrM≠s
();

163 
	}
}

165 #i‡
REDUCED_ENCODER_MEMORY


166 
Void
 
	gTComPicSym
::
	$¥ï¨eF‹Rec⁄°ru˘i⁄
()

168 c⁄° 
ChromaF‹m©
 
chromaF‹m©IDC
 = 
m_•s
.
	`gëChromaF‹m©Idc
();

169 c⁄° 
UI¡
 
uiMaxCuWidth
 = 
m_•s
.
	`gëMaxCUWidth
();

170 c⁄° 
UI¡
 
uiMaxCuHeight
 = 
m_•s
.
	`gëMaxCUHeight
();

171 i‡(
m_pi˘uªCtuAºay
 =
NULL
)

173 
m_pi˘uªCtuAºay
 = 
√w
 
TComD©aCU
*[
m_numCtusInFøme
];

175 
UI¡
 
i
=0; i<
m_numCtusInFøme
 ; i++ )

177 
m_pi˘uªCtuAºay
[
i
] = 
√w
 
TComD©aCU
;

178 
m_pi˘uªCtuAºay
[
i
]->
	`¸óã
–
chromaF‹m©IDC
, 
m_numP¨tôi⁄sInCtu
, 
uiMaxCuWidth
, 
uiMaxCuHeight
, 
Ál£
, uiMaxCuWidth >> 
m_uhTŸÆDïth


179 #i‡
ADAPTIVE_QP_SELECTION


180 , 
m_pP¨ítARLBuf„r


185 i‡(
m_dpbPîCtuD©a
 =
NULL
)

187 
m_dpbPîCtuD©a
 = 
√w
 
DPBPîCtuD©a
[
m_numCtusInFøme
];

188 
UI¡
 
i
=0; i<
m_numCtusInFøme
; i++)

190 
I¡
 
j
=0; j<
NUM_REF_PIC_LIST_01
; j++)

192 
m_dpbPîCtuD©a
[
i
].
m_CUMvFõld
[
j
].
	`¸óã
–
m_numP¨tôi⁄sInCtu
 );

194 
m_dpbPîCtuD©a
[
i
].
m_≥PªdMode
 = 
√w
 
SCh¨
[
m_numP¨tôi⁄sInCtu
];

195 
	`mem£t
(
m_dpbPîCtuD©a
[
i
].
m_≥PªdMode
, 
NUMBER_OF_PREDICTION_MODES
, 
m_numP¨tôi⁄sInCtu
);

196 
m_dpbPîCtuD©a
[
i
].
m_≥P¨tSize
 = 
√w
 
SCh¨
[
m_numP¨tôi⁄sInCtu
];

197 
	`mem£t
(
m_dpbPîCtuD©a
[
i
].
m_≥P¨tSize
, 
NUMBER_OF_PART_SIZES
, 
m_numP¨tôi⁄sInCtu
);

198 
m_dpbPîCtuD©a
[
i
].
m_pSli˚
=
NULL
;

201 
	}
}

203 
Void
 
	gTComPicSym
::
	$ªÀa£Rec⁄°ru˘i⁄I¡îmedüãD©a
()

205 i‡(
m_pi˘uªCtuAºay
)

207 
I¡
 
i
 = 0; i < 
m_numCtusInFøme
; i++)

209 i‡(
m_pi˘uªCtuAºay
[
i
])

211 
m_pi˘uªCtuAºay
[
i
]->
	`de°roy
();

212 
dñëe
 
m_pi˘uªCtuAºay
[
i
];

213 
m_pi˘uªCtuAºay
[
i
] = 
NULL
;

216 
dñëe
 [] 
m_pi˘uªCtuAºay
;

217 
m_pi˘uªCtuAºay
 = 
NULL
;

219 
	}
}

221 
Void
 
	gTComPicSym
::
	$ªÀa£AŒRec⁄°ru˘i⁄D©a
()

223 
	`ªÀa£Rec⁄°ru˘i⁄I¡îmedüãD©a
();

225 i‡(
m_dpbPîCtuD©a
 !
NULL
)

227 
UI¡
 
i
=0; i<
m_numCtusInFøme
; i++)

229 
I¡
 
j
=0; j<
NUM_REF_PIC_LIST_01
; j++)

231 
m_dpbPîCtuD©a
[
i
].
m_CUMvFõld
[
j
].
	`de°roy
();

233 
dñëe
 [] 
m_dpbPîCtuD©a
[
i
].
m_≥PªdMode
;

234 
dñëe
 [] 
m_dpbPîCtuD©a
[
i
].
m_≥P¨tSize
;

236 
dñëe
 [] 
m_dpbPîCtuD©a
;

237 
m_dpbPîCtuD©a
=
NULL
;

239 
	}
}

242 
Void
 
	gTComPicSym
::
	$de°roy
()

244 
	`˛órSli˚Buf„r
();

246 #i‡
REDUCED_ENCODER_MEMORY


247 
	`ªÀa£AŒRec⁄°ru˘i⁄D©a
();

249 i‡(
m_pi˘uªCtuAºay
)

251 
I¡
 
i
 = 0; i < 
m_numCtusInFøme
; i++)

253 i‡(
m_pi˘uªCtuAºay
[
i
])

255 
m_pi˘uªCtuAºay
[
i
]->
	`de°roy
();

256 
dñëe
 
m_pi˘uªCtuAºay
[
i
];

257 
m_pi˘uªCtuAºay
[
i
] = 
NULL
;

260 
dñëe
 [] 
m_pi˘uªCtuAºay
;

261 
m_pi˘uªCtuAºay
 = 
NULL
;

265 
dñëe
 [] 
m_˘uTsToRsAddrM≠
;

266 
m_˘uTsToRsAddrM≠
 = 
NULL
;

268 
dñëe
 [] 
m_puiTûeIdxM≠
;

269 
m_puiTûeIdxM≠
 = 
NULL
;

271 
dñëe
 [] 
m_˘uRsToTsAddrM≠
;

272 
m_˘uRsToTsAddrM≠
 = 
NULL
;

274 if(
m_ßoBlkP¨ams
)

276 
dñëe
[] 
m_ßoBlkP¨ams
; m_ßoBlkP¨am†
NULL
;

279 #i‡
ADAPTIVE_QP_SELECTION


280 
dñëe
 [] 
m_pP¨ítARLBuf„r
;

281 
m_pP¨ítARLBuf„r
 = 
NULL
;

283 
	}
}

285 
Void
 
	gTComPicSym
::
	$ÆloˇãNewSli˚
()

287 
m_≠Sli˚s
.
	`push_back
(
√w
 
TComSli˚
);

288 
m_≠Sli˚s
.
	`back
()->
	`£tPPS
(&
m_µs
);

289 
m_≠Sli˚s
.
	`back
()->
	`£tSPS
(&
m_•s
);

290 i‡(
m_≠Sli˚s
.
	`size
()>=2)

292 
m_≠Sli˚s
.
	`back
()->
	`c›ySli˚Info
–m_≠Sli˚s[m_≠Sli˚s.
	`size
()-2] );

293 
m_≠Sli˚s
.
	`back
()->
	`öôSli˚
();

295 
	}
}

297 
Void
 
	gTComPicSym
::
	$˛órSli˚Buf„r
()

299 
UI¡
 
i
 = 0; i < 
	`UI¡
(
m_≠Sli˚s
.
	`size
()); i++)

301 
dñëe
 
m_≠Sli˚s
[
i
];

303 
m_≠Sli˚s
.
	`˛ór
();

304 
	}
}

306 
Void
 
	gTComPicSym
::
	$xInôCtuTsRsAddrM≠s
()

309 
I¡
 
˘uTsAddr
=0, 
˘uRsAddr
=0; ctuTsAddr<
	`gëNumbîOfCtusInFøme
(); ctuTsAddr++, ctuRsAdd∏
	`xCÆcuœãNextCtuRSAddr
(ctuRsAddr))

311 
	`£tCtuTsToRsAddrM≠
(
˘uTsAddr
, 
˘uRsAddr
);

312 
	`£tCtuRsToTsAddrM≠
(
˘uRsAddr
, 
˘uTsAddr
);

314 
	`£tCtuTsToRsAddrM≠
(
	`gëNumbîOfCtusInFøme
(), getNumberOfCtusInFrame());

315 
	`£tCtuRsToTsAddrM≠
(
	`gëNumbîOfCtusInFøme
(), getNumberOfCtusInFrame());

316 
	}
}

318 
Void
 
	gTComPicSym
::
	$xInôTûes
()

321 
	`£tNumTûeCﬁumnsMöus1
–
m_µs
.
	`gëNumTûeCﬁumnsMöus1
() );

322 
	`£tNumTûeRowsMöus1
–
m_µs
.
	`gëNumTûeRowsMöus1
() );

324 c⁄° 
I¡
 
numCﬁs
 = 
m_µs
.
	`gëNumTûeCﬁumnsMöus1
() + 1;

325 c⁄° 
I¡
 
numRows
 = 
m_µs
.
	`gëNumTûeRowsMöus1
() + 1;

326 c⁄° 
I¡
 
numTûes
 = 
numRows
 * 
numCﬁs
;

329 
m_tûeP¨amëîs
.
	`ªsize
(
numTûes
);

331 if–
m_µs
.
	`gëTûeUnif‹mS∑cögFœg
() )

334 
I¡
 
row
=0;Ñow < 
numRows
;Ñow++)

336 
I¡
 
cﬁ
=0; cﬁ < 
numCﬁs
; col++)

338 c⁄° 
I¡
 
tûeIdx
 = 
row
 * 
numCﬁs
 + 
cﬁ
;

339 
m_tûeP¨amëîs
[
tûeIdx
].
	`£tTûeWidthInCtus
–(
cﬁ
+1)*
	`gëFømeWidthInCtus
–)/
numCﬁs
 - (col*getFrameWidthInCtus( ))/numCols );

340 
m_tûeP¨amëîs
[
tûeIdx
].
	`£tTûeHeightInCtus
–(
row
+1)*
	`gëFømeHeightInCtus
()/
numRows
 - (row*getFrameHeightInCtus())/numRows );

347 
I¡
 
row
=0;Ñow < 
numRows
;Ñow++)

349 
I¡
 
cumuœtiveTûeWidth
 = 0;

350 
I¡
 
cﬁ
=0; cﬁ < 
	`gëNumTûeCﬁumnsMöus1
(); col++)

352 
m_tûeP¨amëîs
[
row
 * 
numCﬁs
 + 
cﬁ
].
	`£tTûeWidthInCtus
–
m_µs
.
	`gëTûeCﬁumnWidth
(col) );

353 
cumuœtiveTûeWidth
 +
m_µs
.
	`gëTûeCﬁumnWidth
(
cﬁ
);

355 
m_tûeP¨amëîs
[
row
 * 
numCﬁs
 + 
	`gëNumTûeCﬁumnsMöus1
()].
	`£tTûeWidthInCtus
–
	`gëFømeWidthInCtus
()-
cumuœtiveTûeWidth
 );

359 
I¡
 
cﬁ
=0; cﬁ < 
numCﬁs
; col++)

361 
I¡
 
cumuœtiveTûeHeight
 = 0;

362 
I¡
 
row
=0;Ñow < 
	`gëNumTûeRowsMöus1
();Ñow++)

364 
m_tûeP¨amëîs
[
row
 * 
numCﬁs
 + 
cﬁ
].
	`£tTûeHeightInCtus
–
m_µs
.
	`gëTûeRowHeight
(row) );

365 
cumuœtiveTûeHeight
 +
m_µs
.
	`gëTûeRowHeight
(
row
);

367 
m_tûeP¨amëîs
[
	`gëNumTûeRowsMöus1
(Ë* 
numCﬁs
 + 
cﬁ
].
	`£tTûeHeightInCtus
–
	`gëFømeHeightInCtus
()-
cumuœtiveTûeHeight
 );

372 
I¡
 
möWidth
 = 1;

373 
I¡
 
möHeight
 = 1;

374 c⁄° 
I¡
 
¥ofûeIdc
 = 
m_•s
.
	`gëPTL
()->
	`gëGíîÆPTL
()->
	`gëProfûeIdc
();

375 i‡–
¥ofûeIdc
 =
Profûe
::
MAIN
 ||ÖrofûeId¯=Profûe::
MAIN10
)

377 i‡(
m_µs
.
	`gëTûesE«bÀdFœg
())

379 
möHeight
 = 64 / 
m_•s
.
	`gëMaxCUHeight
();

380 
möWidth
 = 256 / 
m_•s
.
	`gëMaxCUWidth
();

383 
I¡
 
row
=0;Ñow < 
numRows
;Ñow++)

385 
I¡
 
cﬁ
=0; cﬁ < 
numCﬁs
; col++)

387 c⁄° 
I¡
 
tûeIdx
 = 
row
 * 
numCﬁs
 + 
cﬁ
;

388 
	`as£π
 (
m_tûeP¨amëîs
[
tûeIdx
].
	`gëTûeWidthInCtus
(Ë>
möWidth
);

389 
	`as£π
 (
m_tûeP¨amëîs
[
tûeIdx
].
	`gëTûeHeightInCtus
(Ë>
möHeight
);

394  
I¡
 
row
=0;Ñow < 
numRows
;Ñow++ )

396  
I¡
 
cﬁ
=0; cﬁ < 
numCﬁs
; col++ )

398 c⁄° 
I¡
 
tûeIdx
 = 
row
 * 
numCﬁs
 + 
cﬁ
;

401 
I¡
 
rightEdgePosInCTU
 = 0;

402  
I¡
 
i
=0; i <
cﬁ
; i++ )

404 
rightEdgePosInCTU
 +
m_tûeP¨amëîs
[
row
 * 
numCﬁs
 + 
i
].
	`gëTûeWidthInCtus
();

406 
m_tûeP¨amëîs
[
tûeIdx
].
	`£tRightEdgePosInCtus
(
rightEdgePosInCTU
-1);

409 
I¡
 
bŸtomEdgePosInCTU
 = 0;

410  
I¡
 
i
=0; i <
row
; i++ )

412 
bŸtomEdgePosInCTU
 +
m_tûeP¨amëîs
[
i
 * 
numCﬁs
 + 
cﬁ
].
	`gëTûeHeightInCtus
();

414 
m_tûeP¨amëîs
[
tûeIdx
].
	`£tBŸtomEdgePosInCtus
(
bŸtomEdgePosInCTU
-1);

417 
m_tûeP¨amëîs
[
tûeIdx
].
	`£tFú°CtuRsAddr
–(m_tûeP¨amëîs[tûeIdx].
	`gëBŸtomEdgePosInCtus
(Ë- m_tûeP¨amëîs[tûeIdx].
	`gëTûeHeightInCtus
(Ë+ 1Ë* 
	`gëFømeWidthInCtus
() +

418 
m_tûeP¨amëîs
[
tûeIdx
].
	`gëRightEdgePosInCtus
(Ë- m_tûeP¨amëîs[tûeIdx].
	`gëTûeWidthInCtus
() + 1);

422 
I¡
 
cﬁumnIdx
 = 0;

423 
I¡
 
rowIdx
 = 0;

426  
I¡
 
i
=0; i<
m_numCtusInFøme
; i++)

428  
I¡
 
cﬁ
=0; cﬁ < 
numCﬁs
; col++)

430 if(
i
 % 
	`gëFømeWidthInCtus
(Ë<
m_tûeP¨amëîs
[
cﬁ
].
	`gëRightEdgePosInCtus
())

432 
cﬁumnIdx
 = 
cﬁ
;

436 
I¡
 
row
=0;Ñow < 
numRows
;Ñow++)

438 if(
i
 / 
	`gëFømeWidthInCtus
(Ë<
m_tûeP¨amëîs
[
row
*
numCﬁs
].
	`gëBŸtomEdgePosInCtus
())

440 
rowIdx
 = 
row
;

444 
m_puiTûeIdxM≠
[
i
] = 
rowIdx
 * 
numCﬁs
 + 
cﬁumnIdx
;

446 
	}
}

447 
UI¡
 
	gTComPicSym
::
	$xCÆcuœãNextCtuRSAddr
–
UI¡
 
cuºCtuRsAddr
 )

449 
UI¡
 
√xtCtuRsAddr
;

452 c⁄° 
UI¡
 
uiTûeIdx
 = 
	`gëTûeIdxM≠
(
cuºCtuRsAddr
);

455 if–
cuºCtuRsAddr
 % 
m_‰ameWidthInCtus
 =
	`gëTComTûe
(
uiTûeIdx
)->
	`gëRightEdgePosInCtus
(Ë&& cuºCtuRsAdd∏/ m_‰ameWidthInCtu†=gëTComTûe(uiTûeIdx)->
	`gëBŸtomEdgePosInCtus
() )

458 if(
uiTûeIdx
+1 =
	`gëNumTûes
())

460 
√xtCtuRsAddr
 = 
m_numCtusInFøme
;

464 
√xtCtuRsAddr
 = 
	`gëTComTûe
(
uiTûeIdx
+1)->
	`gëFú°CtuRsAddr
();

469 if–
cuºCtuRsAddr
 % 
m_‰ameWidthInCtus
 =
	`gëTComTûe
(
uiTûeIdx
)->
	`gëRightEdgePosInCtus
() )

471 
√xtCtuRsAddr
 = 
cuºCtuRsAddr
 + 
m_‰ameWidthInCtus
 - 
	`gëTComTûe
(
uiTûeIdx
)->
	`gëTûeWidthInCtus
() + 1;

475 
√xtCtuRsAddr
 = 
cuºCtuRsAddr
 + 1;

479  
√xtCtuRsAddr
;

480 
	}
}

482 
Void
 
	gTComPicSym
::
	$dîiveLo›FûãrBound¨yAvaûibûôy
(
I¡
 
˘uRsAddr
,

483 
Boﬁ
& 
isLe·Avaû
,

484 
Boﬁ
& 
isRightAvaû
,

485 
Boﬁ
& 
isAboveAvaû
,

486 
Boﬁ
& 
isBñowAvaû
,

487 
Boﬁ
& 
isAboveLe·Avaû
,

488 
Boﬁ
& 
isAboveRightAvaû
,

489 
Boﬁ
& 
isBñowLe·Avaû
,

490 
Boﬁ
& 
isBñowRightAvaû


494 
isLe·Avaû
 = (
˘uRsAddr
 % 
m_‰ameWidthInCtus
 != 0);

495 
isRightAvaû
 = (
˘uRsAddr
 % 
m_‰ameWidthInCtus
 != m_frameWidthInCtus-1);

496 
isAboveAvaû
 = (
˘uRsAddr
 >
m_‰ameWidthInCtus
 );

497 
isBñowAvaû
 = (
˘uRsAddr
 < 
m_numCtusInFøme
 - 
m_‰ameWidthInCtus
);

498 
isAboveLe·Avaû
 = (
isAboveAvaû
 && 
isLe·Avaû
);

499 
isAboveRightAvaû
(
isAboveAvaû
 && 
isRightAvaû
);

500 
isBñowLe·Avaû
 = (
isBñowAvaû
 && 
isLe·Avaû
);

501 
isBñowRightAvaû
(
isBñowAvaû
 && 
isRightAvaû
);

503 
Boﬁ
 
isLo›FûtA¸ossTûePPS
 = 
	`gëCtu
(
˘uRsAddr
)->
	`gëSli˚
()->
	`gëPPS
()->
	`gëLo›FûãrA¸ossTûesE«bÀdFœg
();

506 
TComD©aCU
* 
˘uCuº
 = 
	`gëCtu
(
˘uRsAddr
);

507 
TComD©aCU
* 
˘uLe·
 = 
isLe·Avaû
 ?
	`gëCtu
(
˘uRsAddr
-1):
NULL
;

508 
TComD©aCU
* 
˘uRight
 = 
isRightAvaû
?
	`gëCtu
(
˘uRsAddr
+1):
NULL
;

509 
TComD©aCU
* 
˘uAbove
 = 
isAboveAvaû
?
	`gëCtu
(
˘uRsAddr
-
m_‰ameWidthInCtus
):
NULL
;

510 
TComD©aCU
* 
˘uBñow
 = 
isBñowAvaû
?
	`gëCtu
(
˘uRsAddr
+
m_‰ameWidthInCtus
):
NULL
;

511 
TComD©aCU
* 
˘uAboveLe·
 = 
isAboveLe·Avaû
 ? 
	`gëCtu
(
˘uRsAddr
-
m_‰ameWidthInCtus
-1):
NULL
;

512 
TComD©aCU
* 
˘uAboveRight
 = 
isAboveRightAvaû
? 
	`gëCtu
(
˘uRsAddr
-
m_‰ameWidthInCtus
+1):
NULL
;

513 
TComD©aCU
* 
˘uBñowLe·
 = 
isBñowLe·Avaû
 ? 
	`gëCtu
(
˘uRsAddr
+
m_‰ameWidthInCtus
-1):
NULL
;

514 
TComD©aCU
* 
˘uBñowRight
 = 
isBñowRightAvaû
? 
	`gëCtu
(
˘uRsAddr
+
m_‰ameWidthInCtus
+1):
NULL
;

518 if(
˘uLe·
 !
NULL
)

520 
isLe·Avaû
 = (
˘uCuº
->
	`gëSli˚
()->
	`gëSli˚CurSèπCtuTsAddr
(Ë!
˘uLe·
->gëSli˚()->gëSli˚CurSèπCtuTsAddr())?˘uCuº->gëSli˚()->
	`gëLFCrossSli˚Bound¨yFœg
():
åue
;

523 if(
˘uAbove
 !
NULL
)

525 
isAboveAvaû
 = (
˘uCuº
->
	`gëSli˚
()->
	`gëSli˚CurSèπCtuTsAddr
(Ë!
˘uAbove
->gëSli˚()->gëSli˚CurSèπCtuTsAddr())?˘uCuº->gëSli˚()->
	`gëLFCrossSli˚Bound¨yFœg
():
åue
;

528 if(
˘uRight
 !
NULL
)

530 
isRightAvaû
 = (
˘uCuº
->
	`gëSli˚
()->
	`gëSli˚CurSèπCtuTsAddr
(Ë!
˘uRight
->gëSli˚()->gëSli˚CurSèπCtuTsAddr())?˘uRight->gëSli˚()->
	`gëLFCrossSli˚Bound¨yFœg
():
åue
;

533 if(
˘uBñow
 !
NULL
)

535 
isBñowAvaû
 = (
˘uCuº
->
	`gëSli˚
()->
	`gëSli˚CurSèπCtuTsAddr
(Ë!
˘uBñow
->gëSli˚()->gëSli˚CurSèπCtuTsAddr())?˘uBñow->gëSli˚()->
	`gëLFCrossSli˚Bound¨yFœg
():
åue
;

538 if(
˘uAboveLe·
 !
NULL
)

540 
isAboveLe·Avaû
 = (
˘uCuº
->
	`gëSli˚
()->
	`gëSli˚CurSèπCtuTsAddr
(Ë!
˘uAboveLe·
->gëSli˚()->gëSli˚CurSèπCtuTsAddr())?˘uCuº->gëSli˚()->
	`gëLFCrossSli˚Bound¨yFœg
():
åue
;

543 if(
˘uBñowRight
 !
NULL
)

545 
isBñowRightAvaû
 = (
˘uCuº
->
	`gëSli˚
()->
	`gëSli˚CurSèπCtuTsAddr
(Ë!
˘uBñowRight
->gëSli˚()->gëSli˚CurSèπCtuTsAddr())?˘uBñowRight->gëSli˚()->
	`gëLFCrossSli˚Bound¨yFœg
():
åue
;

549 if(
˘uAboveRight
 !
NULL
)

551 
I¡
 
curSli˚SèπTsAddr
 = 
˘uCuº
->
	`gëSli˚
()->
	`gëSli˚CurSèπCtuTsAddr
();

552 
I¡
 
aboveRightSli˚SèπTsAddr
 = 
˘uAboveRight
->
	`gëSli˚
()->
	`gëSli˚CurSèπCtuTsAddr
();

554 
isAboveRightAvaû
 = (
curSli˚SèπTsAddr
 =
aboveRightSli˚SèπTsAddr
)?(
åue
):

556 (
curSli˚SèπTsAddr
 > 
aboveRightSli˚SèπTsAddr
)?(
˘uCuº
->
	`gëSli˚
()->
	`gëLFCrossSli˚Bound¨yFœg
())

557 :(
˘uAboveRight
->
	`gëSli˚
()->
	`gëLFCrossSli˚Bound¨yFœg
())

561 if(
˘uBñowLe·
 !
NULL
)

563 
I¡
 
curSli˚SèπTsAddr
 = 
˘uCuº
->
	`gëSli˚
()->
	`gëSli˚CurSèπCtuTsAddr
();

564 
I¡
 
bñowLe·Sli˚SèπTsAddr
 = 
˘uBñowLe·
->
	`gëSli˚
()->
	`gëSli˚CurSèπCtuTsAddr
();

566 
isBñowLe·Avaû
 = (
curSli˚SèπTsAddr
 =
bñowLe·Sli˚SèπTsAddr
)?(
åue
):

568 (
curSli˚SèπTsAddr
 > 
bñowLe·Sli˚SèπTsAddr
)?(
˘uCuº
->
	`gëSli˚
()->
	`gëLFCrossSli˚Bound¨yFœg
())

569 :(
˘uBñowLe·
->
	`gëSli˚
()->
	`gëLFCrossSli˚Bound¨yFœg
())

574 if(!
isLo›FûtA¸ossTûePPS
)

576 
isLe·Avaû
 = (!isLe·Avaû ) ?
Ál£
:(
	`gëTûeIdxM≠
–
˘uLe·
->
	`gëCtuRsAddr
(ËË=gëTûeIdxM≠–
˘uRsAddr
 ));

577 
isAboveAvaû
 = (!isAboveAvaû ) ?
Ál£
:(
	`gëTûeIdxM≠
–
˘uAbove
->
	`gëCtuRsAddr
(ËË=gëTûeIdxM≠–
˘uRsAddr
 ));

578 
isRightAvaû
 = (!isRightAvaû ) ?
Ál£
:(
	`gëTûeIdxM≠
–
˘uRight
->
	`gëCtuRsAddr
(ËË=gëTûeIdxM≠–
˘uRsAddr
 ));

579 
isBñowAvaû
 = (!isBñowAvaû ) ?
Ál£
:(
	`gëTûeIdxM≠
–
˘uBñow
->
	`gëCtuRsAddr
(ËË=gëTûeIdxM≠–
˘uRsAddr
 ));

580 
isAboveLe·Avaû
 = (!isAboveLe·Avaû ) ?
Ál£
:(
	`gëTûeIdxM≠
–
˘uAboveLe·
->
	`gëCtuRsAddr
(ËË=gëTûeIdxM≠–
˘uRsAddr
 ));

581 
isAboveRightAvaû
(!isAboveRightAvaûË?
Ál£
:(
	`gëTûeIdxM≠
–
˘uAboveRight
->
	`gëCtuRsAddr
(ËË=gëTûeIdxM≠–
˘uRsAddr
 ));

582 
isBñowLe·Avaû
 = (!isBñowLe·Avaû ) ?
Ál£
:(
	`gëTûeIdxM≠
–
˘uBñowLe·
->
	`gëCtuRsAddr
(ËË=gëTûeIdxM≠–
˘uRsAddr
 ));

583 
isBñowRightAvaû
(!isBñowRightAvaûË?
Ál£
:(
	`gëTûeIdxM≠
–
˘uBñowRight
->
	`gëCtuRsAddr
(ËË=gëTûeIdxM≠–
˘uRsAddr
 ));

587 
	}
}

590 
	gTComTûe
::
	$TComTûe
()

591 : 
	`m_tûeWidthInCtus
 (0)

592 , 
	`m_tûeHeightInCtus
 (0)

593 , 
	`m_rightEdgePosInCtus
 (0)

594 , 
	`m_bŸtomEdgePosInCtus
 (0)

595 , 
	$m_fú°CtuRsAddr
 (0)

597 
	}
}

599 
	gTComTûe
::~
	$TComTûe
()

601 
	}
}

603 #i‡
MCTS_ENC_CHECK


605 
Void
 
	$gëTûePosôi⁄
(c⁄° 
TComD©aCU
* c⁄° 
pcCU
, 
UI¡
 &
tûeXPosInCtus
, UI¡ &
tûeYPosInCtus
, UI¡ &
tûeWidthtInCtus
, UI¡ &
tûeHeightInCtus
)

607 c⁄° 
UI¡
 
cuºítTûeIdx
 = 
pcCU
->
	`gëPic
()->
	`gëPicSym
()->
	`gëTûeIdxM≠
’cCU->
	`gëCtuRsAddr
());

608 c⁄° 
TComTûe
 *
pCuºítTûe
 = 
pcCU
->
	`gëPic
()->
	`gëPicSym
()->
	`gëTComTûe
(
cuºítTûeIdx
);

609 c⁄° 
UI¡
 
‰ameWidthInCtus
 = 
pcCU
->
	`gëPic
()->
	`gëPicSym
()->
	`gëFømeWidthInCtus
();

610 c⁄° 
UI¡
 
fú°CtuRsAddrOfTûe
 = 
pcCU
->
	`gëPic
()->
	`gëPicSym
()->
	`gëTComTûe
’cCU->gëPic()->gëPicSym()->
	`gëTûeIdxM≠
’cCU->
	`gëCtuRsAddr
()))->
	`gëFú°CtuRsAddr
();

612 
tûeXPosInCtus
 = 
fú°CtuRsAddrOfTûe
 % 
‰ameWidthInCtus
;

613 
tûeYPosInCtus
 = 
fú°CtuRsAddrOfTûe
 / 
‰ameWidthInCtus
;

614 
tûeWidthtInCtus
 = 
pCuºítTûe
->
	`gëTûeWidthInCtus
();

615 
tûeHeightInCtus
 = 
pCuºítTûe
->
	`gëTûeHeightInCtus
();

616 
	}
}

	@TComPicSym.h

38 #i‚de‡
__TCOMPICSYM__


39 
	#__TCOMPICSYM__


	)

43 
	~<deque
>

44 
	~"Comm⁄Def.h
"

45 
	~"TComSli˚.h
"

46 
	~"TComD©aCU.h
"

47 
˛ass
 
	gTComSam∂eAd≠tiveOff£t
;

48 
˛ass
 
	gTComPPS
;

57 ˛as†
	cTComTûe


59 
	m¥iv©e
:

60 
UI¡
 
m_tûeWidthInCtus
;

61 
UI¡
 
	mm_tûeHeightInCtus
;

62 
UI¡
 
	mm_rightEdgePosInCtus
;

63 
UI¡
 
	mm_bŸtomEdgePosInCtus
;

64 
UI¡
 
	mm_fú°CtuRsAddr
;

66 
	mpublic
:

67 
TComTûe
();

68 
	mvútuÆ
 ~
TComTûe
();

70 
Void
 
	$£tTûeWidthInCtus
 ( 
UI¡
 
i
 ) { 
m_tûeWidthInCtus
 = i; }

71 
UI¡
 
	$gëTûeWidthInCtus
 (Ëc⁄° {  
m_tûeWidthInCtus
; 
	}
}

72 
Void
 
	$£tTûeHeightInCtus
 ( 
UI¡
 
i
 ) { 
m_tûeHeightInCtus
 = i; 
	}
}

73 
UI¡
 
	$gëTûeHeightInCtus
 (Ëc⁄° {  
m_tûeHeightInCtus
; 
	}
}

74 
Void
 
	$£tRightEdgePosInCtus
 ( 
UI¡
 
i
 ) { 
m_rightEdgePosInCtus
 = i; 
	}
}

75 
UI¡
 
	$gëRightEdgePosInCtus
 (Ëc⁄° {  
m_rightEdgePosInCtus
; 
	}
}

76 
Void
 
	$£tBŸtomEdgePosInCtus
 ( 
UI¡
 
i
 ) { 
m_bŸtomEdgePosInCtus
 = i; 
	}
}

77 
UI¡
 
	$gëBŸtomEdgePosInCtus
 (Ëc⁄° {  
m_bŸtomEdgePosInCtus
; 
	}
}

78 
Void
 
	$£tFú°CtuRsAddr
 ( 
UI¡
 
i
 ) { 
m_fú°CtuRsAddr
 = i; 
	}
}

79 
UI¡
 
	$gëFú°CtuRsAddr
 (Ëc⁄° {  
m_fú°CtuRsAddr
; 
	}
}

83 ˛as†
	cTComPicSym


85 
	m¥iv©e
:

86 
UI¡
 
m_‰ameWidthInCtus
;

87 
UI¡
 
	mm_‰ameHeightInCtus
;

89 
UI¡
 
	mm_uiMöCUWidth
;

90 
UI¡
 
	mm_uiMöCUHeight
;

92 
UCh¨
 
	mm_uhTŸÆDïth
;

93 
UI¡
 
	mm_numP¨tôi⁄sInCtu
;

94 
UI¡
 
	mm_numP¨tInCtuWidth
;

95 
UI¡
 
	mm_numP¨tInCtuHeight
;

96 
UI¡
 
	mm_numCtusInFøme
;

98 
	m°d
::
deque
<
TComSli˚
*> 
m_≠Sli˚s
;

99 
TComD©aCU
** 
	mm_pi˘uªCtuAºay
;

101 
I¡
 
	mm_numTûeCﬁumnsMöus1
;

102 
I¡
 
	mm_numTûeRowsMöus1
;

103 
	m°d
::
ve˘‹
<
TComTûe
> 
m_tûeP¨amëîs
;

104 
UI¡
* 
	mm_˘uTsToRsAddrM≠
;

105 
UI¡
* 
	mm_puiTûeIdxM≠
;

106 
UI¡
* 
	mm_˘uRsToTsAddrM≠
;

108 #i‡
REDUCED_ENCODER_MEMORY


109 
	mpublic
:

110 #i‡
MCTS_EXTRACTION


111 
‰õnd
 
˛ass
 
M˘sExåa˘‹TComPicSym
;

113 
	sDPBPîCtuD©a


115 
Boﬁ
 
isI¡î
(c⁄° 
UI¡
 
absP¨tAddr
Ëc⁄° {  
	mm_≥PªdMode
[absP¨tAddr] =
MODE_INTER
; }

116 
P¨tSize
 
gëP¨tôi⁄Size
–c⁄° 
UI¡
 
absP¨tAddr
 ) c⁄° {  
	m°©ic_ˇ°
<
	mP¨tSize
>–
	mm_≥P¨tSize
[absPartAddr] ); }

117 c⁄° 
TComCUMvFõld
* 
gëCUMvFõld
 ( 
RefPicLi°
 
e
 ) c⁄° {  &
	mm_CUMvFõld
[e]; }

118 c⁄° 
TComSli˚
* 
gëSli˚
(Ëc⁄° {  
	mm_pSli˚
; }

120 
SCh¨
 * 
	mm_≥PªdMode
;

121 
SCh¨
 * 
	mm_≥P¨tSize
;

122 
TComCUMvFõld
 
	mm_CUMvFõld
[
NUM_REF_PIC_LIST_01
];

123 
TComSli˚
 * 
	mm_pSli˚
;

126 
	g¥iv©e
:

127 
DPBPîCtuD©a
 *
m_dpbPîCtuD©a
;

129 
SAOBlkP¨am
 *
	gm_ßoBlkP¨ams
;

130 #i‡
ADAPTIVE_QP_SELECTION


131 
TC€ff
* 
	gm_pP¨ítARLBuf„r
;

133 
TComSPS
 
	gm_•s
;

134 
TComPPS
 
	gm_µs
;

136 
Void
 
xInôTûes
( );

137 
Void
 
xInôCtuTsRsAddrM≠s
();

138 
Void
 
	$£tNumTûeCﬁumnsMöus1
–
I¡
 
i
 ) { 
m_numTûeCﬁumnsMöus1
 = i; 
	}
}

139 
Void
 
	$£tNumTûeRowsMöus1
–
I¡
 
i
 ) { 
m_numTûeRowsMöus1
 = i; 
	}
}

140 
Void
 
	$£tCtuTsToRsAddrM≠
–
I¡
 
˘uTsAddr
, I¡ 
˘uRsAddr
 ) { *(
m_˘uTsToRsAddrM≠
 + ctuTsAddrË˘uRsAddr; 
	}
}

141 
Void
 
	$£tCtuRsToTsAddrM≠
–
I¡
 
˘uRsAddr
, I¡ 
˘uTsOrdî
 ) { *(
m_˘uRsToTsAddrM≠
 + ctuRsAddrË˘uTsOrdî; 
	}
}

143 
	gpublic
:

144 #i‡
REDUCED_ENCODER_MEMORY


145 
Void
 
¸óã
 ( c⁄° 
TComSPS
 &
•s
, c⁄° 
TComPPS
 &
µs
, 
UI¡
 
uiMaxDïth
, c⁄° 
Boﬁ
 
bAŒoˇãCtuAºay
 );

146 
Void
 
¥ï¨eF‹Rec⁄°ru˘i⁄
();

147 
Void
 
ªÀa£Rec⁄°ru˘i⁄I¡îmedüãD©a
();

148 
Void
 
ªÀa£AŒRec⁄°ru˘i⁄D©a
();

150 
Void
 
¸óã
 ( c⁄° 
TComSPS
 &
•s
, c⁄° 
TComPPS
 &
µs
, 
UI¡
 
uiMaxDïth
 );

152 
Void
 
de°roy
 ();

154 
TComPicSym
 ();

155 ~
TComPicSym
();

157 
TComSli˚
* 
	$gëSli˚
(
UI¡
 
i
Ë{  
m_≠Sli˚s
[i]; 
	}
}

158 c⁄° 
TComSli˚
* 
	$gëSli˚
(
UI¡
 
i
Ëc⁄° {  
m_≠Sli˚s
[i]; 
	}
}

159 
UI¡
 
	$gëFømeWidthInCtus
(Ëc⁄° {  
m_‰ameWidthInCtus
; 
	}
}

160 
UI¡
 
	$gëFømeHeightInCtus
(Ëc⁄° {  
m_‰ameHeightInCtus
; 
	}
}

161 
UI¡
 
	$gëMöCUWidth
(Ëc⁄° {  
m_uiMöCUWidth
; 
	}
}

162 
UI¡
 
	$gëMöCUHeight
(Ëc⁄° {  
m_uiMöCUHeight
; 
	}
}

163 
UI¡
 
	$gëNumbîOfCtusInFøme
(Ëc⁄° {  
m_numCtusInFøme
; 
	}
}

164 
TComD©aCU
* 
	$gëCtu
–
UI¡
 
˘uRsAddr
 ) {  
m_pi˘uªCtuAºay
[˘uRsAddr]; 
	}
}

165 c⁄° 
TComD©aCU
* 
	$gëCtu
–
UI¡
 
˘uRsAddr
 ) c⁄° {  
m_pi˘uªCtuAºay
[˘uRsAddr]; 
	}
}

166 c⁄° 
	gTComSPS
& 
	$gëSPS
(Ëc⁄° {  
m_•s
; 
	}
}

167 c⁄° 
	gTComPPS
& 
	$gëPPS
(Ëc⁄° {  
m_µs
; 
	}
}

168 #i‡
REDUCED_ENCODER_MEMORY


169 
Boﬁ
 
	$hasDPBPîCtuD©a
(Ëc⁄° {  (
m_dpbPîCtuD©a
!=0); 
	}
};

170 
	gDPBPîCtuD©a
& 
	$gëDPBPîCtuD©a
(
UI¡
 
˘uRsAddr
Ë{  
m_dpbPîCtuD©a
[˘uRsAddr]; 
	}
}

171 c⁄° 
	gDPBPîCtuD©a
& 
	$gëDPBPîCtuD©a
(
UI¡
 
˘uRsAddr
Ëc⁄° {  
m_dpbPîCtuD©a
[˘uRsAddr]; 
	}
}

174 
TComSli˚
 * 
	$sw≠Sli˚Obje˘
(
TComSli˚
* 
p
, 
UI¡
 
i
Ë{Ö->
	`£tSPS
(&
m_•s
);Ö->
	`£tPPS
(&
m_µs
); TComSli˚ *
pTmp
=
m_≠Sli˚s
[i];m_≠Sli˚s[i] =Ö;ÖTmp->£tSPS(0);ÖTmp->£tPPS(0); ÖTmp; 
	}
}

175 
UI¡
 
	$gëNumAŒoˇãdSli˚
(Ëc⁄° {  
	`UI¡
(
m_≠Sli˚s
.
	`size
()); 
	}
}

176 
Void
 
ÆloˇãNewSli˚
();

177 
Void
 
˛órSli˚Buf„r
();

178 
UI¡
 
	$gëNumP¨tôi⁄sInCtu
(Ëc⁄° {  
m_numP¨tôi⁄sInCtu
; 
	}
}

179 
UI¡
 
	$gëNumP¨tInCtuWidth
(Ëc⁄° {  
m_numP¨tInCtuWidth
; 
	}
}

180 
UI¡
 
	$gëNumP¨tInCtuHeight
(Ëc⁄° {  
m_numP¨tInCtuHeight
; 
	}
}

181 
I¡
 
	$gëNumTûeCﬁumnsMöus1
(Ëc⁄° {  
m_numTûeCﬁumnsMöus1
; 
	}
}

182 
I¡
 
	$gëNumTûeRowsMöus1
(Ëc⁄° {  
m_numTûeRowsMöus1
; 
	}
}

183 
I¡
 
	$gëNumTûes
(Ëc⁄° {  (
m_numTûeRowsMöus1
+1)*(
m_numTûeCﬁumnsMöus1
+1); 
	}
}

184 
TComTûe
* 
	$gëTComTûe
 ( 
UI¡
 
tûeIdx
 ) {  &(
m_tûeP¨amëîs
[tûeIdx]); 
	}
}

185 c⁄° 
TComTûe
* 
	$gëTComTûe
 ( 
UI¡
 
tûeIdx
 ) c⁄° {  &(
m_tûeP¨amëîs
[tûeIdx]); 
	}
}

186 
UI¡
 
	$gëCtuTsToRsAddrM≠
–
I¡
 
˘uTsAddr
 ) c⁄° {  *(
m_˘uTsToRsAddrM≠
 + (˘uTsAddr>=
m_numCtusInFøme
 ? m_numCtusInFømê: ctuTsAddr)); 
	}
}

187 
UI¡
 
	$gëTûeIdxM≠
–
I¡
 
˘uRsAddr
 ) c⁄° {  *(
m_puiTûeIdxM≠
 + ctuRsAddr); 
	}
}

188 
UI¡
 
	$gëCtuRsToTsAddrM≠
–
I¡
 
˘uRsAddr
 ) c⁄° {  *(
m_˘uRsToTsAddrM≠
 + (˘uRsAddr>=
m_numCtusInFøme
 ? m_numCtusInFømê: ctuRsAddr)); 
	}
}

189 
SAOBlkP¨am
* 
	$gëSAOBlkP¨am
(Ë{  
m_ßoBlkP¨ams
;
	}
}

190 c⁄° 
SAOBlkP¨am
* 
	$gëSAOBlkP¨am
(Ëc⁄° {  
m_ßoBlkP¨ams
;
	}
}

191 
Void
 
dîiveLo›FûãrBound¨yAvaûibûôy
(
I¡
 
˘uRsAddr
,

192 
Boﬁ
& 
isLe·Avaû
, Boﬁ& 
isRightAvaû
, Boﬁ& 
isAboveAvaû
, Boﬁ& 
isBñowAvaû
,

193 
Boﬁ
& 
isAboveLe·Avaû
, Boﬁ& 
isAboveRightAvaû
, Boﬁ& 
isBñowLe·Avaû
, Boﬁ& 
isBñowRightAvaû
);

194 
	g¥Ÿe˘ed
:

195 
UI¡
 
xCÆcuœãNextCtuRSAddr
–UI¡ 
uiCuºCtuRSAddr
 );

200 #i‡
MCTS_EXTRACTION


202 ˛as†
	cM˘sExåa˘‹TComPicSym
 {

203 
	mpublic
:

204 
Void
 
	$£tNumbîOfCtusInFøme
(
TComPicSym
 *
picsym
, 
UI¡
 
numOfCtusInFøme
Ë{Öicsym->
m_numCtusInFøme
 =ÇumOfCtusInFrame; }

205 
	}
};

211 #i‡
MCTS_ENC_CHECK


212 
Void
 
gëTûePosôi⁄
(c⁄° 
TComD©aCU
* c⁄° 
pcCU
, 
UI¡
 &
tûeXPosInCtus
, UI¡ &
tûeYPosInCtus
, UI¡ &
tûeWidthtInCtus
, UI¡ &
tûeHeightInCtus
);

	@TComPicYuv.cpp

38 
	~<c°dlib
>

39 
	~<as£π.h
>

40 
	~<mem‹y.h
>

42 #ifde‡
__APPLE__


43 
	~<mÆloc/mÆloc.h
>

45 
	~<mÆloc.h
>

48 
	~"TComPicYuv.h
"

49 
	~"Utûôõs/TVideoIOYuv.h
"

54 
	gTComPicYuv
::
	$TComPicYuv
()

56 
UI¡
 
i
=0; i<
MAX_NUM_COMPONENT
; i++)

58 
m_≠iPicBuf
[
i
] = 
NULL
;

59 
m_piPicOrg
[
i
] = 
NULL
;

62 
UI¡
 
i
=0; i<
MAX_NUM_CHANNEL_TYPE
; i++)

64 
m_˘uOff£tInBuf„r
[
i
]=0;

65 
m_subCuOff£tInBuf„r
[
i
]=0;

68 
m_bIsB‹dîExãnded
 = 
Ál£
;

69 
	}
}

74 
	gTComPicYuv
::~
	$TComPicYuv
()

76 
	`de°roy
();

77 
	}
}

81 
Void
 
	gTComPicYuv
::
	$¸óãWôhoutCUInfo
 ( c⁄° 
I¡
 
picWidth
,

82 c⁄° 
I¡
 
picHeight
,

83 c⁄° 
ChromaF‹m©
 
chromaF‹m©IDC
,

84 c⁄° 
Boﬁ
 
bU£M¨gö
,

85 c⁄° 
UI¡
 
maxCUWidth
,

86 c⁄° 
UI¡
 
maxCUHeight
)

89 
	`de°roy
();

91 
m_picWidth
 = 
picWidth
;

92 
m_picHeight
 = 
picHeight
;

93 
m_chromaF‹m©IDC
 = 
chromaF‹m©IDC
;

94 
m_m¨göX
 = (
bU£M¨gö
?
maxCUWidth
:0) + 16;

95 
m_m¨göY
 = (
bU£M¨gö
?
maxCUHeight
:0) + 16;

96 
m_bIsB‹dîExãnded
 = 
Ál£
;

99 
UI¡
 
comp
=0; comp<
	`gëNumbîVÆidComp⁄íts
(); comp++)

101 c⁄° 
Comp⁄ítID
 
ch
=
	`Comp⁄ítID
(
comp
);

102 
m_≠iPicBuf
[
comp
] = (
Pñ
*)
	`xMÆloc
–Pñ, 
	`gëSåide
(
ch
Ë* 
	`gëTŸÆHeight
(ch));

103 
m_piPicOrg
[
comp
] = 
m_≠iPicBuf
[comp] + (
m_m¨göY
 >> 
	`gëComp⁄ítSˇÀY
(
ch
)Ë* 
	`gëSåide
(chË+ (
m_m¨göX
 >> 
	`gëComp⁄ítSˇÀX
(ch));

106 
UI¡
 
comp
=
	`gëNumbîVÆidComp⁄íts
();comp<
MAX_NUM_COMPONENT
; comp++)

108 
m_≠iPicBuf
[
comp
] = 
NULL
;

109 
m_piPicOrg
[
comp
] = 
NULL
;

112 
I¡
 
ch™
=0; ch™<
MAX_NUM_CHANNEL_TYPE
; chan++)

114 
m_˘uOff£tInBuf„r
[
ch™
] = 
NULL
;

115 
m_subCuOff£tInBuf„r
[
ch™
] = 
NULL
;

117 
	}
}

121 
Void
 
	gTComPicYuv
::
	$¸óã
 ( c⁄° 
I¡
 
picWidth
,

122 c⁄° 
I¡
 
picHeight
,

123 c⁄° 
ChromaF‹m©
 
chromaF‹m©IDC
,

124 c⁄° 
UI¡
 
maxCUWidth
,

125 c⁄° 
UI¡
 
maxCUHeight
,

126 c⁄° 
UI¡
 
maxCUDïth
,

127 c⁄° 
Boﬁ
 
bU£M¨gö
)

130 
	`¸óãWôhoutCUInfo
(
picWidth
, 
picHeight
, 
chromaF‹m©IDC
, 
bU£M¨gö
, 
maxCUWidth
, 
maxCUHeight
);

133 c⁄° 
I¡
 
numCuInWidth
 = 
m_picWidth
 / 
maxCUWidth
 + (m_picWidth % maxCUWidth != 0);

134 c⁄° 
I¡
 
numCuInHeight
 = 
m_picHeight
 / 
maxCUHeight
 + (m_picHeight % maxCUHeight != 0);

135 
I¡
 
ch™
=0; ch™<
MAX_NUM_CHANNEL_TYPE
; chan++)

137 c⁄° 
Ch™√lTy≥
 
ch

	`Ch™√lTy≥
(
ch™
);

138 c⁄° 
I¡
 
˘uHeight
 = 
maxCUHeight
>>
	`gëCh™√lTy≥SˇÀY
(
ch
);

139 c⁄° 
I¡
 
˘uWidth
 = 
maxCUWidth
>>
	`gëCh™√lTy≥SˇÀX
(
ch
);

140 c⁄° 
I¡
 
°ride
 = 
	`gëSåide
(
ch
);

142 
m_˘uOff£tInBuf„r
[
ch™
] = 
√w
 
I¡
[
numCuInWidth
 * 
numCuInHeight
];

144 
I¡
 
cuRow
 = 0; cuRow < 
numCuInHeight
; cuRow++)

146 
I¡
 
cuCﬁ
 = 0; cuCﬁ < 
numCuInWidth
; cuCol++)

148 
m_˘uOff£tInBuf„r
[
ch™
][
cuRow
 * 
numCuInWidth
 + 
cuCﬁ
] = 
°ride
 * cuRow * 
˘uHeight
 + cuCﬁ * 
˘uWidth
;

152 
m_subCuOff£tInBuf„r
[
ch™
] = 
√w
 
I¡
[(
size_t
)1 << (2 * 
maxCUDïth
)];

154 c⁄° 
I¡
 
numSubBlockP¨tôi⁄s
=(1<<
maxCUDïth
);

155 c⁄° 
I¡
 
möSubBlockHeight
 =(
˘uHeight
 >> 
maxCUDïth
);

156 c⁄° 
I¡
 
möSubBlockWidth
 =(
˘uWidth
 >> 
maxCUDïth
);

158 
I¡
 
buRow
 = 0; buRow < 
numSubBlockP¨tôi⁄s
; buRow++)

160 
I¡
 
buCﬁ
 = 0; buCﬁ < 
numSubBlockP¨tôi⁄s
; buCol++)

162 
m_subCuOff£tInBuf„r
[
ch™
][(
buRow
 << 
maxCUDïth
Ë+ 
buCﬁ
] = 
°ride
 * buRow * 
möSubBlockHeight
 + buCﬁ * 
möSubBlockWidth
;

166 
	}
}

168 
Void
 
	gTComPicYuv
::
	$de°roy
()

170 
I¡
 
comp
=0; comp<
MAX_NUM_COMPONENT
; comp++)

172 
m_piPicOrg
[
comp
] = 
NULL
;

174 if–
m_≠iPicBuf
[
comp
] )

176 
	`xFªe
–
m_≠iPicBuf
[
comp
] );

177 
m_≠iPicBuf
[
comp
] = 
NULL
;

181 
UI¡
 
ch™
=0; ch™<
MAX_NUM_CHANNEL_TYPE
; chan++)

183 i‡(
m_˘uOff£tInBuf„r
[
ch™
])

185 
dñëe
[] 
m_˘uOff£tInBuf„r
[
ch™
];

186 
m_˘uOff£tInBuf„r
[
ch™
] = 
NULL
;

188 i‡(
m_subCuOff£tInBuf„r
[
ch™
])

190 
dñëe
[] 
m_subCuOff£tInBuf„r
[
ch™
];

191 
m_subCuOff£tInBuf„r
[
ch™
] = 
NULL
;

194 
	}
}

198 
Void
 
	gTComPicYuv
::
	$c›yToPic
 (
TComPicYuv
* 
pcPicYuvD°
) const

200 
	`as£π
–
m_chromaF‹m©IDC
 =
pcPicYuvD°
->
	`gëChromaF‹m©
() );

202 
I¡
 
comp
=0; comp<
	`gëNumbîVÆidComp⁄íts
(); comp++)

204 c⁄° 
Comp⁄ítID
 
compId
=
	`Comp⁄ítID
(
comp
);

205 c⁄° 
I¡
 
width
 = 
	`gëWidth
(
compId
);

206 c⁄° 
I¡
 
height
 = 
	`gëHeight
(
compId
);

207 c⁄° 
I¡
 
°rideSrc
 = 
	`gëSåide
(
compId
);

208 
	`as£π
(
pcPicYuvD°
->
	`gëWidth
(
compId
Ë=
width
);

209 
	`as£π
(
pcPicYuvD°
->
	`gëHeight
(
compId
Ë=
height
);

210 i‡(
°rideSrc
==
pcPicYuvD°
->
	`gëSåide
(
compId
))

212 ::
	`mem˝y
 ( 
pcPicYuvD°
->
	`gëBuf
(
compId
), gëBuf(compId), (
Pñ
)*
°rideSrc
*
	`gëTŸÆHeight
(compId));

216 c⁄° 
Pñ
 *
pSrc
 = 
	`gëAddr
(
compId
);

217 
Pñ
 *
pDe°
 = 
pcPicYuvD°
->
	`gëAddr
(
compId
);

218 c⁄° 
UI¡
 
°rideDe°
 = 
pcPicYuvD°
->
	`gëSåide
(
compId
);

220 
I¡
 
y
=0; y<
height
; y++, 
pSrc
+=
°rideSrc
, 
pDe°
+=
°rideDe°
)

222 ::
	`mem˝y
(
pDe°
, 
pSrc
, 
width
*(
Pñ
));

226 
	}
}

229 
Void
 
	gTComPicYuv
::
	$exãndPicB‹dî
 ()

231 i‡–
m_bIsB‹dîExãnded
 )

236 
I¡
 
comp
=0; comp<
	`gëNumbîVÆidComp⁄íts
(); comp++)

238 c⁄° 
Comp⁄ítID
 
compId
=
	`Comp⁄ítID
(
comp
);

239 
Pñ
 *
piTxt
=
	`gëAddr
(
compId
);

240 c⁄° 
I¡
 
°ride
=
	`gëSåide
(
compId
);

241 c⁄° 
I¡
 
width
=
	`gëWidth
(
compId
);

242 c⁄° 
I¡
 
height
=
	`gëHeight
(
compId
);

243 c⁄° 
I¡
 
m¨göX
=
	`gëM¨göX
(
compId
);

244 c⁄° 
I¡
 
m¨göY
=
	`gëM¨göY
(
compId
);

246 
Pñ
* 
pi
 = 
piTxt
;

248 
I¡
 
y
 = 0; y < 
height
; y++)

250 
I¡
 
x
 = 0; x < 
m¨göX
; x++ )

252 
pi
[ -
m¨göX
 + 
x
 ] =Öi[0];

253 
pi
[ 
width
 + 
x
 ] =Öi[width-1];

255 
pi
 +
°ride
;

259 
pi
 -(
°ride
 + 
m¨göX
);

261 
I¡
 
y
 = 0; y < 
m¨göY
; y++ )

263 ::
	`mem˝y
–
pi
 + (
y
+1)*
°ride
,Öi, (
Pñ
)*(
width
 + (
m¨göX
<<1)) );

267 
pi
 -((
height
-1Ë* 
°ride
);

269 
I¡
 
y
 = 0; y < 
m¨göY
; y++ )

271 ::
	`mem˝y
–
pi
 - (
y
+1)*
°ride
,Öi, (
Pñ
)*(
width
 + (
m¨göX
<<1)) );

275 
m_bIsB‹dîExãnded
 = 
åue
;

276 
	}
}

281 
Void
 
	gTComPicYuv
::
	$dump
 (c⁄° 
°d
::
°rög
 &
fûeName
, c⁄° 
BôDïths
 &
bôDïths
, c⁄° 
Boﬁ
 
bAµíd
, c⁄° Boﬁ 
bF‹˚To8Bô
) const

283 
FILE
 *
pFûe
 = 
	`f›í
 (
fûeName
.
	`c_°r
(), 
bAµíd
?"ab":"wb");

285 
Boﬁ
 
is16bô
=
Ál£
;

286 
I¡
 
comp
 = 0; com∞< 
	`gëNumbîVÆidComp⁄íts
(Ë&& !
bF‹˚To8Bô
; comp++)

288 i‡(
bôDïths
.
ªc⁄
[
	`toCh™√lTy≥
(
	`Comp⁄ítID
(
comp
))]>8)

290 
is16bô
=
åue
;

294 
I¡
 
comp
 = 0; com∞< 
	`gëNumbîVÆidComp⁄íts
(); comp++)

296 c⁄° 
Comp⁄ítID
 
compId
 = 
	`Comp⁄ítID
(
comp
);

297 c⁄° 
Pñ
 *
pi
 = 
	`gëAddr
(
compId
);

298 c⁄° 
I¡
 
°ride
 = 
	`gëSåide
(
compId
);

299 c⁄° 
I¡
 
height
 = 
	`gëHeight
(
compId
);

300 c⁄° 
I¡
 
width
 = 
	`gëWidth
(
compId
);

302 i‡(
is16bô
)

304 
I¡
 
y
 = 0; y < 
height
; y++ )

306 
I¡
 
x
 = 0; x < 
width
; x++ )

308 
UCh¨
 
uc
 = (UCh¨)((
pi
[
x
]>>0) & 0xff);

309 
	`fwrôe
–&
uc
, (
UCh¨
), 1, 
pFûe
 );

310 
uc
 = (
UCh¨
)((
pi
[
x
]>>8) & 0xff);

311 
	`fwrôe
–&
uc
, (
UCh¨
), 1, 
pFûe
 );

313 
pi
 +
°ride
;

318 c⁄° 
I¡
 
shi·
 = 
bôDïths
.
ªc⁄
[
	`toCh™√lTy≥
(
compId
)] - 8;

319 c⁄° 
I¡
 
off£t
 = (
shi·
>0)?(1<<(shift-1)):0;

320 
I¡
 
y
 = 0; y < 
height
; y++ )

322 
I¡
 
x
 = 0; x < 
width
; x++ )

324 
UCh¨
 
uc
 = (UCh¨)
Clù3
<
Pñ
>(0, 255, (
pi
[
x
]+
off£t
)>>
shi·
);

325 
	`fwrôe
–&
uc
, (
UCh¨
), 1, 
pFûe
 );

327 
pi
 +
°ride
;

332 
	`f˛o£
(
pFûe
);

333 
	}
}

	@TComPicYuv.h

38 #i‚de‡
__TCOMPICYUV__


39 
	#__TCOMPICYUV__


	)

41 
	~<°dio.h
>

42 
	~"Comm⁄Def.h
"

43 
	~"TComRom.h
"

44 
	~"TComChromaF‹m©.h
"

45 
	~"SEI.h
"

55 ˛as†
	cTComPicYuv


57 
	m¥iv©e
:

63 
Pñ
* 
m_≠iPicBuf
[
MAX_NUM_COMPONENT
];

65 
Pñ
* 
	mm_piPicOrg
[
MAX_NUM_COMPONENT
];

71 
I¡
 
	mm_picWidth
;

72 
I¡
 
	mm_picHeight
;

73 
ChromaF‹m©
 
	mm_chromaF‹m©IDC
;

75 
I¡
* 
	mm_˘uOff£tInBuf„r
[
MAX_NUM_CHANNEL_TYPE
];

76 
I¡
* 
	mm_subCuOff£tInBuf„r
[
MAX_NUM_CHANNEL_TYPE
];

78 
I¡
 
	mm_m¨göX
;

79 
I¡
 
	mm_m¨göY
;

81 
Boﬁ
 
	mm_bIsB‹dîExãnded
;

83 
	mpublic
:

84 
TComPicYuv
 ();

85 
	mvútuÆ
 ~
TComPicYuv
 ();

91 
Void
 
¸óã
 (c⁄° 
I¡
 
picWidth
,

92 c⁄° 
I¡
 
picHeight
,

93 c⁄° 
ChromaF‹m©
 
chromaF‹m©IDC
,

94 c⁄° 
UI¡
 
maxCUWidth
,

95 c⁄° 
UI¡
 
maxCUHeight
,

96 c⁄° 
UI¡
 
maxCUDïth
,

97 c⁄° 
Boﬁ
 
bU£M¨gö
);

99 
Void
 
¸óãWôhoutCUInfo
(c⁄° 
I¡
 
picWidth
,

100 c⁄° 
I¡
 
picHeight
,

101 c⁄° 
ChromaF‹m©
 
chromaF‹m©IDC
,

102 c⁄° 
Boﬁ
 
bU£M¨gö
=
Ál£
,

103 c⁄° 
UI¡
 
maxCUWidth
=0,

104 c⁄° 
UI¡
 
maxCUHeight
=0);

106 
Void
 
de°roy
 ();

116 
I¡
 
	$gëWidth
 (c⁄° 
Comp⁄ítID
 
id
Ëc⁄° {  
m_picWidth
 >> 
	`gëComp⁄ítSˇÀX
(id); }

117 
I¡
 
	$gëHeight
 (c⁄° 
Comp⁄ítID
 
id
Ëc⁄° {  
m_picHeight
 >> 
	`gëComp⁄ítSˇÀY
(id); 
	}
}

118 
ChromaF‹m©
 
	$gëChromaF‹m©
 (Ëc⁄° {  
m_chromaF‹m©IDC
; 
	}
}

119 
UI¡
 
	$gëNumbîVÆidComp⁄íts
(Ëc⁄° {  ::
	`gëNumbîVÆidComp⁄íts
(
m_chromaF‹m©IDC
); 
	}
}

121 
I¡
 
	$gëSåide
 (c⁄° 
Comp⁄ítID
 
id
Ëc⁄° {  ((
m_picWidth
 ) + (
m_m¨göX
 <<1)Ë>> 
	`gëComp⁄ítSˇÀX
(id); 
	}
}

122 
	g¥iv©e
:

123 
I¡
 
	$gëSåide
 (c⁄° 
Ch™√lTy≥
 
id
Ëc⁄° {  ((
m_picWidth
 ) + (
m_m¨göX
 <<1)Ë>> 
	`gëCh™√lTy≥SˇÀX
(id); 
	}
}

124 
	gpublic
:

125 
I¡
 
	$gëTŸÆHeight
 (c⁄° 
Comp⁄ítID
 
id
Ëc⁄° {  ((
m_picHeight
 ) + (
m_m¨göY
 <<1)Ë>> 
	`gëComp⁄ítSˇÀY
(id); 
	}
}

127 
I¡
 
	$gëM¨göX
 (c⁄° 
Comp⁄ítID
 
id
Ëc⁄° {  
m_m¨göX
 >> 
	`gëComp⁄ítSˇÀX
(id); 
	}
}

128 
I¡
 
	$gëM¨göY
 (c⁄° 
Comp⁄ítID
 
id
Ëc⁄° {  
m_m¨göY
 >> 
	`gëComp⁄ítSˇÀY
(id); 
	}
}

135 
Pñ
* 
	$gëBuf
 (c⁄° 
Comp⁄ítID
 
ch
Ë{  
m_≠iPicBuf
[ch]; 
	}
}

136 c⁄° 
Pñ
* 
	$gëBuf
 (c⁄° 
Comp⁄ítID
 
ch
Ëc⁄° {  
m_≠iPicBuf
[ch]; 
	}
}

139 
Pñ
* 
	$gëAddr
 (c⁄° 
Comp⁄ítID
 
ch
Ë{  
m_piPicOrg
[ch]; 
	}
}

140 c⁄° 
Pñ
* 
	$gëAddr
 (c⁄° 
Comp⁄ítID
 
ch
Ëc⁄° {  
m_piPicOrg
[ch]; 
	}
}

143 
Pñ
* 
	$gëAddr
 (c⁄° 
Comp⁄ítID
 
ch
, c⁄° 
I¡
 
˘uRSAddr
 ) {  
m_piPicOrg
[ch] + 
m_˘uOff£tInBuf„r
[ch==0?0:1][ ctuRSAdd∏]; 
	}
}

144 c⁄° 
Pñ
* 
	$gëAddr
 (c⁄° 
Comp⁄ítID
 
ch
, c⁄° 
I¡
 
˘uRSAddr
 ) c⁄° {  
m_piPicOrg
[ch] + 
m_˘uOff£tInBuf„r
[ch==0?0:1][ ctuRSAdd∏]; 
	}
}

145 
Pñ
* 
	$gëAddr
 (c⁄° 
Comp⁄ítID
 
ch
, c⁄° 
I¡
 
˘uRSAddr
, c⁄° I¡ 
uiAbsZ‹dîIdx
 )

146 {  
m_piPicOrg
[
ch
] + 
m_˘uOff£tInBuf„r
[ch==0?0:1][
˘uRSAddr
] + 
m_subCuOff£tInBuf„r
[ch==0?0:1][
g_auiZsˇnToRa°î
[
uiAbsZ‹dîIdx
]]; 
	}
}

147 c⁄° 
Pñ
* 
	$gëAddr
 (c⁄° 
Comp⁄ítID
 
ch
, c⁄° 
I¡
 
˘uRSAddr
, c⁄° I¡ 
uiAbsZ‹dîIdx
 ) const

148 {  
m_piPicOrg
[
ch
] + 
m_˘uOff£tInBuf„r
[ch==0?0:1][
˘uRSAddr
] + 
m_subCuOff£tInBuf„r
[ch==0?0:1][
g_auiZsˇnToRa°î
[
uiAbsZ‹dîIdx
]]; 
	}
}

150 
UI¡
 
	$gëComp⁄ítSˇÀX
(c⁄° 
Comp⁄ítID
 
id
Ëc⁄° {  ::
	`gëComp⁄ítSˇÀX
(id, 
m_chromaF‹m©IDC
); 
	}
}

151 
UI¡
 
	$gëComp⁄ítSˇÀY
(c⁄° 
Comp⁄ítID
 
id
Ëc⁄° {  ::
	`gëComp⁄ítSˇÀY
(id, 
m_chromaF‹m©IDC
); 
	}
}

153 
UI¡
 
	$gëCh™√lTy≥SˇÀX
(c⁄° 
Ch™√lTy≥
 
id
Ëc⁄° {  ::
	`gëCh™√lTy≥SˇÀX
(id, 
m_chromaF‹m©IDC
); 
	}
}

154 
UI¡
 
	$gëCh™√lTy≥SˇÀY
(c⁄° 
Ch™√lTy≥
 
id
Ëc⁄° {  ::
	`gëCh™√lTy≥SˇÀY
(id, 
m_chromaF‹m©IDC
); 
	}
}

161 
Void
 
	$c›yToPic
 ( 
TComPicYuv
* 
pcPicYuvD°
 ) const ;

164 
Void
 
	`exãndPicB‹dî
 ();

167 
Void
 
	$dump
 (c⁄° 
°d
::
°rög
 &
fûeName
, c⁄° 
BôDïths
 &
bôDïths
, c⁄° 
Boﬁ
 
bAµíd
=
Ál£
, c⁄° Boﬁ 
bF‹˚To8Bô
=false) const ;

170 
Void
 
	$£tB‹dîExãnsi⁄
(
Boﬁ
 
b
Ë{ 
m_bIsB‹dîExãnded
 = b; 
	}
}

175 
UI¡
 
ˇlcChecksum
(c⁄° 
TComPicYuv
& 
pic
, 
TComPi˘uªHash
 &
dige°
, c⁄° 
BôDïths
 &
bôDïths
);

176 
UI¡
 
ˇlcCRC
 (c⁄° 
TComPicYuv
& 
pic
, 
TComPi˘uªHash
 &
dige°
, c⁄° 
BôDïths
 &
bôDïths
);

177 
UI¡
 
ˇlcMD5
 (c⁄° 
TComPicYuv
& 
pic
, 
TComPi˘uªHash
 &
dige°
, c⁄° 
BôDïths
 &
bôDïths
);

178 
	g°d
::
°rög
 
hashToSåög
(c⁄° 
TComPi˘uªHash
 &
dige°
, 
I¡
 
numCh¨
);

	@TComPicYuvMD5.cpp

34 
	~"TComPicYuv.h
"

35 
	~"libmd5/MD5.h
"

44 
	gãm∂©e
<
UI¡
 
	gOUTPUT_BITDEPTH_DIV8
>

45 
Void
 
	$md5_block
(
MD5
& 
md5
, c⁄° 
Pñ
* 
∂™e
, 
UI¡
 
n
)

48 
UCh¨
 
buf
[64/
OUTPUT_BITDEPTH_DIV8
][OUTPUT_BITDEPTH_DIV8];

49 
UI¡
 
i
 = 0; i < 
n
; i++)

51 
Pñ
 
≥l
 = 
∂™e
[
i
];

53 
UI¡
 
d
 = 0; d < 
OUTPUT_BITDEPTH_DIV8
; d++)

55 
buf
[
i
][
d
] = 
≥l
 >> (d*8);

58 
md5
.
	`upd©e
((
UCh¨
*)
buf
, 
n
 * 
OUTPUT_BITDEPTH_DIV8
);

59 
	}
}

65 
	gãm∂©e
<
UI¡
 
	gOUTPUT_BITDEPTH_DIV8
>

66 
Void
 
	$md5_∂™e
(
MD5
& 
md5
, c⁄° 
Pñ
* 
∂™e
, 
UI¡
 
width
, UI¡ 
height
, UI¡ 
°ride
)

70 
UI¡
 
N
 = 32;

71 
UI¡
 
width_modN
 = 
width
 % 
N
;

72 
UI¡
 
width_Àss_modN
 = 
width
 - 
width_modN
;

74 
UI¡
 
y
 = 0; y < 
height
; y++)

78 
UI¡
 
x
 = 0; x < 
width_Àss_modN
; x +
N
)

80 
md5_block
<
OUTPUT_BITDEPTH_DIV8
>(
md5
, &
∂™e
[
y
*
°ride
 + 
x
], 
N
);

84 
md5_block
<
OUTPUT_BITDEPTH_DIV8
>(
md5
, &
∂™e
[
y
*
°ride
 + 
width_Àss_modN
], 
width_modN
);

86 
	}
}

89 
UI¡
 
	$compCRC
(
I¡
 
bôdïth
, c⁄° 
Pñ
* 
∂™e
, 
UI¡
 
width
, UI¡ 
height
, UI¡ 
°ride
, 
TComPi˘uªHash
 &
dige°
)

91 
UI¡
 
¸cMsb
;

92 
UI¡
 
bôVÆ
;

93 
UI¡
 
¸cVÆ
 = 0xffff;

94 
UI¡
 
bôIdx
;

95 
UI¡
 
y
 = 0; y < 
height
; y++)

97 
UI¡
 
x
 = 0; x < 
width
; x++)

100 
bôIdx
=0; bitIdx<8; bitIdx++)

102 
¸cMsb
 = (
¸cVÆ
 >> 15) & 1;

103 
bôVÆ
 = (
∂™e
[
y
*
°ride
+
x
] >> (7 - 
bôIdx
)) & 1;

104 
¸cVÆ
 = (((¸cVÆ << 1Ë+ 
bôVÆ
Ë& 0xffffË^ (
¸cMsb
 * 0x1021);

107 if(
bôdïth
 > 8)

109 
bôIdx
=0; bitIdx<8; bitIdx++)

111 
¸cMsb
 = (
¸cVÆ
 >> 15) & 1;

112 
bôVÆ
 = (
∂™e
[
y
*
°ride
+
x
] >> (15 - 
bôIdx
)) & 1;

113 
¸cVÆ
 = (((¸cVÆ << 1Ë+ 
bôVÆ
Ë& 0xffffË^ (
¸cMsb
 * 0x1021);

118 
bôIdx
=0; bitIdx<16; bitIdx++)

120 
¸cMsb
 = (
¸cVÆ
 >> 15) & 1;

121 
¸cVÆ
 = ((¸cVÆ << 1Ë& 0xffffË^ (
¸cMsb
 * 0x1021);

124 
dige°
.
hash
.
	`push_back
((
¸cVÆ
>>8) & 0xff);

125 
dige°
.
hash
.
	`push_back
–
¸cVÆ
 & 0xff);

127 
	}
}

129 
UI¡
 
	$ˇlcCRC
(c⁄° 
TComPicYuv
& 
pic
, 
TComPi˘uªHash
 &
dige°
, c⁄° 
BôDïths
 &
bôDïths
)

131 
UI¡
 
dige°Lí
=0;

132 
dige°
.
hash
.
	`˛ór
();

133 
I¡
 
ch™
=0; ch™<
pic
.
	`gëNumbîVÆidComp⁄íts
(); chan++)

135 c⁄° 
Comp⁄ítID
 
compID
=
	`Comp⁄ítID
(
ch™
);

136 
dige°Lí
=
	`compCRC
(
bôDïths
.
ªc⁄
[
	`toCh™√lTy≥
(
compID
)], 
pic
.
	`gëAddr
(compID),Öic.
	`gëWidth
(compID),Öic.
	`gëHeight
(compID),Öic.
	`gëSåide
(compID), 
dige°
);

138  
dige°Lí
;

139 
	}
}

141 
UI¡
 
	$compChecksum
(
I¡
 
bôdïth
, c⁄° 
Pñ
* 
∂™e
, 
UI¡
 
width
, UI¡ 
height
, UI¡ 
°ride
, 
TComPi˘uªHash
 &
dige°
, c⁄° 
BôDïths
 & )

143 
UI¡
 
checksum
 = 0;

144 
UCh¨
 
x‹_mask
;

146 
UI¡
 
y
 = 0; y < 
height
; y++)

148 
UI¡
 
x
 = 0; x < 
width
; x++)

150 
x‹_mask
 = (
x
 & 0xffË^ (
y
 & 0xff) ^ (x >> 8) ^ (y >> 8);

151 
checksum
 = (checksum + ((
∂™e
[
y
*
°ride
+
x
] & 0xffË^ 
x‹_mask
)) & 0xffffffff;

153 if(
bôdïth
 > 8)

155 
checksum
 = (checksum + ((
∂™e
[
y
*
°ride
+
x
]>>8Ë^ 
x‹_mask
)) & 0xffffffff;

160 
dige°
.
hash
.
	`push_back
((
checksum
>>24) & 0xff);

161 
dige°
.
hash
.
	`push_back
((
checksum
>>16) & 0xff);

162 
dige°
.
hash
.
	`push_back
((
checksum
>>8) & 0xff);

163 
dige°
.
hash
.
	`push_back
–
checksum
 & 0xff);

165 
	}
}

167 
UI¡
 
	$ˇlcChecksum
(c⁄° 
TComPicYuv
& 
pic
, 
TComPi˘uªHash
 &
dige°
, c⁄° 
BôDïths
 &
bôDïths
)

169 
UI¡
 
dige°Lí
=0;

170 
dige°
.
hash
.
	`˛ór
();

171 
I¡
 
ch™
=0; ch™<
pic
.
	`gëNumbîVÆidComp⁄íts
(); chan++)

173 c⁄° 
Comp⁄ítID
 
compID
=
	`Comp⁄ítID
(
ch™
);

174 
dige°Lí
=
	`compChecksum
(
bôDïths
.
ªc⁄
[
	`toCh™√lTy≥
(
compID
)], 
pic
.
	`gëAddr
(compID),Öic.
	`gëWidth
(compID),Öic.
	`gëHeight
(compID),Öic.
	`gëSåide
(compID), 
dige°
, bitDepths);

176  
dige°Lí
;

177 
	}
}

185 
UI¡
 
	$ˇlcMD5
(c⁄° 
TComPicYuv
& 
pic
, 
TComPi˘uªHash
 &
dige°
, c⁄° 
BôDïths
 &
bôDïths
)

188 
	`Void
 (*
	tMD5Pœ√Func
)(
	tMD5
&, c⁄° 
	tPñ
*, 
	tUI¡
, UInt, UInt);

189 
MD5Pœ√Func
 
md5_∂™e_func
;

191 
MD5
 
md5
[
MAX_NUM_COMPONENT
];

193 
dige°
.
hash
.
	`˛ór
();

194 
I¡
 
ch™
=0; ch™<
pic
.
	`gëNumbîVÆidComp⁄íts
(); chan++)

196 c⁄° 
Comp⁄ítID
 
compID
=
	`Comp⁄ítID
(
ch™
);

197 
md5_∂™e_func
 = 
bôDïths
.
ªc⁄
[
	`toCh™√lTy≥
(
compID
)] <8 ? (
MD5Pœ√Func
)
md5_∂™e
<1> : (MD5PlaneFunc)md5_plane<2>;

198 
UCh¨
 
tmp_dige°
[
MD5_DIGEST_STRING_LENGTH
];

199 
	`md5_∂™e_func
(
md5
[
compID
], 
pic
.
	`gëAddr
(compID),Öic.
	`gëWidth
(compID),Öic.
	`gëHeight
(compID),Öic.
	`gëSåide
(compID));

200 
md5
[
compID
].
	`föÆize
(
tmp_dige°
);

201 
UI¡
 
i
=0; i<
MD5_DIGEST_STRING_LENGTH
; i++)

203 
dige°
.
hash
.
	`push_back
(
tmp_dige°
[
i
]);

207 
	}
}

209 
	g°d
::
°rög
 
	$hashToSåög
(c⁄° 
TComPi˘uªHash
 &
dige°
, 
I¡
 
numCh¨
)

211 c⁄° 
TCh¨
* 
hex
 = "0123456789abcdef";

212 
°d
::
°rög
 
ªsu…
;

214 
I¡
 
pos
=0;Öos<
	`I¡
(
dige°
.
hash
.
	`size
());Öos++)

216 i‡((
pos
 % 
numCh¨
) == 0 &&Öos!=0 )

218 
ªsu…
 += ',';

220 
ªsu…
 +
hex
[
dige°
.
hash
[
pos
] >> 4];

221 
ªsu…
 +
hex
[
dige°
.
hash
[
pos
] & 0xf];

224  
ªsu…
;

225 
	}
}

	@TComPrediction.cpp

38 
	~<mem‹y.h
>

39 
	~"TComPªdi˘i⁄.h
"

40 
	~"TComPic.h
"

41 
	~"TComTU.h
"

50 c⁄° 
UCh¨
 
	gTComPªdi˘i⁄
::
m_aucI¡øFûãr
[
MAX_NUM_CHANNEL_TYPE
][
MAX_INTRA_FILTER_DEPTHS
] =

73 
	gTComPªdi˘i⁄
::
	$TComPªdi˘i⁄
()

74 : 
	`m_pLumaRecBuf„r
(0)

75 , 
	$m_iLumaRecSåide
(0)

77 
UI¡
 
ch
=0; ch<
MAX_NUM_COMPONENT
; ch++)

79 
UI¡
 
buf
=0; buf<2; buf++)

81 
m_piYuvExt
[
ch
][
buf
] = 
NULL
;

84 
	}
}

86 
	gTComPªdi˘i⁄
::~
	$TComPªdi˘i⁄
()

88 
	`de°roy
();

89 
	}
}

91 
Void
 
	gTComPªdi˘i⁄
::
	$de°roy
()

93 
UI¡
 
ch
=0; ch<
MAX_NUM_COMPONENT
; ch++)

95 
UI¡
 
buf
=0; buf<
NUM_PRED_BUF
; buf++)

97 
dñëe
 [] 
m_piYuvExt
[
ch
][
buf
];

98 
m_piYuvExt
[
ch
][
buf
] = 
NULL
;

102 
UI¡
 
i
=0; i<
NUM_REF_PIC_LIST_01
; i++)

104 
m_acYuvPªd
[
i
].
	`de°roy
();

107 
m_cYuvPªdTemp
.
	`de°roy
();

109 if–
m_pLumaRecBuf„r
 )

111 
dñëe
 [] 
m_pLumaRecBuf„r
;

112 
m_pLumaRecBuf„r
 = 0;

114 
m_iLumaRecSåide
 = 0;

116 
UI¡
 
i
 = 0; i < 
LUMA_INTERPOLATION_FILTER_SUB_SAMPLE_POSITIONS
; i++)

118 
UI¡
 
j
 = 0; j < 
LUMA_INTERPOLATION_FILTER_SUB_SAMPLE_POSITIONS
; j++)

120 
m_fûãªdBlock
[
i
][
j
].
	`de°roy
();

122 
m_fûãªdBlockTmp
[
i
].
	`de°roy
();

124 
	}
}

126 
Void
 
	gTComPªdi˘i⁄
::
	$öôTempBuff
(
ChromaF‹m©
 
chromaF‹m©IDC
)

129 if–
m_piYuvExt
[
COMPONENT_Y
][
PRED_BUF_UNFILTERED
] !
NULL
 && 
m_cYuvPªdTemp
.
	`gëChromaF‹m©
()!=
chromaF‹m©IDC
)

131 
	`de°roy
();

134 if–
m_piYuvExt
[
COMPONENT_Y
][
PRED_BUF_UNFILTERED
] =
NULL
 )

136 
I¡
 
extWidth
 = 
MAX_CU_SIZE
 + 16;

137 
I¡
 
extHeight
 = 
MAX_CU_SIZE
 + 1;

139 
UI¡
 
i
 = 0; i < 
LUMA_INTERPOLATION_FILTER_SUB_SAMPLE_POSITIONS
; i++)

141 
m_fûãªdBlockTmp
[
i
].
	`¸óã
(
extWidth
, 
extHeight
 + 7, 
chromaF‹m©IDC
);

142 
UI¡
 
j
 = 0; j < 
LUMA_INTERPOLATION_FILTER_SUB_SAMPLE_POSITIONS
; j++)

144 
m_fûãªdBlock
[
i
][
j
].
	`¸óã
(
extWidth
, 
extHeight
, 
chromaF‹m©IDC
);

148 
m_iYuvExtSize
 = (
MAX_CU_SIZE
*2+1) * (MAX_CU_SIZE*2+1);

149 
UI¡
 
ch
=0; ch<
MAX_NUM_COMPONENT
; ch++)

151 
UI¡
 
buf
=0; buf<
NUM_PRED_BUF
; buf++)

153 
m_piYuvExt
[
ch
][
buf
] = 
√w
 
Pñ
[ 
m_iYuvExtSize
 ];

158 
UI¡
 
i
=0; i<
NUM_REF_PIC_LIST_01
; i++)

160 
m_acYuvPªd
[
i
] .
	`¸óã
–
MAX_CU_SIZE
, MAX_CU_SIZE, 
chromaF‹m©IDC
 );

163 
m_cYuvPªdTemp
.
	`¸óã
–
MAX_CU_SIZE
, MAX_CU_SIZE, 
chromaF‹m©IDC
 );

167 i‡(
m_iLumaRecSåide
 !(
MAX_CU_SIZE
>>1) + 1)

169 
m_iLumaRecSåide
 = (
MAX_CU_SIZE
>>1) + 1;

170 i‡(!
m_pLumaRecBuf„r
)

172 
m_pLumaRecBuf„r
 = 
√w
 
Pñ
[ 
m_iLumaRecSåide
 * m_iLumaRecStride ];

175 
	}
}

183 
Pñ
 
	gTComPªdi˘i⁄
::
	$¥edI¡øGëPªdVÆDC
–c⁄° 
Pñ
* 
pSrc
, 
I¡
 
iSrcSåide
, 
UI¡
 
iWidth
, UI¡ 
iHeight
)

185 
	`as£π
(
iWidth
 > 0 && 
iHeight
 > 0);

186 
I¡
 
iInd
, 
iSum
 = 0;

187 
Pñ
 
pDcVÆ
;

189 
iInd
 = 0;iInd < 
iWidth
;iInd++)

191 
iSum
 +
pSrc
[
iInd
-
iSrcSåide
];

193 
iInd
 = 0;iInd < 
iHeight
;iInd++)

195 
iSum
 +
pSrc
[
iInd
*
iSrcSåide
-1];

198 
pDcVÆ
 = (
iSum
 + 
iWidth
Ë/ (iWidth + 
iHeight
);

200  
pDcVÆ
;

201 
	}
}

229 
Void
 
	gTComPªdi˘i⁄
::
	$xPªdI¡øAng
–
I¡
 
bôDïth
,

230 c⁄° 
Pñ
* 
pSrc
, 
I¡
 
§cSåide
,

231 
Pñ
* 
pTrueD°
, 
I¡
 
d°SåideTrue
,

232 
UI¡
 
uiWidth
, UI¡ 
uiHeight
, 
Ch™√lTy≥
 
ch™√lTy≥
,

233 
UI¡
 
dúMode
, c⁄° 
Boﬁ
 
bE«bÀEdgeFûãrs


236 
I¡
 
width
=
	`I¡
(
uiWidth
);

237 
I¡
 
height
=
	`I¡
(
uiHeight
);

240 
	`as£π
–
dúMode
 !
PLANAR_IDX
 );

241 c⁄° 
Boﬁ
 
modeDC
 = 
dúMode
==
DC_IDX
;

244 i‡(
modeDC
)

246 c⁄° 
Pñ
 
dcvÆ
 = 
	`¥edI¡øGëPªdVÆDC
(
pSrc
, 
§cSåide
, 
width
, 
height
);

248 
I¡
 
y
=
height
;y>0;y--, 
pTrueD°
+=
d°SåideTrue
)

250 
I¡
 
x
=0; x<
width
;)

252 
pTrueD°
[
x
++] = 
dcvÆ
;

258 c⁄° 
Boﬁ
 
bIsModeVî
 = (
dúMode
 >= 18);

259 c⁄° 
I¡
 
öåaPªdAngÀMode
 = (
bIsModeVî
Ë? (I¡)
dúMode
 - 
VER_IDX
 : -((I¡)dúModê- 
HOR_IDX
);

260 c⁄° 
I¡
 
absAngMode
 = 
	`abs
(
öåaPªdAngÀMode
);

261 c⁄° 
I¡
 
signAng
 = 
öåaPªdAngÀMode
 < 0 ? -1 : 1;

262 c⁄° 
Boﬁ
 
edgeFûãr
 = 
bE«bÀEdgeFûãrs
 && 
	`isLuma
(
ch™√lTy≥
Ë&& (
width
 <
MAXIMUM_INTRA_FILTERED_WIDTH
Ë&& (
height
 <
MAXIMUM_INTRA_FILTERED_HEIGHT
);

265 c⁄° 
I¡
 
™gTabÀ
[9] = {0, 2, 5, 9, 13, 17, 21, 26, 32};

266 c⁄° 
I¡
 
övAngTabÀ
[9] = {0, 4096, 1638, 910, 630, 482, 390, 315, 256};

267 
I¡
 
övAngÀ
 = 
övAngTabÀ
[
absAngMode
];

268 
I¡
 
absAng
 = 
™gTabÀ
[
absAngMode
];

269 
I¡
 
öåaPªdAngÀ
 = 
signAng
 * 
absAng
;

271 
Pñ
* 
ªfMaö
;

272 
Pñ
* 
ªfSide
;

274 
Pñ
 
ªfAbove
[2*
MAX_CU_SIZE
+1];

275 
Pñ
 
ªfLe·
[2*
MAX_CU_SIZE
+1];

278 i‡(
öåaPªdAngÀ
 < 0)

280 c⁄° 
I¡
 
ªfMaöOff£tPªSˇÀ
 = (
bIsModeVî
 ? 
height
 : 
width
 ) - 1;

281 c⁄° 
I¡
 
ªfMaöOff£t
 = 
height
 - 1;

282 
I¡
 
x
=0;x<
width
+1;x++)

284 
ªfAbove
[
x
+
ªfMaöOff£t
] = 
pSrc
[x-
§cSåide
-1];

286 
I¡
 
y
=0;y<
height
+1;y++)

288 
ªfLe·
[
y
+
ªfMaöOff£t
] = 
pSrc
[(y-1)*
§cSåide
-1];

290 
ªfMaö
 = (
bIsModeVî
 ? 
ªfAbove
 : 
ªfLe·
Ë+ 
ªfMaöOff£t
;

291 
ªfSide
 = (
bIsModeVî
 ? 
ªfLe·
 : 
ªfAbove
Ë+ 
ªfMaöOff£t
;

294 
I¡
 
övAngÀSum
 = 128;

295 
I¡
 
k
=-1; k>(
ªfMaöOff£tPªSˇÀ
+1)*
öåaPªdAngÀ
>>5; k--)

297 
övAngÀSum
 +
övAngÀ
;

298 
ªfMaö
[
k
] = 
ªfSide
[
övAngÀSum
>>8];

303 
I¡
 
x
=0;x<2*
width
+1;x++)

305 
ªfAbove
[
x
] = 
pSrc
[x-
§cSåide
-1];

307 
I¡
 
y
=0;y<2*
height
+1;y++)

309 
ªfLe·
[
y
] = 
pSrc
[(y-1)*
§cSåide
-1];

311 
ªfMaö
 = 
bIsModeVî
 ? 
ªfAbove
 : 
ªfLe·
 ;

312 
ªfSide
 = 
bIsModeVî
 ? 
ªfLe·
 : 
ªfAbove
;

316 
Pñ
 
ãmpAºay
[
MAX_CU_SIZE
*MAX_CU_SIZE];

317 c⁄° 
I¡
 
d°Såide
 = 
bIsModeVî
 ? 
d°SåideTrue
 : 
MAX_CU_SIZE
;

318 
Pñ
 *
pD°
 = 
bIsModeVî
 ? 
pTrueD°
 : 
ãmpAºay
;

319 i‡(!
bIsModeVî
)

321 
°d
::
	`sw≠
(
width
, 
height
);

324 i‡(
öåaPªdAngÀ
 == 0)

326 
I¡
 
y
=0;y<
height
;y++)

328 
I¡
 
x
=0;x<
width
;x++)

330 
pD°
[
y
*
d°Såide
+
x
] = 
ªfMaö
[x+1];

334 i‡(
edgeFûãr
)

336 
I¡
 
y
=0;y<
height
;y++)

338 
pD°
[
y
*
d°Såide
] = 
	`Clù3
 (0, ((1 << 
bôDïth
Ë- 1),ÖD°[y*d°Såide] + (–
ªfSide
[y+1] -ÑefSide[0] ) >> 1) );

344 
Pñ
 *
pD°y
=
pD°
;

346 
I¡
 
y
=0, 
dñèPos
=
öåaPªdAngÀ
; y<
height
; y++, dñèPos+=öåaPªdAngÀ, 
pD°y
+=
d°Såide
)

348 c⁄° 
I¡
 
dñèI¡
 = 
dñèPos
 >> 5;

349 c⁄° 
I¡
 
dñèFø˘
 = 
dñèPos
 & (32 - 1);

351 i‡(
dñèFø˘
)

354 c⁄° 
Pñ
 *
pRM
=
ªfMaö
+
dñèI¡
+1;

355 
I¡
 
œ°RefMaöPñ
=*
pRM
++;

356 
I¡
 
x
=0;x<
width
;
pRM
++,x++)

358 
I¡
 
thisRefMaöPñ
=*
pRM
;

359 
pD°y
[
x
+0] = (
Pñ
Ë–((32-
dñèFø˘
)*
œ°RefMaöPñ
 + dñèFø˘*
thisRefMaöPñ
 +16) >> 5 );

360 
œ°RefMaöPñ
=
thisRefMaöPñ
;

366 
I¡
 
x
=0;x<
width
; x++)

368 
pD°y
[
x
] = 
ªfMaö
[x+
dñèI¡
+1];

375 i‡(!
bIsModeVî
)

377 
I¡
 
y
=0; y<
height
; y++)

379 
I¡
 
x
=0; x<
width
; x++)

381 
pTrueD°
[
x
*
d°SåideTrue
] = 
pD°
[x];

383 
pTrueD°
++;

384 
pD°
+=
d°Såide
;

388 
	}
}

390 
Void
 
	gTComPªdi˘i⁄
::
	$¥edI¡øAng
–c⁄° 
Comp⁄ítID
 
compID
, 
UI¡
 
uiDúMode
, 
Pñ
* 
piOrg
 , UI¡ 
uiOrgSåide
, Pñ* 
piPªd
, UI¡ 
uiSåide
, 
TComTU
 &
rTu
, c⁄° 
Boﬁ
 
bU£FûãªdPªdSam∂es
, c⁄° Boﬁ 
bU£Los¶essDPCM
 )

392 c⁄° 
Ch™√lTy≥
 
ch™√lTy≥
 = 
	`toCh™√lTy≥
(
compID
);

393 c⁄° 
TComRe˘™gÀ
 &
ª˘
 = 
rTu
.
	`gëRe˘
(
	`isLuma
(
compID
Ë? 
COMPONENT_Y
 : 
COMPONENT_Cb
);

394 c⁄° 
I¡
 
iWidth
 = 
ª˘
.
width
;

395 c⁄° 
I¡
 
iHeight
 = 
ª˘
.
height
;

397 
	`as£π
–
g_aucC⁄vîtToBô
[ 
iWidth
 ] >= 0 );

398 
	`as£π
–
g_aucC⁄vîtToBô
[ 
iWidth
 ] <= 5 );

401 
Pñ
 *
pD°
 = 
piPªd
;

404 c⁄° 
I¡
 
sw
 = (2 * 
iWidth
 + 1);

406 i‡–
bU£Los¶essDPCM
 )

408 c⁄° 
Pñ
 *
±rSrc
 = 
	`gëPªdi˘‹På
–
compID
, 
Ál£
 );

410 i‡(
uiDúMode
==
HOR_IDX
)

414 
I¡
 
y
=0; y<
iHeight
; y++)

416 
piPªd
[
y
*
uiSåide
+0] = 
±rSrc
[(y+1)*
sw
];

418 i‡(
piOrg
!=0)

420 
piPªd
+=1;

421 
I¡
 
y
=0; y<
iHeight
; y++, 
piPªd
+=
uiSåide
, 
piOrg
+=
uiOrgSåide
)

423 
	`mem˝y
(
piPªd
, 
piOrg
, (
iWidth
-1)*(
Pñ
));

431 
I¡
 
x
=0; x<
iWidth
; x++)

433 
piPªd
[
x
] = 
±rSrc
[x+1];

435 i‡(
piOrg
!=0)

437 
piPªd
+=
uiSåide
;

438 
I¡
 
y
=1; y<
iHeight
; y++, 
piPªd
+=
uiSåide
, 
piOrg
+=
uiOrgSåide
)

440 
	`mem˝y
(
piPªd
, 
piOrg
, 
iWidth
*(
Pñ
));

447 c⁄° 
Pñ
 *
±rSrc
 = 
	`gëPªdi˘‹På
–
compID
, 
bU£FûãªdPªdSam∂es
 );

449 i‡–
uiDúMode
 =
PLANAR_IDX
 )

451 
	`xPªdI¡øPœ«r
–
±rSrc
+
sw
+1, sw, 
pD°
, 
uiSåide
, 
iWidth
, 
iHeight
 );

456 
TComD©aCU
 *c⁄° 
pcCU
 = 
rTu
.
	`gëCU
();

457 c⁄° 
UI¡
 
uiAbsP¨tIdx
 = 
rTu
.
	`GëAbsP¨tIdxTU
();

458 c⁄° 
Boﬁ
 
íabÀEdgeFûãrs
 = !(
pcCU
->
	`isRDPCME«bÀd
(
uiAbsP¨tIdx
Ë&&ÖcCU->
	`gëCUTønsqu™tBy∑ss
(uiAbsPartIdx));

459 #i‡
O0043_BEST_EFFORT_DECODING


460 c⁄° 
I¡
 
ch™√lsBôDïthF‹Pªdi˘i⁄
 = 
rTu
.
	`gëCU
()->
	`gëSli˚
()->
	`gëSPS
()->
	`gëSåómBôDïth
(
ch™√lTy≥
);

462 c⁄° 
I¡
 
ch™√lsBôDïthF‹Pªdi˘i⁄
 = 
rTu
.
	`gëCU
()->
	`gëSli˚
()->
	`gëSPS
()->
	`gëBôDïth
(
ch™√lTy≥
);

464 
	`xPªdI¡øAng
–
ch™√lsBôDïthF‹Pªdi˘i⁄
, 
±rSrc
+
sw
+1, sw, 
pD°
, 
uiSåide
, 
iWidth
, 
iHeight
, 
ch™√lTy≥
, 
uiDúMode
, 
íabÀEdgeFûãrs
 );

466 if–
uiDúMode
 =
DC_IDX
 )

468 
	`xDCPªdFûãrög
–
±rSrc
+
sw
+1, sw, 
pD°
, 
uiSåide
, 
iWidth
, 
iHeight
, 
ch™√lTy≥
 );

473 
	}
}

478 
Boﬁ
 
	gTComPªdi˘i⁄
::
	$xCheckIdítiˇlMŸi⁄
 ( 
TComD©aCU
* 
pcCU
, 
UI¡
 
P¨tAddr
 )

480 if–
pcCU
->
	`gëSli˚
()->
	`isI¡îB
(Ë&& !pcCU->gëSli˚()->
	`gëPPS
()->
	`gëWPBiPªd
() )

482 if–
pcCU
->
	`gëCUMvFõld
(
REF_PIC_LIST_0
)->
	`gëRefIdx
(
P¨tAddr
Ë>0 &&ÖcCU->gëCUMvFõld(
REF_PIC_LIST_1
)->getRefIdx(PartAddr) >= 0)

484 
I¡
 
RefPOCL0
 = 
pcCU
->
	`gëSli˚
()->
	`gëRefPic
(
REF_PIC_LIST_0
,ÖcCU->
	`gëCUMvFõld
(REF_PIC_LIST_0)->
	`gëRefIdx
(
P¨tAddr
))->
	`gëPOC
();

485 
I¡
 
RefPOCL1
 = 
pcCU
->
	`gëSli˚
()->
	`gëRefPic
(
REF_PIC_LIST_1
,ÖcCU->
	`gëCUMvFõld
(REF_PIC_LIST_1)->
	`gëRefIdx
(
P¨tAddr
))->
	`gëPOC
();

486 if(
RefPOCL0
 =
RefPOCL1
 && 
pcCU
->
	`gëCUMvFõld
(
REF_PIC_LIST_0
)->
	`gëMv
(
P¨tAddr
Ë=pcCU->gëCUMvFõld(
REF_PIC_LIST_1
)->getMv(PartAddr))

488  
åue
;

492  
Ál£
;

493 
	}
}

495 
Void
 
	gTComPªdi˘i⁄
::
	$mŸi⁄Com≥nßti⁄
 ( 
TComD©aCU
* 
pcCU
, 
TComYuv
* 
pcYuvPªd
, 
RefPicLi°
 
eRefPicLi°
, 
I¡
 
iP¨tIdx
 )

497 
I¡
 
iWidth
;

498 
I¡
 
iHeight
;

499 
UI¡
 
uiP¨tAddr
;

500 c⁄° 
TComSli˚
 *
pSli˚
 = 
pcCU
->
	`gëSli˚
();

501 c⁄° 
Sli˚Ty≥
 
¶i˚Ty≥
 = 
pSli˚
->
	`gëSli˚Ty≥
();

502 c⁄° 
TComPPS
 &
µs
 = *(
pSli˚
->
	`gëPPS
());

504 i‡–
iP¨tIdx
 >= 0 )

506 
pcCU
->
	`gëP¨tIndexAndSize
–
iP¨tIdx
, 
uiP¨tAddr
, 
iWidth
, 
iHeight
 );

507 i‡–
eRefPicLi°
 !
REF_PIC_LIST_X
 )

509 if–(
¶i˚Ty≥
 =
P_SLICE
 && 
µs
.
	`gëU£WP
()Ë|| (¶i˚Ty≥ =
B_SLICE
 &&Öps.
	`gëWPBiPªd
()))

511 
	`xPªdI¡îUni
 (
pcCU
, 
uiP¨tAddr
, 
iWidth
, 
iHeight
, 
eRefPicLi°
, 
pcYuvPªd
, 
åue
 );

512 
	`xWeighãdPªdi˘i⁄Uni
–
pcCU
, 
pcYuvPªd
, 
uiP¨tAddr
, 
iWidth
, 
iHeight
, 
eRefPicLi°
,ÖcYuvPred );

516 
	`xPªdI¡îUni
 (
pcCU
, 
uiP¨tAddr
, 
iWidth
, 
iHeight
, 
eRefPicLi°
, 
pcYuvPªd
 );

521 i‡–
	`xCheckIdítiˇlMŸi⁄
–
pcCU
, 
uiP¨tAddr
 ) )

523 
	`xPªdI¡îUni
 (
pcCU
, 
uiP¨tAddr
, 
iWidth
, 
iHeight
, 
REF_PIC_LIST_0
, 
pcYuvPªd
 );

527 
	`xPªdI¡îBi
 (
pcCU
, 
uiP¨tAddr
, 
iWidth
, 
iHeight
, 
pcYuvPªd
 );

533  
iP¨tIdx
 = 0; iP¨tIdx < 
pcCU
->
	`gëNumP¨tôi⁄s
(); iPartIdx++ )

535 
pcCU
->
	`gëP¨tIndexAndSize
–
iP¨tIdx
, 
uiP¨tAddr
, 
iWidth
, 
iHeight
 );

537 i‡–
eRefPicLi°
 !
REF_PIC_LIST_X
 )

539 if–(
¶i˚Ty≥
 =
P_SLICE
 && 
µs
.
	`gëU£WP
()Ë|| (¶i˚Ty≥ =
B_SLICE
 &&Öps.
	`gëWPBiPªd
()))

541 
	`xPªdI¡îUni
 (
pcCU
, 
uiP¨tAddr
, 
iWidth
, 
iHeight
, 
eRefPicLi°
, 
pcYuvPªd
, 
åue
 );

542 
	`xWeighãdPªdi˘i⁄Uni
–
pcCU
, 
pcYuvPªd
, 
uiP¨tAddr
, 
iWidth
, 
iHeight
, 
eRefPicLi°
,ÖcYuvPred );

546 
	`xPªdI¡îUni
 (
pcCU
, 
uiP¨tAddr
, 
iWidth
, 
iHeight
, 
eRefPicLi°
, 
pcYuvPªd
 );

551 i‡–
	`xCheckIdítiˇlMŸi⁄
–
pcCU
, 
uiP¨tAddr
 ) )

553 
	`xPªdI¡îUni
 (
pcCU
, 
uiP¨tAddr
, 
iWidth
, 
iHeight
, 
REF_PIC_LIST_0
, 
pcYuvPªd
 );

557 
	`xPªdI¡îBi
 (
pcCU
, 
uiP¨tAddr
, 
iWidth
, 
iHeight
, 
pcYuvPªd
 );

562 
	}
}

564 
Void
 
	gTComPªdi˘i⁄
::
	$xPªdI¡îUni
 ( 
TComD©aCU
* 
pcCU
, 
UI¡
 
uiP¨tAddr
, 
I¡
 
iWidth
, I¡ 
iHeight
, 
RefPicLi°
 
eRefPicLi°
, 
TComYuv
* 
pcYuvPªd
, 
Boﬁ
 
bi
 )

566 
I¡
 
iRefIdx
 = 
pcCU
->
	`gëCUMvFõld
–
eRefPicLi°
 )->
	`gëRefIdx
–
uiP¨tAddr
 ); 
	`as£π
 (iRefIdx >= 0);

567 
TComMv
 
cMv
 = 
pcCU
->
	`gëCUMvFõld
–
eRefPicLi°
 )->
	`gëMv
–
uiP¨tAddr
 );

568 
pcCU
->
	`˛ùMv
(
cMv
);

570 
UI¡
 
comp
=
COMPONENT_Y
; comp<
pcYuvPªd
->
	`gëNumbîVÆidComp⁄íts
(); comp++)

572 c⁄° 
Comp⁄ítID
 
compID
=
	`Comp⁄ítID
(
comp
);

573 
	`xPªdI¡îBlk
 (
compID
, 
pcCU
,ÖcCU->
	`gëSli˚
()->
	`gëRefPic
–
eRefPicLi°
, 
iRefIdx
 )->
	`gëPicYuvRec
(), 
uiP¨tAddr
, &
cMv
, 
iWidth
, 
iHeight
, 
pcYuvPªd
, 
bi
,ÖcCU->gëSli˚()->
	`gëSPS
()->
	`gëBôDïth
(
	`toCh™√lTy≥
(compID)) );

575 
	}
}

577 
Void
 
	gTComPªdi˘i⁄
::
	$xPªdI¡îBi
 ( 
TComD©aCU
* 
pcCU
, 
UI¡
 
uiP¨tAddr
, 
I¡
 
iWidth
, I¡ 
iHeight
, 
TComYuv
* 
pcYuvPªd
 )

579 
TComYuv
* 
pcMbYuv
;

580 
I¡
 
iRefIdx
[
NUM_REF_PIC_LIST_01
] = {-1, -1};

582  
UI¡
 
ªfLi°
 = 0;ÑefLi° < 
NUM_REF_PIC_LIST_01
;ÑefList++ )

584 
RefPicLi°
 
eRefPicLi°
 = (
ªfLi°
 ? 
REF_PIC_LIST_1
 : 
REF_PIC_LIST_0
);

585 
iRefIdx
[
ªfLi°
] = 
pcCU
->
	`gëCUMvFõld
–
eRefPicLi°
 )->
	`gëRefIdx
–
uiP¨tAddr
 );

587 i‡–
iRefIdx
[
ªfLi°
] < 0 )

592 
	`as£π
–
iRefIdx
[
ªfLi°
] < 
pcCU
->
	`gëSli˚
()->
	`gëNumRefIdx
(
eRefPicLi°
) );

594 
pcMbYuv
 = &
m_acYuvPªd
[
ªfLi°
];

595 if–
pcCU
->
	`gëCUMvFõld
–
REF_PIC_LIST_0
 )->
	`gëRefIdx
–
uiP¨tAddr
 ) >0 &&ÖcCU->gëCUMvFõld–
REF_PIC_LIST_1
 )->getRefIdx( uiPartAddr ) >= 0 )

597 
	`xPªdI¡îUni
 ( 
pcCU
, 
uiP¨tAddr
, 
iWidth
, 
iHeight
, 
eRefPicLi°
, 
pcMbYuv
, 
åue
 );

601 i‡––
pcCU
->
	`gëSli˚
()->
	`gëPPS
()->
	`gëU£WP
(Ë&&ÖcCU->gëSli˚()->
	`gëSli˚Ty≥
(Ë=
P_SLICE
 ) ||

602 –
pcCU
->
	`gëSli˚
()->
	`gëPPS
()->
	`gëWPBiPªd
(Ë&&ÖcCU->gëSli˚()->
	`gëSli˚Ty≥
(Ë=
B_SLICE
 ) )

604 
	`xPªdI¡îUni
 ( 
pcCU
, 
uiP¨tAddr
, 
iWidth
, 
iHeight
, 
eRefPicLi°
, 
pcMbYuv
, 
åue
 );

608 
	`xPªdI¡îUni
 ( 
pcCU
, 
uiP¨tAddr
, 
iWidth
, 
iHeight
, 
eRefPicLi°
, 
pcMbYuv
 );

613 i‡–
pcCU
->
	`gëSli˚
()->
	`gëPPS
()->
	`gëWPBiPªd
(Ë&&ÖcCU->gëSli˚()->
	`gëSli˚Ty≥
(Ë=
B_SLICE
 )

615 
	`xWeighãdPªdi˘i⁄Bi
–
pcCU
, &
m_acYuvPªd
[
REF_PIC_LIST_0
], &m_acYuvPªd[
REF_PIC_LIST_1
], 
iRefIdx
[REF_PIC_LIST_0], iRefIdx[REF_PIC_LIST_1], 
uiP¨tAddr
, 
iWidth
, 
iHeight
, 
pcYuvPªd
 );

617 i‡–
pcCU
->
	`gëSli˚
()->
	`gëPPS
()->
	`gëU£WP
(Ë&&ÖcCU->gëSli˚()->
	`gëSli˚Ty≥
(Ë=
P_SLICE
 )

619 
	`xWeighãdPªdi˘i⁄Uni
–
pcCU
, &
m_acYuvPªd
[
REF_PIC_LIST_0
], 
uiP¨tAddr
, 
iWidth
, 
iHeight
, REF_PIC_LIST_0, 
pcYuvPªd
 );

623 
	`xWeighãdAvîage
–&
m_acYuvPªd
[
REF_PIC_LIST_0
], &m_acYuvPªd[
REF_PIC_LIST_1
], 
iRefIdx
[REF_PIC_LIST_0], iRefIdx[REF_PIC_LIST_1], 
uiP¨tAddr
, 
iWidth
, 
iHeight
, 
pcYuvPªd
, 
pcCU
->
	`gëSli˚
()->
	`gëSPS
()->
	`gëBôDïths
() );

625 
	}
}

643 
Void
 
	gTComPªdi˘i⁄
::
	$xPªdI¡îBlk
(c⁄° 
Comp⁄ítID
 
compID
, 
TComD©aCU
 *
cu
, 
TComPicYuv
 *
ªfPic
, 
UI¡
 
∑πAddr
, 
TComMv
 *
mv
, 
I¡
 
width
, I¡ 
height
, 
TComYuv
 *
d°Pic
, 
Boﬁ
 
bi
, c⁄° I¡ 
bôDïth
 )

645 
I¡
 
ªfSåide
 = 
ªfPic
->
	`gëSåide
(
compID
);

646 
I¡
 
d°Såide
 = 
d°Pic
->
	`gëSåide
(
compID
);

647 
I¡
 
shi·H‹
=(2+
ªfPic
->
	`gëComp⁄ítSˇÀX
(
compID
));

648 
I¡
 
shi·Vî
=(2+
ªfPic
->
	`gëComp⁄ítSˇÀY
(
compID
));

650 
I¡
 
ªfOff£t
 = (
mv
->
	`gëH‹
(Ë>> 
shi·H‹
Ë+ (mv->
	`gëVî
(Ë>> 
shi·Vî
Ë* 
ªfSåide
;

652 
Pñ
* 
ªf
 = 
ªfPic
->
	`gëAddr
(
compID
, 
cu
->
	`gëCtuRsAddr
(), cu->
	`gëZ‹dîIdxInCtu
(Ë+ 
∑πAddr
 ) + 
ªfOff£t
;

654 
Pñ
* 
d°
 = 
d°Pic
->
	`gëAddr
–
compID
, 
∑πAddr
 );

656 
I¡
 
xFøc
 = 
mv
->
	`gëH‹
(Ë& ((1<<
shi·H‹
)-1);

657 
I¡
 
yFøc
 = 
mv
->
	`gëVî
(Ë& ((1<<
shi·Vî
)-1);

658 
UI¡
 
cxWidth
 = 
width
 >> 
ªfPic
->
	`gëComp⁄ítSˇÀX
(
compID
);

659 
UI¡
 
cxHeight
 = 
height
 >> 
ªfPic
->
	`gëComp⁄ítSˇÀY
(
compID
);

661 c⁄° 
ChromaF‹m©
 
chFmt
 = 
cu
->
	`gëPic
()->
	`gëChromaF‹m©
();

663 i‡–
yFøc
 == 0 )

665 
m_if
.
	`fûãrH‹
(
compID
, 
ªf
, 
ªfSåide
, 
d°
, 
d°Såide
, 
cxWidth
, 
cxHeight
, 
xFøc
, !
bi
, 
chFmt
, 
bôDïth
);

667 i‡–
xFøc
 == 0 )

669 
m_if
.
	`fûãrVî
(
compID
, 
ªf
, 
ªfSåide
, 
d°
, 
d°Såide
, 
cxWidth
, 
cxHeight
, 
yFøc
, 
åue
, !
bi
, 
chFmt
, 
bôDïth
);

673 
I¡
 
tmpSåide
 = 
m_fûãªdBlockTmp
[0].
	`gëSåide
(
compID
);

674 
Pñ
* 
tmp
 = 
m_fûãªdBlockTmp
[0].
	`gëAddr
(
compID
);

676 c⁄° 
I¡
 
vFûãrSize
 = 
	`isLuma
(
compID
Ë? 
NTAPS_LUMA
 : 
NTAPS_CHROMA
;

678 
m_if
.
	`fûãrH‹
(
compID
, 
ªf
 - ((
vFûãrSize
>>1Ë-1)*
ªfSåide
,ÑefSåide, 
tmp
, 
tmpSåide
, 
cxWidth
, 
cxHeight
+vFûãrSize-1, 
xFøc
, 
Ál£
, 
chFmt
, 
bôDïth
);

679 
m_if
.
	`fûãrVî
(
compID
, 
tmp
 + ((
vFûãrSize
>>1Ë-1)*
tmpSåide
,ÅmpSåide, 
d°
, 
d°Såide
, 
cxWidth
, 
cxHeight
, 
yFøc
, 
Ál£
, !
bi
, 
chFmt
, 
bôDïth
);

681 
	}
}

683 
Void
 
	gTComPªdi˘i⁄
::
	$xWeighãdAvîage
–
TComYuv
* 
pcYuvSrc0
, TComYuv* 
pcYuvSrc1
, 
I¡
 
iRefIdx0
, I¡ 
iRefIdx1
, 
UI¡
 
uiP¨tIdx
, I¡ 
iWidth
, I¡ 
iHeight
, TComYuv* 
pcYuvD°
, c⁄° 
BôDïths
 &
˛ùBôDïths
 )

685 if–
iRefIdx0
 >0 && 
iRefIdx1
 >= 0 )

687 
pcYuvD°
->
	`addAvg
–
pcYuvSrc0
, 
pcYuvSrc1
, 
uiP¨tIdx
, 
iWidth
, 
iHeight
, 
˛ùBôDïths
 );

689 i‡–
iRefIdx0
 >0 && 
iRefIdx1
 < 0 )

691 
pcYuvSrc0
->
	`c›yP¨tToP¨tYuv
–
pcYuvD°
, 
uiP¨tIdx
, 
iWidth
, 
iHeight
 );

693 i‡–
iRefIdx0
 < 0 && 
iRefIdx1
 >= 0 )

695 
pcYuvSrc1
->
	`c›yP¨tToP¨tYuv
–
pcYuvD°
, 
uiP¨tIdx
, 
iWidth
, 
iHeight
 );

697 
	}
}

700 
Void
 
	gTComPªdi˘i⁄
::
	$gëMvPªdAMVP
–
TComD©aCU
* 
pcCU
, 
UI¡
 
uiP¨tIdx
, UI¡ 
uiP¨tAddr
, 
RefPicLi°
 
eRefPicLi°
, 
TComMv
& 
rcMvPªd
 )

702 
AMVPInfo
* 
pcAMVPInfo
 = 
pcCU
->
	`gëCUMvFõld
(
eRefPicLi°
)->
	`gëAMVPInfo
();

704 if–
pcAMVPInfo
->
iN
 <= 1 )

706 
rcMvPªd
 = 
pcAMVPInfo
->
m_acMvC™d
[0];

708 
pcCU
->
	`£tMVPIdxSubP¨ts
–0, 
eRefPicLi°
, 
uiP¨tAddr
, 
uiP¨tIdx
,ÖcCU->
	`gëDïth
(uiPartAddr));

709 
pcCU
->
	`£tMVPNumSubP¨ts
–
pcAMVPInfo
->
iN
, 
eRefPicLi°
, 
uiP¨tAddr
, 
uiP¨tIdx
,ÖcCU->
	`gëDïth
(uiPartAddr));

713 
	`as£π
(
pcCU
->
	`gëMVPIdx
(
eRefPicLi°
,
uiP¨tAddr
) >= 0);

714 
rcMvPªd
 = 
pcAMVPInfo
->
m_acMvC™d
[
pcCU
->
	`gëMVPIdx
(
eRefPicLi°
,
uiP¨tAddr
)];

716 
	}
}

731 
Void
 
	gTComPªdi˘i⁄
::
	$xPªdI¡øPœ«r
–c⁄° 
Pñ
* 
pSrc
, 
I¡
 
§cSåide
, Pñ* 
ΩD°
, I¡ 
d°Såide
, 
UI¡
 
width
, UI¡ 
height
 )

733 
	`as£π
(
width
 <
height
);

735 
I¡
 
À·Cﬁumn
[
MAX_CU_SIZE
+1] = {0};

736 
I¡
 
t›Row
[
MAX_CU_SIZE
+1] = {0};

737 
I¡
 
bŸtomRow
[
MAX_CU_SIZE
] = {0};

738 
I¡
 
rightCﬁumn
[
MAX_CU_SIZE
] = {0};

739 
UI¡
 
shi·1Dh‹
 = 
g_aucC⁄vîtToBô
[ 
width
 ] + 2;

740 
UI¡
 
shi·1Dvî
 = 
g_aucC⁄vîtToBô
[ 
height
 ] + 2;

743 
I¡
 
k
=0;k<
width
+1;k++)

745 
t›Row
[
k
] = 
pSrc
[k-
§cSåide
];

748 
I¡
 
k
=0; k < 
height
+1; k++)

750 
À·Cﬁumn
[
k
] = 
pSrc
[k*
§cSåide
-1];

754 
I¡
 
bŸtomLe·
 = 
À·Cﬁumn
[
height
];

755 
I¡
 
t›Right
 = 
t›Row
[
width
];

757 
I¡
 
k
=0;k<
width
;k++)

759 
bŸtomRow
[
k
] = 
bŸtomLe·
 - 
t›Row
[k];

760 
t›Row
[
k
] <<
shi·1Dvî
;

763 
I¡
 
k
=0;k<
height
;k++)

765 
rightCﬁumn
[
k
] = 
t›Right
 - 
À·Cﬁumn
[k];

766 
À·Cﬁumn
[
k
] <<
shi·1Dh‹
;

769 c⁄° 
UI¡
 
t›RowShi·
 = 0;

772 
I¡
 
y
=0;y<
height
;y++)

774 
I¡
 
h‹Pªd
 = 
À·Cﬁumn
[
y
] + 
width
;

775 
I¡
 
x
=0;x<
width
;x++)

777 
h‹Pªd
 +
rightCﬁumn
[
y
];

778 
t›Row
[
x
] +
bŸtomRow
[x];

780 
I¡
 
vîtPªd
 = ((
t›Row
[
x
] + 
t›RowShi·
)>>topRowShift);

781 
ΩD°
[
y
*
d°Såide
+
x
] = ( 
h‹Pªd
 + 
vîtPªd
 ) >> (
shi·1Dh‹
+1);

784 
	}
}

797 
Void
 
	gTComPªdi˘i⁄
::
	$xDCPªdFûãrög
–c⁄° 
Pñ
* 
pSrc
, 
I¡
 
iSrcSåide
, Pñ* 
pD°
, I¡ 
iD°Såide
, I¡ 
iWidth
, I¡ 
iHeight
, 
Ch™√lTy≥
 
ch™√lTy≥
 )

799 
I¡
 
x
, 
y
, 
iD°Såide2
, 
iSrcSåide2
;

801 i‡(
	`isLuma
(
ch™√lTy≥
Ë&& (
iWidth
 <
MAXIMUM_INTRA_FILTERED_WIDTH
Ë&& (
iHeight
 <
MAXIMUM_INTRA_FILTERED_HEIGHT
))

804 
pD°
[0] = (
Pñ
)((
pSrc
[-
iSrcSåide
] +ÖSrc[-1] + 2 *ÖDst[0] + 2) >> 2);

807  
x
 = 1; x < 
iWidth
; x++ )

809 
pD°
[
x
] = (
Pñ
)((
pSrc
[x - 
iSrcSåide
] + 3 *ÖDst[x] + 2) >> 2);

813  
y
 = 1, 
iD°Såide2
 = 
iD°Såide
, 
iSrcSåide2
 = 
iSrcSåide
-1; y < 
iHeight
; y++, iDstStride2+=iDstStride, iSrcStride2+=iSrcStride )

815 
pD°
[
iD°Såide2
] = (
Pñ
)((
pSrc
[
iSrcSåide2
] + 3 *ÖDst[iDstStride2] + 2) >> 2);

820 
	}
}

823 
Boﬁ
 
	gTComPªdi˘i⁄
::
	$U£DPCMF‹Fú°PassI¡øE°im©i⁄
(
TComTU
 &
rTu
, c⁄° 
UI¡
 
uiDúMode
)

825  (
rTu
.
	`gëCU
()->
	`isRDPCME«bÀd
‘Tu.
	`GëAbsP¨tIdxTU
()) ) &&

826 
rTu
.
	`gëCU
()->
	`gëCUTønsqu™tBy∑ss
‘Tu.
	`GëAbsP¨tIdxTU
()) &&

827 (
uiDúMode
==
HOR_IDX
 || uiDúMode==
VER_IDX
);

828 
	}
}

830 #i‡
MCTS_ENC_CHECK


832 
Void
 
	$gëRefPUP¨tPos
(
TComD©aCU
* 
pcCU
, 
TComMv
& 
cMv
, 
I¡
 
uiP¨tIdx
, I¡& 
ruiPªdXLe·
, I¡& 
ruiPªdYT›
, I¡& 
ruiPªdXRight
, I¡& 
ruiPªdYBŸtom
, I¡ 
iWidth
, I¡ 
iHeight
)

834 
ruiPªdXLe·
 = 
pcCU
->
	`gëCUPñX
();

835 
ruiPªdYT›
 = 
pcCU
->
	`gëCUPñY
();

837 
pcCU
->
	`gëP¨tôi⁄Size
(0))

839 
SIZE_2NxN
:

840 i‡(
uiP¨tIdx
 == 0)

842 
ruiPªdXRight
 = 
ruiPªdXLe·
 + 
iWidth
;

843 
ruiPªdYBŸtom
 = 
ruiPªdYT›
 + 
iHeight
;

847 
ruiPªdXRight
 = 
ruiPªdXLe·
 + 
iWidth
;

848 
ruiPªdYBŸtom
 = 
ruiPªdYT›
 + (
iHeight
 << 1);

849 
ruiPªdYT›
 +
iHeight
;

852 
SIZE_Nx2N
:

853 i‡(
uiP¨tIdx
 == 0)

855 
ruiPªdXRight
 = 
ruiPªdXLe·
 + 
iWidth
;

856 
ruiPªdYBŸtom
 = 
ruiPªdYT›
 + 
iHeight
;

860 
ruiPªdXRight
 = 
ruiPªdXLe·
 + (
iWidth
 << 1);

861 
ruiPªdYBŸtom
 = 
ruiPªdYT›
 + 
iHeight
;

862 
ruiPªdXLe·
 +
iWidth
;

865 
SIZE_NxN
:

866 i‡(
uiP¨tIdx
 == 0)

868 
ruiPªdXRight
 = 
ruiPªdXLe·
 + 
iWidth
;

869 
ruiPªdYBŸtom
 = 
ruiPªdYT›
 + 
iHeight
;

871 i‡(
uiP¨tIdx
 == 1)

873 
ruiPªdXRight
 = 
ruiPªdXLe·
 + (
iWidth
 << 1);

874 
ruiPªdYBŸtom
 = 
ruiPªdYT›
 + 
iHeight
;

875 
ruiPªdXLe·
 +
iWidth
;

877 i‡(
uiP¨tIdx
 == 2)

879 
ruiPªdXRight
 = 
ruiPªdXLe·
 + 
iWidth
;

880 
ruiPªdYBŸtom
 = 
ruiPªdYT›
 + (
iHeight
 << 1);

881 
ruiPªdYT›
 +
iHeight
;

883 i‡(
uiP¨tIdx
 == 3)

885 
ruiPªdXRight
 = 
ruiPªdXLe·
 + (
iWidth
 << 1);

886 
ruiPªdYBŸtom
 = 
ruiPªdYT›
 + (
iHeight
 << 1);

887 
ruiPªdXLe·
 +
iWidth
;

888 
ruiPªdYT›
 +
iHeight
;

891 
SIZE_2NxnU
:

892 i‡(
uiP¨tIdx
 == 0)

894 
ruiPªdXRight
 = 
ruiPªdXLe·
 + 
iWidth
;

895 
ruiPªdYBŸtom
 = 
ruiPªdYT›
 + 
iHeight
;

899 
ruiPªdXRight
 = 
ruiPªdXLe·
 + 
iWidth
;

900 
ruiPªdYBŸtom
 = 
ruiPªdYT›
 + 
pcCU
->
	`gëHeight
(0);

901 
ruiPªdYT›
 +(
iHeight
 / 3);

904 
SIZE_2NxnD
:

905 i‡(
uiP¨tIdx
 == 0)

907 
ruiPªdXRight
 = 
ruiPªdXLe·
 + 
iWidth
;

908 
ruiPªdYBŸtom
 = 
ruiPªdYT›
 + 
iHeight
;

912 
I¡
 
‹iHeight
 = 
iHeight
 << 2;

913 
ruiPªdXRight
 = 
ruiPªdXLe·
 + 
iWidth
;

914 
ruiPªdYBŸtom
 = 
ruiPªdYT›
 + 
‹iHeight
;

915 
ruiPªdYT›
 +(
‹iHeight
 >> 2) + (oriHeight >> 1);

918 
SIZE_nLx2N
:

919 i‡(
uiP¨tIdx
 == 0)

921 
ruiPªdXRight
 = 
ruiPªdXLe·
 + 
iWidth
;

922 
ruiPªdYBŸtom
 = 
ruiPªdYT›
 + 
iHeight
;

926 
ruiPªdXRight
 = 
ruiPªdXLe·
 + 
pcCU
->
	`gëWidth
(0);

927 
ruiPªdYBŸtom
 = 
ruiPªdYT›
 + 
iHeight
;

928 
ruiPªdXLe·
 +(
iWidth
 / 3);

931 
SIZE_nRx2N
:

932 i‡(
uiP¨tIdx
 == 0)

934 
ruiPªdXRight
 = 
ruiPªdXLe·
 + 
iWidth
;

935 
ruiPªdYBŸtom
 = 
ruiPªdYT›
 + 
iHeight
;

939 
I¡
 
‹iWidth
 = (
iWidth
 << 2);

940 
ruiPªdXRight
 = 
ruiPªdXLe·
 + 
‹iWidth
;

941 
ruiPªdYBŸtom
 = 
ruiPªdYT›
 + 
iHeight
;

942 
ruiPªdXLe·
 +(
‹iWidth
 >> 2) + (oriWidth >> 1);

946 
ruiPªdXRight
 = 
ruiPªdXLe·
 + 
iWidth
;

947 
ruiPªdYBŸtom
 = 
ruiPªdYT›
 + 
iHeight
;

951 
ruiPªdXLe·
 +(
cMv
.
	`gëH‹
() >> 2);

952 
ruiPªdYT›
 +(
cMv
.
	`gëVî
() >> 2);

953 
ruiPªdXRight
 +(
cMv
.
	`gëH‹
() >> 2) - 1;

954 
ruiPªdYBŸtom
 +(
cMv
.
	`gëVî
() >> 2) - 1;

955 
	}
}

957 
Boﬁ
 
	$checkMVPR™ge
(
TComMv
& 
cMv
, 
UI¡
 
˘uLígth
, UI¡ 
tûeXPosInCtus
, UI¡ 
tûeYPosInCtus
, UI¡ 
tûeWidthtInCtus
, UI¡ 
tûeHeightInCtus
, 
I¡
 
PªdXLe·
, I¡ 
PªdXRight
, I¡ 
PªdYT›
, I¡ 
PªdYBŸtom
, 
ChromaF‹m©
 
chromaF‹m©
)

960 c⁄° 
UI¡
 
LumaLTSam∂eOff£t
 = 3;

961 c⁄° 
UI¡
 
LumaRBSam∂eOff£t
 = 4;

962 c⁄° 
UI¡
 
CromaLTSam∂eoff£t
 = 1;

963 c⁄° 
UI¡
 
CromaRBSam∂eoff£t
 = 2;

966 c⁄° 
I¡
 
À·T›PñPosX
 = 
˘uLígth
 * 
tûeXPosInCtus
;

967 c⁄° 
I¡
 
À·T›PñPosY
 = 
˘uLígth
 * 
tûeYPosInCtus
;

968 c⁄° 
I¡
 
rightBŸtomPñPosX
 = ((
tûeWidthtInCtus
 + 
tûeXPosInCtus
Ë* 
˘uLígth
) - 1;

969 c⁄° 
I¡
 
rightBŸtomPñPosY
 = ((
tûeHeightInCtus
 + 
tûeYPosInCtus
Ë* 
˘uLígth
) - 1;

972 c⁄° 
Boﬁ
 
isFuŒPñH‹Luma
 = (
cMv
.
	`gëH‹
() % 4 == 0);

973 c⁄° 
Boﬁ
 
isFuŒPñVîLuma
 = (
cMv
.
	`gëVî
() % 4 == 0);

975 c⁄° 
I¡
 
lR™geXLe·
 = 
À·T›PñPosX
 + (
isFuŒPñH‹Luma
 ? 0 : 
LumaLTSam∂eOff£t
);

976 c⁄° 
I¡
 
lR™geYT›
 = 
À·T›PñPosY
 + (
isFuŒPñVîLuma
 ? 0 : 
LumaLTSam∂eOff£t
);

977 c⁄° 
I¡
 
lR™geXRight
 = 
rightBŸtomPñPosX
 - (
isFuŒPñH‹Luma
 ? 0 : 
LumaRBSam∂eOff£t
);

978 c⁄° 
I¡
 
lR™geYBŸtom
 = 
rightBŸtomPñPosY
 - (
isFuŒPñVîLuma
 ? 0 : 
LumaRBSam∂eOff£t
);

980 i‡(!(
PªdXLe·
 >
lR™geXLe·
 && PªdXLe· <
lR™geXRight
Ë|| !(
PªdXRight
 >=ÜRangeXLeft && PredXRight <=ÜRangeXRight))

982  
Ál£
;

984 i‡(!(
PªdYT›
 >
lR™geYT›
 && PªdYT› <
lR™geYBŸtom
Ë|| !(
PªdYBŸtom
 >=ÜRangeYTop && PredYBottom <=ÜRangeYBottom))

986  
Ál£
;

989 i‡((
chromaF‹m©
 !
CHROMA_444
Ë&& (chromaF‹m© !
CHROMA_400
))

992 c⁄° 
Boﬁ
 
isFuŒPñH‹Chroma
 = (
cMv
.
	`gëH‹
() % 8 == 0);

993 c⁄° 
Boﬁ
 
isFuŒPñVîChroma
 = (
cMv
.
	`gëVî
() % 8 == 0);

995 c⁄° 
I¡
 
cR™geXLe·
 = 
À·T›PñPosX
 + (
isFuŒPñH‹Chroma
 ? 0 : 
CromaLTSam∂eoff£t
);

996 c⁄° 
I¡
 
cR™geYT›
 = 
À·T›PñPosY
 + (
isFuŒPñVîChroma
 ? 0 : 
CromaLTSam∂eoff£t
);

997 c⁄° 
I¡
 
cR™geXRight
 = 
rightBŸtomPñPosX
 - (
isFuŒPñH‹Chroma
 ? 0 : 
CromaRBSam∂eoff£t
);

998 c⁄° 
I¡
 
cR™geYBŸtom
 = 
rightBŸtomPñPosY
 - (
isFuŒPñVîChroma
 ? 0 : 
CromaRBSam∂eoff£t
);

1000 i‡(!(
PªdXLe·
 >
cR™geXLe·
 && PªdXLe· <
cR™geXRight
Ë|| !(
PªdXRight
 >= cRangeXLeft && PredXRight <= cRangeXRight))

1002  
Ál£
;

1004 i‡((!(
PªdYT›
 >
cR™geYT›
 && PªdYT› <
cR™geYBŸtom
Ë|| !(
PªdYBŸtom
 >cR™geYT› && PªdYBŸtom <cR™geYBŸtom)Ë&& (
chromaF‹m©
 !
CHROMA_422
))

1006  
Ál£
;

1010  
åue
;

1011 
	}
}

1013 
Boﬁ
 
	gTComPªdi˘i⁄
::
	$checkTM˘sMvp
(
TComD©aCU
* 
pcCU
, 
I¡
 
∑πIdx
)

1015 
I¡
 
∑πWidth
 = 0;

1016 
I¡
 
∑πHeight
 = 0;

1017 
UI¡
 
∑πAddr
 = 0;

1019 
UI¡
 
tûeXPosInCtus
 = 0;

1020 
UI¡
 
tûeYPosInCtus
 = 0;

1021 
UI¡
 
tûeWidthtInCtus
 = 0;

1022 
UI¡
 
tûeHeightInCtus
 = 0;

1024 
	`gëTûePosôi⁄
(
pcCU
, 
tûeXPosInCtus
, 
tûeYPosInCtus
, 
tûeWidthtInCtus
, 
tûeHeightInCtus
);

1026 c⁄° 
UI¡
 
˘uLígth
 = 
pcCU
->
	`gëPic
()->
	`gëPicSym
()->
	`gëSPS
().
	`gëMaxCUWidth
();

1027 c⁄° 
ChromaF‹m©
 
chromaF‹m©
 = 
pcCU
->
	`gëPic
()->
	`gëPicSym
()->
	`gëSPS
().
	`gëChromaF‹m©Idc
();

1029 
I¡
 
¥edXLe·
;

1030 
I¡
 
¥edYT›
;

1031 
I¡
 
¥edXRight
;

1032 
I¡
 
¥edYBŸtom
;

1034 i‡(
∑πIdx
 >= 0)

1036 
pcCU
->
	`gëP¨tIndexAndSize
(
∑πIdx
, 
∑πAddr
, 
∑πWidth
, 
∑πHeight
);

1038 i‡(
	`xCheckIdítiˇlMŸi⁄
(
pcCU
, 
∑πAddr
))

1040 
RefPicLi°
 
eRefPicLi°
 = 
REF_PIC_LIST_0
;

1041 
TComMv
 
cMv
 = 
pcCU
->
	`gëCUMvFõld
(
eRefPicLi°
)->
	`gëMv
(
∑πAddr
);

1042 
	`gëRefPUP¨tPos
(
pcCU
, 
cMv
, 
∑πIdx
, 
¥edXLe·
, 
¥edYT›
, 
¥edXRight
, 
¥edYBŸtom
, 
∑πWidth
, 
∑πHeight
);

1043 i‡(!
	`checkMVPR™ge
(
cMv
, 
˘uLígth
, 
tûeXPosInCtus
, 
tûeYPosInCtus
, 
tûeWidthtInCtus
, 
tûeHeightInCtus
, 
¥edXLe·
, 
¥edXRight
, 
¥edYT›
, 
¥edYBŸtom
, 
chromaF‹m©
))

1045  
Ál£
;

1050 
UI¡
 
ªfLi°
 = 0;ÑefLi° < 
NUM_REF_PIC_LIST_01
;ÑefList++)

1052 
RefPicLi°
 
eRefPicLi°
 = (
ªfLi°
 ? 
REF_PIC_LIST_1
 : 
REF_PIC_LIST_0
);

1054 
TComMv
 
cMv
 = 
pcCU
->
	`gëCUMvFõld
(
eRefPicLi°
)->
	`gëMv
(
∑πAddr
);

1055 
	`gëRefPUP¨tPos
(
pcCU
, 
cMv
, 
∑πIdx
, 
¥edXLe·
, 
¥edYT›
, 
¥edXRight
, 
¥edYBŸtom
, 
∑πWidth
, 
∑πHeight
);

1056 i‡(!
	`checkMVPR™ge
(
cMv
, 
˘uLígth
, 
tûeXPosInCtus
, 
tûeYPosInCtus
, 
tûeWidthtInCtus
, 
tûeHeightInCtus
, 
¥edXLe·
, 
¥edXRight
, 
¥edYT›
, 
¥edYBŸtom
, 
chromaF‹m©
))

1058  
Ál£
;

1062  
åue
;

1065 
∑πIdx
 = 0;Ö¨tIdx < 
pcCU
->
	`gëNumP¨tôi⁄s
();ÖartIdx++)

1067 
pcCU
->
	`gëP¨tIndexAndSize
(
∑πIdx
, 
∑πAddr
, 
∑πWidth
, 
∑πHeight
);

1069 i‡(
	`xCheckIdítiˇlMŸi⁄
(
pcCU
, 
∑πAddr
))

1071 
RefPicLi°
 
eRefPicLi°
 = 
REF_PIC_LIST_0
;

1072 
TComMv
 
cMv
 = 
pcCU
->
	`gëCUMvFõld
(
eRefPicLi°
)->
	`gëMv
(
∑πAddr
);

1073 
	`gëRefPUP¨tPos
(
pcCU
, 
cMv
, 
∑πIdx
, 
¥edXLe·
, 
¥edYT›
, 
¥edXRight
, 
¥edYBŸtom
, 
∑πWidth
, 
∑πHeight
);

1074 i‡(!
	`checkMVPR™ge
(
cMv
, 
˘uLígth
, 
tûeXPosInCtus
, 
tûeYPosInCtus
, 
tûeWidthtInCtus
, 
tûeHeightInCtus
, 
¥edXLe·
, 
¥edXRight
, 
¥edYT›
, 
¥edYBŸtom
, 
chromaF‹m©
))

1076  
Ál£
;

1081 
UI¡
 
ªfLi°
 = 0;ÑefLi° < 
NUM_REF_PIC_LIST_01
;ÑefList++)

1083 
RefPicLi°
 
eRefPicLi°
 = (
ªfLi°
 ? 
REF_PIC_LIST_1
 : 
REF_PIC_LIST_0
);

1085 
TComMv
 
cMv
 = 
pcCU
->
	`gëCUMvFõld
(
eRefPicLi°
)->
	`gëMv
(
∑πAddr
);

1086 
	`gëRefPUP¨tPos
(
pcCU
, 
cMv
, 
∑πIdx
, 
¥edXLe·
, 
¥edYT›
, 
¥edXRight
, 
¥edYBŸtom
, 
∑πWidth
, 
∑πHeight
);

1087 i‡(!
	`checkMVPR™ge
(
cMv
, 
˘uLígth
, 
tûeXPosInCtus
, 
tûeYPosInCtus
, 
tûeWidthtInCtus
, 
tûeHeightInCtus
, 
¥edXLe·
, 
¥edXRight
, 
¥edYT›
, 
¥edYBŸtom
, 
chromaF‹m©
))

1089  
Ál£
;

1094  
åue
;

1095 
	}
}

	@TComPrediction.h

38 #i‚de‡
__TCOMPREDICTION__


39 
	#__TCOMPREDICTION__


	)

43 
	~"TComYuv.h
"

44 
	~"TComI¡îpﬁ©i⁄Fûãr.h
"

45 
	~"TComWeightPªdi˘i⁄.h
"

48 
˛ass
 
	gTComMv
;

49 
˛ass
 
	gTComTU
;

59 
	ePRED_BUF_E


61 
	mPRED_BUF_UNFILTERED
=0,

62 
	mPRED_BUF_FILTERED
=1,

63 
	mNUM_PRED_BUF
=2

64 } 
	tPRED_BUF
;

66 c⁄° 
UI¡
 
	gMAX_INTRA_FILTER_DEPTHS
=5;

68 ˛as†
	cTComPªdi˘i⁄
 : 
public
 
TComWeightPªdi˘i⁄


70 
¥iv©e
:

71 c⁄° 
UCh¨
 
m_aucI¡øFûãr
[
MAX_NUM_CHANNEL_TYPE
][
MAX_INTRA_FILTER_DEPTHS
];

73 
	m¥Ÿe˘ed
:

74 
Pñ
* 
m_piYuvExt
[
MAX_NUM_COMPONENT
][
NUM_PRED_BUF
];

75 
I¡
 
	mm_iYuvExtSize
;

77 
TComYuv
 
	mm_acYuvPªd
[
NUM_REF_PIC_LIST_01
];

78 
TComYuv
 
	mm_cYuvPªdTemp
;

79 
TComYuv
 
	mm_fûãªdBlock
[
LUMA_INTERPOLATION_FILTER_SUB_SAMPLE_POSITIONS
][LUMA_INTERPOLATION_FILTER_SUB_SAMPLE_POSITIONS];

80 
TComYuv
 
	mm_fûãªdBlockTmp
[
LUMA_INTERPOLATION_FILTER_SUB_SAMPLE_POSITIONS
];

82 
TComI¡îpﬁ©i⁄Fûãr
 
	mm_if
;

84 
Pñ
* 
	mm_pLumaRecBuf„r
;

85 
I¡
 
	mm_iLumaRecSåide
;

87 
Void
 
xPªdI¡øAng
 ( 
I¡
 
bôDïth
, c⁄° 
Pñ
* 
pSrc
, I¡ 
§cSåide
, Pñ* 
pD°
, I¡ 
d°Såide
, 
UI¡
 
width
, UI¡ 
height
, 
Ch™√lTy≥
 
ch™√lTy≥
, UI¡ 
dúMode
, c⁄° 
Boﬁ
 
bE«bÀEdgeFûãrs
 );

88 
Void
 
xPªdI¡øPœ«r
 ( c⁄° 
Pñ
* 
pSrc
, 
I¡
 
§cSåide
, Pñ* 
ΩD°
, I¡ 
d°Såide
, 
UI¡
 
width
, UI¡ 
height
 );

91 
Void
 
xPªdI¡îUni
 ( 
TComD©aCU
* 
pcCU
, 
UI¡
 
uiP¨tAddr
, 
I¡
 
iWidth
, I¡ 
iHeight
, 
RefPicLi°
 
eRefPicLi°
, 
TComYuv
* 
pcYuvPªd
, 
Boﬁ
 
bi
=
Ál£
 );

92 
Void
 
xPªdI¡îBi
 ( 
TComD©aCU
* 
pcCU
, 
UI¡
 
uiP¨tAddr
, 
I¡
 
iWidth
, I¡ 
iHeight
, 
TComYuv
* 
pcYuvPªd
 );

93 
Void
 
xPªdI¡îBlk
(c⁄° 
Comp⁄ítID
 
compID
, 
TComD©aCU
 *
cu
, 
TComPicYuv
 *
ªfPic
, 
UI¡
 
∑πAddr
, 
TComMv
 *
mv
, 
I¡
 
width
, I¡ 
height
, 
TComYuv
 *
d°Pic
, 
Boﬁ
 
bi
, c⁄° I¡ 
bôDïth
 );

94 
Void
 
xWeighãdAvîage
 ( 
TComYuv
* 
pcYuvSrc0
, TComYuv* 
pcYuvSrc1
, 
I¡
 
iRefIdx0
, I¡ 
iRefIdx1
, 
UI¡
 
uiP¨tAddr
, I¡ 
iWidth
, I¡ 
iHeight
, TComYuv* 
pcYuvD°
, c⁄° 
BôDïths
 &
˛ùBôDïths
 );

96 
Void
 
xGëLLSPªdi˘i⁄
 ( c⁄° 
Pñ
* 
pSrc0
, 
I¡
 
iSrcSåide
, Pñ* 
pD°0
, I¡ 
iD°Såide
, 
UI¡
 
uiWidth
, UI¡ 
uiHeight
, UI¡ 
uiExt0
, c⁄° 
ChromaF‹m©
 
chFmt
 
DEBUG_STRING_FN_DECLARE
(
sDebug
) );

98 
Void
 
xDCPªdFûãrög
–c⁄° 
Pñ
* 
pSrc
, 
I¡
 
iSrcSåide
, Pñ* 
pD°
, I¡ 
iD°Såide
, I¡ 
iWidth
, I¡ 
iHeight
, 
Ch™√lTy≥
 
ch™√lTy≥
 );

99 
Boﬁ
 
xCheckIdítiˇlMŸi⁄
 ( 
TComD©aCU
* 
pcCU
, 
UI¡
 
P¨tAddr
);

100 
Void
 
de°roy
();

102 
	mpublic
:

103 
TComPªdi˘i⁄
();

104 
	mvútuÆ
 ~
TComPªdi˘i⁄
();

106 
Void
 
öôTempBuff
(
ChromaF‹m©
 
chromaF‹m©IDC
);

108 
ChromaF‹m©
 
	$gëChromaF‹m©
(Ëc⁄° {  
m_cYuvPªdTemp
.
	`gëChromaF‹m©
(); }

111 
Void
 
	`mŸi⁄Com≥nßti⁄
 ( 
TComD©aCU
* 
pcCU
, 
TComYuv
* 
pcYuvPªd
, 
RefPicLi°
 
eRefPicLi°
 = 
REF_PIC_LIST_X
, 
I¡
 
iP¨tIdx
 = -1 );

114 
Void
 
	`gëMvPªdAMVP
 ( 
TComD©aCU
* 
pcCU
, 
UI¡
 
uiP¨tIdx
, UI¡ 
uiP¨tAddr
, 
RefPicLi°
 
eRefPicLi°
, 
TComMv
& 
rcMvPªd
 );

117 
Void
 
	`¥edI¡øAng
 ( c⁄° 
Comp⁄ítID
 
compID
, 
UI¡
 
uiDúMode
, 
Pñ
 *
piOrg
 , UI¡ 
uiOrgSåide
, Pñ* 
piPªd
, UI¡ 
uiSåide
, 
TComTU
 &
rTu
, c⁄° 
Boﬁ
 
bU£FûãªdPªdSam∂es
, c⁄° Boﬁ 
bU£Los¶essDPCM
 = 
Ál£
 );

119 
Pñ
 
	`¥edI¡øGëPªdVÆDC
 ( c⁄° Pñ* 
pSrc
, 
I¡
 
iSrcSåide
, 
UI¡
 
iWidth
, UI¡ 
iHeight
);

121 
Pñ
* 
	$gëPªdi˘‹På
 ( c⁄° 
Comp⁄ítID
 
compID
, c⁄° 
Boﬁ
 
bU£FûãªdPªdi˘i⁄s
 )

123  
m_piYuvExt
[
compID
][
bU£FûãªdPªdi˘i⁄s
?
PRED_BUF_FILTERED
:
PRED_BUF_UNFILTERED
];

124 
	}
}

128 
Void
 
öôI¡øP©ã∫ChTy≥
 ( 
TComTU
 &
rTu
,

129 c⁄° 
Comp⁄ítID
 
compID
, c⁄° 
Boﬁ
 
bFûãrRefSam∂es


130 
DEBUG_STRING_FN_DECLARE
(
sDebug
)

133 
Boﬁ
 
fûãrögI¡øRe„ªn˚Sam∂es
(c⁄° 
Comp⁄ítID
 
compID
, 
UI¡
 
uiDúMode
, UI¡ 
uiTuChWidth
, UI¡ 
uiTuChHeight
, c⁄° 
ChromaF‹m©
 
chFmt
, c⁄° Boﬁ 
öåaRe„ªn˚SmoŸhögDißbÀd
);

135 
Boﬁ
 
U£DPCMF‹Fú°PassI¡øE°im©i⁄
(
TComTU
 &
rTu
, c⁄° 
UI¡
 
uiDúMode
);

137 #i‡
MCTS_ENC_CHECK


138 
Boﬁ
 
checkTM˘sMvp
(
TComD©aCU
* 
pcCU
, 
I¡
 
∑πIdx
 = -1);

	@TComRdCost.cpp

38 
	~<m©h.h
>

39 
	~<as£π.h
>

40 
	~<limôs
>

41 
	~"TComRom.h
"

42 
	~"TComRdCo°.h
"

44 #i‡
VECTOR_CODING__DISTORTION_CALCULATIONS
 && (
RExt__HIGH_BIT_DEPTH_SUPPORT
==0)

45 
	~<emmöåö.h
>

46 
	~<xmmöåö.h
>

52 
	gTComRdCo°
::
	$TComRdCo°
()

54 
	`öô
();

55 
	}
}

57 
	gTComRdCo°
::~
	$TComRdCo°
()

59 
	}
}

62 
DoubÀ
 
TComRdCo°
::
	$ˇlcRdCo°
–
DoubÀ
 
numBôs
, 
Di°‹ti⁄
 
di°‹ti⁄
, 
DFunc
 
eDFunc
 )

64 
DoubÀ
 
œmbda
 = 1.0;

66  
eDFunc
 )

68 
DF_SSE
:

69 
	`as£π
(0);

71 
DF_SAD
:

72 
œmbda
 = 
m_dLambdaMŸi⁄SAD
[0];

74 
DF_DEFAULT
:

75 
œmbda
 = 
m_dLambda
;

77 
DF_SSE_FRAME
:

78 
œmbda
 = 
m_dFømeLambda
;

81 
	`as£π
 (0);

85 i‡(
eDFunc
 =
DF_SAD
)

87 i‡(
m_co°Mode
 !
COST_STANDARD_LOSSY
)

89  ((
di°‹ti⁄
 * 65536.0Ë/ 
œmbda
Ë+ 
numBôs
;

93  
di°‹ti⁄
 + (((
numBôs
 * 
œmbda
) ) / 65536.0);

98 i‡(
m_co°Mode
 !
COST_STANDARD_LOSSY
)

100  (
di°‹ti⁄
 / 
œmbda
Ë+ 
numBôs
;

104  
di°‹ti⁄
 + (
numBôs
 * 
œmbda
);

107 
	}
}

109 
Void
 
	gTComRdCo°
::
	$£tLambda
–
DoubÀ
 
dLambda
, c⁄° 
BôDïths
 &
bôDïths
 )

111 
m_dLambda
 = 
dLambda
;

112 
m_sqπLambda
 = 
	`sqπ
(
m_dLambda
);

113 
m_dLambdaMŸi⁄SAD
[0] = 65536.0 * 
m_sqπLambda
;

114 
m_dLambdaMŸi⁄SSE
[0] = 65536.0 * 
m_dLambda
;

115 #i‡
FULL_NBIT


116 
dLambda
 = 0.57 * 
	`pow
(2.0, ((
LOSSLESS_AND_MIXED_LOSSLESS_RD_COST_TEST_QP_PRIME
 - 12) / 3.0));

118 
dLambda
 = 0.57 * 
	`pow
(2.0, ((
LOSSLESS_AND_MIXED_LOSSLESS_RD_COST_TEST_QP_PRIME
 - 12 - 6 * (
bôDïths
.
ªc⁄
[
CHANNEL_TYPE_LUMA
] - 8)) / 3.0));

120 
m_dLambdaMŸi⁄SAD
[1] = 65536.0 * 
	`sqπ
(
dLambda
);

121 
m_dLambdaMŸi⁄SSE
[1] = 65536.0 * 
dLambda
;

122 
	}
}

126 
Void
 
	gTComRdCo°
::
	$öô
()

128 
m_aÂDi°‹tFunc
[
DF_DEFAULT
] = 
NULL
;

130 
m_aÂDi°‹tFunc
[
DF_SSE
 ] = 
TComRdCo°
::
xGëSSE
;

131 
m_aÂDi°‹tFunc
[
DF_SSE4
 ] = 
TComRdCo°
::
xGëSSE4
;

132 
m_aÂDi°‹tFunc
[
DF_SSE8
 ] = 
TComRdCo°
::
xGëSSE8
;

133 
m_aÂDi°‹tFunc
[
DF_SSE16
 ] = 
TComRdCo°
::
xGëSSE16
;

134 
m_aÂDi°‹tFunc
[
DF_SSE32
 ] = 
TComRdCo°
::
xGëSSE32
;

135 
m_aÂDi°‹tFunc
[
DF_SSE64
 ] = 
TComRdCo°
::
xGëSSE64
;

136 
m_aÂDi°‹tFunc
[
DF_SSE16N
 ] = 
TComRdCo°
::
xGëSSE16N
;

138 
m_aÂDi°‹tFunc
[
DF_SAD
 ] = 
TComRdCo°
::
xGëSAD
;

139 
m_aÂDi°‹tFunc
[
DF_SAD4
 ] = 
TComRdCo°
::
xGëSAD4
;

140 
m_aÂDi°‹tFunc
[
DF_SAD8
 ] = 
TComRdCo°
::
xGëSAD8
;

141 
m_aÂDi°‹tFunc
[
DF_SAD16
 ] = 
TComRdCo°
::
xGëSAD16
;

142 
m_aÂDi°‹tFunc
[
DF_SAD32
 ] = 
TComRdCo°
::
xGëSAD32
;

143 
m_aÂDi°‹tFunc
[
DF_SAD64
 ] = 
TComRdCo°
::
xGëSAD64
;

144 
m_aÂDi°‹tFunc
[
DF_SAD16N
 ] = 
TComRdCo°
::
xGëSAD16N
;

146 
m_aÂDi°‹tFunc
[
DF_SADS
 ] = 
TComRdCo°
::
xGëSAD
;

147 
m_aÂDi°‹tFunc
[
DF_SADS4
 ] = 
TComRdCo°
::
xGëSAD4
;

148 
m_aÂDi°‹tFunc
[
DF_SADS8
 ] = 
TComRdCo°
::
xGëSAD8
;

149 
m_aÂDi°‹tFunc
[
DF_SADS16
 ] = 
TComRdCo°
::
xGëSAD16
;

150 
m_aÂDi°‹tFunc
[
DF_SADS32
 ] = 
TComRdCo°
::
xGëSAD32
;

151 
m_aÂDi°‹tFunc
[
DF_SADS64
 ] = 
TComRdCo°
::
xGëSAD64
;

152 
m_aÂDi°‹tFunc
[
DF_SADS16N
] = 
TComRdCo°
::
xGëSAD16N
;

154 
m_aÂDi°‹tFunc
[
DF_SAD12
 ] = 
TComRdCo°
::
xGëSAD12
;

155 
m_aÂDi°‹tFunc
[
DF_SAD24
 ] = 
TComRdCo°
::
xGëSAD24
;

156 
m_aÂDi°‹tFunc
[
DF_SAD48
 ] = 
TComRdCo°
::
xGëSAD48
;

158 
m_aÂDi°‹tFunc
[
DF_SADS12
 ] = 
TComRdCo°
::
xGëSAD12
;

159 
m_aÂDi°‹tFunc
[
DF_SADS24
 ] = 
TComRdCo°
::
xGëSAD24
;

160 
m_aÂDi°‹tFunc
[
DF_SADS48
 ] = 
TComRdCo°
::
xGëSAD48
;

162 
m_aÂDi°‹tFunc
[
DF_HADS
 ] = 
TComRdCo°
::
xGëHADs
;

163 
m_aÂDi°‹tFunc
[
DF_HADS4
 ] = 
TComRdCo°
::
xGëHADs
;

164 
m_aÂDi°‹tFunc
[
DF_HADS8
 ] = 
TComRdCo°
::
xGëHADs
;

165 
m_aÂDi°‹tFunc
[
DF_HADS16
 ] = 
TComRdCo°
::
xGëHADs
;

166 
m_aÂDi°‹tFunc
[
DF_HADS32
 ] = 
TComRdCo°
::
xGëHADs
;

167 
m_aÂDi°‹tFunc
[
DF_HADS64
 ] = 
TComRdCo°
::
xGëHADs
;

168 
m_aÂDi°‹tFunc
[
DF_HADS16N
] = 
TComRdCo°
::
xGëHADs
;

170 
m_co°Mode
 = 
COST_STANDARD_LOSSY
;

172 
m_mŸi⁄Lambda
 = 0;

173 
m_iCo°SˇÀ
 = 0;

174 
	}
}

177 
UI¡
 
	gTComRdCo°
::
	$xGëExpGﬁombNumbîOfBôs
–
I¡
 
iVÆ
 )

179 
	`as£π
(
iVÆ
 !
°d
::
numîic_limôs
<
I¡
>::
	`mö
());

180 
UI¡
 
uiLígth
 = 1;

181 
UI¡
 
uiTemp
 = ( 
iVÆ
 <0Ë? (
	`UI¡
(-iVal)<<1)+1: UInt(iVal<<1);

183  1 !
uiTemp
 )

185 
uiTemp
 >>= 1;

186 
uiLígth
 += 2;

189  
uiLígth
;

190 
	}
}

192 
Void
 
	gTComRdCo°
::
	$£tDi°P¨am
–
UI¡
 
uiBlkWidth
, UI¡ 
uiBlkHeight
, 
DFunc
 
eDFunc
, 
Di°P¨am
& 
rcDi°P¨am
 )

195 
rcDi°P¨am
.
iCﬁs
 = 
uiBlkWidth
;

196 
rcDi°P¨am
.
iRows
 = 
uiBlkHeight
;

197 
rcDi°P¨am
.
Di°Func
 = 
m_aÂDi°‹tFunc
[
eDFunc
 + 
g_aucC⁄vîtToBô
[ÑcDi°P¨am.
iCﬁs
 ] + 1 ];

200 
rcDi°P¨am
.
iSubShi·
 = 0;

201 
rcDi°P¨am
.
m_maximumDi°‹ti⁄F‹E¨lyExô
 = 
°d
::
numîic_limôs
<
Di°‹ti⁄
>::
	`max
();

202 
	}
}

205 
Void
 
	gTComRdCo°
::
	$£tDi°P¨am
–c⁄° 
TComP©ã∫
* c⁄° 
pcP©ã∫Key
, c⁄° 
Pñ
* 
piRefY
, 
I¡
 
iRefSåide
, 
Di°P¨am
& 
rcDi°P¨am
 )

208 
rcDi°P¨am
.
pOrg
 = 
pcP©ã∫Key
->
	`gëROIY
();

209 
rcDi°P¨am
.
pCur
 = 
piRefY
;

211 
rcDi°P¨am
.
iSåideOrg
 = 
pcP©ã∫Key
->
	`gëP©ã∫LSåide
();

212 
rcDi°P¨am
.
iSåideCur
 = 
iRefSåide
;

215 
rcDi°P¨am
.
iCﬁs
 = 
pcP©ã∫Key
->
	`gëROIYWidth
();

216 
rcDi°P¨am
.
iRows
 = 
pcP©ã∫Key
->
	`gëROIYHeight
();

217 
rcDi°P¨am
.
Di°Func
 = 
m_aÂDi°‹tFunc
[
DF_SAD
 + 
g_aucC⁄vîtToBô
[ÑcDi°P¨am.
iCﬁs
 ] + 1 ];

218 
rcDi°P¨am
.
m_maximumDi°‹ti⁄F‹E¨lyExô
 = 
°d
::
numîic_limôs
<
Di°‹ti⁄
>::
	`max
();

220 i‡(
rcDi°P¨am
.
iCﬁs
 == 12)

222 
rcDi°P¨am
.
Di°Func
 = 
m_aÂDi°‹tFunc
[
DF_SAD12
];

224 i‡(
rcDi°P¨am
.
iCﬁs
 == 24)

226 
rcDi°P¨am
.
Di°Func
 = 
m_aÂDi°‹tFunc
[
DF_SAD24
];

228 i‡(
rcDi°P¨am
.
iCﬁs
 == 48)

230 
rcDi°P¨am
.
Di°Func
 = 
m_aÂDi°‹tFunc
[
DF_SAD48
];

234 
rcDi°P¨am
.
iSubShi·
 = 0;

235 
	}
}

238 
Void
 
	gTComRdCo°
::
	$£tDi°P¨am
–c⁄° 
TComP©ã∫
* c⁄° 
pcP©ã∫Key
, c⁄° 
Pñ
* 
piRefY
, 
I¡
 
iRefSåide
, I¡ 
iSãp
, 
Di°P¨am
& 
rcDi°P¨am
, 
Boﬁ
 
bHADME
 )

241 
rcDi°P¨am
.
pOrg
 = 
pcP©ã∫Key
->
	`gëROIY
();

242 
rcDi°P¨am
.
pCur
 = 
piRefY
;

244 
rcDi°P¨am
.
iSåideOrg
 = 
pcP©ã∫Key
->
	`gëP©ã∫LSåide
();

245 
rcDi°P¨am
.
iSåideCur
 = 
iRefSåide
 * 
iSãp
;

248 
rcDi°P¨am
.
iSãp
 = iStep;

251 
rcDi°P¨am
.
iCﬁs
 = 
pcP©ã∫Key
->
	`gëROIYWidth
();

252 
rcDi°P¨am
.
iRows
 = 
pcP©ã∫Key
->
	`gëROIYHeight
();

254 
rcDi°P¨am
.
m_maximumDi°‹ti⁄F‹E¨lyExô
 = 
°d
::
numîic_limôs
<
Di°‹ti⁄
>::
	`max
();

257 i‡–!
bHADME
 )

259 
rcDi°P¨am
.
Di°Func
 = 
m_aÂDi°‹tFunc
[
DF_SADS
 + 
g_aucC⁄vîtToBô
[ÑcDi°P¨am.
iCﬁs
 ] + 1 ];

260 i‡(
rcDi°P¨am
.
iCﬁs
 == 12)

262 
rcDi°P¨am
.
Di°Func
 = 
m_aÂDi°‹tFunc
[
DF_SADS12
];

264 i‡(
rcDi°P¨am
.
iCﬁs
 == 24)

266 
rcDi°P¨am
.
Di°Func
 = 
m_aÂDi°‹tFunc
[
DF_SADS24
];

268 i‡(
rcDi°P¨am
.
iCﬁs
 == 48)

270 
rcDi°P¨am
.
Di°Func
 = 
m_aÂDi°‹tFunc
[
DF_SADS48
];

275 
rcDi°P¨am
.
Di°Func
 = 
m_aÂDi°‹tFunc
[
DF_HADS
 + 
g_aucC⁄vîtToBô
[ÑcDi°P¨am.
iCﬁs
 ] + 1 ];

279 
rcDi°P¨am
.
iSubShi·
 = 0;

280 
	}
}

282 
Void
 
	gTComRdCo°
::
	$£tDi°P¨am
–
Di°P¨am
& 
rcDP
, 
I¡
 
bôDïth
, c⁄° 
Pñ
* 
p1
, I¡ 
iSåide1
, c⁄° Pñ* 
p2
, I¡ 
iSåide2
, I¡ 
iWidth
, I¡ 
iHeight
, 
Boﬁ
 
bHadam¨d
 )

284 
rcDP
.
pOrg
 = 
p1
;

285 
rcDP
.
pCur
 = 
p2
;

286 
rcDP
.
iSåideOrg
 = 
iSåide1
;

287 
rcDP
.
iSåideCur
 = 
iSåide2
;

288 
rcDP
.
iCﬁs
 = 
iWidth
;

289 
rcDP
.
iRows
 = 
iHeight
;

290 
rcDP
.
iSãp
 = 1;

291 
rcDP
.
iSubShi·
 = 0;

292 
rcDP
.
bôDïth
 = bitDepth;

293 
rcDP
.
Di°Func
 = 
m_aÂDi°‹tFunc
[ ( 
bHadam¨d
 ? 
DF_HADS
 : 
DF_SADS
 ) + 
g_aucC⁄vîtToBô
[ 
iWidth
 ] + 1 ];

294 
rcDP
.
m_maximumDi°‹ti⁄F‹E¨lyExô
 = 
°d
::
numîic_limôs
<
Di°‹ti⁄
>::
	`max
();

295 
	}
}

297 
Di°‹ti⁄
 
	gTComRdCo°
::
	$ˇlcHAD
–
I¡
 
bôDïth
, c⁄° 
Pñ
* 
pi0
, I¡ 
iSåide0
, c⁄° Pñ* 
pi1
, I¡ 
iSåide1
, I¡ 
iWidth
, I¡ 
iHeight
 )

299 
Di°‹ti⁄
 
uiSum
 = 0;

300 
I¡
 
x
, 
y
;

302 i‡––(
iWidth
 % 8Ë=0 ) && ( (
iHeight
 % 8) == 0 ) )

304  
y
=0; y<
iHeight
; y+= 8 )

306  
x
=0; x<
iWidth
; x+= 8 )

308 
uiSum
 +
	`xCÆcHADs8x8
–&
pi0
[
x
], &
pi1
[x], 
iSåide0
, 
iSåide1
, 1

309 #i‡
VECTOR_CODING__DISTORTION_CALCULATIONS
 && (
RExt__HIGH_BIT_DEPTH_SUPPORT
==0)

310 , 
bôDïth


314 
pi0
 +
iSåide0
*8;

315 
pi1
 +
iSåide1
*8;

320 
	`as£π
 ( ( (
iWidth
 % 4Ë=0 ) && ( (
iHeight
 % 4) == 0 ) );

322  
y
=0; y<
iHeight
; y+= 4 )

324  
x
=0; x<
iWidth
; x+= 4 )

326 
uiSum
 +
	`xCÆcHADs4x4
–&
pi0
[
x
], &
pi1
[x], 
iSåide0
, 
iSåide1
, 1 );

328 
pi0
 +
iSåide0
*4;

329 
pi1
 +
iSåide1
*4;

333  ( 
uiSum
 >> 
	`DISTORTION_PRECISION_ADJUSTMENT
(
bôDïth
-8) );

334 
	}
}

336 
Di°‹ti⁄
 
	gTComRdCo°
::
	$gëDi°P¨t
–
I¡
 
bôDïth
, c⁄° 
Pñ
* 
piCur
, I¡ 
iCurSåide
, c⁄° Pñ* 
piOrg
, I¡ 
iOrgSåide
, 
UI¡
 
uiBlkWidth
, UI¡ 
uiBlkHeight
, c⁄° 
Comp⁄ítID
 
compID
, 
DFunc
 
eDFunc
 )

338 
Di°P¨am
 
cDtP¨am
;

339 
	`£tDi°P¨am
–
uiBlkWidth
, 
uiBlkHeight
, 
eDFunc
, 
cDtP¨am
 );

340 
cDtP¨am
.
pOrg
 = 
piOrg
;

341 
cDtP¨am
.
pCur
 = 
piCur
;

342 
cDtP¨am
.
iSåideOrg
 = 
iOrgSåide
;

343 
cDtP¨am
.
iSåideCur
 = 
iCurSåide
;

344 
cDtP¨am
.
iSãp
 = 1;

346 
cDtP¨am
.
bAµlyWeight
 = 
Ál£
;

347 
cDtP¨am
.
compIdx
 = 
MAX_NUM_COMPONENT
;

348 
cDtP¨am
.
bôDïth
 = bitDepth;

350 i‡(
	`isChroma
(
compID
))

352  ((
Di°‹ti⁄
Ë(
m_di°‹ti⁄Weight
[
compID
] * 
cDtP¨am
.
	`Di°Func
( &cDtParam )));

356  
cDtP¨am
.
	`Di°Func
( &cDtParam );

358 
	}
}

364 #i‡
VECTOR_CODING__DISTORTION_CALCULATIONS
 && (
RExt__HIGH_BIT_DEPTH_SUPPORT
==0)

365 
ölöe
 
I¡
 
	$simdSADLöe4n16b
–c⁄° 
Pñ
 * 
piOrg
 , c⁄° Pñ * 
piCur
 , 
I¡
 
nWidth
 )

368 
	`as£π
–!–
nWidth
 & 0x03 ) );

369 
__m128i
 
‹g
 , 
cur
 , 
abs
 , 
sum
;

370 
sum
 = 
	`_mm_£tzîo_si128
();

371  
I¡
 
n
 = 0 ;Ç < 
nWidth
 ;Ç += 4 )

373 
‹g
 = 
	`_mm_lﬂdl_ïi64
––
__m128i
* )–
piOrg
 + 
n
 ) );

374 
cur
 = 
	`_mm_lﬂdl_ïi64
––
__m128i
* )–
piCur
 + 
n
 ) );

375 
abs
 = 
	`_mm_subs_ïi16
–
	`_mm_max_ïi16
–
‹g
 , 
cur
 ) , 
	`_mm_mö_ïi16
( org , cur ) );

376 
sum
 = 
	`_mm_adds_ïu16
–
abs
 , sum );

378 
__m128i
 
zîo
 = 
	`_mm_£tzîo_si128
();

379 
sum
 = 
	`_mm_u≈acklo_ïi16
–sum , 
zîo
 );

380 
sum
 = 
	`_mm_add_ïi32
–sum , 
	`_mm_shufÊe_ïi32
–sum , 
	`_MM_SHUFFLE
( 2 , 3 , 0 , 1 ) ) );

381 
sum
 = 
	`_mm_add_ïi32
–sum , 
	`_mm_shufÊe_ïi32
–sum , 
	`_MM_SHUFFLE
( 1 , 0 , 3 , 2 ) ) );

382 –
	`_mm_cvtsi128_si32
–
sum
 ) );

383 
	}
}

385 
ölöe
 
I¡
 
	$simdSADLöe8n16b
–c⁄° 
Pñ
 * 
piOrg
 , c⁄° Pñ * 
piCur
 , 
I¡
 
nWidth
 )

388 
	`as£π
–!–
nWidth
 & 0x07 ) );

389 
__m128i
 
‹g
 , 
cur
 , 
abs
 , 
sum
;

390 
sum
 = 
	`_mm_£tzîo_si128
();

391  
I¡
 
n
 = 0 ;Ç < 
nWidth
 ;Ç += 8 )

393 
‹g
 = 
	`_mm_lﬂdu_si128
––
__m128i
* )–
piOrg
 + 
n
 ) );

394 
cur
 = 
	`_mm_lﬂdu_si128
––
__m128i
* )–
piCur
 + 
n
 ) );

395 
abs
 = 
	`_mm_subs_ïi16
–
	`_mm_max_ïi16
–
‹g
 , 
cur
 ) , 
	`_mm_mö_ïi16
( org , cur ) );

396 
sum
 = 
	`_mm_adds_ïu16
–
abs
 , sum );

398 
__m128i
 
zîo
 = 
	`_mm_£tzîo_si128
();

399 
__m128i
 
hi
 = 
	`_mm_u≈ackhi_ïi16
–
sum
 , 
zîo
 );

400 
__m128i
 
lo
 = 
	`_mm_u≈acklo_ïi16
–
sum
 , 
zîo
 );

401 
sum
 = 
	`_mm_add_ïi32
–
lo
 , 
hi
 );

402 
sum
 = 
	`_mm_add_ïi32
–sum , 
	`_mm_shufÊe_ïi32
–sum , 
	`_MM_SHUFFLE
( 2 , 3 , 0 , 1 ) ) );

403 
sum
 = 
	`_mm_add_ïi32
–sum , 
	`_mm_shufÊe_ïi32
–sum , 
	`_MM_SHUFFLE
( 1 , 0 , 3 , 2 ) ) );

404 –
	`_mm_cvtsi128_si32
–
sum
 ) );

405 
	}
}

407 
ölöe
 
Void
 
	$simd8x8Tøn•o£32b
–
__m128i
 * 
pBuf„r
 )

409 
__m128
 
tmp
[16];

410  
I¡
 
n
 = 0 ;Ç < 16 ;Ç++ )

412 
tmp
[
n
] = 
	`_mm_ˇ°si128_ps
–
pBuf„r
[n] );

414 
	`_MM_TRANSPOSE4_PS
–
tmp
[0] ,Åmp[2] ,Åmp[4] ,Åmp[6] );

415 
	`_MM_TRANSPOSE4_PS
–
tmp
[1] ,Åmp[3] ,Åmp[5] ,Åmp[7] );

416 
	`_MM_TRANSPOSE4_PS
–
tmp
[8] ,Åmp[10] ,Åmp[12] ,Åmp[14] );

417 
	`_MM_TRANSPOSE4_PS
–
tmp
[9] ,Åmp[11] ,Åmp[13] ,Åmp[15] );

418  
I¡
 
n
 = 0 ;Ç < 8 ;Ç += 2 )

420 
pBuf„r
[
n
] = 
	`_mm_ˇ°ps_si128
–
tmp
[n] );

421 
pBuf„r
[
n
+1] = 
	`_mm_ˇ°ps_si128
–
tmp
[n+8] );

422 
pBuf„r
[
n
+8] = 
	`_mm_ˇ°ps_si128
–
tmp
[n+1] );

423 
pBuf„r
[
n
+9] = 
	`_mm_ˇ°ps_si128
–
tmp
[n+9] );

425 
	}
}

427 #ifde‡
__GNUC__


428 
	#GCC_VERSION
 (
__GNUC__
 * 10000 + 
__GNUC_MINOR__
 * 100 + 
__GNUC_PATCHLEVEL__
)

	)

429 #i‡
GCC_VERSION
 > 40600 && GCC_VERSION < 40700

430 
__©åibuã__
((
›timize
("no-tree-vrp")))

433 
Void
 
	$simd8x8HAD1D32b
–
__m128i
 * 
pI≈ut
 , __m128ò* 
pOuçut
 )

435 
__m128i
 
m1
[8][2] , 
m2
[8][2];

437 
m2
[0][0] = 
	`_mm_add_ïi32
–
pI≈ut
[0] ,pInput[8 ] ); m2[0][1] = _mm_add_epi32(ÖInput[1] ,pInput[9 ] );

438 
m2
[1][0] = 
	`_mm_add_ïi32
–
pI≈ut
[2] ,pInput[10] ); m2[1][1] = _mm_add_epi32(ÖInput[3] ,pInput[11] );

439 
m2
[2][0] = 
	`_mm_add_ïi32
–
pI≈ut
[4] ,pInput[12] ); m2[2][1] = _mm_add_epi32(ÖInput[5] ,pInput[13] );

440 
m2
[3][0] = 
	`_mm_add_ïi32
–
pI≈ut
[6] ,pInput[14] ); m2[3][1] = _mm_add_epi32(ÖInput[7] ,pInput[15] );

441 
m2
[4][0] = 
	`_mm_sub_ïi32
–
pI≈ut
[0] ,pInput[8 ] ); m2[4][1] = _mm_sub_epi32(ÖInput[1] ,pInput[9 ] );

442 
m2
[5][0] = 
	`_mm_sub_ïi32
–
pI≈ut
[2] ,pInput[10] ); m2[5][1] = _mm_sub_epi32(ÖInput[3] ,pInput[11] );

443 
m2
[6][0] = 
	`_mm_sub_ïi32
–
pI≈ut
[4] ,pInput[12] ); m2[6][1] = _mm_sub_epi32(ÖInput[5] ,pInput[13] );

444 
m2
[7][0] = 
	`_mm_sub_ïi32
–
pI≈ut
[6] ,pInput[14] ); m2[7][1] = _mm_sub_epi32(ÖInput[7] ,pInput[15] );

446 
m1
[0][0] = 
	`_mm_add_ïi32
–
m2
[0][0] , m2[2][0] ); m1[0][1] = _mm_add_epi32( m2[0][1] , m2[2][1] );

447 
m1
[1][0] = 
	`_mm_add_ïi32
–
m2
[1][0] , m2[3][0] ); m1[1][1] = _mm_add_epi32( m2[1][1] , m2[3][1] );

448 
m1
[2][0] = 
	`_mm_sub_ïi32
–
m2
[0][0] , m2[2][0] ); m1[2][1] = _mm_sub_epi32( m2[0][1] , m2[2][1] );

449 
m1
[3][0] = 
	`_mm_sub_ïi32
–
m2
[1][0] , m2[3][0] ); m1[3][1] = _mm_sub_epi32( m2[1][1] , m2[3][1] );

450 
m1
[4][0] = 
	`_mm_add_ïi32
–
m2
[4][0] , m2[6][0] ); m1[4][1] = _mm_add_epi32( m2[4][1] , m2[6][1] );

451 
m1
[5][0] = 
	`_mm_add_ïi32
–
m2
[5][0] , m2[7][0] ); m1[5][1] = _mm_add_epi32( m2[5][1] , m2[7][1] );

452 
m1
[6][0] = 
	`_mm_sub_ïi32
–
m2
[4][0] , m2[6][0] ); m1[6][1] = _mm_sub_epi32( m2[4][1] , m2[6][1] );

453 
m1
[7][0] = 
	`_mm_sub_ïi32
–
m2
[5][0] , m2[7][0] ); m1[7][1] = _mm_sub_epi32( m2[5][1] , m2[7][1] );

455 
pI≈ut
[0 ] = 
	`_mm_add_ïi32
–
m1
[0][0] , m1[1][0] );ÖInput[1 ] = _mm_add_epi32( m1[0][1] , m1[1][1] );

456 
pI≈ut
[2 ] = 
	`_mm_sub_ïi32
–
m1
[0][0] , m1[1][0] );ÖInput[3 ] = _mm_sub_epi32( m1[0][1] , m1[1][1] );

457 
pI≈ut
[4 ] = 
	`_mm_add_ïi32
–
m1
[2][0] , m1[3][0] );ÖInput[5 ] = _mm_add_epi32( m1[2][1] , m1[3][1] );

458 
pI≈ut
[6 ] = 
	`_mm_sub_ïi32
–
m1
[2][0] , m1[3][0] );ÖInput[7 ] = _mm_sub_epi32( m1[2][1] , m1[3][1] );

459 
pI≈ut
[8 ] = 
	`_mm_add_ïi32
–
m1
[4][0] , m1[5][0] );ÖInput[9 ] = _mm_add_epi32( m1[4][1] , m1[5][1] );

460 
pI≈ut
[10] = 
	`_mm_sub_ïi32
–
m1
[4][0] , m1[5][0] );ÖInput[11] = _mm_sub_epi32( m1[4][1] , m1[5][1] );

461 
pI≈ut
[12] = 
	`_mm_add_ïi32
–
m1
[6][0] , m1[7][0] );ÖInput[13] = _mm_add_epi32( m1[6][1] , m1[7][1] );

462 
pI≈ut
[14] = 
	`_mm_sub_ïi32
–
m1
[6][0] , m1[7][0] );ÖInput[15] = _mm_sub_epi32( m1[6][1] , m1[7][1] );

463 
	}
}

465 
ölöe
 
__m128i
 
	$simdAbs32b
–
__m128i
 
m
 )

467 c⁄° 
__m128i
 
zîo
 = 
	`_mm_£tzîo_si128
();

468 
__m128i
 
tmp
 = 
	`_mm_sub_ïi32
–
zîo
 , 
m
 );

469 
__m128i
 
mask
 = 
	`_mm_cmpgt_ïi32
–
m
 , 
tmp
 );

470 –
	`_mm_‹_si128
–
	`_mm_™d_si128
–
mask
 , 
m
 ) , 
	`_mm_™dnŸ_si128
–mask , 
tmp
 ) ) );

471 
	}
}

473 
UI¡
 
	$simdHADs8x8
–c⁄° 
Pñ
 * 
piOrg
, c⁄° Pñ * 
piCur
, 
I¡
 
iSåideOrg
, I¡ 
iSåideCur
 )

475 
__m128i
 
mmDiff
[8][2];

476 
__m128i
 
mmZîo
 = 
	`_mm_£tzîo_si128
();

477  
I¡
 
n
 = 0 ;Ç < 8 ;Ç++ , 
piOrg
 +
iSåideOrg
 , 
piCur
 +
iSåideCur
 )

479 
__m128i
 
diff
 = 
	`_mm_sub_ïi16
–
	`_mm_lﬂdu_si128
––__m128i* )
piOrg
 ) , _mm_lﬂdu_si128––__m128i* )
piCur
 ) );

481 
__m128i
 
mask
 = 
	`_mm_cm∂t_ïi16
–
diff
 , 
mmZîo
 );

482 
mmDiff
[
n
][0] = 
	`_mm_u≈acklo_ïi16
–
diff
 , 
mask
 );

483 
mmDiff
[
n
][1] = 
	`_mm_u≈ackhi_ïi16
–
diff
 , 
mask
 );

487 
	`simd8x8Tøn•o£32b
–&
mmDiff
[0][0] );

490 
	`simd8x8HAD1D32b
–&
mmDiff
[0][0] , &mmDiff[0][0] );

493 
	`simd8x8Tøn•o£32b
–&
mmDiff
[0][0] );

496 
	`simd8x8HAD1D32b
–&
mmDiff
[0][0] , &mmDiff[0][0] );

498 
__m128i
 
mmSum
 = 
	`_mm_£tzîo_si128
();

499  
I¡
 
n
 = 0 ;Ç < 8 ;Ç++ )

501 
mmSum
 = 
	`_mm_add_ïi32
–mmSum , 
	`simdAbs32b
–
mmDiff
[
n
][0] ) );

502 
mmSum
 = 
	`_mm_add_ïi32
–mmSum , 
	`simdAbs32b
–
mmDiff
[
n
][1] ) );

504 
mmSum
 = 
	`_mm_add_ïi32
–mmSum , 
	`_mm_shufÊe_ïi32
–mmSum , 
	`_MM_SHUFFLE
( 2 , 3 , 0 , 1 ) ) );

505 
mmSum
 = 
	`_mm_add_ïi32
–mmSum , 
	`_mm_shufÊe_ïi32
–mmSum , 
	`_MM_SHUFFLE
( 1 , 0 , 3 , 2 ) ) );

507 
UI¡
 
ßd
 = 
	`_mm_cvtsi128_si32
–
mmSum
 );

508 
ßd
 = ( sad + 2 ) >> 2;

510 –
ßd
 );

511 
	}
}

518 
Di°‹ti⁄
 
	gTComRdCo°
::
	$xGëSAD
–
Di°P¨am
* 
pcDtP¨am
 )

520 i‡–
pcDtP¨am
->
bAµlyWeight
 )

522  
TComRdCo°WeightPªdi˘i⁄
::
	`xGëSADw
–
pcDtP¨am
 );

524 c⁄° 
Pñ
* 
piOrg
 = 
pcDtP¨am
->
pOrg
;

525 c⁄° 
Pñ
* 
piCur
 = 
pcDtP¨am
->
pCur
;

526 c⁄° 
I¡
 
iCﬁs
 = 
pcDtP¨am
->iCols;

527 c⁄° 
I¡
 
iSåideCur
 = 
pcDtP¨am
->iStrideCur;

528 c⁄° 
I¡
 
iSåideOrg
 = 
pcDtP¨am
->iStrideOrg;

529 c⁄° 
UI¡
 
di°‹ti⁄Shi·
 = 
	`DISTORTION_PRECISION_ADJUSTMENT
(
pcDtP¨am
->
bôDïth
 - 8);

531 
Di°‹ti⁄
 
uiSum
 = 0;

533 #i‡
VECTOR_CODING__DISTORTION_CALCULATIONS
 && (
RExt__HIGH_BIT_DEPTH_SUPPORT
==0)

534 if–
pcDtP¨am
->
bôDïth
 <= 10 )

536 if––
iCﬁs
 & 0x07 ) == 0 )

538  
I¡
 
iRows
 = 
pcDtP¨am
->iRows ; iRows != 0; iRows-- )

540 
uiSum
 +
	`simdSADLöe8n16b
–
piOrg
 , 
piCur
 , 
iCﬁs
 );

541 
piOrg
 +
iSåideOrg
;

542 
piCur
 +
iSåideCur
;

547  
I¡
 
iRows
 = 
pcDtP¨am
->iRows; iRows != 0; iRows-- )

549 
uiSum
 +
	`simdSADLöe4n16b
–
piOrg
 , 
piCur
 , 
iCﬁs
 );

550 
piOrg
 +
iSåideOrg
;

551 
piCur
 +
iSåideCur
;

558 
I¡
 
iRows
 = 
pcDtP¨am
->iRows ; iRows != 0; iRows-- )

560 
I¡
 
n
 = 0;Ç < 
iCﬁs
;Ç++ )

562 
uiSum
 +
	`abs
–
piOrg
[
n
] - 
piCur
[n] );

564 i‡(
pcDtP¨am
->
m_maximumDi°‹ti⁄F‹E¨lyExô
 < ( 
uiSum
 >> 
di°‹ti⁄Shi·
 ))

566  ( 
uiSum
 >> 
di°‹ti⁄Shi·
 );

568 
piOrg
 +
iSåideOrg
;

569 
piCur
 +
iSåideCur
;

571 #i‡
VECTOR_CODING__DISTORTION_CALCULATIONS
 && (
RExt__HIGH_BIT_DEPTH_SUPPORT
==0)

575  ( 
uiSum
 >> 
di°‹ti⁄Shi·
 );

576 
	}
}

578 
Di°‹ti⁄
 
	gTComRdCo°
::
	$xGëSAD4
–
Di°P¨am
* 
pcDtP¨am
 )

580 i‡–
pcDtP¨am
->
bAµlyWeight
 )

582  
TComRdCo°WeightPªdi˘i⁄
::
	`xGëSADw
–
pcDtP¨am
 );

584 c⁄° 
Pñ
* 
piOrg
 = 
pcDtP¨am
->
pOrg
;

585 c⁄° 
Pñ
* 
piCur
 = 
pcDtP¨am
->
pCur
;

586 
I¡
 
iRows
 = 
pcDtP¨am
->iRows;

587 
I¡
 
iSubShi·
 = 
pcDtP¨am
->iSubShift;

588 
I¡
 
iSubSãp
 = ( 1 << 
iSubShi·
 );

589 
I¡
 
iSåideCur
 = 
pcDtP¨am
->iSåideCur*
iSubSãp
;

590 
I¡
 
iSåideOrg
 = 
pcDtP¨am
->iSåideOrg*
iSubSãp
;

592 
Di°‹ti⁄
 
uiSum
 = 0;

594 #i‡
VECTOR_CODING__DISTORTION_CALCULATIONS
 && (
RExt__HIGH_BIT_DEPTH_SUPPORT
==0)

595 if–
pcDtP¨am
->
bôDïth
 <= 10 )

597  ; 
iRows
 !0; iRows-=
iSubSãp
 )

599 
uiSum
 +
	`simdSADLöe4n16b
–
piOrg
 , 
piCur
 , 4 );

600 
piOrg
 +
iSåideOrg
;

601 
piCur
 +
iSåideCur
;

607  ; 
iRows
 !0; iRows-=
iSubSãp
 )

609 
uiSum
 +
	`abs
–
piOrg
[0] - 
piCur
[0] );

610 
uiSum
 +
	`abs
–
piOrg
[1] - 
piCur
[1] );

611 
uiSum
 +
	`abs
–
piOrg
[2] - 
piCur
[2] );

612 
uiSum
 +
	`abs
–
piOrg
[3] - 
piCur
[3] );

614 
piOrg
 +
iSåideOrg
;

615 
piCur
 +
iSåideCur
;

617 #i‡
VECTOR_CODING__DISTORTION_CALCULATIONS
 && (
RExt__HIGH_BIT_DEPTH_SUPPORT
==0)

621 
uiSum
 <<
iSubShi·
;

622  ( 
uiSum
 >> 
	`DISTORTION_PRECISION_ADJUSTMENT
(
pcDtP¨am
->
bôDïth
-8) );

623 
	}
}

625 
Di°‹ti⁄
 
	gTComRdCo°
::
	$xGëSAD8
–
Di°P¨am
* 
pcDtP¨am
 )

627 i‡–
pcDtP¨am
->
bAµlyWeight
 )

629  
TComRdCo°WeightPªdi˘i⁄
::
	`xGëSADw
–
pcDtP¨am
 );

631 c⁄° 
Pñ
* 
piOrg
 = 
pcDtP¨am
->
pOrg
;

632 c⁄° 
Pñ
* 
piCur
 = 
pcDtP¨am
->
pCur
;

633 
I¡
 
iRows
 = 
pcDtP¨am
->iRows;

634 
I¡
 
iSubShi·
 = 
pcDtP¨am
->iSubShift;

635 
I¡
 
iSubSãp
 = ( 1 << 
iSubShi·
 );

636 
I¡
 
iSåideCur
 = 
pcDtP¨am
->iSåideCur*
iSubSãp
;

637 
I¡
 
iSåideOrg
 = 
pcDtP¨am
->iSåideOrg*
iSubSãp
;

639 
Di°‹ti⁄
 
uiSum
 = 0;

641 #i‡
VECTOR_CODING__DISTORTION_CALCULATIONS
 && (
RExt__HIGH_BIT_DEPTH_SUPPORT
==0)

642 if–
pcDtP¨am
->
bôDïth
 <= 10 )

644  ; 
iRows
 !0; iRows-=
iSubSãp
 )

646 
uiSum
 +
	`simdSADLöe8n16b
–
piOrg
 , 
piCur
 , 8 );

647 
piOrg
 +
iSåideOrg
;

648 
piCur
 +
iSåideCur
;

654  ; 
iRows
 !0; iRows-=
iSubSãp
 )

656 
uiSum
 +
	`abs
–
piOrg
[0] - 
piCur
[0] );

657 
uiSum
 +
	`abs
–
piOrg
[1] - 
piCur
[1] );

658 
uiSum
 +
	`abs
–
piOrg
[2] - 
piCur
[2] );

659 
uiSum
 +
	`abs
–
piOrg
[3] - 
piCur
[3] );

660 
uiSum
 +
	`abs
–
piOrg
[4] - 
piCur
[4] );

661 
uiSum
 +
	`abs
–
piOrg
[5] - 
piCur
[5] );

662 
uiSum
 +
	`abs
–
piOrg
[6] - 
piCur
[6] );

663 
uiSum
 +
	`abs
–
piOrg
[7] - 
piCur
[7] );

665 
piOrg
 +
iSåideOrg
;

666 
piCur
 +
iSåideCur
;

668 #i‡
VECTOR_CODING__DISTORTION_CALCULATIONS
 && (
RExt__HIGH_BIT_DEPTH_SUPPORT
==0)

672 
uiSum
 <<
iSubShi·
;

673  ( 
uiSum
 >> 
	`DISTORTION_PRECISION_ADJUSTMENT
(
pcDtP¨am
->
bôDïth
-8) );

674 
	}
}

676 
Di°‹ti⁄
 
	gTComRdCo°
::
	$xGëSAD16
–
Di°P¨am
* 
pcDtP¨am
 )

678 i‡–
pcDtP¨am
->
bAµlyWeight
 )

680  
TComRdCo°WeightPªdi˘i⁄
::
	`xGëSADw
–
pcDtP¨am
 );

682 c⁄° 
Pñ
* 
piOrg
 = 
pcDtP¨am
->
pOrg
;

683 c⁄° 
Pñ
* 
piCur
 = 
pcDtP¨am
->
pCur
;

684 
I¡
 
iRows
 = 
pcDtP¨am
->iRows;

685 
I¡
 
iSubShi·
 = 
pcDtP¨am
->iSubShift;

686 
I¡
 
iSubSãp
 = ( 1 << 
iSubShi·
 );

687 
I¡
 
iSåideCur
 = 
pcDtP¨am
->iSåideCur*
iSubSãp
;

688 
I¡
 
iSåideOrg
 = 
pcDtP¨am
->iSåideOrg*
iSubSãp
;

690 
Di°‹ti⁄
 
uiSum
 = 0;

692 #i‡
VECTOR_CODING__DISTORTION_CALCULATIONS
 && (
RExt__HIGH_BIT_DEPTH_SUPPORT
==0)

693 if–
pcDtP¨am
->
bôDïth
 <= 10 )

695  ; 
iRows
 !0; iRows-=
iSubSãp
 )

697 
uiSum
 +
	`simdSADLöe8n16b
–
piOrg
 , 
piCur
 , 16 );

698 
piOrg
 +
iSåideOrg
;

699 
piCur
 +
iSåideCur
;

705  ; 
iRows
 !0; iRows-=
iSubSãp
 )

707 
uiSum
 +
	`abs
–
piOrg
[0] - 
piCur
[0] );

708 
uiSum
 +
	`abs
–
piOrg
[1] - 
piCur
[1] );

709 
uiSum
 +
	`abs
–
piOrg
[2] - 
piCur
[2] );

710 
uiSum
 +
	`abs
–
piOrg
[3] - 
piCur
[3] );

711 
uiSum
 +
	`abs
–
piOrg
[4] - 
piCur
[4] );

712 
uiSum
 +
	`abs
–
piOrg
[5] - 
piCur
[5] );

713 
uiSum
 +
	`abs
–
piOrg
[6] - 
piCur
[6] );

714 
uiSum
 +
	`abs
–
piOrg
[7] - 
piCur
[7] );

715 
uiSum
 +
	`abs
–
piOrg
[8] - 
piCur
[8] );

716 
uiSum
 +
	`abs
–
piOrg
[9] - 
piCur
[9] );

717 
uiSum
 +
	`abs
–
piOrg
[10] - 
piCur
[10] );

718 
uiSum
 +
	`abs
–
piOrg
[11] - 
piCur
[11] );

719 
uiSum
 +
	`abs
–
piOrg
[12] - 
piCur
[12] );

720 
uiSum
 +
	`abs
–
piOrg
[13] - 
piCur
[13] );

721 
uiSum
 +
	`abs
–
piOrg
[14] - 
piCur
[14] );

722 
uiSum
 +
	`abs
–
piOrg
[15] - 
piCur
[15] );

724 
piOrg
 +
iSåideOrg
;

725 
piCur
 +
iSåideCur
;

727 #i‡
VECTOR_CODING__DISTORTION_CALCULATIONS
 && (
RExt__HIGH_BIT_DEPTH_SUPPORT
==0)

731 
uiSum
 <<
iSubShi·
;

732  ( 
uiSum
 >> 
	`DISTORTION_PRECISION_ADJUSTMENT
(
pcDtP¨am
->
bôDïth
-8) );

733 
	}
}

735 
Di°‹ti⁄
 
	gTComRdCo°
::
	$xGëSAD12
–
Di°P¨am
* 
pcDtP¨am
 )

737 i‡–
pcDtP¨am
->
bAµlyWeight
 )

739  
TComRdCo°WeightPªdi˘i⁄
::
	`xGëSADw
–
pcDtP¨am
 );

741 c⁄° 
Pñ
* 
piOrg
 = 
pcDtP¨am
->
pOrg
;

742 c⁄° 
Pñ
* 
piCur
 = 
pcDtP¨am
->
pCur
;

743 
I¡
 
iRows
 = 
pcDtP¨am
->iRows;

744 
I¡
 
iSubShi·
 = 
pcDtP¨am
->iSubShift;

745 
I¡
 
iSubSãp
 = ( 1 << 
iSubShi·
 );

746 
I¡
 
iSåideCur
 = 
pcDtP¨am
->iSåideCur*
iSubSãp
;

747 
I¡
 
iSåideOrg
 = 
pcDtP¨am
->iSåideOrg*
iSubSãp
;

749 
Di°‹ti⁄
 
uiSum
 = 0;

751  ; 
iRows
 !0; iRows-=
iSubSãp
 )

753 
uiSum
 +
	`abs
–
piOrg
[0] - 
piCur
[0] );

754 
uiSum
 +
	`abs
–
piOrg
[1] - 
piCur
[1] );

755 
uiSum
 +
	`abs
–
piOrg
[2] - 
piCur
[2] );

756 
uiSum
 +
	`abs
–
piOrg
[3] - 
piCur
[3] );

757 
uiSum
 +
	`abs
–
piOrg
[4] - 
piCur
[4] );

758 
uiSum
 +
	`abs
–
piOrg
[5] - 
piCur
[5] );

759 
uiSum
 +
	`abs
–
piOrg
[6] - 
piCur
[6] );

760 
uiSum
 +
	`abs
–
piOrg
[7] - 
piCur
[7] );

761 
uiSum
 +
	`abs
–
piOrg
[8] - 
piCur
[8] );

762 
uiSum
 +
	`abs
–
piOrg
[9] - 
piCur
[9] );

763 
uiSum
 +
	`abs
–
piOrg
[10] - 
piCur
[10] );

764 
uiSum
 +
	`abs
–
piOrg
[11] - 
piCur
[11] );

766 
piOrg
 +
iSåideOrg
;

767 
piCur
 +
iSåideCur
;

770 
uiSum
 <<
iSubShi·
;

771  ( 
uiSum
 >> 
	`DISTORTION_PRECISION_ADJUSTMENT
(
pcDtP¨am
->
bôDïth
-8) );

772 
	}
}

774 
Di°‹ti⁄
 
	gTComRdCo°
::
	$xGëSAD16N
–
Di°P¨am
* 
pcDtP¨am
 )

776 c⁄° 
Pñ
* 
piOrg
 = 
pcDtP¨am
->
pOrg
;

777 c⁄° 
Pñ
* 
piCur
 = 
pcDtP¨am
->
pCur
;

778 
I¡
 
iRows
 = 
pcDtP¨am
->iRows;

779 
I¡
 
iCﬁs
 = 
pcDtP¨am
->iCols;

780 
I¡
 
iSubShi·
 = 
pcDtP¨am
->iSubShift;

781 
I¡
 
iSubSãp
 = ( 1 << 
iSubShi·
 );

782 
I¡
 
iSåideCur
 = 
pcDtP¨am
->iSåideCur*
iSubSãp
;

783 
I¡
 
iSåideOrg
 = 
pcDtP¨am
->iSåideOrg*
iSubSãp
;

785 
Di°‹ti⁄
 
uiSum
 = 0;

787 #i‡
VECTOR_CODING__DISTORTION_CALCULATIONS
 && (
RExt__HIGH_BIT_DEPTH_SUPPORT
==0)

788 if–
pcDtP¨am
->
bôDïth
 <= 10 )

790  ; 
iRows
 !0; iRows-=
iSubSãp
 )

792 
uiSum
 +
	`simdSADLöe8n16b
–
piOrg
 , 
piCur
 , 
iCﬁs
 );

793 
piOrg
 +
iSåideOrg
;

794 
piCur
 +
iSåideCur
;

800  ; 
iRows
 !0; iRows-=
iSubSãp
 )

802 
I¡
 
n
 = 0;Ç < 
iCﬁs
;Ç+=16 )

804 
uiSum
 +
	`abs
–
piOrg
[
n
+ 0] - 
piCur
[n+ 0] );

805 
uiSum
 +
	`abs
–
piOrg
[
n
+ 1] - 
piCur
[n+ 1] );

806 
uiSum
 +
	`abs
–
piOrg
[
n
+ 2] - 
piCur
[n+ 2] );

807 
uiSum
 +
	`abs
–
piOrg
[
n
+ 3] - 
piCur
[n+ 3] );

808 
uiSum
 +
	`abs
–
piOrg
[
n
+ 4] - 
piCur
[n+ 4] );

809 
uiSum
 +
	`abs
–
piOrg
[
n
+ 5] - 
piCur
[n+ 5] );

810 
uiSum
 +
	`abs
–
piOrg
[
n
+ 6] - 
piCur
[n+ 6] );

811 
uiSum
 +
	`abs
–
piOrg
[
n
+ 7] - 
piCur
[n+ 7] );

812 
uiSum
 +
	`abs
–
piOrg
[
n
+ 8] - 
piCur
[n+ 8] );

813 
uiSum
 +
	`abs
–
piOrg
[
n
+ 9] - 
piCur
[n+ 9] );

814 
uiSum
 +
	`abs
–
piOrg
[
n
+10] - 
piCur
[n+10] );

815 
uiSum
 +
	`abs
–
piOrg
[
n
+11] - 
piCur
[n+11] );

816 
uiSum
 +
	`abs
–
piOrg
[
n
+12] - 
piCur
[n+12] );

817 
uiSum
 +
	`abs
–
piOrg
[
n
+13] - 
piCur
[n+13] );

818 
uiSum
 +
	`abs
–
piOrg
[
n
+14] - 
piCur
[n+14] );

819 
uiSum
 +
	`abs
–
piOrg
[
n
+15] - 
piCur
[n+15] );

821 
piOrg
 +
iSåideOrg
;

822 
piCur
 +
iSåideCur
;

824 #i‡
VECTOR_CODING__DISTORTION_CALCULATIONS
 && (
RExt__HIGH_BIT_DEPTH_SUPPORT
==0)

828 
uiSum
 <<
iSubShi·
;

829  ( 
uiSum
 >> 
	`DISTORTION_PRECISION_ADJUSTMENT
(
pcDtP¨am
->
bôDïth
-8) );

830 
	}
}

832 
Di°‹ti⁄
 
	gTComRdCo°
::
	$xGëSAD32
–
Di°P¨am
* 
pcDtP¨am
 )

834 i‡–
pcDtP¨am
->
bAµlyWeight
 )

836  
TComRdCo°WeightPªdi˘i⁄
::
	`xGëSADw
–
pcDtP¨am
 );

838 c⁄° 
Pñ
* 
piOrg
 = 
pcDtP¨am
->
pOrg
;

839 c⁄° 
Pñ
* 
piCur
 = 
pcDtP¨am
->
pCur
;

840 
I¡
 
iRows
 = 
pcDtP¨am
->iRows;

841 
I¡
 
iSubShi·
 = 
pcDtP¨am
->iSubShift;

842 
I¡
 
iSubSãp
 = ( 1 << 
iSubShi·
 );

843 
I¡
 
iSåideCur
 = 
pcDtP¨am
->iSåideCur*
iSubSãp
;

844 
I¡
 
iSåideOrg
 = 
pcDtP¨am
->iSåideOrg*
iSubSãp
;

846 
Di°‹ti⁄
 
uiSum
 = 0;

848 #i‡
VECTOR_CODING__DISTORTION_CALCULATIONS
 && (
RExt__HIGH_BIT_DEPTH_SUPPORT
==0)

849 if–
pcDtP¨am
->
bôDïth
 <= 10 )

851  ; 
iRows
 !0; iRows-=
iSubSãp
 )

853 
uiSum
 +
	`simdSADLöe8n16b
–
piOrg
 , 
piCur
 , 32 );

854 
piOrg
 +
iSåideOrg
;

855 
piCur
 +
iSåideCur
;

861  ; 
iRows
 !0; iRows-=
iSubSãp
 )

863 
uiSum
 +
	`abs
–
piOrg
[0] - 
piCur
[0] );

864 
uiSum
 +
	`abs
–
piOrg
[1] - 
piCur
[1] );

865 
uiSum
 +
	`abs
–
piOrg
[2] - 
piCur
[2] );

866 
uiSum
 +
	`abs
–
piOrg
[3] - 
piCur
[3] );

867 
uiSum
 +
	`abs
–
piOrg
[4] - 
piCur
[4] );

868 
uiSum
 +
	`abs
–
piOrg
[5] - 
piCur
[5] );

869 
uiSum
 +
	`abs
–
piOrg
[6] - 
piCur
[6] );

870 
uiSum
 +
	`abs
–
piOrg
[7] - 
piCur
[7] );

871 
uiSum
 +
	`abs
–
piOrg
[8] - 
piCur
[8] );

872 
uiSum
 +
	`abs
–
piOrg
[9] - 
piCur
[9] );

873 
uiSum
 +
	`abs
–
piOrg
[10] - 
piCur
[10] );

874 
uiSum
 +
	`abs
–
piOrg
[11] - 
piCur
[11] );

875 
uiSum
 +
	`abs
–
piOrg
[12] - 
piCur
[12] );

876 
uiSum
 +
	`abs
–
piOrg
[13] - 
piCur
[13] );

877 
uiSum
 +
	`abs
–
piOrg
[14] - 
piCur
[14] );

878 
uiSum
 +
	`abs
–
piOrg
[15] - 
piCur
[15] );

879 
uiSum
 +
	`abs
–
piOrg
[16] - 
piCur
[16] );

880 
uiSum
 +
	`abs
–
piOrg
[17] - 
piCur
[17] );

881 
uiSum
 +
	`abs
–
piOrg
[18] - 
piCur
[18] );

882 
uiSum
 +
	`abs
–
piOrg
[19] - 
piCur
[19] );

883 
uiSum
 +
	`abs
–
piOrg
[20] - 
piCur
[20] );

884 
uiSum
 +
	`abs
–
piOrg
[21] - 
piCur
[21] );

885 
uiSum
 +
	`abs
–
piOrg
[22] - 
piCur
[22] );

886 
uiSum
 +
	`abs
–
piOrg
[23] - 
piCur
[23] );

887 
uiSum
 +
	`abs
–
piOrg
[24] - 
piCur
[24] );

888 
uiSum
 +
	`abs
–
piOrg
[25] - 
piCur
[25] );

889 
uiSum
 +
	`abs
–
piOrg
[26] - 
piCur
[26] );

890 
uiSum
 +
	`abs
–
piOrg
[27] - 
piCur
[27] );

891 
uiSum
 +
	`abs
–
piOrg
[28] - 
piCur
[28] );

892 
uiSum
 +
	`abs
–
piOrg
[29] - 
piCur
[29] );

893 
uiSum
 +
	`abs
–
piOrg
[30] - 
piCur
[30] );

894 
uiSum
 +
	`abs
–
piOrg
[31] - 
piCur
[31] );

896 
piOrg
 +
iSåideOrg
;

897 
piCur
 +
iSåideCur
;

899 #i‡
VECTOR_CODING__DISTORTION_CALCULATIONS
 && (
RExt__HIGH_BIT_DEPTH_SUPPORT
==0)

903 
uiSum
 <<
iSubShi·
;

904  ( 
uiSum
 >> 
	`DISTORTION_PRECISION_ADJUSTMENT
(
pcDtP¨am
->
bôDïth
-8) );

905 
	}
}

907 
Di°‹ti⁄
 
	gTComRdCo°
::
	$xGëSAD24
–
Di°P¨am
* 
pcDtP¨am
 )

909 i‡–
pcDtP¨am
->
bAµlyWeight
 )

911  
TComRdCo°WeightPªdi˘i⁄
::
	`xGëSADw
–
pcDtP¨am
 );

913 c⁄° 
Pñ
* 
piOrg
 = 
pcDtP¨am
->
pOrg
;

914 c⁄° 
Pñ
* 
piCur
 = 
pcDtP¨am
->
pCur
;

915 
I¡
 
iRows
 = 
pcDtP¨am
->iRows;

916 
I¡
 
iSubShi·
 = 
pcDtP¨am
->iSubShift;

917 
I¡
 
iSubSãp
 = ( 1 << 
iSubShi·
 );

918 
I¡
 
iSåideCur
 = 
pcDtP¨am
->iSåideCur*
iSubSãp
;

919 
I¡
 
iSåideOrg
 = 
pcDtP¨am
->iSåideOrg*
iSubSãp
;

921 
Di°‹ti⁄
 
uiSum
 = 0;

923 #i‡
VECTOR_CODING__DISTORTION_CALCULATIONS
 && (
RExt__HIGH_BIT_DEPTH_SUPPORT
==0)

924 if–
pcDtP¨am
->
bôDïth
 <= 10 )

926  ; 
iRows
 !0; iRows-=
iSubSãp
 )

928 
uiSum
 +
	`simdSADLöe8n16b
–
piOrg
 , 
piCur
 , 24 );

929 
piOrg
 +
iSåideOrg
;

930 
piCur
 +
iSåideCur
;

936  ; 
iRows
 !0; iRows-=
iSubSãp
 )

938 
uiSum
 +
	`abs
–
piOrg
[0] - 
piCur
[0] );

939 
uiSum
 +
	`abs
–
piOrg
[1] - 
piCur
[1] );

940 
uiSum
 +
	`abs
–
piOrg
[2] - 
piCur
[2] );

941 
uiSum
 +
	`abs
–
piOrg
[3] - 
piCur
[3] );

942 
uiSum
 +
	`abs
–
piOrg
[4] - 
piCur
[4] );

943 
uiSum
 +
	`abs
–
piOrg
[5] - 
piCur
[5] );

944 
uiSum
 +
	`abs
–
piOrg
[6] - 
piCur
[6] );

945 
uiSum
 +
	`abs
–
piOrg
[7] - 
piCur
[7] );

946 
uiSum
 +
	`abs
–
piOrg
[8] - 
piCur
[8] );

947 
uiSum
 +
	`abs
–
piOrg
[9] - 
piCur
[9] );

948 
uiSum
 +
	`abs
–
piOrg
[10] - 
piCur
[10] );

949 
uiSum
 +
	`abs
–
piOrg
[11] - 
piCur
[11] );

950 
uiSum
 +
	`abs
–
piOrg
[12] - 
piCur
[12] );

951 
uiSum
 +
	`abs
–
piOrg
[13] - 
piCur
[13] );

952 
uiSum
 +
	`abs
–
piOrg
[14] - 
piCur
[14] );

953 
uiSum
 +
	`abs
–
piOrg
[15] - 
piCur
[15] );

954 
uiSum
 +
	`abs
–
piOrg
[16] - 
piCur
[16] );

955 
uiSum
 +
	`abs
–
piOrg
[17] - 
piCur
[17] );

956 
uiSum
 +
	`abs
–
piOrg
[18] - 
piCur
[18] );

957 
uiSum
 +
	`abs
–
piOrg
[19] - 
piCur
[19] );

958 
uiSum
 +
	`abs
–
piOrg
[20] - 
piCur
[20] );

959 
uiSum
 +
	`abs
–
piOrg
[21] - 
piCur
[21] );

960 
uiSum
 +
	`abs
–
piOrg
[22] - 
piCur
[22] );

961 
uiSum
 +
	`abs
–
piOrg
[23] - 
piCur
[23] );

963 
piOrg
 +
iSåideOrg
;

964 
piCur
 +
iSåideCur
;

966 #i‡
VECTOR_CODING__DISTORTION_CALCULATIONS
 && (
RExt__HIGH_BIT_DEPTH_SUPPORT
==0)

970 
uiSum
 <<
iSubShi·
;

971  ( 
uiSum
 >> 
	`DISTORTION_PRECISION_ADJUSTMENT
(
pcDtP¨am
->
bôDïth
-8) );

972 
	}
}

974 
Di°‹ti⁄
 
	gTComRdCo°
::
	$xGëSAD64
–
Di°P¨am
* 
pcDtP¨am
 )

976 i‡–
pcDtP¨am
->
bAµlyWeight
 )

978  
TComRdCo°WeightPªdi˘i⁄
::
	`xGëSADw
–
pcDtP¨am
 );

980 c⁄° 
Pñ
* 
piOrg
 = 
pcDtP¨am
->
pOrg
;

981 c⁄° 
Pñ
* 
piCur
 = 
pcDtP¨am
->
pCur
;

982 
I¡
 
iRows
 = 
pcDtP¨am
->iRows;

983 
I¡
 
iSubShi·
 = 
pcDtP¨am
->iSubShift;

984 
I¡
 
iSubSãp
 = ( 1 << 
iSubShi·
 );

985 
I¡
 
iSåideCur
 = 
pcDtP¨am
->iSåideCur*
iSubSãp
;

986 
I¡
 
iSåideOrg
 = 
pcDtP¨am
->iSåideOrg*
iSubSãp
;

988 
Di°‹ti⁄
 
uiSum
 = 0;

990 #i‡
VECTOR_CODING__DISTORTION_CALCULATIONS
 && (
RExt__HIGH_BIT_DEPTH_SUPPORT
==0)

991 if–
pcDtP¨am
->
bôDïth
 <= 10 )

993  ; 
iRows
 !0; iRows-=
iSubSãp
 )

995 
uiSum
 +
	`simdSADLöe8n16b
–
piOrg
 , 
piCur
 , 64 );

996 
piOrg
 +
iSåideOrg
;

997 
piCur
 +
iSåideCur
;

1003  ; 
iRows
 !0; iRows-=
iSubSãp
 )

1005 
uiSum
 +
	`abs
–
piOrg
[0] - 
piCur
[0] );

1006 
uiSum
 +
	`abs
–
piOrg
[1] - 
piCur
[1] );

1007 
uiSum
 +
	`abs
–
piOrg
[2] - 
piCur
[2] );

1008 
uiSum
 +
	`abs
–
piOrg
[3] - 
piCur
[3] );

1009 
uiSum
 +
	`abs
–
piOrg
[4] - 
piCur
[4] );

1010 
uiSum
 +
	`abs
–
piOrg
[5] - 
piCur
[5] );

1011 
uiSum
 +
	`abs
–
piOrg
[6] - 
piCur
[6] );

1012 
uiSum
 +
	`abs
–
piOrg
[7] - 
piCur
[7] );

1013 
uiSum
 +
	`abs
–
piOrg
[8] - 
piCur
[8] );

1014 
uiSum
 +
	`abs
–
piOrg
[9] - 
piCur
[9] );

1015 
uiSum
 +
	`abs
–
piOrg
[10] - 
piCur
[10] );

1016 
uiSum
 +
	`abs
–
piOrg
[11] - 
piCur
[11] );

1017 
uiSum
 +
	`abs
–
piOrg
[12] - 
piCur
[12] );

1018 
uiSum
 +
	`abs
–
piOrg
[13] - 
piCur
[13] );

1019 
uiSum
 +
	`abs
–
piOrg
[14] - 
piCur
[14] );

1020 
uiSum
 +
	`abs
–
piOrg
[15] - 
piCur
[15] );

1021 
uiSum
 +
	`abs
–
piOrg
[16] - 
piCur
[16] );

1022 
uiSum
 +
	`abs
–
piOrg
[17] - 
piCur
[17] );

1023 
uiSum
 +
	`abs
–
piOrg
[18] - 
piCur
[18] );

1024 
uiSum
 +
	`abs
–
piOrg
[19] - 
piCur
[19] );

1025 
uiSum
 +
	`abs
–
piOrg
[20] - 
piCur
[20] );

1026 
uiSum
 +
	`abs
–
piOrg
[21] - 
piCur
[21] );

1027 
uiSum
 +
	`abs
–
piOrg
[22] - 
piCur
[22] );

1028 
uiSum
 +
	`abs
–
piOrg
[23] - 
piCur
[23] );

1029 
uiSum
 +
	`abs
–
piOrg
[24] - 
piCur
[24] );

1030 
uiSum
 +
	`abs
–
piOrg
[25] - 
piCur
[25] );

1031 
uiSum
 +
	`abs
–
piOrg
[26] - 
piCur
[26] );

1032 
uiSum
 +
	`abs
–
piOrg
[27] - 
piCur
[27] );

1033 
uiSum
 +
	`abs
–
piOrg
[28] - 
piCur
[28] );

1034 
uiSum
 +
	`abs
–
piOrg
[29] - 
piCur
[29] );

1035 
uiSum
 +
	`abs
–
piOrg
[30] - 
piCur
[30] );

1036 
uiSum
 +
	`abs
–
piOrg
[31] - 
piCur
[31] );

1037 
uiSum
 +
	`abs
–
piOrg
[32] - 
piCur
[32] );

1038 
uiSum
 +
	`abs
–
piOrg
[33] - 
piCur
[33] );

1039 
uiSum
 +
	`abs
–
piOrg
[34] - 
piCur
[34] );

1040 
uiSum
 +
	`abs
–
piOrg
[35] - 
piCur
[35] );

1041 
uiSum
 +
	`abs
–
piOrg
[36] - 
piCur
[36] );

1042 
uiSum
 +
	`abs
–
piOrg
[37] - 
piCur
[37] );

1043 
uiSum
 +
	`abs
–
piOrg
[38] - 
piCur
[38] );

1044 
uiSum
 +
	`abs
–
piOrg
[39] - 
piCur
[39] );

1045 
uiSum
 +
	`abs
–
piOrg
[40] - 
piCur
[40] );

1046 
uiSum
 +
	`abs
–
piOrg
[41] - 
piCur
[41] );

1047 
uiSum
 +
	`abs
–
piOrg
[42] - 
piCur
[42] );

1048 
uiSum
 +
	`abs
–
piOrg
[43] - 
piCur
[43] );

1049 
uiSum
 +
	`abs
–
piOrg
[44] - 
piCur
[44] );

1050 
uiSum
 +
	`abs
–
piOrg
[45] - 
piCur
[45] );

1051 
uiSum
 +
	`abs
–
piOrg
[46] - 
piCur
[46] );

1052 
uiSum
 +
	`abs
–
piOrg
[47] - 
piCur
[47] );

1053 
uiSum
 +
	`abs
–
piOrg
[48] - 
piCur
[48] );

1054 
uiSum
 +
	`abs
–
piOrg
[49] - 
piCur
[49] );

1055 
uiSum
 +
	`abs
–
piOrg
[50] - 
piCur
[50] );

1056 
uiSum
 +
	`abs
–
piOrg
[51] - 
piCur
[51] );

1057 
uiSum
 +
	`abs
–
piOrg
[52] - 
piCur
[52] );

1058 
uiSum
 +
	`abs
–
piOrg
[53] - 
piCur
[53] );

1059 
uiSum
 +
	`abs
–
piOrg
[54] - 
piCur
[54] );

1060 
uiSum
 +
	`abs
–
piOrg
[55] - 
piCur
[55] );

1061 
uiSum
 +
	`abs
–
piOrg
[56] - 
piCur
[56] );

1062 
uiSum
 +
	`abs
–
piOrg
[57] - 
piCur
[57] );

1063 
uiSum
 +
	`abs
–
piOrg
[58] - 
piCur
[58] );

1064 
uiSum
 +
	`abs
–
piOrg
[59] - 
piCur
[59] );

1065 
uiSum
 +
	`abs
–
piOrg
[60] - 
piCur
[60] );

1066 
uiSum
 +
	`abs
–
piOrg
[61] - 
piCur
[61] );

1067 
uiSum
 +
	`abs
–
piOrg
[62] - 
piCur
[62] );

1068 
uiSum
 +
	`abs
–
piOrg
[63] - 
piCur
[63] );

1070 
piOrg
 +
iSåideOrg
;

1071 
piCur
 +
iSåideCur
;

1073 #i‡
VECTOR_CODING__DISTORTION_CALCULATIONS
 && (
RExt__HIGH_BIT_DEPTH_SUPPORT
==0)

1077 
uiSum
 <<
iSubShi·
;

1078  ( 
uiSum
 >> 
	`DISTORTION_PRECISION_ADJUSTMENT
(
pcDtP¨am
->
bôDïth
-8) );

1079 
	}
}

1081 
Di°‹ti⁄
 
	gTComRdCo°
::
	$xGëSAD48
–
Di°P¨am
* 
pcDtP¨am
 )

1083 i‡–
pcDtP¨am
->
bAµlyWeight
 )

1085  
TComRdCo°WeightPªdi˘i⁄
::
	`xGëSADw
–
pcDtP¨am
 );

1087 c⁄° 
Pñ
* 
piOrg
 = 
pcDtP¨am
->
pOrg
;

1088 c⁄° 
Pñ
* 
piCur
 = 
pcDtP¨am
->
pCur
;

1089 
I¡
 
iRows
 = 
pcDtP¨am
->iRows;

1090 
I¡
 
iSubShi·
 = 
pcDtP¨am
->iSubShift;

1091 
I¡
 
iSubSãp
 = ( 1 << 
iSubShi·
 );

1092 
I¡
 
iSåideCur
 = 
pcDtP¨am
->iSåideCur*
iSubSãp
;

1093 
I¡
 
iSåideOrg
 = 
pcDtP¨am
->iSåideOrg*
iSubSãp
;

1095 
Di°‹ti⁄
 
uiSum
 = 0;

1097 #i‡
VECTOR_CODING__DISTORTION_CALCULATIONS
 && (
RExt__HIGH_BIT_DEPTH_SUPPORT
==0)

1098 if–
pcDtP¨am
->
bôDïth
 <= 10 )

1100  ; 
iRows
 !0; iRows-=
iSubSãp
 )

1102 
uiSum
 +
	`simdSADLöe8n16b
–
piOrg
 , 
piCur
 , 48 );

1103 
piOrg
 +
iSåideOrg
;

1104 
piCur
 +
iSåideCur
;

1110  ; 
iRows
 !0; iRows-=
iSubSãp
 )

1112 
uiSum
 +
	`abs
–
piOrg
[0] - 
piCur
[0] );

1113 
uiSum
 +
	`abs
–
piOrg
[1] - 
piCur
[1] );

1114 
uiSum
 +
	`abs
–
piOrg
[2] - 
piCur
[2] );

1115 
uiSum
 +
	`abs
–
piOrg
[3] - 
piCur
[3] );

1116 
uiSum
 +
	`abs
–
piOrg
[4] - 
piCur
[4] );

1117 
uiSum
 +
	`abs
–
piOrg
[5] - 
piCur
[5] );

1118 
uiSum
 +
	`abs
–
piOrg
[6] - 
piCur
[6] );

1119 
uiSum
 +
	`abs
–
piOrg
[7] - 
piCur
[7] );

1120 
uiSum
 +
	`abs
–
piOrg
[8] - 
piCur
[8] );

1121 
uiSum
 +
	`abs
–
piOrg
[9] - 
piCur
[9] );

1122 
uiSum
 +
	`abs
–
piOrg
[10] - 
piCur
[10] );

1123 
uiSum
 +
	`abs
–
piOrg
[11] - 
piCur
[11] );

1124 
uiSum
 +
	`abs
–
piOrg
[12] - 
piCur
[12] );

1125 
uiSum
 +
	`abs
–
piOrg
[13] - 
piCur
[13] );

1126 
uiSum
 +
	`abs
–
piOrg
[14] - 
piCur
[14] );

1127 
uiSum
 +
	`abs
–
piOrg
[15] - 
piCur
[15] );

1128 
uiSum
 +
	`abs
–
piOrg
[16] - 
piCur
[16] );

1129 
uiSum
 +
	`abs
–
piOrg
[17] - 
piCur
[17] );

1130 
uiSum
 +
	`abs
–
piOrg
[18] - 
piCur
[18] );

1131 
uiSum
 +
	`abs
–
piOrg
[19] - 
piCur
[19] );

1132 
uiSum
 +
	`abs
–
piOrg
[20] - 
piCur
[20] );

1133 
uiSum
 +
	`abs
–
piOrg
[21] - 
piCur
[21] );

1134 
uiSum
 +
	`abs
–
piOrg
[22] - 
piCur
[22] );

1135 
uiSum
 +
	`abs
–
piOrg
[23] - 
piCur
[23] );

1136 
uiSum
 +
	`abs
–
piOrg
[24] - 
piCur
[24] );

1137 
uiSum
 +
	`abs
–
piOrg
[25] - 
piCur
[25] );

1138 
uiSum
 +
	`abs
–
piOrg
[26] - 
piCur
[26] );

1139 
uiSum
 +
	`abs
–
piOrg
[27] - 
piCur
[27] );

1140 
uiSum
 +
	`abs
–
piOrg
[28] - 
piCur
[28] );

1141 
uiSum
 +
	`abs
–
piOrg
[29] - 
piCur
[29] );

1142 
uiSum
 +
	`abs
–
piOrg
[30] - 
piCur
[30] );

1143 
uiSum
 +
	`abs
–
piOrg
[31] - 
piCur
[31] );

1144 
uiSum
 +
	`abs
–
piOrg
[32] - 
piCur
[32] );

1145 
uiSum
 +
	`abs
–
piOrg
[33] - 
piCur
[33] );

1146 
uiSum
 +
	`abs
–
piOrg
[34] - 
piCur
[34] );

1147 
uiSum
 +
	`abs
–
piOrg
[35] - 
piCur
[35] );

1148 
uiSum
 +
	`abs
–
piOrg
[36] - 
piCur
[36] );

1149 
uiSum
 +
	`abs
–
piOrg
[37] - 
piCur
[37] );

1150 
uiSum
 +
	`abs
–
piOrg
[38] - 
piCur
[38] );

1151 
uiSum
 +
	`abs
–
piOrg
[39] - 
piCur
[39] );

1152 
uiSum
 +
	`abs
–
piOrg
[40] - 
piCur
[40] );

1153 
uiSum
 +
	`abs
–
piOrg
[41] - 
piCur
[41] );

1154 
uiSum
 +
	`abs
–
piOrg
[42] - 
piCur
[42] );

1155 
uiSum
 +
	`abs
–
piOrg
[43] - 
piCur
[43] );

1156 
uiSum
 +
	`abs
–
piOrg
[44] - 
piCur
[44] );

1157 
uiSum
 +
	`abs
–
piOrg
[45] - 
piCur
[45] );

1158 
uiSum
 +
	`abs
–
piOrg
[46] - 
piCur
[46] );

1159 
uiSum
 +
	`abs
–
piOrg
[47] - 
piCur
[47] );

1161 
piOrg
 +
iSåideOrg
;

1162 
piCur
 +
iSåideCur
;

1164 #i‡
VECTOR_CODING__DISTORTION_CALCULATIONS
 && (
RExt__HIGH_BIT_DEPTH_SUPPORT
==0)

1168 
uiSum
 <<
iSubShi·
;

1169  ( 
uiSum
 >> 
	`DISTORTION_PRECISION_ADJUSTMENT
(
pcDtP¨am
->
bôDïth
-8) );

1170 
	}
}

1176 
Di°‹ti⁄
 
	gTComRdCo°
::
	$xGëSSE
–
Di°P¨am
* 
pcDtP¨am
 )

1178 i‡–
pcDtP¨am
->
bAµlyWeight
 )

1180  
TComRdCo°WeightPªdi˘i⁄
::
	`xGëSSEw
–
pcDtP¨am
 );

1182 c⁄° 
Pñ
* 
piOrg
 = 
pcDtP¨am
->
pOrg
;

1183 c⁄° 
Pñ
* 
piCur
 = 
pcDtP¨am
->
pCur
;

1184 
I¡
 
iRows
 = 
pcDtP¨am
->iRows;

1185 
I¡
 
iCﬁs
 = 
pcDtP¨am
->iCols;

1186 
I¡
 
iSåideOrg
 = 
pcDtP¨am
->iStrideOrg;

1187 
I¡
 
iSåideCur
 = 
pcDtP¨am
->iStrideCur;

1189 
Di°‹ti⁄
 
uiSum
 = 0;

1190 
UI¡
 
uiShi·
 = 
	`DISTORTION_PRECISION_ADJUSTMENT
((
pcDtP¨am
->
bôDïth
-8) << 1);

1192 
I¡îmedüã_I¡
 
iTemp
;

1194  ; 
iRows
 != 0; iRows-- )

1196 
I¡
 
n
 = 0;Ç < 
iCﬁs
;Ç++ )

1198 
iTemp
 = 
piOrg
[
n
 ] - 
piCur
[n ];

1199 
uiSum
 +
	`Di°‹ti⁄
(–
iTemp
 * iTem∞Ë>> 
uiShi·
);

1201 
piOrg
 +
iSåideOrg
;

1202 
piCur
 +
iSåideCur
;

1205  ( 
uiSum
 );

1206 
	}
}

1208 
Di°‹ti⁄
 
	gTComRdCo°
::
	$xGëSSE4
–
Di°P¨am
* 
pcDtP¨am
 )

1210 i‡–
pcDtP¨am
->
bAµlyWeight
 )

1212 
	`as£π
–
pcDtP¨am
->
iCﬁs
 == 4 );

1213  
TComRdCo°WeightPªdi˘i⁄
::
	`xGëSSEw
–
pcDtP¨am
 );

1215 c⁄° 
Pñ
* 
piOrg
 = 
pcDtP¨am
->
pOrg
;

1216 c⁄° 
Pñ
* 
piCur
 = 
pcDtP¨am
->
pCur
;

1217 
I¡
 
iRows
 = 
pcDtP¨am
->iRows;

1218 
I¡
 
iSåideOrg
 = 
pcDtP¨am
->iStrideOrg;

1219 
I¡
 
iSåideCur
 = 
pcDtP¨am
->iStrideCur;

1221 
Di°‹ti⁄
 
uiSum
 = 0;

1222 
UI¡
 
uiShi·
 = 
	`DISTORTION_PRECISION_ADJUSTMENT
((
pcDtP¨am
->
bôDïth
-8) << 1);

1224 
I¡îmedüã_I¡
 
iTemp
;

1226  ; 
iRows
 != 0; iRows-- )

1229 
iTemp
 = 
piOrg
[0] - 
piCur
[0]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1230 
iTemp
 = 
piOrg
[1] - 
piCur
[1]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1231 
iTemp
 = 
piOrg
[2] - 
piCur
[2]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1232 
iTemp
 = 
piOrg
[3] - 
piCur
[3]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1234 
piOrg
 +
iSåideOrg
;

1235 
piCur
 +
iSåideCur
;

1238  ( 
uiSum
 );

1239 
	}
}

1241 
Di°‹ti⁄
 
	gTComRdCo°
::
	$xGëSSE8
–
Di°P¨am
* 
pcDtP¨am
 )

1243 i‡–
pcDtP¨am
->
bAµlyWeight
 )

1245 
	`as£π
–
pcDtP¨am
->
iCﬁs
 == 8 );

1246  
TComRdCo°WeightPªdi˘i⁄
::
	`xGëSSEw
–
pcDtP¨am
 );

1248 c⁄° 
Pñ
* 
piOrg
 = 
pcDtP¨am
->
pOrg
;

1249 c⁄° 
Pñ
* 
piCur
 = 
pcDtP¨am
->
pCur
;

1250 
I¡
 
iRows
 = 
pcDtP¨am
->iRows;

1251 
I¡
 
iSåideOrg
 = 
pcDtP¨am
->iStrideOrg;

1252 
I¡
 
iSåideCur
 = 
pcDtP¨am
->iStrideCur;

1254 
Di°‹ti⁄
 
uiSum
 = 0;

1255 
UI¡
 
uiShi·
 = 
	`DISTORTION_PRECISION_ADJUSTMENT
((
pcDtP¨am
->
bôDïth
-8) << 1);

1257 
I¡îmedüã_I¡
 
iTemp
;

1259  ; 
iRows
 != 0; iRows-- )

1261 
iTemp
 = 
piOrg
[0] - 
piCur
[0]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1262 
iTemp
 = 
piOrg
[1] - 
piCur
[1]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1263 
iTemp
 = 
piOrg
[2] - 
piCur
[2]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1264 
iTemp
 = 
piOrg
[3] - 
piCur
[3]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1265 
iTemp
 = 
piOrg
[4] - 
piCur
[4]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1266 
iTemp
 = 
piOrg
[5] - 
piCur
[5]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1267 
iTemp
 = 
piOrg
[6] - 
piCur
[6]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1268 
iTemp
 = 
piOrg
[7] - 
piCur
[7]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1270 
piOrg
 +
iSåideOrg
;

1271 
piCur
 +
iSåideCur
;

1274  ( 
uiSum
 );

1275 
	}
}

1277 
Di°‹ti⁄
 
	gTComRdCo°
::
	$xGëSSE16
–
Di°P¨am
* 
pcDtP¨am
 )

1279 i‡–
pcDtP¨am
->
bAµlyWeight
 )

1281 
	`as£π
–
pcDtP¨am
->
iCﬁs
 == 16 );

1282  
TComRdCo°WeightPªdi˘i⁄
::
	`xGëSSEw
–
pcDtP¨am
 );

1284 c⁄° 
Pñ
* 
piOrg
 = 
pcDtP¨am
->
pOrg
;

1285 c⁄° 
Pñ
* 
piCur
 = 
pcDtP¨am
->
pCur
;

1286 
I¡
 
iRows
 = 
pcDtP¨am
->iRows;

1287 
I¡
 
iSåideOrg
 = 
pcDtP¨am
->iStrideOrg;

1288 
I¡
 
iSåideCur
 = 
pcDtP¨am
->iStrideCur;

1290 
Di°‹ti⁄
 
uiSum
 = 0;

1291 
UI¡
 
uiShi·
 = 
	`DISTORTION_PRECISION_ADJUSTMENT
((
pcDtP¨am
->
bôDïth
-8) << 1);

1293 
I¡îmedüã_I¡
 
iTemp
;

1295  ; 
iRows
 != 0; iRows-- )

1298 
iTemp
 = 
piOrg
[ 0] - 
piCur
[ 0]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1299 
iTemp
 = 
piOrg
[ 1] - 
piCur
[ 1]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1300 
iTemp
 = 
piOrg
[ 2] - 
piCur
[ 2]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1301 
iTemp
 = 
piOrg
[ 3] - 
piCur
[ 3]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1302 
iTemp
 = 
piOrg
[ 4] - 
piCur
[ 4]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1303 
iTemp
 = 
piOrg
[ 5] - 
piCur
[ 5]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1304 
iTemp
 = 
piOrg
[ 6] - 
piCur
[ 6]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1305 
iTemp
 = 
piOrg
[ 7] - 
piCur
[ 7]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1306 
iTemp
 = 
piOrg
[ 8] - 
piCur
[ 8]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1307 
iTemp
 = 
piOrg
[ 9] - 
piCur
[ 9]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1308 
iTemp
 = 
piOrg
[10] - 
piCur
[10]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1309 
iTemp
 = 
piOrg
[11] - 
piCur
[11]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1310 
iTemp
 = 
piOrg
[12] - 
piCur
[12]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1311 
iTemp
 = 
piOrg
[13] - 
piCur
[13]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1312 
iTemp
 = 
piOrg
[14] - 
piCur
[14]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1313 
iTemp
 = 
piOrg
[15] - 
piCur
[15]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1315 
piOrg
 +
iSåideOrg
;

1316 
piCur
 +
iSåideCur
;

1319  ( 
uiSum
 );

1320 
	}
}

1322 
Di°‹ti⁄
 
	gTComRdCo°
::
	$xGëSSE16N
–
Di°P¨am
* 
pcDtP¨am
 )

1324 i‡–
pcDtP¨am
->
bAµlyWeight
 )

1326  
TComRdCo°WeightPªdi˘i⁄
::
	`xGëSSEw
–
pcDtP¨am
 );

1328 c⁄° 
Pñ
* 
piOrg
 = 
pcDtP¨am
->
pOrg
;

1329 c⁄° 
Pñ
* 
piCur
 = 
pcDtP¨am
->
pCur
;

1330 
I¡
 
iRows
 = 
pcDtP¨am
->iRows;

1331 
I¡
 
iCﬁs
 = 
pcDtP¨am
->iCols;

1332 
I¡
 
iSåideOrg
 = 
pcDtP¨am
->iStrideOrg;

1333 
I¡
 
iSåideCur
 = 
pcDtP¨am
->iStrideCur;

1335 
Di°‹ti⁄
 
uiSum
 = 0;

1336 
UI¡
 
uiShi·
 = 
	`DISTORTION_PRECISION_ADJUSTMENT
((
pcDtP¨am
->
bôDïth
-8) << 1);

1338 
I¡îmedüã_I¡
 
iTemp
;

1340  ; 
iRows
 != 0; iRows-- )

1342 
I¡
 
n
 = 0;Ç < 
iCﬁs
;Ç+=16 )

1345 
iTemp
 = 
piOrg
[
n
+ 0] - 
piCur
[n+ 0]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1346 
iTemp
 = 
piOrg
[
n
+ 1] - 
piCur
[n+ 1]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1347 
iTemp
 = 
piOrg
[
n
+ 2] - 
piCur
[n+ 2]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1348 
iTemp
 = 
piOrg
[
n
+ 3] - 
piCur
[n+ 3]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1349 
iTemp
 = 
piOrg
[
n
+ 4] - 
piCur
[n+ 4]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1350 
iTemp
 = 
piOrg
[
n
+ 5] - 
piCur
[n+ 5]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1351 
iTemp
 = 
piOrg
[
n
+ 6] - 
piCur
[n+ 6]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1352 
iTemp
 = 
piOrg
[
n
+ 7] - 
piCur
[n+ 7]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1353 
iTemp
 = 
piOrg
[
n
+ 8] - 
piCur
[n+ 8]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1354 
iTemp
 = 
piOrg
[
n
+ 9] - 
piCur
[n+ 9]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1355 
iTemp
 = 
piOrg
[
n
+10] - 
piCur
[n+10]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1356 
iTemp
 = 
piOrg
[
n
+11] - 
piCur
[n+11]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1357 
iTemp
 = 
piOrg
[
n
+12] - 
piCur
[n+12]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1358 
iTemp
 = 
piOrg
[
n
+13] - 
piCur
[n+13]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1359 
iTemp
 = 
piOrg
[
n
+14] - 
piCur
[n+14]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1360 
iTemp
 = 
piOrg
[
n
+15] - 
piCur
[n+15]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1363 
piOrg
 +
iSåideOrg
;

1364 
piCur
 +
iSåideCur
;

1367  ( 
uiSum
 );

1368 
	}
}

1370 
Di°‹ti⁄
 
	gTComRdCo°
::
	$xGëSSE32
–
Di°P¨am
* 
pcDtP¨am
 )

1372 i‡–
pcDtP¨am
->
bAµlyWeight
 )

1374 
	`as£π
–
pcDtP¨am
->
iCﬁs
 == 32 );

1375  
TComRdCo°WeightPªdi˘i⁄
::
	`xGëSSEw
–
pcDtP¨am
 );

1377 c⁄° 
Pñ
* 
piOrg
 = 
pcDtP¨am
->
pOrg
;

1378 c⁄° 
Pñ
* 
piCur
 = 
pcDtP¨am
->
pCur
;

1379 
I¡
 
iRows
 = 
pcDtP¨am
->iRows;

1380 
I¡
 
iSåideOrg
 = 
pcDtP¨am
->iStrideOrg;

1381 
I¡
 
iSåideCur
 = 
pcDtP¨am
->iStrideCur;

1383 
Di°‹ti⁄
 
uiSum
 = 0;

1384 
UI¡
 
uiShi·
 = 
	`DISTORTION_PRECISION_ADJUSTMENT
((
pcDtP¨am
->
bôDïth
-8) << 1);

1386 
I¡îmedüã_I¡
 
iTemp
;

1388  ; 
iRows
 != 0; iRows-- )

1391 
iTemp
 = 
piOrg
[ 0] - 
piCur
[ 0]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1392 
iTemp
 = 
piOrg
[ 1] - 
piCur
[ 1]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1393 
iTemp
 = 
piOrg
[ 2] - 
piCur
[ 2]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1394 
iTemp
 = 
piOrg
[ 3] - 
piCur
[ 3]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1395 
iTemp
 = 
piOrg
[ 4] - 
piCur
[ 4]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1396 
iTemp
 = 
piOrg
[ 5] - 
piCur
[ 5]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1397 
iTemp
 = 
piOrg
[ 6] - 
piCur
[ 6]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1398 
iTemp
 = 
piOrg
[ 7] - 
piCur
[ 7]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1399 
iTemp
 = 
piOrg
[ 8] - 
piCur
[ 8]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1400 
iTemp
 = 
piOrg
[ 9] - 
piCur
[ 9]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1401 
iTemp
 = 
piOrg
[10] - 
piCur
[10]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1402 
iTemp
 = 
piOrg
[11] - 
piCur
[11]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1403 
iTemp
 = 
piOrg
[12] - 
piCur
[12]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1404 
iTemp
 = 
piOrg
[13] - 
piCur
[13]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1405 
iTemp
 = 
piOrg
[14] - 
piCur
[14]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1406 
iTemp
 = 
piOrg
[15] - 
piCur
[15]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1407 
iTemp
 = 
piOrg
[16] - 
piCur
[16]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1408 
iTemp
 = 
piOrg
[17] - 
piCur
[17]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1409 
iTemp
 = 
piOrg
[18] - 
piCur
[18]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1410 
iTemp
 = 
piOrg
[19] - 
piCur
[19]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1411 
iTemp
 = 
piOrg
[20] - 
piCur
[20]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1412 
iTemp
 = 
piOrg
[21] - 
piCur
[21]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1413 
iTemp
 = 
piOrg
[22] - 
piCur
[22]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1414 
iTemp
 = 
piOrg
[23] - 
piCur
[23]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1415 
iTemp
 = 
piOrg
[24] - 
piCur
[24]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1416 
iTemp
 = 
piOrg
[25] - 
piCur
[25]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1417 
iTemp
 = 
piOrg
[26] - 
piCur
[26]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1418 
iTemp
 = 
piOrg
[27] - 
piCur
[27]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1419 
iTemp
 = 
piOrg
[28] - 
piCur
[28]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1420 
iTemp
 = 
piOrg
[29] - 
piCur
[29]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1421 
iTemp
 = 
piOrg
[30] - 
piCur
[30]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1422 
iTemp
 = 
piOrg
[31] - 
piCur
[31]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1424 
piOrg
 +
iSåideOrg
;

1425 
piCur
 +
iSåideCur
;

1428  ( 
uiSum
 );

1429 
	}
}

1431 
Di°‹ti⁄
 
	gTComRdCo°
::
	$xGëSSE64
–
Di°P¨am
* 
pcDtP¨am
 )

1433 i‡–
pcDtP¨am
->
bAµlyWeight
 )

1435 
	`as£π
–
pcDtP¨am
->
iCﬁs
 == 64 );

1436  
TComRdCo°WeightPªdi˘i⁄
::
	`xGëSSEw
–
pcDtP¨am
 );

1438 c⁄° 
Pñ
* 
piOrg
 = 
pcDtP¨am
->
pOrg
;

1439 c⁄° 
Pñ
* 
piCur
 = 
pcDtP¨am
->
pCur
;

1440 
I¡
 
iRows
 = 
pcDtP¨am
->iRows;

1441 
I¡
 
iSåideOrg
 = 
pcDtP¨am
->iStrideOrg;

1442 
I¡
 
iSåideCur
 = 
pcDtP¨am
->iStrideCur;

1444 
Di°‹ti⁄
 
uiSum
 = 0;

1445 
UI¡
 
uiShi·
 = 
	`DISTORTION_PRECISION_ADJUSTMENT
((
pcDtP¨am
->
bôDïth
-8) << 1);

1447 
I¡îmedüã_I¡
 
iTemp
;

1449  ; 
iRows
 != 0; iRows-- )

1451 
iTemp
 = 
piOrg
[ 0] - 
piCur
[ 0]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1452 
iTemp
 = 
piOrg
[ 1] - 
piCur
[ 1]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1453 
iTemp
 = 
piOrg
[ 2] - 
piCur
[ 2]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1454 
iTemp
 = 
piOrg
[ 3] - 
piCur
[ 3]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1455 
iTemp
 = 
piOrg
[ 4] - 
piCur
[ 4]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1456 
iTemp
 = 
piOrg
[ 5] - 
piCur
[ 5]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1457 
iTemp
 = 
piOrg
[ 6] - 
piCur
[ 6]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1458 
iTemp
 = 
piOrg
[ 7] - 
piCur
[ 7]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1459 
iTemp
 = 
piOrg
[ 8] - 
piCur
[ 8]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1460 
iTemp
 = 
piOrg
[ 9] - 
piCur
[ 9]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1461 
iTemp
 = 
piOrg
[10] - 
piCur
[10]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1462 
iTemp
 = 
piOrg
[11] - 
piCur
[11]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1463 
iTemp
 = 
piOrg
[12] - 
piCur
[12]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1464 
iTemp
 = 
piOrg
[13] - 
piCur
[13]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1465 
iTemp
 = 
piOrg
[14] - 
piCur
[14]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1466 
iTemp
 = 
piOrg
[15] - 
piCur
[15]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1467 
iTemp
 = 
piOrg
[16] - 
piCur
[16]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1468 
iTemp
 = 
piOrg
[17] - 
piCur
[17]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1469 
iTemp
 = 
piOrg
[18] - 
piCur
[18]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1470 
iTemp
 = 
piOrg
[19] - 
piCur
[19]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1471 
iTemp
 = 
piOrg
[20] - 
piCur
[20]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1472 
iTemp
 = 
piOrg
[21] - 
piCur
[21]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1473 
iTemp
 = 
piOrg
[22] - 
piCur
[22]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1474 
iTemp
 = 
piOrg
[23] - 
piCur
[23]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1475 
iTemp
 = 
piOrg
[24] - 
piCur
[24]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1476 
iTemp
 = 
piOrg
[25] - 
piCur
[25]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1477 
iTemp
 = 
piOrg
[26] - 
piCur
[26]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1478 
iTemp
 = 
piOrg
[27] - 
piCur
[27]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1479 
iTemp
 = 
piOrg
[28] - 
piCur
[28]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1480 
iTemp
 = 
piOrg
[29] - 
piCur
[29]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1481 
iTemp
 = 
piOrg
[30] - 
piCur
[30]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1482 
iTemp
 = 
piOrg
[31] - 
piCur
[31]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1483 
iTemp
 = 
piOrg
[32] - 
piCur
[32]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1484 
iTemp
 = 
piOrg
[33] - 
piCur
[33]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1485 
iTemp
 = 
piOrg
[34] - 
piCur
[34]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1486 
iTemp
 = 
piOrg
[35] - 
piCur
[35]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1487 
iTemp
 = 
piOrg
[36] - 
piCur
[36]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1488 
iTemp
 = 
piOrg
[37] - 
piCur
[37]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1489 
iTemp
 = 
piOrg
[38] - 
piCur
[38]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1490 
iTemp
 = 
piOrg
[39] - 
piCur
[39]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1491 
iTemp
 = 
piOrg
[40] - 
piCur
[40]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1492 
iTemp
 = 
piOrg
[41] - 
piCur
[41]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1493 
iTemp
 = 
piOrg
[42] - 
piCur
[42]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1494 
iTemp
 = 
piOrg
[43] - 
piCur
[43]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1495 
iTemp
 = 
piOrg
[44] - 
piCur
[44]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1496 
iTemp
 = 
piOrg
[45] - 
piCur
[45]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1497 
iTemp
 = 
piOrg
[46] - 
piCur
[46]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1498 
iTemp
 = 
piOrg
[47] - 
piCur
[47]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1499 
iTemp
 = 
piOrg
[48] - 
piCur
[48]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1500 
iTemp
 = 
piOrg
[49] - 
piCur
[49]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1501 
iTemp
 = 
piOrg
[50] - 
piCur
[50]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1502 
iTemp
 = 
piOrg
[51] - 
piCur
[51]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1503 
iTemp
 = 
piOrg
[52] - 
piCur
[52]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1504 
iTemp
 = 
piOrg
[53] - 
piCur
[53]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1505 
iTemp
 = 
piOrg
[54] - 
piCur
[54]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1506 
iTemp
 = 
piOrg
[55] - 
piCur
[55]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1507 
iTemp
 = 
piOrg
[56] - 
piCur
[56]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1508 
iTemp
 = 
piOrg
[57] - 
piCur
[57]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1509 
iTemp
 = 
piOrg
[58] - 
piCur
[58]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1510 
iTemp
 = 
piOrg
[59] - 
piCur
[59]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1511 
iTemp
 = 
piOrg
[60] - 
piCur
[60]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1512 
iTemp
 = 
piOrg
[61] - 
piCur
[61]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1513 
iTemp
 = 
piOrg
[62] - 
piCur
[62]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1514 
iTemp
 = 
piOrg
[63] - 
piCur
[63]; 
uiSum
 +
	`Di°‹ti⁄
(–iTem∞* iTem∞Ë>> 
uiShi·
);

1516 
piOrg
 +
iSåideOrg
;

1517 
piCur
 +
iSåideCur
;

1520  ( 
uiSum
 );

1521 
	}
}

1527 
Di°‹ti⁄
 
	gTComRdCo°
::
	$xCÆcHADs2x2
–c⁄° 
Pñ
 *
piOrg
, c⁄° Pñ *
piCur
, 
I¡
 
iSåideOrg
, I¡ 
iSåideCur
, I¡ 
iSãp
 )

1529 
Di°‹ti⁄
 
ßtd
 = 0;

1530 
TC€ff
 
diff
[4], 
m
[4];

1531 
	`as£π
–
iSãp
 == 1 );

1532 
diff
[0] = 
piOrg
[0 ] - 
piCur
[0];

1533 
diff
[1] = 
piOrg
[1 ] - 
piCur
[1];

1534 
diff
[2] = 
piOrg
[
iSåideOrg
 ] - 
piCur
[0 + 
iSåideCur
];

1535 
diff
[3] = 
piOrg
[
iSåideOrg
 + 1] - 
piCur
[1 + 
iSåideCur
];

1536 
m
[0] = 
diff
[0] + diff[2];

1537 
m
[1] = 
diff
[1] + diff[3];

1538 
m
[2] = 
diff
[0] - diff[2];

1539 
m
[3] = 
diff
[1] - diff[3];

1541 
ßtd
 +
	`abs
(
m
[0] + m[1]);

1542 
ßtd
 +
	`abs
(
m
[0] - m[1]);

1543 
ßtd
 +
	`abs
(
m
[2] + m[3]);

1544 
ßtd
 +
	`abs
(
m
[2] - m[3]);

1546  
ßtd
;

1547 
	}
}

1549 
Di°‹ti⁄
 
	gTComRdCo°
::
	$xCÆcHADs4x4
–c⁄° 
Pñ
 *
piOrg
, c⁄° Pñ *
piCur
, 
I¡
 
iSåideOrg
, I¡ 
iSåideCur
, I¡ 
iSãp
 )

1551 
I¡
 
k
;

1552 
Di°‹ti⁄
 
ßtd
 = 0;

1553 
TC€ff
 
diff
[16], 
m
[16], 
d
[16];

1555 
	`as£π
–
iSãp
 == 1 );

1556  
k
 = 0; k < 16; k+=4 )

1558 
diff
[
k
+0] = 
piOrg
[0] - 
piCur
[0];

1559 
diff
[
k
+1] = 
piOrg
[1] - 
piCur
[1];

1560 
diff
[
k
+2] = 
piOrg
[2] - 
piCur
[2];

1561 
diff
[
k
+3] = 
piOrg
[3] - 
piCur
[3];

1563 
piCur
 +
iSåideCur
;

1564 
piOrg
 +
iSåideOrg
;

1568 
m
[ 0] = 
diff
[ 0] + diff[12];

1569 
m
[ 1] = 
diff
[ 1] + diff[13];

1570 
m
[ 2] = 
diff
[ 2] + diff[14];

1571 
m
[ 3] = 
diff
[ 3] + diff[15];

1572 
m
[ 4] = 
diff
[ 4] + diff[ 8];

1573 
m
[ 5] = 
diff
[ 5] + diff[ 9];

1574 
m
[ 6] = 
diff
[ 6] + diff[10];

1575 
m
[ 7] = 
diff
[ 7] + diff[11];

1576 
m
[ 8] = 
diff
[ 4] - diff[ 8];

1577 
m
[ 9] = 
diff
[ 5] - diff[ 9];

1578 
m
[10] = 
diff
[ 6] - diff[10];

1579 
m
[11] = 
diff
[ 7] - diff[11];

1580 
m
[12] = 
diff
[ 0] - diff[12];

1581 
m
[13] = 
diff
[ 1] - diff[13];

1582 
m
[14] = 
diff
[ 2] - diff[14];

1583 
m
[15] = 
diff
[ 3] - diff[15];

1585 
d
[ 0] = 
m
[ 0] + m[ 4];

1586 
d
[ 1] = 
m
[ 1] + m[ 5];

1587 
d
[ 2] = 
m
[ 2] + m[ 6];

1588 
d
[ 3] = 
m
[ 3] + m[ 7];

1589 
d
[ 4] = 
m
[ 8] + m[12];

1590 
d
[ 5] = 
m
[ 9] + m[13];

1591 
d
[ 6] = 
m
[10] + m[14];

1592 
d
[ 7] = 
m
[11] + m[15];

1593 
d
[ 8] = 
m
[ 0] - m[ 4];

1594 
d
[ 9] = 
m
[ 1] - m[ 5];

1595 
d
[10] = 
m
[ 2] - m[ 6];

1596 
d
[11] = 
m
[ 3] - m[ 7];

1597 
d
[12] = 
m
[12] - m[ 8];

1598 
d
[13] = 
m
[13] - m[ 9];

1599 
d
[14] = 
m
[14] - m[10];

1600 
d
[15] = 
m
[15] - m[11];

1602 
m
[ 0] = 
d
[ 0] + d[ 3];

1603 
m
[ 1] = 
d
[ 1] + d[ 2];

1604 
m
[ 2] = 
d
[ 1] - d[ 2];

1605 
m
[ 3] = 
d
[ 0] - d[ 3];

1606 
m
[ 4] = 
d
[ 4] + d[ 7];

1607 
m
[ 5] = 
d
[ 5] + d[ 6];

1608 
m
[ 6] = 
d
[ 5] - d[ 6];

1609 
m
[ 7] = 
d
[ 4] - d[ 7];

1610 
m
[ 8] = 
d
[ 8] + d[11];

1611 
m
[ 9] = 
d
[ 9] + d[10];

1612 
m
[10] = 
d
[ 9] - d[10];

1613 
m
[11] = 
d
[ 8] - d[11];

1614 
m
[12] = 
d
[12] + d[15];

1615 
m
[13] = 
d
[13] + d[14];

1616 
m
[14] = 
d
[13] - d[14];

1617 
m
[15] = 
d
[12] - d[15];

1619 
d
[ 0] = 
m
[ 0] + m[ 1];

1620 
d
[ 1] = 
m
[ 0] - m[ 1];

1621 
d
[ 2] = 
m
[ 2] + m[ 3];

1622 
d
[ 3] = 
m
[ 3] - m[ 2];

1623 
d
[ 4] = 
m
[ 4] + m[ 5];

1624 
d
[ 5] = 
m
[ 4] - m[ 5];

1625 
d
[ 6] = 
m
[ 6] + m[ 7];

1626 
d
[ 7] = 
m
[ 7] - m[ 6];

1627 
d
[ 8] = 
m
[ 8] + m[ 9];

1628 
d
[ 9] = 
m
[ 8] - m[ 9];

1629 
d
[10] = 
m
[10] + m[11];

1630 
d
[11] = 
m
[11] - m[10];

1631 
d
[12] = 
m
[12] + m[13];

1632 
d
[13] = 
m
[12] - m[13];

1633 
d
[14] = 
m
[14] + m[15];

1634 
d
[15] = 
m
[15] - m[14];

1636 
k
=0; k<16; ++k)

1638 
ßtd
 +
	`abs
(
d
[
k
]);

1640 
ßtd
 = ((satd+1)>>1);

1642  
ßtd
;

1643 
	}
}

1645 
Di°‹ti⁄
 
	gTComRdCo°
::
xCÆcHADs8x8
–c⁄° 
Pñ
 *
piOrg
, c⁄° Pñ *
piCur
, 
I¡
 
iSåideOrg
, I¡ 
iSåideCur
, I¡ 
iSãp


1646 #i‡
VECTOR_CODING__DISTORTION_CALCULATIONS
 && (
RExt__HIGH_BIT_DEPTH_SUPPORT
==0)

1647 , 
I¡
 
bôDïth


1651 #i‡
VECTOR_CODING__DISTORTION_CALCULATIONS
 && (
RExt__HIGH_BIT_DEPTH_SUPPORT
==0)

1652 if–
	gbôDïth
 <= 10 )

1654 –
simdHADs8x8
–
piOrg
 , 
piCur
 , 
iSåideOrg
 , 
iSåideCur
 ) );

1657 
I¡
 
	gk
, 
	gi
, 
	gj
, 
	gjj
;

1658 
Di°‹ti⁄
 
	gßd
 = 0;

1659 
TC€ff
 
	gdiff
[64], 
	gm1
[8][8], 
	gm2
[8][8], 
	gm3
[8][8];

1660 
as£π
–
iSãp
 == 1 );

1661  
	gk
 = 0; k < 64; k += 8 )

1663 
diff
[
k
+0] = 
piOrg
[0] - 
piCur
[0];

1664 
	gdiff
[
k
+1] = 
piOrg
[1] - 
piCur
[1];

1665 
	gdiff
[
k
+2] = 
piOrg
[2] - 
piCur
[2];

1666 
	gdiff
[
k
+3] = 
piOrg
[3] - 
piCur
[3];

1667 
	gdiff
[
k
+4] = 
piOrg
[4] - 
piCur
[4];

1668 
	gdiff
[
k
+5] = 
piOrg
[5] - 
piCur
[5];

1669 
	gdiff
[
k
+6] = 
piOrg
[6] - 
piCur
[6];

1670 
	gdiff
[
k
+7] = 
piOrg
[7] - 
piCur
[7];

1672 
	gpiCur
 +
iSåideCur
;

1673 
	gpiOrg
 +
iSåideOrg
;

1677 
	gj
=0; j < 8; j++)

1679 
	gjj
 = 
j
 << 3;

1680 
	gm2
[
j
][0] = 
diff
[
jj
 ] + diff[jj+4];

1681 
	gm2
[
j
][1] = 
diff
[
jj
+1] + diff[jj+5];

1682 
	gm2
[
j
][2] = 
diff
[
jj
+2] + diff[jj+6];

1683 
	gm2
[
j
][3] = 
diff
[
jj
+3] + diff[jj+7];

1684 
	gm2
[
j
][4] = 
diff
[
jj
 ] - diff[jj+4];

1685 
	gm2
[
j
][5] = 
diff
[
jj
+1] - diff[jj+5];

1686 
	gm2
[
j
][6] = 
diff
[
jj
+2] - diff[jj+6];

1687 
	gm2
[
j
][7] = 
diff
[
jj
+3] - diff[jj+7];

1689 
	gm1
[
j
][0] = 
m2
[j][0] + m2[j][2];

1690 
	gm1
[
j
][1] = 
m2
[j][1] + m2[j][3];

1691 
	gm1
[
j
][2] = 
m2
[j][0] - m2[j][2];

1692 
	gm1
[
j
][3] = 
m2
[j][1] - m2[j][3];

1693 
	gm1
[
j
][4] = 
m2
[j][4] + m2[j][6];

1694 
	gm1
[
j
][5] = 
m2
[j][5] + m2[j][7];

1695 
	gm1
[
j
][6] = 
m2
[j][4] - m2[j][6];

1696 
	gm1
[
j
][7] = 
m2
[j][5] - m2[j][7];

1698 
	gm2
[
j
][0] = 
m1
[j][0] + m1[j][1];

1699 
	gm2
[
j
][1] = 
m1
[j][0] - m1[j][1];

1700 
	gm2
[
j
][2] = 
m1
[j][2] + m1[j][3];

1701 
	gm2
[
j
][3] = 
m1
[j][2] - m1[j][3];

1702 
	gm2
[
j
][4] = 
m1
[j][4] + m1[j][5];

1703 
	gm2
[
j
][5] = 
m1
[j][4] - m1[j][5];

1704 
	gm2
[
j
][6] = 
m1
[j][6] + m1[j][7];

1705 
	gm2
[
j
][7] = 
m1
[j][6] - m1[j][7];

1709 
	gi
=0; i < 8; i++)

1711 
	gm3
[0][
i
] = 
m2
[0][i] + m2[4][i];

1712 
	gm3
[1][
i
] = 
m2
[1][i] + m2[5][i];

1713 
	gm3
[2][
i
] = 
m2
[2][i] + m2[6][i];

1714 
	gm3
[3][
i
] = 
m2
[3][i] + m2[7][i];

1715 
	gm3
[4][
i
] = 
m2
[0][i] - m2[4][i];

1716 
	gm3
[5][
i
] = 
m2
[1][i] - m2[5][i];

1717 
	gm3
[6][
i
] = 
m2
[2][i] - m2[6][i];

1718 
	gm3
[7][
i
] = 
m2
[3][i] - m2[7][i];

1720 
	gm1
[0][
i
] = 
m3
[0][i] + m3[2][i];

1721 
	gm1
[1][
i
] = 
m3
[1][i] + m3[3][i];

1722 
	gm1
[2][
i
] = 
m3
[0][i] - m3[2][i];

1723 
	gm1
[3][
i
] = 
m3
[1][i] - m3[3][i];

1724 
	gm1
[4][
i
] = 
m3
[4][i] + m3[6][i];

1725 
	gm1
[5][
i
] = 
m3
[5][i] + m3[7][i];

1726 
	gm1
[6][
i
] = 
m3
[4][i] - m3[6][i];

1727 
	gm1
[7][
i
] = 
m3
[5][i] - m3[7][i];

1729 
	gm2
[0][
i
] = 
m1
[0][i] + m1[1][i];

1730 
	gm2
[1][
i
] = 
m1
[0][i] - m1[1][i];

1731 
	gm2
[2][
i
] = 
m1
[2][i] + m1[3][i];

1732 
	gm2
[3][
i
] = 
m1
[2][i] - m1[3][i];

1733 
	gm2
[4][
i
] = 
m1
[4][i] + m1[5][i];

1734 
	gm2
[5][
i
] = 
m1
[4][i] - m1[5][i];

1735 
	gm2
[6][
i
] = 
m1
[6][i] + m1[7][i];

1736 
	gm2
[7][
i
] = 
m1
[6][i] - m1[7][i];

1739 
	gi
 = 0; i < 8; i++)

1741 
	gj
 = 0; j < 8; j++)

1743 
	gßd
 +
abs
(
m2
[
i
][
j
]);

1747 
	gßd
=((
ßd
+2)>>2);

1749  
	gßd
;

1753 
Di°‹ti⁄
 
	gTComRdCo°
::
	$xGëHADs
–
Di°P¨am
* 
pcDtP¨am
 )

1755 i‡–
pcDtP¨am
->
bAµlyWeight
 )

1757  
TComRdCo°WeightPªdi˘i⁄
::
	`xGëHADsw
–
pcDtP¨am
 );

1759 c⁄° 
Pñ
* 
piOrg
 = 
pcDtP¨am
->
pOrg
;

1760 c⁄° 
Pñ
* 
piCur
 = 
pcDtP¨am
->
pCur
;

1761 c⁄° 
I¡
 
iRows
 = 
pcDtP¨am
->iRows;

1762 c⁄° 
I¡
 
iCﬁs
 = 
pcDtP¨am
->iCols;

1763 c⁄° 
I¡
 
iSåideCur
 = 
pcDtP¨am
->iStrideCur;

1764 c⁄° 
I¡
 
iSåideOrg
 = 
pcDtP¨am
->iStrideOrg;

1765 c⁄° 
I¡
 
iSãp
 = 
pcDtP¨am
->iStep;

1767 
I¡
 
x
, 
y
;

1769 
Di°‹ti⁄
 
uiSum
 = 0;

1771 if––
iRows
 % 8 =0Ë&& (
iCﬁs
 % 8 == 0) )

1773 
I¡
 
iOff£tOrg
 = 
iSåideOrg
<<3;

1774 
I¡
 
iOff£tCur
 = 
iSåideCur
<<3;

1775  
y
=0; y<
iRows
; y+= 8 )

1777  
x
=0; x<
iCﬁs
; x+= 8 )

1779 
uiSum
 +
	`xCÆcHADs8x8
–&
piOrg
[
x
], &
piCur
[x*
iSãp
], 
iSåideOrg
, 
iSåideCur
, iStep

1780 #i‡
VECTOR_CODING__DISTORTION_CALCULATIONS
 && (
RExt__HIGH_BIT_DEPTH_SUPPORT
==0)

1781 , 
pcDtP¨am
->
bôDïth


1785 
piOrg
 +
iOff£tOrg
;

1786 
piCur
 +
iOff£tCur
;

1789 if––
iRows
 % 4 =0Ë&& (
iCﬁs
 % 4 == 0) )

1791 
I¡
 
iOff£tOrg
 = 
iSåideOrg
<<2;

1792 
I¡
 
iOff£tCur
 = 
iSåideCur
<<2;

1794  
y
=0; y<
iRows
; y+= 4 )

1796  
x
=0; x<
iCﬁs
; x+= 4 )

1798 
uiSum
 +
	`xCÆcHADs4x4
–&
piOrg
[
x
], &
piCur
[x*
iSãp
], 
iSåideOrg
, 
iSåideCur
, iStep );

1800 
piOrg
 +
iOff£tOrg
;

1801 
piCur
 +
iOff£tCur
;

1804 if––
iRows
 % 2 =0Ë&& (
iCﬁs
 % 2 == 0) )

1806 
I¡
 
iOff£tOrg
 = 
iSåideOrg
<<1;

1807 
I¡
 
iOff£tCur
 = 
iSåideCur
<<1;

1808  
y
=0; y<
iRows
; y+=2 )

1810  
x
=0; x<
iCﬁs
; x+=2 )

1812 
uiSum
 +
	`xCÆcHADs2x2
–&
piOrg
[
x
], &
piCur
[x*
iSãp
], 
iSåideOrg
, 
iSåideCur
, iStep );

1814 
piOrg
 +
iOff£tOrg
;

1815 
piCur
 +
iOff£tCur
;

1820 
	`as£π
(
Ál£
);

1823  ( 
uiSum
 >> 
	`DISTORTION_PRECISION_ADJUSTMENT
(
pcDtP¨am
->
bôDïth
-8) );

1824 
	}
}

	@TComRdCost.h

38 #i‚de‡
__TCOMRDCOST__


39 
	#__TCOMRDCOST__


	)

42 
	~"Comm⁄Def.h
"

43 
	~"TComP©ã∫.h
"

44 
	~"TComMv.h
"

46 
	~"TComSli˚.h
"

47 
	~"TComRdCo°WeightPªdi˘i⁄.h
"

52 
˛ass
 
	gDi°P¨am
;

53 
˛ass
 
	gTComP©ã∫
;

60 
	$Di°‹ti⁄
 (*
	tFpDi°Func
Ë(
	tDi°P¨am
*);

67 ˛as†
	cDi°P¨am


69 
public
:

70 c⁄° 
Pñ
* 
pOrg
;

71 c⁄° 
Pñ
* 
pCur
;

72 
I¡
 
iSåideOrg
;

73 
I¡
 
iSåideCur
;

74 
I¡
 
iRows
;

75 
I¡
 
iCﬁs
;

76 
I¡
 
iSãp
;

77 
FpDi°Func
 
Di°Func
;

78 
I¡
 
bôDïth
;

80 
Boﬁ
 
bAµlyWeight
;

81 
Boﬁ
 
bIsBiPªd
;

83 c⁄° 
WPSˇlögP¨am
 *
wpCur
;

84 
Comp⁄ítID
 
compIdx
;

85 
Di°‹ti⁄
 
m_maximumDi°‹ti⁄F‹E¨lyExô
;

89 
I¡
 
iSubShi·
;

91 
	$Di°P¨am
()

92 : 
	`pOrg
(
NULL
),

93 
	`pCur
(
NULL
),

94 
	`iSåideOrg
(0),

95 
	`iSåideCur
(0),

96 
	`iRows
(0),

97 
	`iCﬁs
(0),

98 
	`iSãp
(1),

99 
	`Di°Func
(
NULL
),

100 
	`bôDïth
(0),

101 
	`bAµlyWeight
(
Ál£
),

102 
	`bIsBiPªd
(
Ál£
),

103 
	`wpCur
(
NULL
),

104 
	`compIdx
(
MAX_NUM_COMPONENT
),

105 
	`m_maximumDi°‹ti⁄F‹E¨lyExô
(
°d
::
numîic_limôs
<
Di°‹ti⁄
>::
	`max
()),

106 
	$iSubShi·
(0)

108 
	}
};

111 ˛as†
	cTComRdCo°


113 
	m¥iv©e
:

116 
FpDi°Func
 
m_aÂDi°‹tFunc
[
DF_TOTAL_FUNCTIONS
];

117 
Co°Mode
 
	mm_co°Mode
;

118 
DoubÀ
 
	mm_di°‹ti⁄Weight
[
MAX_NUM_COMPONENT
];

119 
DoubÀ
 
	mm_dLambda
;

120 
DoubÀ
 
	mm_sqπLambda
;

121 
DoubÀ
 
	mm_dLambdaMŸi⁄SAD
[2 ];

122 
DoubÀ
 
	mm_dLambdaMŸi⁄SSE
[2 ];

123 
DoubÀ
 
	mm_dFømeLambda
;

126 
TComMv
 
	mm_mvPªdi˘‹
;

127 
DoubÀ
 
	mm_mŸi⁄Lambda
;

128 
I¡
 
	mm_iCo°SˇÀ
;

130 
	mpublic
:

131 
TComRdCo°
();

132 
	mvútuÆ
 ~
TComRdCo°
();

134 
DoubÀ
 
ˇlcRdCo°
–DoubÀ 
numBôs
, 
Di°‹ti⁄
 
di°‹ti⁄
, 
DFunc
 
eDFunc
 = 
DF_DEFAULT
 );

136 
Void
 
	$£tDi°‹ti⁄Weight
 ( c⁄° 
Comp⁄ítID
 
compID
, c⁄° 
DoubÀ
 
di°‹ti⁄Weight
 ) { 
m_di°‹ti⁄Weight
[compID] = distortionWeight; }

137 
Void
 
	`£tLambda
 ( 
DoubÀ
 
dLambda
, c⁄° 
BôDïths
 &
bôDïths
 );

138 
Void
 
	$£tFømeLambda
 ( 
DoubÀ
 
dLambda
 ) { 
m_dFømeLambda
 = dLambda; 
	}
}

140 
DoubÀ
 
	$gëSqπLambda
 (Ë{  
m_sqπLambda
; 
	}
}

142 
DoubÀ
 
	$gëLambda
(Ë{  
m_dLambda
; 
	}
}

143 
DoubÀ
 
	$gëChromaWeight
 (Ë{  ((
m_di°‹ti⁄Weight
[
COMPONENT_Cb
] + m_di°‹ti⁄Weight[
COMPONENT_Cr
]Ë/ 2.0); 
	}
}

145 
Void
 
	$£tCo°Mode
(
Co°Mode
 
m
 ) { 
m_co°Mode
 = m; 
	}
}

148 
Void
 
öô
();

150 
Void
 
£tDi°P¨am
–
UI¡
 
uiBlkWidth
, UI¡ 
uiBlkHeight
, 
DFunc
 
eDFunc
, 
Di°P¨am
& 
rcDi°P¨am
 );

151 
Void
 
£tDi°P¨am
–c⁄° 
TComP©ã∫
* c⁄° 
pcP©ã∫Key
, c⁄° 
Pñ
* 
piRefY
, 
I¡
 
iRefSåide
, 
Di°P¨am
& 
rcDi°P¨am
 );

152 
Void
 
£tDi°P¨am
–c⁄° 
TComP©ã∫
* c⁄° 
pcP©ã∫Key
, c⁄° 
Pñ
* 
piRefY
, 
I¡
 
iRefSåide
, I¡ 
iSãp
, 
Di°P¨am
& 
rcDi°P¨am
, 
Boﬁ
 
bHADME
=
Ál£
 );

153 
Void
 
£tDi°P¨am
–
Di°P¨am
& 
rcDP
, 
I¡
 
bôDïth
, c⁄° 
Pñ
* 
p1
, I¡ 
iSåide1
, c⁄° Pñ* 
p2
, I¡ 
iSåide2
, I¡ 
iWidth
, I¡ 
iHeight
, 
Boﬁ
 
bHadam¨d
 = 
Ál£
 );

155 
Di°‹ti⁄
 
ˇlcHAD
(
I¡
 
bôDïth
, c⁄° 
Pñ
* 
pi0
, I¡ 
iSåide0
, c⁄° Pñ* 
pi1
, I¡ 
iSåide1
, I¡ 
iWidth
, I¡ 
iHeight
 );

158 
UI¡
 
xGëExpGﬁombNumbîOfBôs
–
I¡
 
iVÆ
 );

159 
Void
 
	$£À˘MŸi⁄Lambda
–
Boﬁ
 
bSad
, 
I¡
 
iAdd
, Boﬁ 
bIsTønsqu™tBy∑ss
 ) { 
m_mŸi⁄Lambda
 = (bSad ? 
m_dLambdaMŸi⁄SAD
[(bIsTønsqu™tBy∑s†&& 
m_co°Mode
==
COST_MIXED_LOSSLESS_LOSSY_CODING
Ë?1:0] + iAdd : 
m_dLambdaMŸi⁄SSE
[(bIsTønsqu™tBy∑s†&& m_co°Mode==COST_MIXED_LOSSLESS_LOSSY_CODING)?1:0] + iAdd); 
	}
}

160 
Void
 
	$£tPªdi˘‹
–
TComMv
& 
rcMv
 )

162 
m_mvPªdi˘‹
 = 
rcMv
;

163 
	}
}

164 
Void
 
	$£tCo°SˇÀ
–
I¡
 
iCo°SˇÀ
 ) { 
m_iCo°SˇÀ
 = iCo°SˇÀ; 
	}
}

165 
Di°‹ti⁄
 
	$gëCo°
–
UI¡
 
b
 ) {  
	`Di°‹ti⁄
(–
m_mŸi⁄Lambda
 * b ) / 65536.0); 
	}
}

166 
Di°‹ti⁄
 
	$gëCo°OfVe˘‹WôhPªdi˘‹
–c⁄° 
I¡
 
x
, c⁄° I¡ 
y
 )

168  
	`Di°‹ti⁄
((
m_mŸi⁄Lambda
 * 
	`gëBôsOfVe˘‹WôhPªdi˘‹
(
x
, 
y
)) / 65536.0);

169 
	}
}

170 
UI¡
 
	$gëBôsOfVe˘‹WôhPªdi˘‹
–c⁄° 
I¡
 
x
, c⁄° I¡ 
y
 )

172  
	`xGëExpGﬁombNumbîOfBôs
((
x
 << 
m_iCo°SˇÀ
Ë- 
m_mvPªdi˘‹
.
	`gëH‹
())

173 + 
	`xGëExpGﬁombNumbîOfBôs
((
y
 << 
m_iCo°SˇÀ
Ë- 
m_mvPªdi˘‹
.
	`gëVî
());

174 
	}
}

176 
	g¥iv©e
:

178 
Di°‹ti⁄
 
xGëSSE
 ( 
Di°P¨am
* 
pcDtP¨am
 );

179 
Di°‹ti⁄
 
xGëSSE4
 ( 
Di°P¨am
* 
pcDtP¨am
 );

180 
Di°‹ti⁄
 
xGëSSE8
 ( 
Di°P¨am
* 
pcDtP¨am
 );

181 
Di°‹ti⁄
 
xGëSSE16
 ( 
Di°P¨am
* 
pcDtP¨am
 );

182 
Di°‹ti⁄
 
xGëSSE32
 ( 
Di°P¨am
* 
pcDtP¨am
 );

183 
Di°‹ti⁄
 
xGëSSE64
 ( 
Di°P¨am
* 
pcDtP¨am
 );

184 
Di°‹ti⁄
 
xGëSSE16N
 ( 
Di°P¨am
* 
pcDtP¨am
 );

186 
Di°‹ti⁄
 
xGëSAD
 ( 
Di°P¨am
* 
pcDtP¨am
 );

187 
Di°‹ti⁄
 
xGëSAD4
 ( 
Di°P¨am
* 
pcDtP¨am
 );

188 
Di°‹ti⁄
 
xGëSAD8
 ( 
Di°P¨am
* 
pcDtP¨am
 );

189 
Di°‹ti⁄
 
xGëSAD16
 ( 
Di°P¨am
* 
pcDtP¨am
 );

190 
Di°‹ti⁄
 
xGëSAD32
 ( 
Di°P¨am
* 
pcDtP¨am
 );

191 
Di°‹ti⁄
 
xGëSAD64
 ( 
Di°P¨am
* 
pcDtP¨am
 );

192 
Di°‹ti⁄
 
xGëSAD16N
 ( 
Di°P¨am
* 
pcDtP¨am
 );

194 
Di°‹ti⁄
 
xGëSAD12
 ( 
Di°P¨am
* 
pcDtP¨am
 );

195 
Di°‹ti⁄
 
xGëSAD24
 ( 
Di°P¨am
* 
pcDtP¨am
 );

196 
Di°‹ti⁄
 
xGëSAD48
 ( 
Di°P¨am
* 
pcDtP¨am
 );

198 
Di°‹ti⁄
 
xGëHADs
 ( 
Di°P¨am
* 
pcDtP¨am
 );

199 
Di°‹ti⁄
 
xCÆcHADs2x2
 ( c⁄° 
Pñ
 *
piOrg
, c⁄° Pñ *
piCuº
, 
I¡
 
iSåideOrg
, I¡ 
iSåideCur
, I¡ 
iSãp
 );

200 
Di°‹ti⁄
 
xCÆcHADs4x4
 ( c⁄° 
Pñ
 *
piOrg
, c⁄° Pñ *
piCuº
, 
I¡
 
iSåideOrg
, I¡ 
iSåideCur
, I¡ 
iSãp
 );

201 
Di°‹ti⁄
 
xCÆcHADs8x8
 ( c⁄° 
Pñ
 *
piOrg
, c⁄° Pñ *
piCuº
, 
I¡
 
iSåideOrg
, I¡ 
iSåideCur
, I¡ 
iSãp


202 #i‡
VECTOR_CODING__DISTORTION_CALCULATIONS
 && (
RExt__HIGH_BIT_DEPTH_SUPPORT
==0)

203 , 
I¡
 
bôDïth


207 
	gpublic
:

209 
Di°‹ti⁄
 
gëDi°P¨t
(
I¡
 
bôDïth
, c⁄° 
Pñ
* 
piCur
, I¡ 
iCurSåide
, c⁄° Pñ* 
piOrg
, I¡ 
iOrgSåide
, 
UI¡
 
uiBlkWidth
, UI¡ 
uiBlkHeight
, c⁄° 
Comp⁄ítID
 
compID
, 
DFunc
 
eDFunc
 = 
DF_SSE
 );

	@TComRdCostWeightPrediction.cpp

38 
	~<m©h.h
>

39 
	~<as£π.h
>

40 
	~"TComRdCo°.h
"

41 
	~"TComRdCo°WeightPªdi˘i⁄.h
"

43 
Di°‹ti⁄
 
xCÆcHADs2x2w
–c⁄° 
WPSˇlögP¨am
 &
wpCur
, c⁄° 
Pñ
 *
piOrg
, c⁄° Pñ *
piCuº
, 
I¡
 
iSåideOrg
, I¡ 
iSåideCur
, I¡ 
iSãp
 );

44 
Di°‹ti⁄
 
xCÆcHADs4x4w
–c⁄° 
WPSˇlögP¨am
 &
wpCur
, c⁄° 
Pñ
 *
piOrg
, c⁄° Pñ *
piCuº
, 
I¡
 
iSåideOrg
, I¡ 
iSåideCur
, I¡ 
iSãp
 );

45 
Di°‹ti⁄
 
xCÆcHADs8x8w
–c⁄° 
WPSˇlögP¨am
 &
wpCur
, c⁄° 
Pñ
 *
piOrg
, c⁄° Pñ *
piCuº
, 
I¡
 
iSåideOrg
, I¡ 
iSåideCur
, I¡ 
iSãp
 );

55 
Di°‹ti⁄
 
	gTComRdCo°WeightPªdi˘i⁄
::
	$xGëSADw
–
Di°P¨am
* 
pcDtP¨am
 )

57 c⁄° 
Pñ
 *
piOrg
 = 
pcDtP¨am
->
pOrg
;

58 c⁄° 
Pñ
 *
piCur
 = 
pcDtP¨am
->
pCur
;

59 c⁄° 
I¡
 
iCﬁs
 = 
pcDtP¨am
->iCols;

60 c⁄° 
I¡
 
iSåideCur
 = 
pcDtP¨am
->iStrideCur;

61 c⁄° 
I¡
 
iSåideOrg
 = 
pcDtP¨am
->iStrideOrg;

62 c⁄° 
Comp⁄ítID
 
compID
 = 
pcDtP¨am
->
compIdx
;

64 
	`as£π
(
compID
<
MAX_NUM_COMPONENT
);

66 c⁄° 
WPSˇlögP¨am
 &
wpCur
 = 
pcDtP¨am
->wpCur[
compID
];

68 c⁄° 
I¡
 
w0
 = 
wpCur
.
w
;

69 c⁄° 
I¡
 
off£t
 = 
wpCur
.offset;

70 c⁄° 
I¡
 
shi·
 = 
wpCur
.shift;

71 c⁄° 
I¡
 
round
 = 
wpCur
.round;

72 c⁄° 
I¡
 
di°‹ti⁄Shi·
 = 
	`DISTORTION_PRECISION_ADJUSTMENT
(
pcDtP¨am
->
bôDïth
-8);

74 
Di°‹ti⁄
 
uiSum
 = 0;

77 i‡(
w0
 =1 << 
shi·
)

80 i‡(
off£t
 == 0)

82 
I¡
 
iRows
 = 
pcDtP¨am
->iRows; iRows != 0; iRows-- )

84 
I¡
 
n
 = 0;Ç < 
iCﬁs
;Ç++ )

86 
uiSum
 +
	`abs
–
piOrg
[
n
] - 
piCur
[n] );

88 i‡(
pcDtP¨am
->
m_maximumDi°‹ti⁄F‹E¨lyExô
 < ( 
uiSum
 >> 
di°‹ti⁄Shi·
))

90  
uiSum
 >> 
di°‹ti⁄Shi·
;

92 
piOrg
 +
iSåideOrg
;

93 
piCur
 +
iSåideCur
;

101 i‡(
pcDtP¨am
->
bIsBiPªd
)

103 
I¡
 
iRows
 = 
pcDtP¨am
->iRows; iRows != 0; iRows-- )

105 
I¡
 
n
 = 0;Ç < 
iCﬁs
;Ç++ )

107 
uiSum
 +
	`abs
–
piOrg
[
n
] - (
piCur
[n] + 
off£t
) );

109 i‡(
pcDtP¨am
->
m_maximumDi°‹ti⁄F‹E¨lyExô
 < ( 
uiSum
 >> 
di°‹ti⁄Shi·
))

111  
uiSum
 >> 
di°‹ti⁄Shi·
;

114 
piOrg
 +
iSåideOrg
;

115 
piCur
 +
iSåideCur
;

120 c⁄° 
Pñ
 
iMaxVÆue
 = (PñË((1 << 
pcDtP¨am
->
bôDïth
) - 1);

121 
I¡
 
iRows
 = 
pcDtP¨am
->iRows; iRows != 0; iRows-- )

123 
I¡
 
n
 = 0;Ç < 
iCﬁs
;Ç++ )

125 c⁄° 
Pñ
 
¥ed
 = 
	`Clù3
((PñË0, 
iMaxVÆue
, (PñË(
piCur
[
n
] + 
off£t
)) ;

127 
uiSum
 +
	`abs
–
piOrg
[
n
] - 
¥ed
 );

129 i‡(
pcDtP¨am
->
m_maximumDi°‹ti⁄F‹E¨lyExô
 < ( 
uiSum
 >> 
di°‹ti⁄Shi·
))

131  
uiSum
 >> 
di°‹ti⁄Shi·
;

133 
piOrg
 +
iSåideOrg
;

134 
piCur
 +
iSåideCur
;

144 i‡(
pcDtP¨am
->
bIsBiPªd
)

146 
I¡
 
iRows
 = 
pcDtP¨am
->iRows; iRows != 0; iRows-- )

148 
I¡
 
n
 = 0;Ç < 
iCﬁs
;Ç++ )

150 c⁄° 
Pñ
 
¥ed
 = ( (
w0
*
piCur
[
n
] + 
round
Ë>> 
shi·
 ) + 
off£t
 ;

151 
uiSum
 +
	`abs
–
piOrg
[
n
] - 
¥ed
 );

153 i‡(
pcDtP¨am
->
m_maximumDi°‹ti⁄F‹E¨lyExô
 < ( 
uiSum
 >> 
di°‹ti⁄Shi·
))

155  
uiSum
 >> 
di°‹ti⁄Shi·
;

158 
piOrg
 +
iSåideOrg
;

159 
piCur
 +
iSåideCur
;

164 c⁄° 
Pñ
 
iMaxVÆue
 = (PñË((1 << 
pcDtP¨am
->
bôDïth
) - 1);

166 i‡(
off£t
 == 0)

168 
I¡
 
iRows
 = 
pcDtP¨am
->iRows; iRows != 0; iRows-- )

170 
I¡
 
n
 = 0;Ç < 
iCﬁs
;Ç++ )

172 c⁄° 
Pñ
 
¥ed
 = 
	`Clù3
((PñË0, 
iMaxVÆue
, (PñË(–(
w0
*
piCur
[
n
] + 
round
Ë>> 
shi·
 ))) ;

174 
uiSum
 +
	`abs
–
piOrg
[
n
] - 
¥ed
 );

176 i‡(
pcDtP¨am
->
m_maximumDi°‹ti⁄F‹E¨lyExô
 < ( 
uiSum
 >> 
di°‹ti⁄Shi·
))

178  
uiSum
 >> 
di°‹ti⁄Shi·
;

180 
piOrg
 +
iSåideOrg
;

181 
piCur
 +
iSåideCur
;

186 
I¡
 
iRows
 = 
pcDtP¨am
->iRows; iRows != 0; iRows-- )

188 
I¡
 
n
 = 0;Ç < 
iCﬁs
;Ç++ )

190 c⁄° 
Pñ
 
¥ed
 = 
	`Clù3
((PñË0, 
iMaxVÆue
, (PñË(–(
w0
*
piCur
[
n
] + 
round
Ë>> 
shi·
 ) + 
off£t
)) ;

192 
uiSum
 +
	`abs
–
piOrg
[
n
] - 
¥ed
 );

194 i‡(
pcDtP¨am
->
m_maximumDi°‹ti⁄F‹E¨lyExô
 < ( 
uiSum
 >> 
di°‹ti⁄Shi·
))

196  
uiSum
 >> 
di°‹ti⁄Shi·
;

198 
piOrg
 +
iSåideOrg
;

199 
piCur
 +
iSåideCur
;

206  
uiSum
 >> 
di°‹ti⁄Shi·
;

207 
	}
}

217 
Di°‹ti⁄
 
	gTComRdCo°WeightPªdi˘i⁄
::
	$xGëSSEw
–
Di°P¨am
* 
pcDtP¨am
 )

219 c⁄° 
Pñ
 *
piOrg
 = 
pcDtP¨am
->
pOrg
;

220 c⁄° 
Pñ
 *
piCur
 = 
pcDtP¨am
->
pCur
;

221 c⁄° 
I¡
 
iCﬁs
 = 
pcDtP¨am
->iCols;

222 c⁄° 
I¡
 
iSåideOrg
 = 
pcDtP¨am
->iStrideOrg;

223 c⁄° 
I¡
 
iSåideCur
 = 
pcDtP¨am
->iStrideCur;

224 c⁄° 
Comp⁄ítID
 
compIdx
 = 
pcDtP¨am
->compIdx;

226 
	`as£π
–
pcDtP¨am
->
iSubShi·
 == 0 );

228 
	`as£π
(
compIdx
<
MAX_NUM_COMPONENT
);

229 c⁄° 
WPSˇlögP¨am
 &
wpCur
 = 
pcDtP¨am
->wpCur[
compIdx
];

230 c⁄° 
I¡
 
w0
 = 
wpCur
.
w
;

231 c⁄° 
I¡
 
off£t
 = 
wpCur
.offset;

232 c⁄° 
I¡
 
shi·
 = 
wpCur
.shift;

233 c⁄° 
I¡
 
round
 = 
wpCur
.round;

234 c⁄° 
UI¡
 
di°‹ti⁄Shi·
 = 
	`DISTORTION_PRECISION_ADJUSTMENT
((
pcDtP¨am
->
bôDïth
-8) << 1);

236 
Di°‹ti⁄
 
sum
 = 0;

238 i‡(
pcDtP¨am
->
bIsBiPªd
)

240 
I¡
 
iRows
 = 
pcDtP¨am
->iRows ; iRows != 0; iRows-- )

242 
I¡
 
n
 = 0;Ç < 
iCﬁs
;Ç++ )

244 c⁄° 
Pñ
 
¥ed
 = ( (
w0
*
piCur
[
n
] + 
round
Ë>> 
shi·
 ) + 
off£t
 ;

245 c⁄° 
Pñ
 
ªsiduÆ
 = 
piOrg
[
n
] - 
¥ed
;

246 
sum
 +–
	`Di°‹ti⁄
(
ªsiduÆ
Ë* Di°‹ti⁄‘esiduÆËË>> 
di°‹ti⁄Shi·
;

248 
piOrg
 +
iSåideOrg
;

249 
piCur
 +
iSåideCur
;

254 c⁄° 
Pñ
 
iMaxVÆue
 = (PñË((1 << 
pcDtP¨am
->
bôDïth
) - 1);

256 
I¡
 
iRows
 = 
pcDtP¨am
->iRows ; iRows != 0; iRows-- )

258 
I¡
 
n
 = 0;Ç < 
iCﬁs
;Ç++ )

260 c⁄° 
Pñ
 
¥ed
 = 
	`Clù3
((PñË0, 
iMaxVÆue
, (PñË(–(
w0
*
piCur
[
n
] + 
round
Ë>> 
shi·
 ) + 
off£t
)) ;

261 c⁄° 
Pñ
 
ªsiduÆ
 = 
piOrg
[
n
] - 
¥ed
;

262 
sum
 +–
	`Di°‹ti⁄
(
ªsiduÆ
Ë* Di°‹ti⁄‘esiduÆËË>> 
di°‹ti⁄Shi·
;

264 
piOrg
 +
iSåideOrg
;

265 
piCur
 +
iSåideCur
;

271  
sum
;

272 
	}
}

279 
Di°‹ti⁄
 
	$xCÆcHADs2x2w
–c⁄° 
WPSˇlögP¨am
 &
wpCur
, c⁄° 
Pñ
 *
piOrg
, c⁄° Pñ *
piCur
, 
I¡
 
iSåideOrg
, I¡ 
iSåideCur
, I¡ 
iSãp
 )

281 c⁄° 
I¡
 
round
 = 
wpCur
.round;

282 c⁄° 
I¡
 
shi·
 = 
wpCur
.shift;

283 c⁄° 
I¡
 
off£t
 = 
wpCur
.offset;

284 c⁄° 
I¡
 
w0
 = 
wpCur
.
w
;

286 
Di°‹ti⁄
 
ßtd
 = 0;

287 
TC€ff
 
diff
[4];

288 
TC€ff
 
m
[4];

290 
Pñ
 
¥ed
;

292 
¥ed
 = ( (
w0
*
piCur
[0*
iSãp
 ] + 
round
Ë>> 
shi·
 ) + 
off£t
 ;

293 
diff
[0] = 
piOrg
[0 ] - 
¥ed
;

294 
¥ed
 = ( (
w0
*
piCur
[1*
iSãp
 ] + 
round
Ë>> 
shi·
 ) + 
off£t
 ;

295 
diff
[1] = 
piOrg
[1 ] - 
¥ed
;

296 
¥ed
 = ( (
w0
*
piCur
[0*
iSãp
 + 
iSåideCur
] + 
round
Ë>> 
shi·
 ) + 
off£t
 ;

297 
diff
[2] = 
piOrg
[
iSåideOrg
 ] - 
¥ed
;

298 
¥ed
 = ( (
w0
*
piCur
[1*
iSãp
 + 
iSåideCur
] + 
round
Ë>> 
shi·
 ) + 
off£t
 ;

299 
diff
[3] = 
piOrg
[
iSåideOrg
 + 1] - 
¥ed
;

301 
m
[0] = 
diff
[0] + diff[2];

302 
m
[1] = 
diff
[1] + diff[3];

303 
m
[2] = 
diff
[0] - diff[2];

304 
m
[3] = 
diff
[1] - diff[3];

306 
ßtd
 +
	`abs
(
m
[0] + m[1]);

307 
ßtd
 +
	`abs
(
m
[0] - m[1]);

308 
ßtd
 +
	`abs
(
m
[2] + m[3]);

309 
ßtd
 +
	`abs
(
m
[2] - m[3]);

311  
ßtd
;

312 
	}
}

316 
Di°‹ti⁄
 
	$xCÆcHADs4x4w
–c⁄° 
WPSˇlögP¨am
 &
wpCur
, c⁄° 
Pñ
 *
piOrg
, c⁄° Pñ *
piCur
, 
I¡
 
iSåideOrg
, I¡ 
iSåideCur
, I¡ 
iSãp
 )

318 c⁄° 
I¡
 
round
 = 
wpCur
.round;

319 c⁄° 
I¡
 
shi·
 = 
wpCur
.shift;

320 c⁄° 
I¡
 
off£t
 = 
wpCur
.offset;

321 c⁄° 
I¡
 
w0
 = 
wpCur
.
w
;

323 
Di°‹ti⁄
 
ßtd
 = 0;

324 
TC€ff
 
diff
[16];

325 
TC€ff
 
m
[16];

326 
TC€ff
 
d
[16];

329 
I¡
 
k
 = 0; k < 16; k+=4 )

331 
Pñ
 
¥ed
;

332 
¥ed
 = ( (
w0
*
piCur
[0*
iSãp
] + 
round
Ë>> 
shi·
 ) + 
off£t
 ;

333 
diff
[
k
+0] = 
piOrg
[0] - 
¥ed
;

334 
¥ed
 = ( (
w0
*
piCur
[1*
iSãp
] + 
round
Ë>> 
shi·
 ) + 
off£t
 ;

335 
diff
[
k
+1] = 
piOrg
[1] - 
¥ed
;

336 
¥ed
 = ( (
w0
*
piCur
[2*
iSãp
] + 
round
Ë>> 
shi·
 ) + 
off£t
 ;

337 
diff
[
k
+2] = 
piOrg
[2] - 
¥ed
;

338 
¥ed
 = ( (
w0
*
piCur
[3*
iSãp
] + 
round
Ë>> 
shi·
 ) + 
off£t
 ;

339 
diff
[
k
+3] = 
piOrg
[3] - 
¥ed
;

341 
piCur
 +
iSåideCur
;

342 
piOrg
 +
iSåideOrg
;

346 
m
[ 0] = 
diff
[ 0] + diff[12];

347 
m
[ 1] = 
diff
[ 1] + diff[13];

348 
m
[ 2] = 
diff
[ 2] + diff[14];

349 
m
[ 3] = 
diff
[ 3] + diff[15];

350 
m
[ 4] = 
diff
[ 4] + diff[ 8];

351 
m
[ 5] = 
diff
[ 5] + diff[ 9];

352 
m
[ 6] = 
diff
[ 6] + diff[10];

353 
m
[ 7] = 
diff
[ 7] + diff[11];

354 
m
[ 8] = 
diff
[ 4] - diff[ 8];

355 
m
[ 9] = 
diff
[ 5] - diff[ 9];

356 
m
[10] = 
diff
[ 6] - diff[10];

357 
m
[11] = 
diff
[ 7] - diff[11];

358 
m
[12] = 
diff
[ 0] - diff[12];

359 
m
[13] = 
diff
[ 1] - diff[13];

360 
m
[14] = 
diff
[ 2] - diff[14];

361 
m
[15] = 
diff
[ 3] - diff[15];

363 
d
[ 0] = 
m
[ 0] + m[ 4];

364 
d
[ 1] = 
m
[ 1] + m[ 5];

365 
d
[ 2] = 
m
[ 2] + m[ 6];

366 
d
[ 3] = 
m
[ 3] + m[ 7];

367 
d
[ 4] = 
m
[ 8] + m[12];

368 
d
[ 5] = 
m
[ 9] + m[13];

369 
d
[ 6] = 
m
[10] + m[14];

370 
d
[ 7] = 
m
[11] + m[15];

371 
d
[ 8] = 
m
[ 0] - m[ 4];

372 
d
[ 9] = 
m
[ 1] - m[ 5];

373 
d
[10] = 
m
[ 2] - m[ 6];

374 
d
[11] = 
m
[ 3] - m[ 7];

375 
d
[12] = 
m
[12] - m[ 8];

376 
d
[13] = 
m
[13] - m[ 9];

377 
d
[14] = 
m
[14] - m[10];

378 
d
[15] = 
m
[15] - m[11];

380 
m
[ 0] = 
d
[ 0] + d[ 3];

381 
m
[ 1] = 
d
[ 1] + d[ 2];

382 
m
[ 2] = 
d
[ 1] - d[ 2];

383 
m
[ 3] = 
d
[ 0] - d[ 3];

384 
m
[ 4] = 
d
[ 4] + d[ 7];

385 
m
[ 5] = 
d
[ 5] + d[ 6];

386 
m
[ 6] = 
d
[ 5] - d[ 6];

387 
m
[ 7] = 
d
[ 4] - d[ 7];

388 
m
[ 8] = 
d
[ 8] + d[11];

389 
m
[ 9] = 
d
[ 9] + d[10];

390 
m
[10] = 
d
[ 9] - d[10];

391 
m
[11] = 
d
[ 8] - d[11];

392 
m
[12] = 
d
[12] + d[15];

393 
m
[13] = 
d
[13] + d[14];

394 
m
[14] = 
d
[13] - d[14];

395 
m
[15] = 
d
[12] - d[15];

397 
d
[ 0] = 
m
[ 0] + m[ 1];

398 
d
[ 1] = 
m
[ 0] - m[ 1];

399 
d
[ 2] = 
m
[ 2] + m[ 3];

400 
d
[ 3] = 
m
[ 3] - m[ 2];

401 
d
[ 4] = 
m
[ 4] + m[ 5];

402 
d
[ 5] = 
m
[ 4] - m[ 5];

403 
d
[ 6] = 
m
[ 6] + m[ 7];

404 
d
[ 7] = 
m
[ 7] - m[ 6];

405 
d
[ 8] = 
m
[ 8] + m[ 9];

406 
d
[ 9] = 
m
[ 8] - m[ 9];

407 
d
[10] = 
m
[10] + m[11];

408 
d
[11] = 
m
[11] - m[10];

409 
d
[12] = 
m
[12] + m[13];

410 
d
[13] = 
m
[12] - m[13];

411 
d
[14] = 
m
[14] + m[15];

412 
d
[15] = 
m
[15] - m[14];

414 
I¡
 
k
=0; k<16; ++k)

416 
ßtd
 +
	`abs
(
d
[
k
]);

418 
ßtd
 = ((satd+1)>>1);

420  
ßtd
;

421 
	}
}

425 
Di°‹ti⁄
 
	$xCÆcHADs8x8w
–c⁄° 
WPSˇlögP¨am
 &
wpCur
, c⁄° 
Pñ
 *
piOrg
, c⁄° Pñ *
piCur
, 
I¡
 
iSåideOrg
, I¡ 
iSåideCur
, I¡ 
iSãp
 )

427 
Di°‹ti⁄
 
ßd
=0;

428 
TC€ff
 
diff
[64], 
m1
[8][8], 
m2
[8][8], 
m3
[8][8];

429 
I¡
 
iSãp2
 = 
iSãp
<<1;

430 
I¡
 
iSãp3
 = 
iSãp2
 + 
iSãp
;

431 
I¡
 
iSãp4
 = 
iSãp3
 + 
iSãp
;

432 
I¡
 
iSãp5
 = 
iSãp4
 + 
iSãp
;

433 
I¡
 
iSãp6
 = 
iSãp5
 + 
iSãp
;

434 
I¡
 
iSãp7
 = 
iSãp6
 + 
iSãp
;

435 c⁄° 
I¡
 
round
 = 
wpCur
.round;

436 c⁄° 
I¡
 
shi·
 = 
wpCur
.shift;

437 c⁄° 
I¡
 
off£t
 = 
wpCur
.offset;

438 c⁄° 
I¡
 
w0
 = 
wpCur
.
w
;

440 
Pñ
 
¥ed
;

442 
I¡
 
k
 = 0; k < 64; k+=8 )

444 
¥ed
 = ( (
w0
*
piCur
[ 0] + 
round
Ë>> 
shi·
 ) + 
off£t
 ;

445 
diff
[
k
+0] = 
piOrg
[0] - 
¥ed
;

446 
¥ed
 = ( (
w0
*
piCur
[
iSãp
 ] + 
round
Ë>> 
shi·
 ) + 
off£t
 ;

447 
diff
[
k
+1] = 
piOrg
[1] - 
¥ed
;

448 
¥ed
 = ( (
w0
*
piCur
[
iSãp2
] + 
round
Ë>> 
shi·
 ) + 
off£t
 ;

449 
diff
[
k
+2] = 
piOrg
[2] - 
¥ed
;

450 
¥ed
 = ( (
w0
*
piCur
[
iSãp3
] + 
round
Ë>> 
shi·
 ) + 
off£t
 ;

451 
diff
[
k
+3] = 
piOrg
[3] - 
¥ed
;

452 
¥ed
 = ( (
w0
*
piCur
[
iSãp4
] + 
round
Ë>> 
shi·
 ) + 
off£t
 ;

453 
diff
[
k
+4] = 
piOrg
[4] - 
¥ed
;

454 
¥ed
 = ( (
w0
*
piCur
[
iSãp5
] + 
round
Ë>> 
shi·
 ) + 
off£t
 ;

455 
diff
[
k
+5] = 
piOrg
[5] - 
¥ed
;

456 
¥ed
 = ( (
w0
*
piCur
[
iSãp6
] + 
round
Ë>> 
shi·
 ) + 
off£t
 ;

457 
diff
[
k
+6] = 
piOrg
[6] - 
¥ed
;

458 
¥ed
 = ( (
w0
*
piCur
[
iSãp7
] + 
round
Ë>> 
shi·
 ) + 
off£t
 ;

459 
diff
[
k
+7] = 
piOrg
[7] - 
¥ed
;

461 
piCur
 +
iSåideCur
;

462 
piOrg
 +
iSåideOrg
;

466 
I¡
 
j
=0; j < 8; j++)

468 c⁄° 
I¡
 
jj
 = 
j
 << 3;

469 
m2
[
j
][0] = 
diff
[
jj
 ] + diff[jj+4];

470 
m2
[
j
][1] = 
diff
[
jj
+1] + diff[jj+5];

471 
m2
[
j
][2] = 
diff
[
jj
+2] + diff[jj+6];

472 
m2
[
j
][3] = 
diff
[
jj
+3] + diff[jj+7];

473 
m2
[
j
][4] = 
diff
[
jj
 ] - diff[jj+4];

474 
m2
[
j
][5] = 
diff
[
jj
+1] - diff[jj+5];

475 
m2
[
j
][6] = 
diff
[
jj
+2] - diff[jj+6];

476 
m2
[
j
][7] = 
diff
[
jj
+3] - diff[jj+7];

478 
m1
[
j
][0] = 
m2
[j][0] + m2[j][2];

479 
m1
[
j
][1] = 
m2
[j][1] + m2[j][3];

480 
m1
[
j
][2] = 
m2
[j][0] - m2[j][2];

481 
m1
[
j
][3] = 
m2
[j][1] - m2[j][3];

482 
m1
[
j
][4] = 
m2
[j][4] + m2[j][6];

483 
m1
[
j
][5] = 
m2
[j][5] + m2[j][7];

484 
m1
[
j
][6] = 
m2
[j][4] - m2[j][6];

485 
m1
[
j
][7] = 
m2
[j][5] - m2[j][7];

487 
m2
[
j
][0] = 
m1
[j][0] + m1[j][1];

488 
m2
[
j
][1] = 
m1
[j][0] - m1[j][1];

489 
m2
[
j
][2] = 
m1
[j][2] + m1[j][3];

490 
m2
[
j
][3] = 
m1
[j][2] - m1[j][3];

491 
m2
[
j
][4] = 
m1
[j][4] + m1[j][5];

492 
m2
[
j
][5] = 
m1
[j][4] - m1[j][5];

493 
m2
[
j
][6] = 
m1
[j][6] + m1[j][7];

494 
m2
[
j
][7] = 
m1
[j][6] - m1[j][7];

498 
I¡
 
i
=0; i < 8; i++)

500 
m3
[0][
i
] = 
m2
[0][i] + m2[4][i];

501 
m3
[1][
i
] = 
m2
[1][i] + m2[5][i];

502 
m3
[2][
i
] = 
m2
[2][i] + m2[6][i];

503 
m3
[3][
i
] = 
m2
[3][i] + m2[7][i];

504 
m3
[4][
i
] = 
m2
[0][i] - m2[4][i];

505 
m3
[5][
i
] = 
m2
[1][i] - m2[5][i];

506 
m3
[6][
i
] = 
m2
[2][i] - m2[6][i];

507 
m3
[7][
i
] = 
m2
[3][i] - m2[7][i];

509 
m1
[0][
i
] = 
m3
[0][i] + m3[2][i];

510 
m1
[1][
i
] = 
m3
[1][i] + m3[3][i];

511 
m1
[2][
i
] = 
m3
[0][i] - m3[2][i];

512 
m1
[3][
i
] = 
m3
[1][i] - m3[3][i];

513 
m1
[4][
i
] = 
m3
[4][i] + m3[6][i];

514 
m1
[5][
i
] = 
m3
[5][i] + m3[7][i];

515 
m1
[6][
i
] = 
m3
[4][i] - m3[6][i];

516 
m1
[7][
i
] = 
m3
[5][i] - m3[7][i];

518 
m2
[0][
i
] = 
m1
[0][i] + m1[1][i];

519 
m2
[1][
i
] = 
m1
[0][i] - m1[1][i];

520 
m2
[2][
i
] = 
m1
[2][i] + m1[3][i];

521 
m2
[3][
i
] = 
m1
[2][i] - m1[3][i];

522 
m2
[4][
i
] = 
m1
[4][i] + m1[5][i];

523 
m2
[5][
i
] = 
m1
[4][i] - m1[5][i];

524 
m2
[6][
i
] = 
m1
[6][i] + m1[7][i];

525 
m2
[7][
i
] = 
m1
[6][i] - m1[7][i];

528 
I¡
 
j
=0; j < 8; j++)

530 
I¡
 
i
=0; i < 8; i++)

532 
ßd
 +(
	`abs
(
m2
[
j
][
i
]));

536 
ßd
=((sad+2)>>2);

538  
ßd
;

539 
	}
}

543 
Di°‹ti⁄
 
	gTComRdCo°WeightPªdi˘i⁄
::
	$xGëHADsw
–
Di°P¨am
* 
pcDtP¨am
 )

545 c⁄° 
Pñ
 *
piOrg
 = 
pcDtP¨am
->
pOrg
;

546 c⁄° 
Pñ
 *
piCur
 = 
pcDtP¨am
->
pCur
;

547 c⁄° 
I¡
 
iRows
 = 
pcDtP¨am
->iRows;

548 c⁄° 
I¡
 
iCﬁs
 = 
pcDtP¨am
->iCols;

549 c⁄° 
I¡
 
iSåideCur
 = 
pcDtP¨am
->iStrideCur;

550 c⁄° 
I¡
 
iSåideOrg
 = 
pcDtP¨am
->iStrideOrg;

551 c⁄° 
I¡
 
iSãp
 = 
pcDtP¨am
->iStep;

552 c⁄° 
Comp⁄ítID
 
compIdx
 = 
pcDtP¨am
->compIdx;

553 
	`as£π
(
compIdx
<
MAX_NUM_COMPONENT
);

554 c⁄° 
WPSˇlögP¨am
 &
wpCur
 = 
pcDtP¨am
->wpCur[
compIdx
];

556 
Di°‹ti⁄
 
uiSum
 = 0;

558 if––
iRows
 % 8 =0Ë&& (
iCﬁs
 % 8 == 0) )

560 c⁄° 
I¡
 
iOff£tOrg
 = 
iSåideOrg
<<3;

561 c⁄° 
I¡
 
iOff£tCur
 = 
iSåideCur
<<3;

562 
I¡
 
y
=0; y<
iRows
; y+= 8 )

564 
I¡
 
x
=0; x<
iCﬁs
; x+= 8 )

566 
uiSum
 +
	`xCÆcHADs8x8w
–
wpCur
, &
piOrg
[
x
], &
piCur
[x*
iSãp
], 
iSåideOrg
, 
iSåideCur
, iStep );

568 
piOrg
 +
iOff£tOrg
;

569 
piCur
 +
iOff£tCur
;

572 if––
iRows
 % 4 =0Ë&& (
iCﬁs
 % 4 == 0) )

574 c⁄° 
I¡
 
iOff£tOrg
 = 
iSåideOrg
<<2;

575 c⁄° 
I¡
 
iOff£tCur
 = 
iSåideCur
<<2;

577 
I¡
 
y
=0; y<
iRows
; y+= 4 )

579 
I¡
 
x
=0; x<
iCﬁs
; x+= 4 )

581 
uiSum
 +
	`xCÆcHADs4x4w
–
wpCur
, &
piOrg
[
x
], &
piCur
[x*
iSãp
], 
iSåideOrg
, 
iSåideCur
, iStep );

583 
piOrg
 +
iOff£tOrg
;

584 
piCur
 +
iOff£tCur
;

589 
I¡
 
y
=0; y<
iRows
; y+=2 )

591 
I¡
 
x
=0; x<
iCﬁs
; x+=2 )

593 
uiSum
 +
	`xCÆcHADs2x2w
–
wpCur
, &
piOrg
[
x
], &
piCur
[x*
iSãp
], 
iSåideOrg
, 
iSåideCur
, iStep );

595 
piOrg
 +
iSåideOrg
;

596 
piCur
 +
iSåideCur
;

600  
uiSum
 >> 
	`DISTORTION_PRECISION_ADJUSTMENT
(
pcDtP¨am
->
bôDïth
-8);

601 
	}
}

	@TComRdCostWeightPrediction.h

38 #i‚de‡
__TCOMRDCOSTWEIGHTPREDICTION__


39 
	#__TCOMRDCOSTWEIGHTPREDICTION__


	)

42 
	~"Comm⁄Def.h
"

44 
˛ass
 
	gDi°P¨am
;

45 
˛ass
 
	gTComP©ã∫
;

52 
«me•a˚
 
	gTComRdCo°WeightPªdi˘i⁄


54 
Di°‹ti⁄
 
xGëSSEw
 ( 
Di°P¨am
* 
pcDtP¨am
 );

55 
Di°‹ti⁄
 
xGëSADw
 ( 
Di°P¨am
* 
pcDtP¨am
 );

56 
Di°‹ti⁄
 
xGëHADsw
–
Di°P¨am
* 
pcDtP¨am
 );

	@TComRectangle.h

35 #i‚de‡
__TCOMRECTANGLE__


36 
	#__TCOMRECTANGLE__


	)

39 
	sTComRe˘™gÀ


41 
UI¡
 
	mwidth
;

42 
UI¡
 
	mheight
;

43 
UI¡
 
	mx0
;

44 
UI¡
 
	my0
;

	@TComRom.cpp

38 
	~"TComRom.h
"

39 
	~<mem‹y.h
>

40 
	~<°dlib.h
>

41 
	~<°dio.h
>

42 
	~<iom™ù
>

43 
	~<as£π.h
>

44 
	~"TComD©aCU.h
"

45 
	~"Debug.h
"

53 c⁄° 
TCh¨
* 
	$«lUnôTy≥ToSåög
(
NÆUnôTy≥
 
ty≥
)

55 
ty≥
)

57 
NAL_UNIT_CODED_SLICE_TRAIL_R
:  "TRAIL_R";

58 
NAL_UNIT_CODED_SLICE_TRAIL_N
:  "TRAIL_N";

59 
NAL_UNIT_CODED_SLICE_TSA_R
:  "TSA_R";

60 
NAL_UNIT_CODED_SLICE_TSA_N
:  "TSA_N";

61 
NAL_UNIT_CODED_SLICE_STSA_R
:  "STSA_R";

62 
NAL_UNIT_CODED_SLICE_STSA_N
:  "STSA_N";

63 
NAL_UNIT_CODED_SLICE_BLA_W_LP
:  "BLA_W_LP";

64 
NAL_UNIT_CODED_SLICE_BLA_W_RADL
:  "BLA_W_RADL";

65 
NAL_UNIT_CODED_SLICE_BLA_N_LP
:  "BLA_N_LP";

66 
NAL_UNIT_CODED_SLICE_IDR_W_RADL
:  "IDR_W_RADL";

67 
NAL_UNIT_CODED_SLICE_IDR_N_LP
:  "IDR_N_LP";

68 
NAL_UNIT_CODED_SLICE_CRA
:  "CRA";

69 
NAL_UNIT_CODED_SLICE_RADL_R
:  "RADL_R";

70 
NAL_UNIT_CODED_SLICE_RADL_N
:  "RADL_N";

71 
NAL_UNIT_CODED_SLICE_RASL_R
:  "RASL_R";

72 
NAL_UNIT_CODED_SLICE_RASL_N
:  "RASL_N";

73 
NAL_UNIT_VPS
:  "VPS";

74 
NAL_UNIT_SPS
:  "SPS";

75 
NAL_UNIT_PPS
:  "PPS";

76 
NAL_UNIT_ACCESS_UNIT_DELIMITER
:  "AUD";

77 
NAL_UNIT_EOS
:  "EOS";

78 
NAL_UNIT_EOB
:  "EOB";

79 
NAL_UNIT_FILLER_DATA
:  "FILLER";

80 
NAL_UNIT_PREFIX_SEI
:  "Prefix SEI";

81 
NAL_UNIT_SUFFIX_SEI
:  "Suffix SEI";

84 
	}
}

86 ˛as†
	cSˇnGíî©‹


88 
	m¥iv©e
:

89 
UI¡
 
m_löe
, 
	mm_cﬁumn
;

90 c⁄° 
UI¡
 
	mm_blockWidth
, 
	mm_blockHeight
;

91 c⁄° 
UI¡
 
	mm_°ride
;

92 c⁄° 
COEFF_SCAN_TYPE
 
	mm_sˇnTy≥
;

94 
	mpublic
:

95 
	$SˇnGíî©‹
(
UI¡
 
blockWidth
, UI¡ 
blockHeight
, UI¡ 
°ride
, 
COEFF_SCAN_TYPE
 
sˇnTy≥
)

96 : 
	`m_löe
(0), 
	`m_cﬁumn
(0), 
	`m_blockWidth
(
blockWidth
), 
	`m_blockHeight
(
blockHeight
), 
	`m_°ride
(
°ride
), 
	$m_sˇnTy≥
(
sˇnTy≥
)

99 
UI¡
 
	$GëCuºítX
(Ëc⁄° {  
m_cﬁumn
; 
	}
}

100 
UI¡
 
	$GëCuºítY
(Ëc⁄° {  
m_löe
; 
	}
}

102 
UI¡
 
	$GëNextIndex
(
UI¡
 
blockOff£tX
, UI¡ 
blockOff£tY
)

104 
I¡
 
πn
=((
m_löe
 + 
blockOff£tY
Ë* 
m_°ride
Ë+ 
m_cﬁumn
 + 
blockOff£tX
;

107 
m_sˇnTy≥
)

111 
SCAN_DIAG
:

113 i‡((
m_cﬁumn
 =(
m_blockWidth
 - 1)Ë|| (
m_löe
 == 0))

115 
m_löe
 +
m_cﬁumn
 + 1;

116 
m_cﬁumn
 = 0;

118 i‡(
m_löe
 >
m_blockHeight
)

120 
m_cﬁumn
 +
m_löe
 - (
m_blockHeight
 - 1);

121 
m_löe
 = 
m_blockHeight
 - 1;

126 
m_cﬁumn
++;

127 
m_löe
--;

134 
SCAN_HOR
:

136 i‡(
m_cﬁumn
 =(
m_blockWidth
 - 1))

138 
m_löe
++;

139 
m_cﬁumn
 = 0;

143 
m_cﬁumn
++;

150 
SCAN_VER
:

152 i‡(
m_löe
 =(
m_blockHeight
 - 1))

154 
m_cﬁumn
++;

155 
m_löe
 = 0;

159 
m_löe
++;

168 
°d
::
˚º
 << "ERROR: Unknow¿sˇ¿ty≥ \"" << 
m_sˇnTy≥
 << "\"ö SˇnGíî©‹::GëNextIndex" << std::
ídl
;

169 
	`exô
(1);

174  
πn
;

175 
	}
}

179 
Void
 
	$öôROM
()

181 
I¡
 
i
, 
c
;

184 ::
	`mem£t
–
g_aucC⁄vîtToBô
, -1, ( g_aucConvertToBit ) );

185 
c
=0;

186  
i
=4; i<=
MAX_CU_SIZE
; i*=2 )

188 
g_aucC⁄vîtToBô
[ 
i
 ] = 
c
;

189 
c
++;

193 
UI¡
 
log2BlockHeight
 = 0;Üog2BlockHeighà< 
MAX_CU_DEPTH
;Üog2BlockHeight++)

195 
UI¡
 
log2BlockWidth
 = 0;Üog2BlockWidth < 
MAX_CU_DEPTH
;Üog2BlockWidth++)

197 c⁄° 
UI¡
 
blockWidth
 = 1 << 
log2BlockWidth
;

198 c⁄° 
UI¡
 
blockHeight
 = 1 << 
log2BlockHeight
;

199 c⁄° 
UI¡
 
tŸÆVÆues
 = 
blockWidth
 * 
blockHeight
;

205 
UI¡
 
sˇnTy≥Index
 = 0; sˇnTy≥Index < 
SCAN_NUMBER_OF_TYPES
; scanTypeIndex++)

207 c⁄° 
COEFF_SCAN_TYPE
 
sˇnTy≥
 = 
	`COEFF_SCAN_TYPE
(
sˇnTy≥Index
);

209 
g_sˇnOrdî
[
SCAN_UNGROUPED
][
sˇnTy≥
][
log2BlockWidth
][
log2BlockHeight
] = 
√w
 
UI¡
[
tŸÆVÆues
];

211 
SˇnGíî©‹
 
	`fuŒBlockSˇn
(
blockWidth
, 
blockHeight
, blockWidth, 
sˇnTy≥
);

213 
UI¡
 
sˇnPosôi⁄
 = 0; sˇnPosôi⁄ < 
tŸÆVÆues
; scanPosition++)

215 
g_sˇnOrdî
[
SCAN_UNGROUPED
][
sˇnTy≥
][
log2BlockWidth
][
log2BlockHeight
][
sˇnPosôi⁄
] = 
fuŒBlockSˇn
.
	`GëNextIndex
(0, 0);

223 c⁄° 
UI¡
 
groupWidth
 = 1 << 
MLS_CG_LOG2_WIDTH
;

224 c⁄° 
UI¡
 
groupHeight
 = 1 << 
MLS_CG_LOG2_HEIGHT
;

225 c⁄° 
UI¡
 
widthInGroups
 = 
blockWidth
 >> 
MLS_CG_LOG2_WIDTH
;

226 c⁄° 
UI¡
 
heightInGroups
 = 
blockHeight
 >> 
MLS_CG_LOG2_HEIGHT
;

228 c⁄° 
UI¡
 
groupSize
 = 
groupWidth
 * 
groupHeight
;

229 c⁄° 
UI¡
 
tŸÆGroups
 = 
widthInGroups
 * 
heightInGroups
;

231 
UI¡
 
sˇnTy≥Index
 = 0; sˇnTy≥Index < 
SCAN_NUMBER_OF_TYPES
; scanTypeIndex++)

233 c⁄° 
COEFF_SCAN_TYPE
 
sˇnTy≥
 = 
	`COEFF_SCAN_TYPE
(
sˇnTy≥Index
);

235 
g_sˇnOrdî
[
SCAN_GROUPED_4x4
][
sˇnTy≥
][
log2BlockWidth
][
log2BlockHeight
] = 
√w
 
UI¡
[
tŸÆVÆues
];

237 
SˇnGíî©‹
 
	`fuŒBlockSˇn
(
widthInGroups
, 
heightInGroups
, 
groupWidth
, 
sˇnTy≥
);

239 
UI¡
 
groupIndex
 = 0; groupIndex < 
tŸÆGroups
; groupIndex++)

241 c⁄° 
UI¡
 
groupPosôi⁄Y
 = 
fuŒBlockSˇn
.
	`GëCuºítY
();

242 c⁄° 
UI¡
 
groupPosôi⁄X
 = 
fuŒBlockSˇn
.
	`GëCuºítX
();

243 c⁄° 
UI¡
 
groupOff£tX
 = 
groupPosôi⁄X
 * 
groupWidth
;

244 c⁄° 
UI¡
 
groupOff£tY
 = 
groupPosôi⁄Y
 * 
groupHeight
;

245 c⁄° 
UI¡
 
groupOff£tSˇn
 = 
groupIndex
 * 
groupSize
;

247 
SˇnGíî©‹
 
	`groupSˇn
(
groupWidth
, 
groupHeight
, 
blockWidth
, 
sˇnTy≥
);

249 
UI¡
 
sˇnPosôi⁄
 = 0; sˇnPosôi⁄ < 
groupSize
; scanPosition++)

251 
g_sˇnOrdî
[
SCAN_GROUPED_4x4
][
sˇnTy≥
][
log2BlockWidth
][
log2BlockHeight
][
groupOff£tSˇn
 + 
sˇnPosôi⁄
] = 
groupSˇn
.
	`GëNextIndex
(
groupOff£tX
, 
groupOff£tY
);

254 
fuŒBlockSˇn
.
	`GëNextIndex
(0,0);

261 
	}
}

263 
Void
 
	$de°royROM
()

265 
UI¡
 
groupTy≥Index
 = 0; groupTy≥Index < 
SCAN_NUMBER_OF_GROUP_TYPES
; groupTypeIndex++)

267 
UI¡
 
sˇnOrdîIndex
 = 0; sˇnOrdîIndex < 
SCAN_NUMBER_OF_TYPES
; scanOrderIndex++)

269 
UI¡
 
log2BlockWidth
 = 0;Üog2BlockWidth < 
MAX_CU_DEPTH
;Üog2BlockWidth++)

271 
UI¡
 
log2BlockHeight
 = 0;Üog2BlockHeighà< 
MAX_CU_DEPTH
;Üog2BlockHeight++)

273 
dñëe
 [] 
g_sˇnOrdî
[
groupTy≥Index
][
sˇnOrdîIndex
][
log2BlockWidth
][
log2BlockHeight
];

278 
	}
}

284 
UI¡
 
	gg_auiZsˇnToRa°î
 [ 
MAX_NUM_PART_IDXS_IN_CTU_WIDTH
*MAX_NUM_PART_IDXS_IN_CTU_WIDTH ] = { 0, };

285 
UI¡
 
	gg_auiRa°îToZsˇn
 [ 
MAX_NUM_PART_IDXS_IN_CTU_WIDTH
*MAX_NUM_PART_IDXS_IN_CTU_WIDTH ] = { 0, };

286 
UI¡
 
	gg_auiRa°îToPñX
 [ 
MAX_NUM_PART_IDXS_IN_CTU_WIDTH
*MAX_NUM_PART_IDXS_IN_CTU_WIDTH ] = { 0, };

287 
UI¡
 
	gg_auiRa°îToPñY
 [ 
MAX_NUM_PART_IDXS_IN_CTU_WIDTH
*MAX_NUM_PART_IDXS_IN_CTU_WIDTH ] = { 0, };

289 c⁄° 
UI¡
 
	gg_auiPUOff£t
[
NUMBER_OF_PART_SIZES
] = { 0, 8, 4, 4, 2, 10, 1, 5};

291 
Void
 
	$öôZsˇnToRa°î
 ( 
I¡
 
iMaxDïth
, I¡ 
iDïth
, 
UI¡
 
uiSèπVÆ
, UI¡*& 
ΩuiCuºIdx
 )

293 
I¡
 
iSåide
 = 1 << ( 
iMaxDïth
 - 1 );

295 i‡–
iDïth
 =
iMaxDïth
 )

297 
ΩuiCuºIdx
[0] = 
uiSèπVÆ
;

298 
ΩuiCuºIdx
++;

302 
I¡
 
iSãp
 = 
iSåide
 >> 
iDïth
;

303 
	`öôZsˇnToRa°î
–
iMaxDïth
, 
iDïth
+1, 
uiSèπVÆ
, 
ΩuiCuºIdx
 );

304 
	`öôZsˇnToRa°î
–
iMaxDïth
, 
iDïth
+1, 
uiSèπVÆ
+
iSãp
, 
ΩuiCuºIdx
 );

305 
	`öôZsˇnToRa°î
–
iMaxDïth
, 
iDïth
+1, 
uiSèπVÆ
+
iSãp
*
iSåide
, 
ΩuiCuºIdx
 );

306 
	`öôZsˇnToRa°î
–
iMaxDïth
, 
iDïth
+1, 
uiSèπVÆ
+
iSãp
*
iSåide
+iSãp, 
ΩuiCuºIdx
 );

308 
	}
}

310 
Void
 
	$öôRa°îToZsˇn
 ( 
UI¡
 
uiMaxCUWidth
, UI¡ 
uiMaxCUHeight
, UI¡ 
uiMaxDïth
 )

312 
UI¡
 
uiMöCUWidth
 = 
uiMaxCUWidth
 >> ( 
uiMaxDïth
 - 1 );

313 
UI¡
 
uiMöCUHeight
 = 
uiMaxCUHeight
 >> ( 
uiMaxDïth
 - 1 );

315 
UI¡
 
uiNumP¨tInWidth
 = (UI¡)
uiMaxCUWidth
 / 
uiMöCUWidth
;

316 
UI¡
 
uiNumP¨tInHeight
 = (UI¡)
uiMaxCUHeight
 / 
uiMöCUHeight
;

318  
UI¡
 
i
 = 0; i < 
uiNumP¨tInWidth
*
uiNumP¨tInHeight
; i++ )

320 
g_auiRa°îToZsˇn
[ 
g_auiZsˇnToRa°î
[
i
] ] = i;

322 
	}
}

324 
Void
 
	$öôRa°îToPñXY
 ( 
UI¡
 
uiMaxCUWidth
, UI¡ 
uiMaxCUHeight
, UI¡ 
uiMaxDïth
 )

326 
UI¡
 
i
;

328 
UI¡
* 
uiTempX
 = &
g_auiRa°îToPñX
[0];

329 
UI¡
* 
uiTempY
 = &
g_auiRa°îToPñY
[0];

331 
UI¡
 
uiMöCUWidth
 = 
uiMaxCUWidth
 >> ( 
uiMaxDïth
 - 1 );

332 
UI¡
 
uiMöCUHeight
 = 
uiMaxCUHeight
 >> ( 
uiMaxDïth
 - 1 );

334 
UI¡
 
uiNumP¨tInWidth
 = 
uiMaxCUWidth
 / 
uiMöCUWidth
;

335 
UI¡
 
uiNumP¨tInHeight
 = 
uiMaxCUHeight
 / 
uiMöCUHeight
;

337 
uiTempX
[0] = 0; uiTempX++;

338  
i
 = 1; i < 
uiNumP¨tInWidth
; i++ )

340 
uiTempX
[0] = uiTempX[-1] + 
uiMöCUWidth
; uiTempX++;

342  
i
 = 1; i < 
uiNumP¨tInHeight
; i++ )

344 
	`mem˝y
(
uiTempX
, uiTempX-
uiNumP¨tInWidth
, (
UI¡
)*uiNumPartInWidth);

345 
uiTempX
 +
uiNumP¨tInWidth
;

348  
i
 = 1; i < 
uiNumP¨tInWidth
*
uiNumP¨tInHeight
; i++ )

350 
uiTempY
[
i
] = ( i / 
uiNumP¨tInWidth
 ) * 
uiMöCUWidth
;

352 
	}
}

354 c⁄° 
I¡
 
	gg_qu™tSˇÀs
[
SCALING_LIST_REM_NUM
] =

359 c⁄° 
I¡
 
	gg_övQu™tSˇÀs
[
SCALING_LIST_REM_NUM
] =

368 
	#DEFINE_DST4x4_MATRIX
(
a
,
b
,
c
,
d
) \

370 { 
a
, 
b
, 
c
, 
d
 }, \

371 { 
c
, c, 0, -c }, \

372 { 
d
, -
a
, -
c
, 
b
 }, \

373 { 
b
, -
d
, 
c
, -
a
 }, \

374 }

	)

376 
	#DEFINE_DCT4x4_MATRIX
(
a
,
b
,
c
) \

378 { 
a
,á,á,á}, \

379 { 
b
, 
c
, -c, -b}, \

380 { 
a
, -a, -a,á}, \

381 { 
c
, -
b
, b, -c} \

382 }

	)

384 
	#DEFINE_DCT8x8_MATRIX
(
a
,
b
,
c
,
d
,
e
,
f
,
g
) \

386 { 
a
,á,á,á,á,á,á,á}, \

387 { 
d
, 
e
, 
f
, 
g
, -g, -f, -e, -d}, \

388 { 
b
, 
c
, -c, -b, -b, -c, c, b}, \

389 { 
e
, -
g
, -
d
, -
f
, f, d, g, -e}, \

390 { 
a
, -a, -a,á,á, -a, -a,á}, \

391 { 
f
, -
d
, 
g
, 
e
, -e, -g, d, -f}, \

392 { 
c
, -
b
, b, -c, -c, b, -b, c}, \

393 { 
g
, -
f
, 
e
, -
d
, d, -e, f, -g} \

394 }

	)

396 
	#DEFINE_DCT16x16_MATRIX
(
a
,
b
,
c
,
d
,
e
,
f
,
g
,
h
,
i
,
j
,
k
,
l
,
m
,
n
,
o
) \

398 { 
a
,á,á,á,á,á,á,á,á,á,á,á,á,á,á,á}, \

399 { 
h
, 
i
, 
j
, 
k
, 
l
, 
m
, 
n
, 
o
, -o, -n, -m, -l, -k, -j, -i, -h}, \

400 { 
d
, 
e
, 
f
, 
g
, -g, -f, -e, -d, -d, -e, -f, -g, g, f,É, d}, \

401 { 
i
, 
l
, 
o
, -
m
, -
j
, -
h
, -
k
, -
n
,Ç, k, h, j, m, -o, -l, -i}, \

402 { 
b
, 
c
, -c, -b, -b, -c, c, b, b, c, -c, -b, -b, -c, c, b}, \

403 { 
j
, 
o
, -
k
, -
i
, -
n
, 
l
, 
h
, 
m
, -m, -h, -l,Ç, i, k, -o, -j}, \

404 { 
e
, -
g
, -
d
, -
f
, f, d, g, -e, -e, g, d, f, -f, -d, -g,É}, \

405 { 
k
, -
m
, -
i
, 
o
, 
h
, 
n
, -
j
, -
l
,Ü, j, -n, -h, -o, i, m, -k}, \

406 { 
a
, -a, -a,á,á, -a, -a,á,á, -a, -a,á,á, -a, -a,á}, \

407 { 
l
, -
j
, -
n
, 
h
, -
o
, -
i
, 
m
, 
k
, -k, -m, i, o, -h,Ç, j, -l}, \

408 { 
f
, -
d
, 
g
, 
e
, -e, -g, d, -f, -f, d, -g, -e,É, g, -d, f}, \

409 { 
m
, -
h
, 
l
, 
n
, -
i
, 
k
, 
o
, -
j
, j, -o, -k, i, -n, -l, h, -m}, \

410 { 
c
, -
b
, b, -c, -c, b, -b, c, c, -b, b, -c, -c, b, -b, c}, \

411 { 
n
, -
k
, 
h
, -
j
, 
m
, 
o
, -
l
, 
i
, -i,Ü, -o, -m, j, -h, k, -n}, \

412 { 
g
, -
f
, 
e
, -
d
, d, -e, f, -g, -g, f, -e, d, -d,É, -f, g}, \

413 { 
o
, -
n
, 
m
, -
l
, 
k
, -
j
, 
i
, -
h
, h, -i, j, -k,Ü, -m,Ç, -o} \

414 }

	)

416 
	#DEFINE_DCT32x32_MATRIX
(
a
,
b
,
c
,
d
,
e
,
f
,
g
,
h
,
i
,
j
,
k
,
l
,
m
,
n
,
o
,
p
,
q
,
r
,
s
,
t
,
u
,
v
,
w
,
x
,
y
,
z
,
A
,
B
,
C
,
D
,
E
) \

418 { 
a
,á,á,á,á,á,á,á,á,á,á,á,á,á,á,á,á,á,á,á,á,á,á,á,á,á,á,á,á,á,á,á}, \

419 { 
p
, 
q
, 
r
, 
s
, 
t
, 
u
, 
v
, 
w
, 
x
, 
y
, 
z
, 
A
, 
B
, 
C
, 
D
, 
E
, -E, -D, -C, -B, -A, -z, -y, -x, -w, -v, -u, -t, -s, -r, -q, -p}, \

420 { 
h
, 
i
, 
j
, 
k
, 
l
, 
m
, 
n
, 
o
, -o, -n, -m, -l, -k, -j, -i, -h, -h, -i, -j, -k, -l, -m, -n, -o, o,Ç, m,Ü, k, j, i, h}, \

421 { 
q
, 
t
, 
w
, 
z
, 
C
, -
E
, -
B
, -
y
, -
v
, -
s
, -
p
, -
r
, -
u
, -
x
, -
A
, -
D
, D, A, x, u,Ñ,Ö, s, v, y, B, E, -C, -z, -w, -t, -q}, \

422 { 
d
, 
e
, 
f
, 
g
, -g, -f, -e, -d, -d, -e, -f, -g, g, f,É, d, d,É, f, g, -g, -f, -e, -d, -d, -e, -f, -g, g, f,É, d}, \

423 { 
r
, 
w
, 
B
, -
D
, -
y
, -
t
, -
p
, -
u
, -
z
, -
E
, 
A
, 
v
, 
q
, 
s
, 
x
, 
C
, -C, -x, -s, -q, -v, -A, E, z, u,Ö,Å, y, D, -B, -w, -r}, \

424 { 
i
, 
l
, 
o
, -
m
, -
j
, -
h
, -
k
, -
n
,Ç, k, h, j, m, -o, -l, -i, -i, -l, -o, m, j, h, k,Ç, -n, -k, -h, -j, -m, o,Ü, i}, \

425 { 
s
, 
z
, -
D
, -
w
, -
p
, -
v
, -
C
, 
A
, 
t
, 
r
, 
y
, -
E
, -
x
, -
q
, -
u
, -
B
, B, u, q, x, E, -y, -r, -t, -A, C, v,Ö, w, D, -z, -s}, \

426 { 
b
, 
c
, -c, -b, -b, -c, c, b, b, c, -c, -b, -b, -c, c, b, b, c, -c, -b, -b, -c, c, b, b, c, -c, -b, -b, -c, c, b}, \

427 { 
t
, 
C
, -
y
, -
p
, -
x
, 
D
, 
u
, 
s
, 
B
, -
z
, -
q
, -
w
, 
E
, 
v
, 
r
, 
A
, -A, -r, -v, -E, w, q, z, -B, -s, -u, -D, x,Ö, y, -C, -t}, \

428 { 
j
, 
o
, -
k
, -
i
, -
n
, 
l
, 
h
, 
m
, -m, -h, -l,Ç, i, k, -o, -j, -j, -o, k, i,Ç, -l, -h, -m, m, h,Ü, -n, -i, -k, o, j}, \

429 { 
u
, -
E
, -
t
, -
v
, 
D
, 
s
, 
w
, -
C
, -
r
, -
x
, 
B
, 
q
, 
y
, -
A
, -
p
, -
z
, z,Ö, A, -y, -q, -B, x,Ñ, C, -w, -s, -D, v,Å, E, -u}, \

430 { 
e
, -
g
, -
d
, -
f
, f, d, g, -e, -e, g, d, f, -f, -d, -g,É,É, -g, -d, -f, f, d, g, -e, -e, g, d, f, -f, -d, -g,É}, \

431 { 
v
, -
B
, -
p
, -
C
, 
u
, 
w
, -
A
, -
q
, -
D
, 
t
, 
x
, -
z
, -
r
, -
E
, 
s
, 
y
, -y, -s, E,Ñ, z, -x, -t, D, q, A, -w, -u, C,Ö, B, -v}, \

432 { 
k
, -
m
, -
i
, 
o
, 
h
, 
n
, -
j
, -
l
,Ü, j, -n, -h, -o, i, m, -k, -k, m, i, -o, -h, -n, j,Ü, -l, -j,Ç, h, o, -i, -m, k}, \

433 { 
w
, -
y
, -
u
, 
A
, 
s
, -
C
, -
q
, 
E
, 
p
, 
D
, -
r
, -
B
, 
t
, 
z
, -
v
, -
x
, x, v, -z, -t, B,Ñ, -D, -p, -E, q, C, -s, -A, u, y, -w}, \

434 { 
a
, -a, -a,á,á, -a, -a,á,á, -a, -a,á,á, -a, -a,á,á, -a, -a,á,á, -a, -a,á,á, -a, -a,á,á, -a, -a,á}, \

435 { 
x
, -
v
, -
z
, 
t
, 
B
, -
r
, -
D
, 
p
, -
E
, -
q
, 
C
, 
s
, -
A
, -
u
, 
y
, 
w
, -w, -y, u, A, -s, -C, q, E, -p, D,Ñ, -B, -t, z, v, -x}, \

436 { 
l
, -
j
, -
n
, 
h
, -
o
, -
i
, 
m
, 
k
, -k, -m, i, o, -h,Ç, j, -l, -l, j,Ç, -h, o, i, -m, -k, k, m, -i, -o, h, -n, -j,Ü}, \

437 { 
y
, -
s
, -
E
, 
r
, -
z
, -
x
, 
t
, 
D
, -
q
, 
A
, 
w
, -
u
, -
C
, 
p
, -
B
, -
v
, v, B, -p, C, u, -w, -A, q, -D, -t, x, z, -r, E, s, -y}, \

438 { 
f
, -
d
, 
g
, 
e
, -e, -g, d, -f, -f, d, -g, -e,É, g, -d, f, f, -d, g,É, -e, -g, d, -f, -f, d, -g, -e,É, g, -d, f}, \

439 { 
z
, -
p
, 
A
, 
y
, -
q
, 
B
, 
x
, -
r
, 
C
, 
w
, -
s
, 
D
, 
v
, -
t
, 
E
, 
u
, -u, -E,Å, -v, -D, s, -w, -C,Ñ, -x, -B, q, -y, -A,Ö, -z}, \

440 { 
m
, -
h
, 
l
, 
n
, -
i
, 
k
, 
o
, -
j
, j, -o, -k, i, -n, -l, h, -m, -m, h, -l, -n, i, -k, -o, j, -j, o, k, -i,Ç,Ü, -h, m}, \

441 { 
A
, -
r
, 
v
, -
E
, -
w
, 
q
, -
z
, -
B
, 
s
, -
u
, 
D
, 
x
, -
p
, 
y
, 
C
, -
t
,Å, -C, -y,Ö, -x, -D, u, -s, B, z, -q, w, E, -v,Ñ, -A}, \

442 { 
c
, -
b
, b, -c, -c, b, -b, c, c, -b, b, -c, -c, b, -b, c, c, -b, b, -c, -c, b, -b, c, c, -b, b, -c, -c, b, -b, c}, \

443 { 
B
, -
u
, 
q
, -
x
, 
E
, 
y
, -
r
, 
t
, -
A
, -
C
, 
v
, -
p
, 
w
, -
D
, -
z
, 
s
, -s, z, D, -w,Ö, -v, C, A, -t,Ñ, -y, -E, x, -q, u, -B}, \

444 { 
n
, -
k
, 
h
, -
j
, 
m
, 
o
, -
l
, 
i
, -i,Ü, -o, -m, j, -h, k, -n, -n, k, -h, j, -m, -o,Ü, -i, i, -l, o, m, -j, h, -k,Ç}, \

445 { 
C
, -
x
, 
s
, -
q
, 
v
, -
A
, -
E
, 
z
, -
u
, 
p
, -
t
, 
y
, -
D
, -
B
, 
w
, -
r
,Ñ, -w, B, D, -y,Å, -p, u, -z, E, A, -v, q, -s, x, -C}, \

446 { 
g
, -
f
, 
e
, -
d
, d, -e, f, -g, -g, f, -e, d, -d,É, -f, g, g, -f,É, -d, d, -e, f, -g, -g, f, -e, d, -d,É, -f, g}, \

447 { 
D
, -
A
, 
x
, -
u
, 
r
, -
p
, 
s
, -
v
, 
y
, -
B
, 
E
, 
C
, -
z
, 
w
, -
t
, 
q
, -q,Å, -w, z, -C, -E, B, -y, v, -s,Ö, -r, u, -x, A, -D}, \

448 { 
o
, -
n
, 
m
, -
l
, 
k
, -
j
, 
i
, -
h
, h, -i, j, -k,Ü, -m,Ç, -o, -o,Ç, -m,Ü, -k, j, -i, h, -h, i, -j, k, -l, m, -n, o}, \

449 { 
E
, -
D
, 
C
, -
B
, 
A
, -
z
, 
y
, -
x
, 
w
, -
v
, 
u
, -
t
, 
s
, -
r
, 
q
, -
p
,Ö, -q,Ñ, -s,Å, -u, v, -w, x, -y, z, -A, B, -C, D, -E} \

450 }

	)

456 #i‡
RExt__HIGH_PRECISION_FORWARD_TRANSFORM


457 c⁄° 
TM©rixC€ff
 
	gg_aiT4
 [
TRANSFORM_NUMBER_OF_DIRECTIONS
][4][4] =

459 
DEFINE_DCT4x4_MATRIX
 (16384, 21266, 9224),

460 
DEFINE_DCT4x4_MATRIX
 ( 64, 83, 36)

463 c⁄° 
TM©rixC€ff
 
	gg_aiT8
 [
TRANSFORM_NUMBER_OF_DIRECTIONS
][8][8] =

465 
DEFINE_DCT8x8_MATRIX
 (16384, 21266, 9224, 22813, 19244, 12769, 4563),

466 
DEFINE_DCT8x8_MATRIX
 ( 64, 83, 36, 89, 75, 50, 18)

469 c⁄° 
TM©rixC€ff
 
	gg_aiT16
[
TRANSFORM_NUMBER_OF_DIRECTIONS
][16][16] =

471 
DEFINE_DCT16x16_MATRIX
(16384, 21266, 9224, 22813, 19244, 12769, 4563, 23120, 22063, 20450, 17972, 14642, 11109, 6446, 2316),

472 
DEFINE_DCT16x16_MATRIX
( 64, 83, 36, 89, 75, 50, 18, 90, 87, 80, 70, 57, 43, 25, 9)

475 c⁄° 
TM©rixC€ff
 
	gg_aiT32
[
TRANSFORM_NUMBER_OF_DIRECTIONS
][32][32] =

477 
DEFINE_DCT32x32_MATRIX
(16384, 21266, 9224, 22813, 19244, 12769, 4563, 23120, 22063, 20450, 17972, 14642, 11109, 6446, 2316, 23106, 22852, 22445, 21848, 20995, 19810, 18601, 17143, 15718, 13853, 11749, 9846, 7908, 5573, 3281, 946),

478 
DEFINE_DCT32x32_MATRIX
( 64, 83, 36, 89, 75, 50, 18, 90, 87, 80, 70, 57, 43, 25, 9, 90, 90, 88, 85, 82, 78, 73, 67, 61, 54, 46, 38, 31, 22, 13, 4)

481 c⁄° 
TM©rixC€ff
 
	gg_as_DST_MAT_4
[
TRANSFORM_NUMBER_OF_DIRECTIONS
][4][4] =

483 
DEFINE_DST4x4_MATRIX
( 7424, 14081, 18893, 21505),

484 
DEFINE_DST4x4_MATRIX
( 29, 55, 74, 84)

489 c⁄° 
TM©rixC€ff
 
	gg_aiT4
 [
TRANSFORM_NUMBER_OF_DIRECTIONS
][4][4] =

491 
DEFINE_DCT4x4_MATRIX
 ( 64, 83, 36),

492 
DEFINE_DCT4x4_MATRIX
 ( 64, 83, 36)

495 c⁄° 
TM©rixC€ff
 
	gg_aiT8
 [
TRANSFORM_NUMBER_OF_DIRECTIONS
][8][8] =

497 
DEFINE_DCT8x8_MATRIX
 ( 64, 83, 36, 89, 75, 50, 18),

498 
DEFINE_DCT8x8_MATRIX
 ( 64, 83, 36, 89, 75, 50, 18)

501 c⁄° 
TM©rixC€ff
 
	gg_aiT16
[
TRANSFORM_NUMBER_OF_DIRECTIONS
][16][16] =

503 
DEFINE_DCT16x16_MATRIX
( 64, 83, 36, 89, 75, 50, 18, 90, 87, 80, 70, 57, 43, 25, 9),

504 
DEFINE_DCT16x16_MATRIX
( 64, 83, 36, 89, 75, 50, 18, 90, 87, 80, 70, 57, 43, 25, 9)

507 c⁄° 
TM©rixC€ff
 
	gg_aiT32
[
TRANSFORM_NUMBER_OF_DIRECTIONS
][32][32] =

509 
DEFINE_DCT32x32_MATRIX
( 64, 83, 36, 89, 75, 50, 18, 90, 87, 80, 70, 57, 43, 25, 9, 90, 90, 88, 85, 82, 78, 73, 67, 61, 54, 46, 38, 31, 22, 13, 4),

510 
DEFINE_DCT32x32_MATRIX
( 64, 83, 36, 89, 75, 50, 18, 90, 87, 80, 70, 57, 43, 25, 9, 90, 90, 88, 85, 82, 78, 73, 67, 61, 54, 46, 38, 31, 22, 13, 4)

513 c⁄° 
TM©rixC€ff
 
	gg_as_DST_MAT_4
[
TRANSFORM_NUMBER_OF_DIRECTIONS
][4][4] =

515 
DEFINE_DST4x4_MATRIX
( 29, 55, 74, 84),

516 
DEFINE_DST4x4_MATRIX
( 29, 55, 74, 84)

523 #unde‡
DEFINE_DST4x4_MATRIX


524 #unde‡
DEFINE_DCT4x4_MATRIX


525 #unde‡
DEFINE_DCT8x8_MATRIX


526 #unde‡
DEFINE_DCT16x16_MATRIX


527 #unde‡
DEFINE_DCT32x32_MATRIX


532 c⁄° 
UCh¨
 
	gg_aucChromaSˇÀ
[
NUM_CHROMA_FORMAT
][
chromaQPM≠pögTabÀSize
]=

545 c⁄° 
UCh¨
 
	gg_aucI¡øModeNumFa°_U£MPM
[
MAX_CU_DEPTH
] =

554 c⁄° 
UCh¨
 
	gg_aucI¡øModeNumFa°_NŸU£MPM
[
MAX_CU_DEPTH
] =

564 c⁄° 
UCh¨
 
	gg_chroma422I¡øAngÀM≠pögTabÀ
[
NUM_INTRA_MODE
] =

566 { 0, 1, 2, 2, 2, 2, 3, 5, 7, 8, 10, 12, 13, 15, 17, 18, 19, 20, 21, 22, 23, 23, 24, 24, 25, 25, 26, 27, 27, 28, 28, 29, 29, 30, 31, 
DM_CHROMA_IDX
};

572 
SCh¨
 
	gg_aucC⁄vîtToBô
 [ 
MAX_CU_SIZE
+1 ];

574 #i‡
ENC_DEC_TRACE


575 
FILE
* 
	gg_hTø˚
 = 
NULL
;

576 c⁄° 
Boﬁ
 
	gg_bEncDecTø˚E«bÀ
 = 
åue
;

577 c⁄° 
Boﬁ
 
	gg_bEncDecTø˚DißbÀ
 = 
Ál£
;

578 
Boﬁ
 
	gg_HLSTø˚E«bÀ
 = 
åue
;

579 
Boﬁ
 
	gg_bJu°DoIt
 = 
Ál£
;

580 
UI¡64
 
	gg_nSymbﬁCou¡î
 = 0;

587 
UI¡
* 
	gg_sˇnOrdî
[
SCAN_NUMBER_OF_GROUP_TYPES
][
SCAN_NUMBER_OF_TYPES
][ 
MAX_CU_DEPTH
 ][ MAX_CU_DEPTH ];

589 c⁄° 
UI¡
 
	g˘xIndM≠4x4
[4*4] =

597 c⁄° 
UI¡
 
	gg_uiMöInGroup
[ 
LAST_SIGNIFICANT_GROUPS
 ] = {0,1,2,3,4,6,8,12,16,24};

598 c⁄° 
UI¡
 
	gg_uiGroupIdx
[ 
MAX_TU_SIZE
 ] = {0,1,2,3,4,4,5,5,6,6,6,6,7,7,7,7,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9};

600 c⁄° 
TCh¨
 *
	gM©rixTy≥
[
SCALING_LIST_SIZE_NUM
][
SCALING_LIST_NUM
] =

636 c⁄° 
TCh¨
 *
	gM©rixTy≥_DC
[
SCALING_LIST_SIZE_NUM
][
SCALING_LIST_NUM
] =

660 c⁄° 
I¡
 
	gg_qu™tTSDeÁu…4x4
[4*4] =

668 c⁄° 
I¡
 
	gg_qu™tI¡øDeÁu…8x8
[8*8] =

680 c⁄° 
I¡
 
	gg_qu™tI¡îDeÁu…8x8
[8*8] =

692 c⁄° 
UI¡
 
	gg_sˇlögLi°Size
 [
SCALING_LIST_SIZE_NUM
] = {16,64,256,1024};

693 c⁄° 
UI¡
 
	gg_sˇlögLi°SizeX
 [
SCALING_LIST_SIZE_NUM
] = { 4, 8, 16, 32};

	@TComRom.h

38 #i‚de‡
__TCOMROM__


39 
	#__TCOMROM__


	)

41 
	~"Comm⁄Def.h
"

43 
	~<°dio.h
>

44 
	~<io°ªam
>

53 
Void
 
öôROM
();

54 
Void
 
de°royROM
();

61 
UI¡
 
g_auiZsˇnToRa°î
[ 
MAX_NUM_PART_IDXS_IN_CTU_WIDTH
*MAX_NUM_PART_IDXS_IN_CTU_WIDTH ];

62 
UI¡
 
g_auiRa°îToZsˇn
[ 
MAX_NUM_PART_IDXS_IN_CTU_WIDTH
*MAX_NUM_PART_IDXS_IN_CTU_WIDTH ];

63 
UI¡
* 
g_sˇnOrdî
[
SCAN_NUMBER_OF_GROUP_TYPES
][
SCAN_NUMBER_OF_TYPES
][ 
MAX_CU_DEPTH
 ][ MAX_CU_DEPTH ];

65 
Void
 
öôZsˇnToRa°î
 ( 
I¡
 
iMaxDïth
, I¡ 
iDïth
, 
UI¡
 
uiSèπVÆ
, UI¡*& 
ΩuiCuºIdx
 );

66 
Void
 
öôRa°îToZsˇn
 ( 
UI¡
 
uiMaxCUWidth
, UI¡ 
uiMaxCUHeight
, UI¡ 
uiMaxDïth
 );

69 
UI¡
 
g_auiRa°îToPñX
[ 
MAX_NUM_PART_IDXS_IN_CTU_WIDTH
*MAX_NUM_PART_IDXS_IN_CTU_WIDTH ];

70 
UI¡
 
g_auiRa°îToPñY
[ 
MAX_NUM_PART_IDXS_IN_CTU_WIDTH
*MAX_NUM_PART_IDXS_IN_CTU_WIDTH ];

72 
Void
 
öôRa°îToPñXY
 ( 
UI¡
 
uiMaxCUWidth
, UI¡ 
uiMaxCUHeight
, UI¡ 
uiMaxDïth
 );

74 c⁄° 
UI¡
 
g_auiPUOff£t
[
NUMBER_OF_PART_SIZES
];

76 c⁄° 
I¡
 
g_qu™tSˇÀs
[
SCALING_LIST_REM_NUM
];

77 c⁄° 
I¡
 
g_övQu™tSˇÀs
[
SCALING_LIST_REM_NUM
];

79 #i‡
RExt__HIGH_PRECISION_FORWARD_TRANSFORM


80 c⁄° 
I¡
 
	gg_å™sf‹mM©rixShi·
[
TRANSFORM_NUMBER_OF_DIRECTIONS
] = { 14, 6 };

82 c⁄° 
I¡
 
	gg_å™sf‹mM©rixShi·
[
TRANSFORM_NUMBER_OF_DIRECTIONS
] = { 6, 6 };

85 c⁄° 
TM©rixC€ff
 
g_aiT4
 [
TRANSFORM_NUMBER_OF_DIRECTIONS
][4][4];

86 c⁄° 
TM©rixC€ff
 
g_aiT8
 [
TRANSFORM_NUMBER_OF_DIRECTIONS
][8][8];

87 c⁄° 
TM©rixC€ff
 
g_aiT16
[
TRANSFORM_NUMBER_OF_DIRECTIONS
][16][16];

88 c⁄° 
TM©rixC€ff
 
g_aiT32
[
TRANSFORM_NUMBER_OF_DIRECTIONS
][32][32];

94 c⁄° 
I¡
 
	gchromaQPM≠pögTabÀSize
 = 58;

96 c⁄° 
UCh¨
 
g_aucChromaSˇÀ
[
NUM_CHROMA_FORMAT
][
chromaQPM≠pögTabÀSize
];

103 c⁄° 
UI¡
 
˘xIndM≠4x4
[4*4];

105 c⁄° 
UI¡
 
g_uiGroupIdx
[ 
MAX_TU_SIZE
 ];

106 c⁄° 
UI¡
 
g_uiMöInGroup
[ 
LAST_SIGNIFICANT_GROUPS
 ];

112 c⁄° 
UCh¨
 
g_aucI¡øModeNumFa°_U£MPM
[
MAX_CU_DEPTH
];

113 c⁄° 
UCh¨
 
g_aucI¡øModeNumFa°_NŸU£MPM
[
MAX_CU_DEPTH
];

115 c⁄° 
UCh¨
 
g_chroma422I¡øAngÀM≠pögTabÀ
[
NUM_INTRA_MODE
];

121 c⁄° 
TM©rixC€ff
 
g_as_DST_MAT_4
 [
TRANSFORM_NUMBER_OF_DIRECTIONS
][4][4];

127 
SCh¨
 
g_aucC⁄vîtToBô
 [ 
MAX_CU_SIZE
+1 ];

130 #i‡
ENC_DEC_TRACE


131 
FILE
* 
g_hTø˚
;

132 
Boﬁ
 
g_bJu°DoIt
;

133 c⁄° 
Boﬁ
 
g_bEncDecTø˚E«bÀ
;

134 c⁄° 
Boﬁ
 
g_bEncDecTø˚DißbÀ
;

135 
Boﬁ
 
g_HLSTø˚E«bÀ
;

136 
UI¡64
 
g_nSymbﬁCou¡î
;

138 
	#COUNTER_START
 1

	)

139 
	#COUNTER_END
 0

140 

	)

141 
	#DTRACE_CABAC_F
(
x
Ëi‡––
g_nSymbﬁCou¡î
 >
COUNTER_START
 && g_nSymbﬁCou¡î <
COUNTER_END
 )|| 
g_bJu°DoIt
 ) 
	`Ârötf
–
g_hTø˚
, "%f", x );

	)

142 
	#DTRACE_CABAC_V
(
x
Ëi‡––
g_nSymbﬁCou¡î
 >
COUNTER_START
 && g_nSymbﬁCou¡î <
COUNTER_END
 )|| 
g_bJu°DoIt
 ) 
	`Ârötf
–
g_hTø˚
, "%d", x );

	)

143 
	#DTRACE_CABAC_VL
(
x
Ëi‡––
g_nSymbﬁCou¡î
 >
COUNTER_START
 && g_nSymbﬁCou¡î <
COUNTER_END
 )|| 
g_bJu°DoIt
 ) 
	`Ârötf
–
g_hTø˚
, "%Œd", x );

	)

144 
	#DTRACE_CABAC_T
(
x
Ëi‡––
g_nSymbﬁCou¡î
 >
COUNTER_START
 && g_nSymbﬁCou¡î <
COUNTER_END
 )|| 
g_bJu°DoIt
 ) 
	`Ârötf
–
g_hTø˚
, "%s", x );

	)

145 
	#DTRACE_CABAC_X
(
x
Ëi‡––
g_nSymbﬁCou¡î
 >
COUNTER_START
 && g_nSymbﬁCou¡î <
COUNTER_END
 )|| 
g_bJu°DoIt
 ) 
	`Ârötf
–
g_hTø˚
, "%x", x );

	)

146 
	#DTRACE_CABAC_R
–
x
,
y
 ) i‡––
g_nSymbﬁCou¡î
 >
COUNTER_START
 && g_nSymbﬁCou¡î <
COUNTER_END
 )|| 
g_bJu°DoIt
 ) 
	`Ârötf
–
g_hTø˚
, x, y );

	)

147 
	#DTRACE_CABAC_N
 i‡––
g_nSymbﬁCou¡î
 >
COUNTER_START
 && g_nSymbﬁCou¡î <
COUNTER_END
 )|| 
g_bJu°DoIt
 ) 
	`Ârötf
–
g_hTø˚
, "\n" );

	)

151 
	#DTRACE_CABAC_F
(
x
)

	)

152 
	#DTRACE_CABAC_V
(
x
)

	)

153 
	#DTRACE_CABAC_VL
(
x
)

	)

154 
	#DTRACE_CABAC_T
(
x
)

	)

155 
	#DTRACE_CABAC_X
(
x
)

	)

156 
	#DTRACE_CABAC_R
–
x
,
y
 )

	)

157 
	#DTRACE_CABAC_N


	)

161 c⁄° 
TCh¨
* 
«lUnôTy≥ToSåög
(
NÆUnôTy≥
 
ty≥
);

163 c⁄° 
TCh¨
 *
M©rixTy≥
[
SCALING_LIST_SIZE_NUM
][
SCALING_LIST_NUM
];

164 c⁄° 
TCh¨
 *
M©rixTy≥_DC
[
SCALING_LIST_SIZE_NUM
][
SCALING_LIST_NUM
];

166 c⁄° 
I¡
 
g_qu™tTSDeÁu…4x4
[4*4];

167 c⁄° 
I¡
 
g_qu™tI¡øDeÁu…8x8
[8*8];

168 c⁄° 
I¡
 
g_qu™tI¡îDeÁu…8x8
[8*8];

170 c⁄° 
UI¡
 
g_sˇlögLi°Size
 [
SCALING_LIST_SIZE_NUM
];

171 c⁄° 
UI¡
 
g_sˇlögLi°SizeX
[
SCALING_LIST_SIZE_NUM
];

	@TComSampleAdaptiveOffset.cpp

38 
	~"TComSam∂eAd≠tiveOff£t.h
"

39 
	~<°rög.h
>

40 
	~<°dlib.h
>

41 
	~<°dio.h
>

42 
	~<m©h.h
>

47 
	gSAOOff£t
::
	$SAOOff£t
()

49 
	`ª£t
();

50 
	}
}

52 
	gSAOOff£t
::~
	$SAOOff£t
()

55 
	}
}

57 
Void
 
SAOOff£t
::
	$ª£t
()

59 
modeIdc
 = 
SAO_MODE_OFF
;

60 
ty≥Idc
 = -1;

61 
ty≥AuxInfo
 = -1;

62 ::
	`mem£t
(
off£t
, 0, (
I¡
)* 
MAX_NUM_SAO_CLASSES
);

63 
	}
}

65 c⁄° 
	gSAOOff£t
& SAOOff£t::
›î©‹
(c⁄° 
SAOOff£t
& 
§c
)

67 
modeIdc
 = 
§c
.modeIdc;

68 
	gty≥Idc
 = 
§c
.
ty≥Idc
;

69 
	gty≥AuxInfo
 = 
§c
.
ty≥AuxInfo
;

70 ::
mem˝y
(
off£t
, 
§c
.off£t, (
I¡
)* 
MAX_NUM_SAO_CLASSES
);

72  *
	gthis
;

76 
	gSAOBlkP¨am
::
	$SAOBlkP¨am
()

78 
	`ª£t
();

79 
	}
}

81 
	gSAOBlkP¨am
::~
	$SAOBlkP¨am
()

84 
	}
}

86 
Void
 
SAOBlkP¨am
::
	$ª£t
()

88 
I¡
 
compIdx
 = 0; compIdx < 
MAX_NUM_COMPONENT
; compIdx++)

90 
off£tP¨am
[
compIdx
].
	`ª£t
();

92 
	}
}

94 c⁄° 
	gSAOBlkP¨am
& SAOBlkP¨am::
›î©‹
(c⁄° 
SAOBlkP¨am
& 
§c
)

96 
I¡
 
compIdx
 = 0; 
	gcompIdx
 < 
	gMAX_NUM_COMPONENT
; compIdx++)

98 
	goff£tP¨am
[
compIdx
] = 
§c
.
off£tP¨am
[compIdx];

100  *
	gthis
;

104 
	gTComSam∂eAd≠tiveOff£t
::
	$TComSam∂eAd≠tiveOff£t
()

106 
m_ãmpPicYuv
 = 
NULL
;

107 
m_löeBufWidth
 = 0;

108 
m_signLöeBuf1
 = 
NULL
;

109 
m_signLöeBuf2
 = 
NULL
;

110 
	}
}

113 
	gTComSam∂eAd≠tiveOff£t
::~
	$TComSam∂eAd≠tiveOff£t
()

115 
	`de°roy
();

117 i‡(
m_signLöeBuf1
)

119 
dñëe
[] 
m_signLöeBuf1
;

120 
m_signLöeBuf1
 = 
NULL
;

122 i‡(
m_signLöeBuf2
)

124 
dñëe
[] 
m_signLöeBuf2
;

125 
m_signLöeBuf2
 = 
NULL
;

127 
	}
}

129 
Void
 
	gTComSam∂eAd≠tiveOff£t
::
	$¸óã
–
I¡
 
picWidth
, I¡ 
picHeight
, 
ChromaF‹m©
 
f‹m©
, 
UI¡
 
maxCUWidth
, UI¡ 
maxCUHeight
, UI¡ 
maxCUDïth
, UI¡ 
lumaBôShi·
, UI¡ 
chromaBôShi·
 )

131 
	`de°roy
();

133 
m_picWidth
 = 
picWidth
;

134 
m_picHeight
 = 
picHeight
;

135 
m_chromaF‹m©IDC
 = 
f‹m©
;

136 
m_maxCUWidth
 = 
maxCUWidth
;

137 
m_maxCUHeight
 = 
maxCUHeight
;

139 
m_numCTUInWidth
 = (
m_picWidth
/
m_maxCUWidth
) + ((m_picWidth % m_maxCUWidth)?1:0);

140 
m_numCTUInHeight
 = (
m_picHeight
/
m_maxCUHeight
) + ((m_picHeight % m_maxCUHeight)?1:0);

141 
m_numCTUsPic
 = 
m_numCTUInHeight
*
m_numCTUInWidth
;

144 i‡–!
m_ãmpPicYuv
 )

146 
m_ãmpPicYuv
 = 
√w
 
TComPicYuv
;

147 
m_ãmpPicYuv
->
	`¸óã
–
m_picWidth
, 
m_picHeight
, 
m_chromaF‹m©IDC
, 
m_maxCUWidth
, 
m_maxCUHeight
, 
maxCUDïth
, 
åue
 );

151 
I¡
 
compIdx
 = 0; compIdx < 
MAX_NUM_COMPONENT
; compIdx++)

153 
m_off£tSãpLog2
 [
compIdx
] = 
	`isLuma
(
	`Comp⁄ítID
(compIdx))? 
lumaBôShi·
 : 
chromaBôShi·
;

155 
	}
}

157 
Void
 
	gTComSam∂eAd≠tiveOff£t
::
	$de°roy
()

159 i‡–
m_ãmpPicYuv
 )

161 
m_ãmpPicYuv
->
	`de°roy
();

162 
dñëe
 
m_ãmpPicYuv
;

163 
m_ãmpPicYuv
 = 
NULL
;

165 
	}
}

167 
Void
 
	gTComSam∂eAd≠tiveOff£t
::
	$övîtQu™tOff£ts
(
Comp⁄ítID
 
compIdx
, 
I¡
 
ty≥Idc
, I¡ 
ty≥AuxInfo
, I¡* 
d°Off£ts
, I¡* 
§cOff£ts
)

169 
I¡
 
codedOff£t
[
MAX_NUM_SAO_CLASSES
];

171 ::
	`mem˝y
(
codedOff£t
, 
§cOff£ts
, (
I¡
)*
MAX_NUM_SAO_CLASSES
);

172 ::
	`mem£t
(
d°Off£ts
, 0, (
I¡
)*
MAX_NUM_SAO_CLASSES
);

174 if(
ty≥Idc
 =
SAO_TYPE_START_BO
)

176 
I¡
 
i
=0; i< 4; i++)

178 
d°Off£ts
[(
ty≥AuxInfo
+ 
i
)%
NUM_SAO_BO_CLASSES
] = 
codedOff£t
[—y≥AuxInfo+ i)%NUM_SAO_BO_CLASSES]*(1<<
m_off£tSãpLog2
[
compIdx
]);

183 
I¡
 
i
=0; i< 
NUM_SAO_EO_CLASSES
; i++)

185 
d°Off£ts
[
i
] = 
codedOff£t
[i] *(1<<
m_off£tSãpLog2
[
compIdx
]);

187 
	`as£π
(
d°Off£ts
[
SAO_CLASS_EO_PLAIN
] == 0);

190 
	}
}

192 
I¡
 
	gTComSam∂eAd≠tiveOff£t
::
	$gëMîgeLi°
(
TComPic
* 
pic
, 
I¡
 
˘uRsAddr
, 
SAOBlkP¨am
* 
blkP¨ams
, SAOBlkP¨am* 
mîgeLi°
[
NUM_SAO_MERGE_TYPES
])

194 
I¡
 
˘uX
 = 
˘uRsAddr
 % 
m_numCTUInWidth
;

195 
I¡
 
˘uY
 = 
˘uRsAddr
 / 
m_numCTUInWidth
;

196 
I¡
 
mîgedCTUPos
;

197 
I¡
 
numVÆidMîgeC™did©es
 = 0;

199 
I¡
 
mîgeTy≥
=0; mîgeTy≥< 
NUM_SAO_MERGE_TYPES
; mergeType++)

201 
SAOBlkP¨am
* 
mîgeC™did©e
 = 
NULL
;

203 
mîgeTy≥
)

205 
SAO_MERGE_ABOVE
:

207 if(
˘uY
 > 0)

209 
mîgedCTUPos
 = 
˘uRsAddr
- 
m_numCTUInWidth
;

210 if–
pic
->
	`gëSAOMîgeAvaûabûôy
(
˘uRsAddr
, 
mîgedCTUPos
) )

212 
mîgeC™did©e
 = &(
blkP¨ams
[
mîgedCTUPos
]);

217 
SAO_MERGE_LEFT
:

219 if(
˘uX
 > 0)

221 
mîgedCTUPos
 = 
˘uRsAddr
- 1;

222 if–
pic
->
	`gëSAOMîgeAvaûabûôy
(
˘uRsAddr
, 
mîgedCTUPos
) )

224 
mîgeC™did©e
 = &(
blkP¨ams
[
mîgedCTUPos
]);

231 
	`¥ötf
("notá supported mergeÅype");

232 
	`as£π
(0);

233 
	`exô
(-1);

237 
mîgeLi°
[
mîgeTy≥
]=
mîgeC™did©e
;

238 i‡(
mîgeC™did©e
 !
NULL
)

240 
numVÆidMîgeC™did©es
++;

244  
numVÆidMîgeC™did©es
;

245 
	}
}

248 
Void
 
	gTComSam∂eAd≠tiveOff£t
::
	$ªc⁄°ru˘BlkSAOP¨am
(
SAOBlkP¨am
& 
ªcP¨am
, SAOBlkP¨am* 
mîgeLi°
[
NUM_SAO_MERGE_TYPES
])

250 c⁄° 
I¡
 
numbîOfComp⁄íts
 = 
	`gëNumbîVÆidComp⁄íts
(
m_chromaF‹m©IDC
);

251 
I¡
 
compIdx
 = 0; compIdx < 
numbîOfComp⁄íts
; compIdx++)

253 c⁄° 
Comp⁄ítID
 
comp⁄ít
 = 
	`Comp⁄ítID
(
compIdx
);

254 
SAOOff£t
& 
off£tP¨am
 = 
ªcP¨am
[
comp⁄ít
];

256 if(
off£tP¨am
.
modeIdc
 =
SAO_MODE_OFF
)

261 
off£tP¨am
.
modeIdc
)

263 
SAO_MODE_NEW
:

265 
	`övîtQu™tOff£ts
(
comp⁄ít
, 
off£tP¨am
.
ty≥Idc
, off£tP¨am.
ty≥AuxInfo
, off£tP¨am.
off£t
, offsetParam.offset);

268 
SAO_MODE_MERGE
:

270 
SAOBlkP¨am
* 
mîgeT¨gë
 = 
mîgeLi°
[
off£tP¨am
.
ty≥Idc
];

271 
	`as£π
(
mîgeT¨gë
 !
NULL
);

273 
off£tP¨am
 = (*
mîgeT¨gë
)[
comp⁄ít
];

278 
	`¥ötf
("Notá supported mode");

279 
	`as£π
(0);

280 
	`exô
(-1);

284 
	}
}

286 
Void
 
	gTComSam∂eAd≠tiveOff£t
::
	$ªc⁄°ru˘BlkSAOP¨ams
(
TComPic
* 
pic
, 
SAOBlkP¨am
* 
ßoBlkP¨ams
)

288 
I¡
 
compIdx
 = 0; compIdx < 
MAX_NUM_COMPONENT
; compIdx++)

290 
m_picSAOE«bÀd
[
compIdx
] = 
Ál£
;

293 c⁄° 
I¡
 
numbîOfComp⁄íts
 = 
	`gëNumbîVÆidComp⁄íts
(
m_chromaF‹m©IDC
);

295 
I¡
 
˘uRsAddr
=0; ctuRsAddr< 
m_numCTUsPic
; ctuRsAddr++)

297 
SAOBlkP¨am
* 
mîgeLi°
[
NUM_SAO_MERGE_TYPES
] = { 
NULL
 };

298 
	`gëMîgeLi°
(
pic
, 
˘uRsAddr
, 
ßoBlkP¨ams
, 
mîgeLi°
);

300 
	`ªc⁄°ru˘BlkSAOP¨am
(
ßoBlkP¨ams
[
˘uRsAddr
], 
mîgeLi°
);

302 
I¡
 
compIdx
 = 0; compIdx < 
numbîOfComp⁄íts
; compIdx++)

304 if(
ßoBlkP¨ams
[
˘uRsAddr
][
compIdx
].
modeIdc
 !
SAO_MODE_OFF
)

306 
m_picSAOE«bÀd
[
compIdx
] = 
åue
;

310 
	}
}

313 
Void
 
	gTComSam∂eAd≠tiveOff£t
::
	$off£tBlock
(c⁄° 
I¡
 
ch™√lBôDïth
, I¡ 
ty≥Idx
, I¡* 
off£t


314 , 
Pñ
* 
§cBlk
, Pñ* 
ªsBlk
, 
I¡
 
§cSåide
, I¡ 
ªsSåide
, I¡ 
width
, I¡ 
height


315 , 
Boﬁ
 
isLe·Avaû
, Boﬁ 
isRightAvaû
, Boﬁ 
isAboveAvaû
, Boﬁ 
isBñowAvaû
, Boﬁ 
isAboveLe·Avaû
, Boﬁ 
isAboveRightAvaû
, Boﬁ 
isBñowLe·Avaû
, Boﬁ 
isBñowRightAvaû
)

317 if(
m_löeBufWidth
 !
m_maxCUWidth
)

319 
m_löeBufWidth
 = 
m_maxCUWidth
;

321 i‡(
m_signLöeBuf1
)

323 
dñëe
[] 
m_signLöeBuf1
;

324 
m_signLöeBuf1
 = 
NULL
;

326 
m_signLöeBuf1
 = 
√w
 
SCh¨
[
m_löeBufWidth
+1];

328 i‡(
m_signLöeBuf2
)

330 
dñëe
[] 
m_signLöeBuf2
;

331 
m_signLöeBuf2
 = 
NULL
;

333 
m_signLöeBuf2
 = 
√w
 
SCh¨
[
m_löeBufWidth
+1];

336 c⁄° 
I¡
 
maxSam∂eVÆueIn˛
 = (1<< 
ch™√lBôDïth
 )-1;

338 
I¡
 
x
,
y
, 
°¨tX
, 
°¨tY
, 
ídX
, 
ídY
, 
edgeTy≥
;

339 
I¡
 
fú°LöeSèπX
, 
fú°LöeEndX
, 
œ°LöeSèπX
, 
œ°LöeEndX
;

340 
SCh¨
 
signLe·
, 
signRight
, 
signDown
;

342 
Pñ
* 
§cLöe
 = 
§cBlk
;

343 
Pñ
* 
ªsLöe
 = 
ªsBlk
;

345 
ty≥Idx
)

347 
SAO_TYPE_EO_0
:

349 
off£t
 += 2;

350 
°¨tX
 = 
isLe·Avaû
 ? 0 : 1;

351 
ídX
 = 
isRightAvaû
 ? 
width
 : (width -1);

352 
y
=0; y< 
height
; y++)

354 
signLe·
 = (
SCh¨
)
	`sgn
(
§cLöe
[
°¨tX
] - srcLine[startX-1]);

355 
x
=
°¨tX
; x< 
ídX
; x++)

357 
signRight
 = (
SCh¨
)
	`sgn
(
§cLöe
[
x
] - srcLine[x+1]);

358 
edgeTy≥
 = 
signRight
 + 
signLe·
;

359 
signLe·
 = -
signRight
;

361 
ªsLöe
[
x
] = 
Clù3
<
I¡
>(0, 
maxSam∂eVÆueIn˛
, 
§cLöe
[x] + 
off£t
[
edgeTy≥
]);

363 
§cLöe
 +
§cSåide
;

364 
ªsLöe
 +
ªsSåide
;

369 
SAO_TYPE_EO_90
:

371 
off£t
 += 2;

372 
SCh¨
 *
signUpLöe
 = 
m_signLöeBuf1
;

374 
°¨tY
 = 
isAboveAvaû
 ? 0 : 1;

375 
ídY
 = 
isBñowAvaû
 ? 
height
 : height-1;

376 i‡(!
isAboveAvaû
)

378 
§cLöe
 +
§cSåide
;

379 
ªsLöe
 +
ªsSåide
;

382 
Pñ
* 
§cLöeAbove

§cLöe
- 
§cSåide
;

383 
x
=0; x< 
width
; x++)

385 
signUpLöe
[
x
] = (
SCh¨
)
	`sgn
(
§cLöe
[x] - 
§cLöeAbove
[x]);

388 
Pñ
* 
§cLöeBñow
;

389 
y
=
°¨tY
; y<
ídY
; y++)

391 
§cLöeBñow

§cLöe
+ 
§cSåide
;

393 
x
=0; x< 
width
; x++)

395 
signDown
 = (
SCh¨
)
	`sgn
(
§cLöe
[
x
] - 
§cLöeBñow
[x]);

396 
edgeTy≥
 = 
signDown
 + 
signUpLöe
[
x
];

397 
signUpLöe
[
x
]-
signDown
;

399 
ªsLöe
[
x
] = 
Clù3
<
I¡
>(0, 
maxSam∂eVÆueIn˛
, 
§cLöe
[x] + 
off£t
[
edgeTy≥
]);

401 
§cLöe
 +
§cSåide
;

402 
ªsLöe
 +
ªsSåide
;

407 
SAO_TYPE_EO_135
:

409 
off£t
 += 2;

410 
SCh¨
 *
signUpLöe
, *
signDownLöe
, *
signTmpLöe
;

412 
signUpLöe
 = 
m_signLöeBuf1
;

413 
signDownLöe

m_signLöeBuf2
;

415 
°¨tX
 = 
isLe·Avaû
 ? 0 : 1 ;

416 
ídX
 = 
isRightAvaû
 ? 
width
 : (width-1);

419 
Pñ
* 
§cLöeBñow

§cLöe
+ 
§cSåide
;

420 
x
=
°¨tX
; x< 
ídX
+1; x++)

422 
signUpLöe
[
x
] = (
SCh¨
)
	`sgn
(
§cLöeBñow
[x] - 
§cLöe
[x- 1]);

426 
Pñ
* 
§cLöeAbove

§cLöe
- 
§cSåide
;

427 
fú°LöeSèπX
 = 
isAboveLe·Avaû
 ? 0 : 1;

428 
fú°LöeEndX
 = 
isAboveAvaû
? 
ídX
: 1;

429 
x

fú°LöeSèπX
; x< 
fú°LöeEndX
; x++)

431 
edgeTy≥
 = 
	`sgn
(
§cLöe
[
x
] - 
§cLöeAbove
[x- 1]Ë- 
signUpLöe
[x+1];

433 
ªsLöe
[
x
] = 
Clù3
<
I¡
>(0, 
maxSam∂eVÆueIn˛
, 
§cLöe
[x] + 
off£t
[
edgeTy≥
]);

435 
§cLöe
 +
§cSåide
;

436 
ªsLöe
 +
ªsSåide
;

440 
y
1; y< 
height
-1; y++)

442 
§cLöeBñow

§cLöe
+ 
§cSåide
;

444 
x
=
°¨tX
; x<
ídX
; x++)

446 
signDown
 = (
SCh¨
)
	`sgn
(
§cLöe
[
x
] - 
§cLöeBñow
[x+ 1]);

447 
edgeTy≥
 = 
signDown
 + 
signUpLöe
[
x
];

448 
ªsLöe
[
x
] = 
Clù3
<
I¡
>(0, 
maxSam∂eVÆueIn˛
, 
§cLöe
[x] + 
off£t
[
edgeTy≥
]);

450 
signDownLöe
[
x
+1] = -
signDown
;

452 
signDownLöe
[
°¨tX
] = (
SCh¨
)
	`sgn
(
§cLöeBñow
[°¨tX] - 
§cLöe
[startX-1]);

454 
signTmpLöe
 = 
signUpLöe
;

455 
signUpLöe
 = 
signDownLöe
;

456 
signDownLöe
 = 
signTmpLöe
;

458 
§cLöe
 +
§cSåide
;

459 
ªsLöe
 +
ªsSåide
;

463 
§cLöeBñow

§cLöe
+ 
§cSåide
;

464 
œ°LöeSèπX
 = 
isBñowAvaû
 ? 
°¨tX
 : (
width
 -1);

465 
œ°LöeEndX
 = 
isBñowRightAvaû
 ? 
width
 : (width -1);

466 
x

œ°LöeSèπX
; x< 
œ°LöeEndX
; x++)

468 
edgeTy≥
 = 
	`sgn
(
§cLöe
[
x
] - 
§cLöeBñow
[x+ 1]Ë+ 
signUpLöe
[x];

469 
ªsLöe
[
x
] = 
Clù3
<
I¡
>(0, 
maxSam∂eVÆueIn˛
, 
§cLöe
[x] + 
off£t
[
edgeTy≥
]);

474 
SAO_TYPE_EO_45
:

476 
off£t
 += 2;

477 
SCh¨
 *
signUpLöe
 = 
m_signLöeBuf1
+1;

479 
°¨tX
 = 
isLe·Avaû
 ? 0 : 1;

480 
ídX
 = 
isRightAvaû
 ? 
width
 : (width -1);

483 
Pñ
* 
§cLöeBñow

§cLöe
+ 
§cSåide
;

484 
x
=
°¨tX
-1; x< 
ídX
; x++)

486 
signUpLöe
[
x
] = (
SCh¨
)
	`sgn
(
§cLöeBñow
[x] - 
§cLöe
[x+1]);

491 
Pñ
* 
§cLöeAbove

§cLöe
- 
§cSåide
;

492 
fú°LöeSèπX
 = 
isAboveAvaû
 ? 
°¨tX
 : (
width
 -1 );

493 
fú°LöeEndX
 = 
isAboveRightAvaû
 ? 
width
 : (width-1);

494 
x

fú°LöeSèπX
; x< 
fú°LöeEndX
; x++)

496 
edgeTy≥
 = 
	`sgn
(
§cLöe
[
x
] - 
§cLöeAbove
[x+1]Ë-
signUpLöe
[x-1];

497 
ªsLöe
[
x
] = 
Clù3
<
I¡
>(0, 
maxSam∂eVÆueIn˛
, 
§cLöe
[x] + 
off£t
[
edgeTy≥
]);

499 
§cLöe
 +
§cSåide
;

500 
ªsLöe
 +
ªsSåide
;

503 
y
1; y< 
height
-1; y++)

505 
§cLöeBñow

§cLöe
+ 
§cSåide
;

507 
x

°¨tX
; x< 
ídX
; x++)

509 
signDown
 = (
SCh¨
)
	`sgn
(
§cLöe
[
x
] - 
§cLöeBñow
[x-1]);

510 
edgeTy≥
 = 
signDown
 + 
signUpLöe
[
x
];

511 
ªsLöe
[
x
] = 
Clù3
<
I¡
>(0, 
maxSam∂eVÆueIn˛
, 
§cLöe
[x] + 
off£t
[
edgeTy≥
]);

512 
signUpLöe
[
x
-1] = -
signDown
;

514 
signUpLöe
[
ídX
-1] = (
SCh¨
)
	`sgn
(
§cLöeBñow
[ídX-1] - 
§cLöe
[endX]);

515 
§cLöe
 +
§cSåide
;

516 
ªsLöe
 +
ªsSåide
;

520 
§cLöeBñow

§cLöe
+ 
§cSåide
;

521 
œ°LöeSèπX
 = 
isBñowLe·Avaû
 ? 0 : 1;

522 
œ°LöeEndX
 = 
isBñowAvaû
 ? 
ídX
 : 1;

523 
x

œ°LöeSèπX
; x< 
œ°LöeEndX
; x++)

525 
edgeTy≥
 = 
	`sgn
(
§cLöe
[
x
] - 
§cLöeBñow
[x-1]Ë+ 
signUpLöe
[x];

526 
ªsLöe
[
x
] = 
Clù3
<
I¡
>(0, 
maxSam∂eVÆueIn˛
, 
§cLöe
[x] + 
off£t
[
edgeTy≥
]);

531 
SAO_TYPE_BO
:

533 c⁄° 
I¡
 
shi·Bôs
 = 
ch™√lBôDïth
 - 
NUM_SAO_BO_CLASSES_LOG2
;

534 
y
=0; y< 
height
; y++)

536 
x
=0; x< 
width
; x++)

538 
ªsLöe
[
x
] = 
Clù3
<
I¡
>(0, 
maxSam∂eVÆueIn˛
, 
§cLöe
[x] + 
off£t
[§cLöe[x] >> 
shi·Bôs
] );

540 
§cLöe
 +
§cSåide
;

541 
ªsLöe
 +
ªsSåide
;

547 
	`¥ötf
("Notá supported SAOÅypes\n");

548 
	`as£π
(0);

549 
	`exô
(-1);

552 
	}
}

554 
Void
 
	gTComSam∂eAd≠tiveOff£t
::
	$off£tCTU
(
I¡
 
˘uRsAddr
, 
TComPicYuv
* 
§cYuv
, TComPicYuv* 
ªsYuv
, 
SAOBlkP¨am
& 
ßoblkP¨am
, 
TComPic
* 
pPic
)

556 
Boﬁ
 
isLe·Avaû
,
isRightAvaû
,
isAboveAvaû
,
isBñowAvaû
,
isAboveLe·Avaû
,
isAboveRightAvaû
,
isBñowLe·Avaû
,
isBñowRightAvaû
;

558 c⁄° 
I¡
 
numbîOfComp⁄íts
 = 
	`gëNumbîVÆidComp⁄íts
(
m_chromaF‹m©IDC
);

559 
Boﬁ
 
bAŒOff
=
åue
;

560 
I¡
 
compIdx
 = 0; compIdx < 
numbîOfComp⁄íts
; compIdx++)

562 i‡(
ßoblkP¨am
[
compIdx
].
modeIdc
 !
SAO_MODE_OFF
)

564 
bAŒOff
=
Ál£
;

567 i‡(
bAŒOff
)

573 
pPic
->
	`gëPicSym
()->
	`dîiveLo›FûãrBound¨yAvaûibûôy
(
˘uRsAddr
, 
isLe·Avaû
,
isRightAvaû
,
isAboveAvaû
,
isBñowAvaû
,
isAboveLe·Avaû
,
isAboveRightAvaû
,
isBñowLe·Avaû
,
isBñowRightAvaû
);

575 
I¡
 
yPos
 = (
˘uRsAddr
 / 
m_numCTUInWidth
)*
m_maxCUHeight
;

576 
I¡
 
xPos
 = (
˘uRsAddr
 % 
m_numCTUInWidth
)*
m_maxCUWidth
;

577 
I¡
 
height
 = (
yPos
 + 
m_maxCUHeight
 > 
m_picHeight
)?(m_picHeight- yPos):m_maxCUHeight;

578 
I¡
 
width
 = (
xPos
 + 
m_maxCUWidth
 > 
m_picWidth
 )?(m_picWidth - xPos):m_maxCUWidth;

580 
I¡
 
compIdx
 = 0; compIdx < 
numbîOfComp⁄íts
; compIdx++)

582 c⁄° 
Comp⁄ítID
 
comp⁄ít
 = 
	`Comp⁄ítID
(
compIdx
);

583 
SAOOff£t
& 
˘bOff£t
 = 
ßoblkP¨am
[
compIdx
];

585 if(
˘bOff£t
.
modeIdc
 !
SAO_MODE_OFF
)

587 c⁄° 
UI¡
 
comp⁄ítSˇÀX
 = 
	`gëComp⁄ítSˇÀX
(
comp⁄ít
, 
pPic
->
	`gëChromaF‹m©
());

588 c⁄° 
UI¡
 
comp⁄ítSˇÀY
 = 
	`gëComp⁄ítSˇÀY
(
comp⁄ít
, 
pPic
->
	`gëChromaF‹m©
());

590 
I¡
 
blkWidth
 = (
width
 >> 
comp⁄ítSˇÀX
);

591 
I¡
 
blkHeight
 = (
height
 >> 
comp⁄ítSˇÀY
);

592 
I¡
 
blkXPos
 = (
xPos
 >> 
comp⁄ítSˇÀX
);

593 
I¡
 
blkYPos
 = (
yPos
 >> 
comp⁄ítSˇÀY
);

595 
I¡
 
§cSåide
 = 
§cYuv
->
	`gëSåide
(
comp⁄ít
);

596 
Pñ
* 
§cBlk
 = 
§cYuv
->
	`gëAddr
(
comp⁄ít
Ë+ 
blkYPos
*
§cSåide
 + 
blkXPos
;

598 
I¡
 
ªsSåide
 = 
ªsYuv
->
	`gëSåide
(
comp⁄ít
);

599 
Pñ
* 
ªsBlk
 = 
ªsYuv
->
	`gëAddr
(
comp⁄ít
Ë+ 
blkYPos
*
ªsSåide
 + 
blkXPos
;

601 
	`off£tBlock
–
pPic
->
	`gëPicSym
()->
	`gëSPS
().
	`gëBôDïth
(
	`toCh™√lTy≥
(
comp⁄ít
)), 
˘bOff£t
.
ty≥Idc
, ctbOff£t.
off£t


602 , 
§cBlk
, 
ªsBlk
, 
§cSåide
, 
ªsSåide
, 
blkWidth
, 
blkHeight


603 , 
isLe·Avaû
, 
isRightAvaû


604 , 
isAboveAvaû
, 
isBñowAvaû


605 , 
isAboveLe·Avaû
, 
isAboveRightAvaû


606 , 
isBñowLe·Avaû
, 
isBñowRightAvaû


611 
	}
}

614 
Void
 
	gTComSam∂eAd≠tiveOff£t
::
	$SAOPro˚ss
(
TComPic
* 
pDecPic
)

616 c⁄° 
I¡
 
numbîOfComp⁄íts
 = 
	`gëNumbîVÆidComp⁄íts
(
m_chromaF‹m©IDC
);

617 
Boﬁ
 
bAŒDißbÀd
=
åue
;

618 
I¡
 
compIdx
 = 0; compIdx < 
numbîOfComp⁄íts
; compIdx++)

620 i‡(
m_picSAOE«bÀd
[
compIdx
])

622 
bAŒDißbÀd
=
Ál£
;

625 i‡(
bAŒDißbÀd
)

630 
TComPicYuv
* 
ªsYuv
 = 
pDecPic
->
	`gëPicYuvRec
();

631 
TComPicYuv
* 
§cYuv
 = 
m_ãmpPicYuv
;

632 
ªsYuv
->
	`c›yToPic
(
§cYuv
);

633 
I¡
 
˘uRsAddr
0; ctuRsAdd∏< 
m_numCTUsPic
; ctuRsAddr++)

635 
	`off£tCTU
(
˘uRsAddr
, 
§cYuv
, 
ªsYuv
, (
pDecPic
->
	`gëPicSym
()->
	`gëSAOBlkP¨am
())[ctuRsAddr],ÖDecPic);

637 
	}
}

645 
Void
 
	gTComSam∂eAd≠tiveOff£t
::
	$PCMLFDißbÀPro˚ss
 (
TComPic
* 
pcPic
)

647 
	`xPCMRe°‹©i⁄
(
pcPic
);

648 
	}
}

653 
Void
 
	gTComSam∂eAd≠tiveOff£t
::
	$xPCMRe°‹©i⁄
(
TComPic
* 
pcPic
)

655 
Boﬁ
 
bPCMFûãr
 = (
pcPic
->
	`gëSli˚
(0)->
	`gëSPS
()->
	`gëU£PCM
(Ë&&ÖcPic->gëSli˚(0)->gëSPS()->
	`gëPCMFûãrDißbÀFœg
())? 
åue
 : 
Ál£
;

657 if(
bPCMFûãr
 || 
pcPic
->
	`gëSli˚
(0)->
	`gëPPS
()->
	`gëTønsqu™tBy∑ssE«bÀdFœg
())

659  
UI¡
 
˘uRsAddr
 = 0; ctuRsAdd∏< 
pcPic
->
	`gëNumbîOfCtusInFøme
() ; ctuRsAddr++ )

661 
TComD©aCU
* 
pcCU
 = 
pcPic
->
	`gëCtu
(
˘uRsAddr
);

663 
	`xPCMCURe°‹©i⁄
(
pcCU
, 0, 0);

666 
	}
}

673 
Void
 
	gTComSam∂eAd≠tiveOff£t
::
	$xPCMCURe°‹©i⁄
 ( 
TComD©aCU
* 
pcCU
, 
UI¡
 
uiAbsZ‹dîIdx
, UI¡ 
uiDïth
 )

675 
TComPic
* 
pcPic
 = 
pcCU
->
	`gëPic
();

676 
UI¡
 
uiCurNumP¨ts
 = 
pcPic
->
	`gëNumP¨tôi⁄sInCtu
(Ë>> (
uiDïth
<<1);

677 
UI¡
 
uiQNumP¨ts
 = 
uiCurNumP¨ts
>>2;

680 if–
pcCU
->
	`gëDïth
(
uiAbsZ‹dîIdx
Ë> 
uiDïth
 )

682  
UI¡
 
uiP¨tIdx
 = 0; uiP¨tIdx < 4; uiP¨tIdx++, 
uiAbsZ‹dîIdx
+=
uiQNumP¨ts
 )

684 
UI¡
 
uiLPñX
 = 
pcCU
->
	`gëCUPñX
(Ë+ 
g_auiRa°îToPñX
[ 
g_auiZsˇnToRa°î
[
uiAbsZ‹dîIdx
] ];

685 
UI¡
 
uiTPñY
 = 
pcCU
->
	`gëCUPñY
(Ë+ 
g_auiRa°îToPñY
[ 
g_auiZsˇnToRa°î
[
uiAbsZ‹dîIdx
] ];

686 if––
uiLPñX
 < 
pcCU
->
	`gëSli˚
()->
	`gëSPS
()->
	`gëPicWidthInLumaSam∂es
(ËË&& ( 
uiTPñY
 <ÖcCU->gëSli˚()->gëSPS()->
	`gëPicHeightInLumaSam∂es
() ) )

688 
	`xPCMCURe°‹©i⁄
–
pcCU
, 
uiAbsZ‹dîIdx
, 
uiDïth
+1 );

695 i‡((
pcCU
->
	`gëIPCMFœg
(
uiAbsZ‹dîIdx
)&& 
pcPic
->
	`gëSli˚
(0)->
	`gëSPS
()->
	`gëPCMFûãrDißbÀFœg
()Ë||ÖcCU->
	`isLos¶essCoded
( uiAbsZorderIdx))

697 c⁄° 
UI¡
 
numComp⁄íts
=
pcPic
->
	`gëNumbîVÆidComp⁄íts
();

698 
UI¡
 
comp
=0; comp<
numComp⁄íts
; comp++)

700 
	`xPCMSam∂eRe°‹©i⁄
 (
pcCU
, 
uiAbsZ‹dîIdx
, 
uiDïth
, 
	`Comp⁄ítID
(
comp
));

703 
	}
}

711 
Void
 
	gTComSam∂eAd≠tiveOff£t
::
	$xPCMSam∂eRe°‹©i⁄
 (
TComD©aCU
* 
pcCU
, 
UI¡
 
uiAbsZ‹dîIdx
, UI¡ 
uiDïth
, c⁄° 
Comp⁄ítID
 
compID
)

713 
TComPicYuv
* 
pcPicYuvRec
 = 
pcCU
->
	`gëPic
()->
	`gëPicYuvRec
();

714 
UI¡
 
uiPcmLe·Shi·Bô
;

715 c⁄° 
UI¡
 
uiMöC€ffSize
 = 
pcCU
->
	`gëPic
()->
	`gëMöCUWidth
()*pcCU->gëPic()->
	`gëMöCUHeight
();

716 c⁄° 
UI¡
 
csx
=
pcPicYuvRec
->
	`gëComp⁄ítSˇÀX
(
compID
);

717 c⁄° 
UI¡
 
csy
=
pcPicYuvRec
->
	`gëComp⁄ítSˇÀY
(
compID
);

718 c⁄° 
UI¡
 
uiOff£t
 = (
uiMöC€ffSize
*
uiAbsZ‹dîIdx
)>>(
csx
+
csy
);

720 
Pñ
 *
piSrc
 = 
pcPicYuvRec
->
	`gëAddr
(
compID
, 
pcCU
->
	`gëCtuRsAddr
(), 
uiAbsZ‹dîIdx
);

721 c⁄° 
Pñ
 *
piPcm
 = 
pcCU
->
	`gëPCMSam∂e
(
compID
Ë+ 
uiOff£t
;

722 c⁄° 
UI¡
 
uiSåide
 = 
pcPicYuvRec
->
	`gëSåide
(
compID
);

723 c⁄° 
TComSPS
 &
•s
 = *(
pcCU
->
	`gëSli˚
()->
	`gëSPS
());

724 c⁄° 
UI¡
 
uiWidth
 = ((
•s
.
	`gëMaxCUWidth
(Ë>> 
uiDïth
Ë>> 
csx
);

725 c⁄° 
UI¡
 
uiHeight
 = ((
•s
.
	`gëMaxCUHeight
(Ë>> 
uiDïth
Ë>> 
csy
);

727 i‡–
pcCU
->
	`isLos¶essCoded
(
uiAbsZ‹dîIdx
Ë&& !pcCU->
	`gëIPCMFœg
(uiAbsZorderIdx) )

729 
uiPcmLe·Shi·Bô
 = 0;

733 
uiPcmLe·Shi·Bô
 = 
•s
.
	`gëBôDïth
(
	`toCh™√lTy≥
(
compID
)Ë- sps.
	`gëPCMBôDïth
(toChannelType(compID));

736 
UI¡
 
uiY
 = 0; uiY < 
uiHeight
; uiY++ )

738 
UI¡
 
uiX
 = 0; uiX < 
uiWidth
; uiX++ )

740 
piSrc
[
uiX
] = (
piPcm
[uiX] << 
uiPcmLe·Shi·Bô
);

742 
piPcm
 +
uiWidth
;

743 
piSrc
 +
uiSåide
;

745 
	}
}

	@TComSampleAdaptiveOffset.h

38 #i‚de‡
__TCOMSAMPLEADAPTIVEOFFSET__


39 
	#__TCOMSAMPLEADAPTIVEOFFSET__


	)

41 
	~"Comm⁄Def.h
"

42 
	~"TComPic.h
"

52 
	#MAX_SAO_TRUNCATED_BITDEPTH
 10

	)

58 
	gãm∂©e
 <
ty≥«me
 
	gT
> 
I¡
 
	$sgn
(
T
 
vÆ
)

60  (
	`T
(0Ë< 
vÆ
) - (val < T(0));

61 
	}
}

63 ˛as†
	cTComSam∂eAd≠tiveOff£t


65 
	mpublic
:

66 
TComSam∂eAd≠tiveOff£t
();

67 
	mvútuÆ
 ~
TComSam∂eAd≠tiveOff£t
();

68 
Void
 
SAOPro˚ss
(
TComPic
* 
pDecPic
);

69 
Void
 
¸óã
–
I¡
 
picWidth
, I¡ 
picHeight
, 
ChromaF‹m©
 
f‹m©
, 
UI¡
 
maxCUWidth
, UI¡ 
maxCUHeight
, UI¡ 
maxCUDïth
, UI¡ 
lumaBôShi·
, UI¡ 
chromaBôShi·
 );

70 
Void
 
de°roy
();

71 
Void
 
ªc⁄°ru˘BlkSAOP¨ams
(
TComPic
* 
pic
, 
SAOBlkP¨am
* 
ßoBlkP¨ams
);

72 
Void
 
PCMLFDißbÀPro˚ss
 (
TComPic
* 
pcPic
);

73 
I¡
 
	$gëMaxOff£tQVÆ
(c⁄° 
I¡
 
ch™√lBôDïth
Ë{  (1<<(
°d
::
mö
<I¡>(ch™√lBôDïth,
MAX_SAO_TRUNCATED_BITDEPTH
)-5))-1; }

75 
¥Ÿe˘ed
:

76 
Void
 
	`off£tBlock
(c⁄° 
I¡
 
ch™√lBôDïth
, I¡ 
ty≥Idx
, I¡* 
off£t
, 
Pñ
* 
§cBlk
, Pñ* 
ªsBlk
, I¡ 
§cSåide
, I¡ 
ªsSåide
, I¡ 
width
, I¡ 
height


77 , 
Boﬁ
 
isLe·Avaû
, Boﬁ 
isRightAvaû
, Boﬁ 
isAboveAvaû
, Boﬁ 
isBñowAvaû
, Boﬁ 
isAboveLe·Avaû
, Boﬁ 
isAboveRightAvaû
, Boﬁ 
isBñowLe·Avaû
, Boﬁ 
isBñowRightAvaû
);

78 
Void
 
	`övîtQu™tOff£ts
(
Comp⁄ítID
 
compIdx
, 
I¡
 
ty≥Idc
, I¡ 
ty≥AuxInfo
, I¡* 
d°Off£ts
, I¡* 
§cOff£ts
);

79 
Void
 
	`ªc⁄°ru˘BlkSAOP¨am
(
SAOBlkP¨am
& 
ªcP¨am
, SAOBlkP¨am* 
mîgeLi°
[
NUM_SAO_MERGE_TYPES
]);

80 
I¡
 
	`gëMîgeLi°
(
TComPic
* 
pic
, I¡ 
˘uRsAddr
, 
SAOBlkP¨am
* 
blkP¨ams
, SAOBlkP¨am* 
mîgeLi°
[
NUM_SAO_MERGE_TYPES
]);

81 
Void
 
	`off£tCTU
(
I¡
 
˘uRsAddr
, 
TComPicYuv
* 
§cYuv
, TComPicYuv* 
ªsYuv
, 
SAOBlkP¨am
& 
ßoblkP¨am
, 
TComPic
* 
pPic
);

82 
Void
 
	`xPCMRe°‹©i⁄
(
TComPic
* 
pcPic
);

83 
Void
 
	`xPCMCURe°‹©i⁄
 ( 
TComD©aCU
* 
pcCU
, 
UI¡
 
uiAbsZ‹dîIdx
, UI¡ 
uiDïth
 );

84 
Void
 
	`xPCMSam∂eRe°‹©i⁄
 (
TComD©aCU
* 
pcCU
, 
UI¡
 
uiAbsZ‹dîIdx
, UI¡ 
uiDïth
, c⁄° 
Comp⁄ítID
 
compID
);

85 
¥Ÿe˘ed
:

86 
UI¡
 
m_off£tSãpLog2
[
MAX_NUM_COMPONENT
];

87 
TComPicYuv
* 
m_ãmpPicYuv
;

88 
I¡
 
m_picWidth
;

89 
I¡
 
m_picHeight
;

90 
I¡
 
m_maxCUWidth
;

91 
I¡
 
m_maxCUHeight
;

92 
I¡
 
m_numCTUInWidth
;

93 
I¡
 
m_numCTUInHeight
;

94 
I¡
 
m_numCTUsPic
;

97 
I¡
 
m_löeBufWidth
;

98 
SCh¨
* 
m_signLöeBuf1
;

99 
SCh¨
* 
m_signLöeBuf2
;

100 
ChromaF‹m©
 
m_chromaF‹m©IDC
;

101 
¥iv©e
:

102 
Boﬁ
 
m_picSAOE«bÀd
[
MAX_NUM_COMPONENT
];

103 
	}
};

	@TComSlice.cpp

38 
	~"Comm⁄Def.h
"

39 
	~"TComSli˚.h
"

40 
	~"TComPic.h
"

41 
	~"TLibEncodî/TEncSbac.h
"

42 
	~"TLibDecodî/TDecSbac.h
"

48 
	gTComSli˚
::
	$TComSli˚
()

49 : 
	`m_iPPSId
 ( -1 )

50 , 
	`m_PicOuçutFœg
 ( 
åue
 )

51 , 
	`m_iPOC
 ( 0 )

52 , 
	`m_iLa°IDR
 ( 0 )

53 , 
	`m_iAssocüãdIRAP
 ( 0 )

54 , 
	`m_iAssocüãdIRAPTy≥
 ( 
NAL_UNIT_INVALID
 )

55 , 
	`m_pRPS
 ( 0 )

56 , 
	`m_loˇlRPS
 ( )

57 , 
	`m_ΩsIdx
 ( 0 )

58 , 
	`m_RefPicLi°Modifiˇti⁄
 ( )

59 , 
	`m_eNÆUnôTy≥
 ( 
NAL_UNIT_CODED_SLICE_IDR_W_RADL
 )

60 , 
	`m_eSli˚Ty≥
 ( 
I_SLICE
 )

61 , 
	`m_iSli˚Qp
 ( 0 )

62 , 
	$m_dïídítSli˚SegmítFœg
 ( 
Ál£
 )

63 #i‡
ADAPTIVE_QP_SELECTION


64 , 
	$m_iSli˚QpBa£
 ( 0 )

66 , 
	`m_ChromaQpAdjE«bÀd
 ( 
Ál£
 )

67 , 
	`m_deblockögFûãrDißbÀ
 ( 
Ál£
 )

68 , 
	`m_deblockögFûãrOvîrideFœg
 ( 
Ál£
 )

69 , 
	`m_deblockögFûãrBëaOff£tDiv2
( 0 )

70 , 
	`m_deblockögFûãrTcOff£tDiv2
 ( 0 )

71 , 
	`m_bCheckLDC
 ( 
Ál£
 )

72 , 
	`m_iSli˚QpDñè
 ( 0 )

73 , 
	`m_iDïth
 ( 0 )

74 , 
	`m_bRe„n˚d
 ( 
Ál£
 )

75 , 
	`m_pcVPS
 ( 
NULL
 )

76 , 
	`m_pcSPS
 ( 
NULL
 )

77 , 
	`m_pcPPS
 ( 
NULL
 )

78 , 
	`m_pcPic
 ( 
NULL
 )

79 , 
	`m_cﬁFromL0Fœg
 ( 
åue
 )

80 , 
	`m_noOuçutPri‹PicsFœg
 ( 
Ál£
 )

81 , 
	`m_noRa¶OuçutFœg
 ( 
Ál£
 )

82 , 
	`m_h™dÀCøAsBœFœg
 ( 
Ál£
 )

83 , 
	`m_cﬁRefIdx
 ( 0 )

84 , 
	`m_maxNumMîgeC™d
 ( 0 )

85 , 
	`m_uiTLayî
 ( 0 )

86 , 
	`m_bTLayîSwôchögFœg
 ( 
Ál£
 )

87 , 
	`m_¶i˚Mode
 ( 
NO_SLICES
 )

88 , 
	`m_¶i˚Argumít
 ( 0 )

89 , 
	`m_¶i˚CurSèπCtuTsAddr
 ( 0 )

90 , 
	`m_¶i˚CurEndCtuTsAddr
 ( 0 )

91 , 
	`m_¶i˚Idx
 ( 0 )

92 , 
	`m_¶i˚SegmítMode
 ( 
NO_SLICES
 )

93 , 
	`m_¶i˚SegmítArgumít
 ( 0 )

94 , 
	`m_¶i˚SegmítCurSèπCtuTsAddr
 ( 0 )

95 , 
	`m_¶i˚SegmítCurEndCtuTsAddr
 ( 0 )

96 , 
	`m_√xtSli˚
 ( 
Ál£
 )

97 , 
	`m_√xtSli˚Segmít
 ( 
Ál£
 )

98 , 
	`m_¶i˚Bôs
 ( 0 )

99 , 
	`m_¶i˚SegmítBôs
 ( 0 )

100 , 
	`m_bFöÆized
 ( 
Ál£
 )

101 , 
	`m_bTe°WeightPªd
 ( 
Ál£
 )

102 , 
	`m_bTe°WeightBiPªd
 ( 
Ál£
 )

103 , 
	`m_sub°ªamSizes
 ( )

104 , 
	`m_ˇbacInôFœg
 ( 
Ál£
 )

105 , 
	`m_bLMvdL1Zîo
 ( 
Ál£
 )

106 , 
	`m_ãmp‹ÆLayîN⁄Re„ªn˚Fœg
 ( 
Ál£
 )

107 , 
	`m_LFCrossSli˚Bound¨yFœg
 ( 
Ál£
 )

108 , 
	`m_íabÀTMVPFœg
 ( 
åue
 )

109 , 
	$m_ícCABACTabÀIdx
 (
I_SLICE
)

111 
UI¡
 
i
=0; i<
NUM_REF_PIC_LIST_01
; i++)

113 
m_aiNumRefIdx
[
i
] = 0;

116 
UI¡
 
comp⁄ít
 = 0; comp⁄íà< 
MAX_NUM_COMPONENT
; component++)

118 
m_œmbdas
 [
comp⁄ít
] = 0.0;

119 
m_iSli˚ChromaQpDñè
[
comp⁄ít
] = 0;

122 
	`öôEquÆRef
();

124  
I¡
 
idx
 = 0; idx < 
MAX_NUM_REF
; idx++ )

126 
m_li°1IdxToLi°0Idx
[
idx
] = -1;

129 
I¡
 
iNumCou¡
 = 0; iNumCou¡ < 
MAX_NUM_REF
; iNumCount++)

131 
UI¡
 
i
=0; i<
NUM_REF_PIC_LIST_01
; i++)

133 
m_≠cRefPicLi°
 [
i
][
iNumCou¡
] = 
NULL
;

134 
m_aiRefPOCLi°
 [
i
][
iNumCou¡
] = 0;

138 
	`ª£tWpSˇlög
();

139 
	`öôWpAcDcP¨am
();

141 
I¡
 
ch
=0; ch < 
MAX_NUM_CHANNEL_TYPE
; ch++)

143 
m_ßoE«bÀdFœg
[
ch
] = 
Ál£
;

145 
	}
}

147 
	gTComSli˚
::~
	$TComSli˚
()

149 
	}
}

152 
Void
 
TComSli˚
::
	$öôSli˚
()

154 
UI¡
 
i
=0; i<
NUM_REF_PIC_LIST_01
; i++)

156 
m_aiNumRefIdx
[
i
] = 0;

158 
m_cﬁFromL0Fœg
 = 
åue
;

160 
m_cﬁRefIdx
 = 0;

161 
	`öôEquÆRef
();

163 
m_bCheckLDC
 = 
Ál£
;

165 
UI¡
 
comp⁄ít
 = 0; comp⁄íà< 
MAX_NUM_COMPONENT
; component++)

167 
m_iSli˚ChromaQpDñè
[
comp⁄ít
] = 0;

170 
m_maxNumMîgeC™d
 = 
MRG_MAX_NUM_CANDS
;

172 
m_bFöÆized
=
Ál£
;

174 
m_sub°ªamSizes
.
	`˛ór
();

175 
m_ˇbacInôFœg
 = 
Ál£
;

176 
m_íabÀTMVPFœg
 = 
åue
;

177 
	}
}

179 
Boﬁ
 
	gTComSli˚
::
	$gëR≠PicFœg
() const

181  
	`gëNÆUnôTy≥
(Ë=
NAL_UNIT_CODED_SLICE_IDR_W_RADL


182 || 
	`gëNÆUnôTy≥
(Ë=
NAL_UNIT_CODED_SLICE_IDR_N_LP


183 || 
	`gëNÆUnôTy≥
(Ë=
NAL_UNIT_CODED_SLICE_BLA_N_LP


184 || 
	`gëNÆUnôTy≥
(Ë=
NAL_UNIT_CODED_SLICE_BLA_W_RADL


185 || 
	`gëNÆUnôTy≥
(Ë=
NAL_UNIT_CODED_SLICE_BLA_W_LP


186 || 
	`gëNÆUnôTy≥
(Ë=
NAL_UNIT_CODED_SLICE_CRA
;

187 
	}
}

190 
Void
 
	gTComSli˚
::
s‹tPicLi°
 (
TComLi°
<
TComPic
*>& 
rcLi°Pic
)

192 
TComPic
* 
pcPicExåa˘
;

193 
TComPic
* 
	gpcPicIn£π
;

195 
	gTComLi°
<
	gTComPic
*>::
ôî©‹
 
ôîPicExåa˘
;

196 
	gTComLi°
<
	gTComPic
*>::
ôî©‹
 
ôîPicExåa˘_1
;

197 
	gTComLi°
<
	gTComPic
*>::
ôî©‹
 
ôîPicIn£π
;

199 
I¡
 
	gi
 = 1; i < (
	gI¡
)(
	grcLi°Pic
.
size
()); i++)

201 
	gôîPicExåa˘
 = 
rcLi°Pic
.
begö
();

202 
I¡
 
	gj
 = 0; j < 
	gi
; j++)

204 
	gôîPicExåa˘
++;

206 
	gpcPicExåa˘
 = *(
ôîPicExåa˘
);

207 
	gpcPicExåa˘
->
£tCuºSli˚Idx
(0);

209 
	gôîPicIn£π
 = 
rcLi°Pic
.
begö
();

210 
	gôîPicIn£π
 !
ôîPicExåa˘
)

212 
pcPicIn£π
 = *(
ôîPicIn£π
);

213 
	gpcPicIn£π
->
£tCuºSli˚Idx
(0);

214 i‡(
	gpcPicIn£π
->
gëPOC
(Ë>
pcPicExåa˘
->getPOC())

219 
	gôîPicIn£π
++;

222 
	gôîPicExåa˘_1
 = 
ôîPicExåa˘
; iterPicExtract_1++;

225 
	grcLi°Pic
.
ö£π
 (
ôîPicIn£π
, 
ôîPicExåa˘
, 
ôîPicExåa˘_1
);

226 
	grcLi°Pic
.
îa£
 (
ôîPicExåa˘
);

230 
TComPic
* 
	gTComSli˚
::
xGëRefPic
 (
TComLi°
<TComPic*>& 
rcLi°Pic
, 
I¡
 
poc
)

232 
	gTComLi°
<
	gTComPic
*>::
ôî©‹
 
ôîPic
 = 
rcLi°Pic
.
begö
();

233 
TComPic
* 
	gpcPic
 = *(
ôîPic
);

234  
	gôîPic
 !
rcLi°Pic
.
íd
() )

236 if(
pcPic
->
gëPOC
(Ë=
poc
)

240 
	gôîPic
++;

241 
	gpcPic
 = *(
ôîPic
);

243  
	gpcPic
;

247 
TComPic
* 
	gTComSli˚
::
xGëL⁄gTîmRefPic
(
TComLi°
<TComPic*>& 
rcLi°Pic
, 
I¡
 
poc
, 
Boﬁ
 
pocHasMsb
)

249 
	gTComLi°
<
	gTComPic
*>::
ôî©‹
 
ôîPic
 = 
rcLi°Pic
.
begö
();

250 
TComPic
* 
	gpcPic
 = *(
ôîPic
);

251 
TComPic
* 
	gpcStPic
 = 
pcPic
;

253 
I¡
 
	gpocCy˛e
 = 1 << 
gëSPS
()->
gëBôsF‹POC
();

254 i‡(!
	gpocHasMsb
)

256 
	gpoc
 = 
poc
 & (
pocCy˛e
 - 1);

259  
	gôîPic
 !
rcLi°Pic
.
íd
() )

261 
pcPic
 = *(
ôîPic
);

262 i‡(
	gpcPic
 &&ÖcPic->
gëPOC
()!=
this
->gëPOC(Ë&& 
pcPic
->
gëSli˚
–0 )->
isRe„ªn˚d
())

264 
I¡
 
picPoc
 = 
pcPic
->
gëPOC
();

265 i‡(!
	gpocHasMsb
)

267 
	gpicPoc
 = 
picPoc
 & (
pocCy˛e
 - 1);

270 i‡(
	gpoc
 =
picPoc
)

272 if(
pcPic
->
gëIsL⁄gTîm
())

274  
pcPic
;

278 
	gpcStPic
 = 
pcPic
;

284 
	gôîPic
++;

287  
	gpcStPic
;

290 
Void
 
	gTComSli˚
::
	$£tRefPOCLi°
 ()

292 
I¡
 
iDú
 = 0; iDú < 
NUM_REF_PIC_LIST_01
; iDir++)

294 
I¡
 
iNumRefIdx
 = 0; iNumRefIdx < 
m_aiNumRefIdx
[
iDú
]; iNumRefIdx++)

296 
m_aiRefPOCLi°
[
iDú
][
iNumRefIdx
] = 
m_≠cRefPicLi°
[iDú][iNumRefIdx]->
	`gëPOC
();

300 
	}
}

302 
Void
 
	gTComSli˚
::
	$£tLi°1IdxToLi°0Idx
()

304 
I¡
 
idxL0
, 
idxL1
;

305  
idxL1
 = 0; idxL1 < 
	`gëNumRefIdx
–
REF_PIC_LIST_1
 ); idxL1++ )

307 
m_li°1IdxToLi°0Idx
[
idxL1
] = -1;

308  
idxL0
 = 0; idxL0 < 
	`gëNumRefIdx
–
REF_PIC_LIST_0
 ); idxL0++ )

310 i‡–
m_≠cRefPicLi°
[
REF_PIC_LIST_0
][
idxL0
]->
	`gëPOC
(Ë=m_≠cRefPicLi°[
REF_PIC_LIST_1
][
idxL1
]->getPOC() )

312 
m_li°1IdxToLi°0Idx
[
idxL1
] = 
idxL0
;

317 
	}
}

319 
Void
 
	gTComSli˚
::
£tRefPicLi°
–
TComLi°
<
TComPic
*>& 
rcLi°Pic
, 
Boﬁ
 
checkNumPocTŸÆCuº
 )

321 i‡–
	gm_eSli˚Ty≥
 =
I_SLICE
)

323 ::
mem£t
–
m_≠cRefPicLi°
, 0,  (m_apcRefPicList));

324 ::
mem£t
–
m_aiNumRefIdx
, 0,  ( m_aiNumRefIdx ));

326 i‡(!
	gcheckNumPocTŸÆCuº
)

332 
TComPic
* 
	gpcRefPic

NULL
;

333 c⁄° 
UI¡
 
	gMAX_NUM_NEGATIVE_PICTURES
=16;

334 
TComPic
* 
	gRefPicSëStCuº0
[
MAX_NUM_NEGATIVE_PICTURES
];

335 
TComPic
* 
	gRefPicSëStCuº1
[
MAX_NUM_NEGATIVE_PICTURES
];

336 
TComPic
* 
	gRefPicSëLtCuº
[
MAX_NUM_NEGATIVE_PICTURES
];

337 
UI¡
 
	gNumPicStCuº0
 = 0;

338 
UI¡
 
	gNumPicStCuº1
 = 0;

339 
UI¡
 
	gNumPicLtCuº
 = 0;

340 
I¡
 
	gi
;

342 
	gi
=0; i < 
	gm_pRPS
->
gëNumbîOfNeg©ivePi˘uªs
(); i++)

344 if(
	gm_pRPS
->
gëU£d
(
i
))

346 
	gpcRefPic
 = 
xGëRefPic
(
rcLi°Pic
, 
gëPOC
()+
m_pRPS
->
gëDñèPOC
(
i
));

347 
	gpcRefPic
->
£tIsL⁄gTîm
(0);

348 
	gpcRefPic
->
gëPicYuvRec
()->
exãndPicB‹dî
();

349 
	gRefPicSëStCuº0
[
NumPicStCuº0
] = 
pcRefPic
;

350 
	gNumPicStCuº0
++;

351 
	gpcRefPic
->
£tCheckLTMSBPª£¡
(
Ál£
);

355 ; 
	gi
 < 
	gm_pRPS
->
gëNumbîOfNeg©ivePi˘uªs
()+m_pRPS->
gëNumbîOfPosôivePi˘uªs
(); i++)

357 if(
	gm_pRPS
->
gëU£d
(
i
))

359 
	gpcRefPic
 = 
xGëRefPic
(
rcLi°Pic
, 
gëPOC
()+
m_pRPS
->
gëDñèPOC
(
i
));

360 
	gpcRefPic
->
£tIsL⁄gTîm
(0);

361 
	gpcRefPic
->
gëPicYuvRec
()->
exãndPicB‹dî
();

362 
	gRefPicSëStCuº1
[
NumPicStCuº1
] = 
pcRefPic
;

363 
	gNumPicStCuº1
++;

364 
	gpcRefPic
->
£tCheckLTMSBPª£¡
(
Ál£
);

368 
	gi
 = 
m_pRPS
->
gëNumbîOfNeg©ivePi˘uªs
()+m_pRPS->
gëNumbîOfPosôivePi˘uªs
()+m_pRPS->
gëNumbîOfL⁄gãrmPi˘uªs
()-1; i > 
	gm_pRPS
->getNumberOfNegativePictures()+m_pRPS->getNumberOfPositivePictures()-1 ; i--)

370 if(
	gm_pRPS
->
gëU£d
(
i
))

372 
	gpcRefPic
 = 
xGëL⁄gTîmRefPic
(
rcLi°Pic
, 
m_pRPS
->
gëPOC
(
i
), m_pRPS->
gëCheckLTMSBPª£¡
(i));

373 
	gpcRefPic
->
£tIsL⁄gTîm
(1);

374 
	gpcRefPic
->
gëPicYuvRec
()->
exãndPicB‹dî
();

375 
	gRefPicSëLtCuº
[
NumPicLtCuº
] = 
pcRefPic
;

376 
	gNumPicLtCuº
++;

378 if(
	gpcRefPic
==
NULL
)

380 
pcRefPic
 = 
xGëL⁄gTîmRefPic
(
rcLi°Pic
, 
m_pRPS
->
gëPOC
(
i
), m_pRPS->
gëCheckLTMSBPª£¡
(i));

382 
	gpcRefPic
->
£tCheckLTMSBPª£¡
(
m_pRPS
->
gëCheckLTMSBPª£¡
(
i
));

386 
TComPic
* 
	gΩsCuºLi°0
[
MAX_NUM_REF
+1];

387 
TComPic
* 
	gΩsCuºLi°1
[
MAX_NUM_REF
+1];

388 
I¡
 
	gnumPicTŸÆCuº
 = 
NumPicStCuº0
 + 
NumPicStCuº1
 + 
NumPicLtCuº
;

390 i‡(
	gcheckNumPocTŸÆCuº
)

395 i‡(
gëR≠PicFœg
())

397 
as£π
(
numPicTŸÆCuº
 == 0);

400 i‡(
	gm_eSli˚Ty≥
 =
I_SLICE
)

405 
as£π
(
numPicTŸÆCuº
 > 0);

407 
as£π
(
numPicTŸÆCuº
 <= 8);

410 
I¡
 
	gcIdx
 = 0;

411  
	gi
=0; i<
	gNumPicStCuº0
; i++, 
	gcIdx
++)

413 
	gΩsCuºLi°0
[
cIdx
] = 
RefPicSëStCuº0
[
i
];

415  
	gi
=0; i<
	gNumPicStCuº1
; i++, 
	gcIdx
++)

417 
	gΩsCuºLi°0
[
cIdx
] = 
RefPicSëStCuº1
[
i
];

419  
	gi
=0; i<
	gNumPicLtCuº
; i++, 
	gcIdx
++)

421 
	gΩsCuºLi°0
[
cIdx
] = 
RefPicSëLtCuº
[
i
];

423 
as£π
(
cIdx
 =
numPicTŸÆCuº
);

425 i‡(
	gm_eSli˚Ty≥
==
B_SLICE
)

427 
cIdx
 = 0;

428  
	gi
=0; i<
	gNumPicStCuº1
; i++, 
	gcIdx
++)

430 
	gΩsCuºLi°1
[
cIdx
] = 
RefPicSëStCuº1
[
i
];

432  
	gi
=0; i<
	gNumPicStCuº0
; i++, 
	gcIdx
++)

434 
	gΩsCuºLi°1
[
cIdx
] = 
RefPicSëStCuº0
[
i
];

436  
	gi
=0; i<
	gNumPicLtCuº
; i++, 
	gcIdx
++)

438 
	gΩsCuºLi°1
[
cIdx
] = 
RefPicSëLtCuº
[
i
];

440 
as£π
(
cIdx
 =
numPicTŸÆCuº
);

443 ::
mem£t
(
m_bIsU£dAsL⁄gTîm
, 0, (m_bIsUsedAsLongTerm));

445 
I¡
 
	grIdx
 = 0;ÑIdx < 
	gm_aiNumRefIdx
[
REF_PIC_LIST_0
];ÑIdx ++)

447 
	gcIdx
 = 
m_RefPicLi°Modifiˇti⁄
.
gëRefPicLi°Modifiˇti⁄FœgL0
(Ë? m_RefPicLi°Modifiˇti⁄.
gëRefPicSëIdxL0
(
rIdx
Ë:ÑIdx % 
numPicTŸÆCuº
;

448 
as£π
(
cIdx
 >0 && cIdx < 
numPicTŸÆCuº
);

449 
	gm_≠cRefPicLi°
[
REF_PIC_LIST_0
][
rIdx
] = 
ΩsCuºLi°0
[ 
cIdx
 ];

450 
	gm_bIsU£dAsL⁄gTîm
[
REF_PIC_LIST_0
][
rIdx
] = ( 
cIdx
 >
NumPicStCuº0
 + 
NumPicStCuº1
 );

452 i‡–
	gm_eSli˚Ty≥
 !
B_SLICE
 )

454 
m_aiNumRefIdx
[
REF_PIC_LIST_1
] = 0;

455 ::
mem£t
–
m_≠cRefPicLi°
[
REF_PIC_LIST_1
], 0, (m_apcRefPicList[REF_PIC_LIST_1]));

459 
I¡
 
	grIdx
 = 0;ÑIdx < 
	gm_aiNumRefIdx
[
REF_PIC_LIST_1
];ÑIdx ++)

461 
	gcIdx
 = 
m_RefPicLi°Modifiˇti⁄
.
gëRefPicLi°Modifiˇti⁄FœgL1
(Ë? m_RefPicLi°Modifiˇti⁄.
gëRefPicSëIdxL1
(
rIdx
Ë:ÑIdx % 
numPicTŸÆCuº
;

462 
as£π
(
cIdx
 >0 && cIdx < 
numPicTŸÆCuº
);

463 
	gm_≠cRefPicLi°
[
REF_PIC_LIST_1
][
rIdx
] = 
ΩsCuºLi°1
[ 
cIdx
 ];

464 
	gm_bIsU£dAsL⁄gTîm
[
REF_PIC_LIST_1
][
rIdx
] = ( 
cIdx
 >
NumPicStCuº0
 + 
NumPicStCuº1
 );

469 
I¡
 
	gTComSli˚
::
	$gëNumRpsCuºTempLi°
() const

471 
I¡
 
numRpsCuºTempLi°
 = 0;

473 i‡(
m_eSli˚Ty≥
 =
I_SLICE
)

477 
UI¡
 
i
=0; i < 
m_pRPS
->
	`gëNumbîOfNeg©ivePi˘uªs
()+ m_pRPS->
	`gëNumbîOfPosôivePi˘uªs
(Ë+ m_pRPS->
	`gëNumbîOfL⁄gãrmPi˘uªs
(); i++)

479 if(
m_pRPS
->
	`gëU£d
(
i
))

481 
numRpsCuºTempLi°
++;

484  
numRpsCuºTempLi°
;

485 
	}
}

487 
Void
 
	gTComSli˚
::
	$öôEquÆRef
()

489 
I¡
 
iDú
 = 0; iDú < 
NUM_REF_PIC_LIST_01
; iDir++)

491 
I¡
 
iRefIdx1
 = 0; iRefIdx1 < 
MAX_NUM_REF
; iRefIdx1++)

493 
I¡
 
iRefIdx2
 = 
iRefIdx1
; iRefIdx2 < 
MAX_NUM_REF
; iRefIdx2++)

495 
m_abEquÆRef
[
iDú
][
iRefIdx1
][
iRefIdx2
] = m_abEquÆRef[iDú][iRefIdx2][iRefIdx1] = (iRefIdx1 =iRefIdx2? 
åue
 : 
Ál£
);

499 
	}
}

501 
Void
 
	gTComSli˚
::
	$checkCﬁRefIdx
(
UI¡
 
curSli˚Idx
, 
TComPic
* 
pic
)

503 
I¡
 
i
;

504 
TComSli˚
* 
curSli˚
 = 
pic
->
	`gëSli˚
(
curSli˚Idx
);

505 
I¡
 
cuºCﬁRefPOC
 = 
curSli˚
->
	`gëRefPOC
–
	`RefPicLi°
(1 - curSli˚->
	`gëCﬁFromL0Fœg
()), curSli˚->
	`gëCﬁRefIdx
());

506 
TComSli˚
* 
¥eSli˚
;

507 
I¡
 
¥eCﬁRefPOC
;

508 
i
=
curSli˚Idx
-1; i>=0; i--)

510 
¥eSli˚
 = 
pic
->
	`gëSli˚
(
i
);

511 if(
¥eSli˚
->
	`gëSli˚Ty≥
(Ë!
I_SLICE
)

513 
¥eCﬁRefPOC
 = 
¥eSli˚
->
	`gëRefPOC
–
	`RefPicLi°
(1 -ÖªSli˚->
	`gëCﬁFromL0Fœg
()),ÖªSli˚->
	`gëCﬁRefIdx
());

514 if(
cuºCﬁRefPOC
 !
¥eCﬁRefPOC
)

516 
	`¥ötf
("Collocated_ref_idx shallálways beÅhe same foráll slices ofá codedÖicture!\n");

517 
	`exô
(
EXIT_FAILURE
);

525 
	}
}

527 
Void
 
	gTComSli˚
::
checkCRA
(c⁄° 
TComRe„ªn˚Pi˘uªSë
 *
pRe„ªn˚Pi˘uªSë
, 
I¡
& 
pocCRA
, 
NÆUnôTy≥
& 
assocüãdIRAPTy≥
, 
TComLi°
<
TComPic
 *>& 
rcLi°Pic
)

529 
I¡
 
	gi
 = 0; i < 
	gpRe„ªn˚Pi˘uªSë
->
gëNumbîOfNeg©ivePi˘uªs
()+pRe„ªn˚Pi˘uªSë->
gëNumbîOfPosôivePi˘uªs
(); i++)

531 if(
	gpocCRA
 < 
	gMAX_UINT
 && 
gëPOC
() >ÖocCRA)

533 
as£π
(
gëPOC
()+
pRe„ªn˚Pi˘uªSë
->
gëDñèPOC
(
i
Ë>
pocCRA
);

536 
I¡
 
	gi
 = 
pRe„ªn˚Pi˘uªSë
->
gëNumbîOfNeg©ivePi˘uªs
()+pRe„ªn˚Pi˘uªSë->
gëNumbîOfPosôivePi˘uªs
(); i < 
	gpRe„ªn˚Pi˘uªSë
->
gëNumbîOfPi˘uªs
(); i++)

538 if(
	gpocCRA
 < 
	gMAX_UINT
 && 
gëPOC
() >ÖocCRA)

540 i‡(!
	gpRe„ªn˚Pi˘uªSë
->
gëCheckLTMSBPª£¡
(
i
))

542 
as£π
(
xGëL⁄gTîmRefPic
(
rcLi°Pic
, 
pRe„ªn˚Pi˘uªSë
->
gëPOC
(
i
), 
Ál£
)->gëPOC(Ë>
pocCRA
);

546 
as£π
(
pRe„ªn˚Pi˘uªSë
->
gëPOC
(
i
Ë>
pocCRA
);

550 i‡–
gëNÆUnôTy≥
(Ë=
NAL_UNIT_CODED_SLICE_IDR_W_RADL
 || gëNÆUnôTy≥(Ë=
NAL_UNIT_CODED_SLICE_IDR_N_LP
 )

552 
pocCRA
 = 
gëPOC
();

553 
	gassocüãdIRAPTy≥
 = 
gëNÆUnôTy≥
();

555 i‡–
gëNÆUnôTy≥
(Ë=
NAL_UNIT_CODED_SLICE_CRA
 )

557 
pocCRA
 = 
gëPOC
();

558 
	gassocüãdIRAPTy≥
 = 
gëNÆUnôTy≥
();

560 i‡–
gëNÆUnôTy≥
(Ë=
NAL_UNIT_CODED_SLICE_BLA_W_LP


561 || 
gëNÆUnôTy≥
(Ë=
NAL_UNIT_CODED_SLICE_BLA_W_RADL


562 || 
gëNÆUnôTy≥
(Ë=
NAL_UNIT_CODED_SLICE_BLA_N_LP
 )

564 
pocCRA
 = 
gëPOC
();

565 
	gassocüãdIRAPTy≥
 = 
gëNÆUnôTy≥
();

587 
Void
 
	gTComSli˚
::
decodögRe‰eshM¨kög
(
I¡
& 
pocCRA
, 
Boﬁ
& 
bRe‰eshPídög
, 
TComLi°
<
TComPic
*>& 
rcLi°Pic
, c⁄° 
boﬁ
 
bEfficõ¡FõldIRAPE«bÀd
)

589 
TComPic
* 
	gΩcPic
;

590 
I¡
 
	gpocCuº
 = 
gëPOC
();

592 i‡–
gëNÆUnôTy≥
(Ë=
NAL_UNIT_CODED_SLICE_BLA_W_LP


593 || 
gëNÆUnôTy≥
(Ë=
NAL_UNIT_CODED_SLICE_BLA_W_RADL


594 || 
gëNÆUnôTy≥
(Ë=
NAL_UNIT_CODED_SLICE_BLA_N_LP


595 || 
gëNÆUnôTy≥
(Ë=
NAL_UNIT_CODED_SLICE_IDR_W_RADL


596 || 
gëNÆUnôTy≥
(Ë=
NAL_UNIT_CODED_SLICE_IDR_N_LP
 )

599 
TComLi°
<
TComPic
*>::
ôî©‹
 
ôîPic
 = 
rcLi°Pic
.
begö
();

600 
	gôîPic
 !
rcLi°Pic
.
íd
())

602 
ΩcPic
 = *(
ôîPic
);

603 
	gΩcPic
->
£tCuºSli˚Idx
(0);

604 i‡(
	gΩcPic
->
gëPOC
(Ë!
pocCuº
)

606 
ΩcPic
->
gëSli˚
(0)->
£tRe„ªn˚d
(
Ál£
);

608 
	gôîPic
++;

610 i‡–
gëNÆUnôTy≥
(Ë=
NAL_UNIT_CODED_SLICE_BLA_W_LP


611 || 
gëNÆUnôTy≥
(Ë=
NAL_UNIT_CODED_SLICE_BLA_W_RADL


612 || 
gëNÆUnôTy≥
(Ë=
NAL_UNIT_CODED_SLICE_BLA_N_LP
 )

614 
pocCRA
 = 
pocCuº
;

616 i‡(
	gbEfficõ¡FõldIRAPE«bÀd
)

618 
	gbRe‰eshPídög
 = 
åue
;

623 if(
	gbEfficõ¡FõldIRAPE«bÀd
 && (
gëAssocüãdIRAPTy≥
(Ë=
NAL_UNIT_CODED_SLICE_IDR_N_LP
 || gëAssocüãdIRAPTy≥(Ë=
NAL_UNIT_CODED_SLICE_IDR_W_RADL
))

625 i‡(
bRe‰eshPídög
==
åue
 && 
pocCuº
 > 
m_iLa°IDR
)

627 
TComLi°
<
TComPic
*>::
ôî©‹
 
ôîPic
 = 
rcLi°Pic
.
begö
();

628 
	gôîPic
 !
rcLi°Pic
.
íd
())

630 
ΩcPic
 = *(
ôîPic
);

631 i‡(
	gΩcPic
->
gëPOC
(Ë!
pocCuº
 && 
ΩcPic
->gëPOC(Ë!
m_iLa°IDR
)

633 
ΩcPic
->
gëSli˚
(0)->
£tRe„ªn˚d
(
Ál£
);

635 
	gôîPic
++;

637 
	gbRe‰eshPídög
 = 
Ál£
;

642 i‡(
	gbRe‰eshPídög
==
åue
 && 
pocCuº
 > 
pocCRA
)

644 
TComLi°
<
TComPic
*>::
ôî©‹
 
ôîPic
 = 
rcLi°Pic
.
begö
();

645 
	gôîPic
 !
rcLi°Pic
.
íd
())

647 
ΩcPic
 = *(
ôîPic
);

648 i‡(
	gΩcPic
->
gëPOC
(Ë!
pocCuº
 && 
ΩcPic
->gëPOC(Ë!
pocCRA
)

650 
ΩcPic
->
gëSli˚
(0)->
£tRe„ªn˚d
(
Ál£
);

652 
	gôîPic
++;

654 
	gbRe‰eshPídög
 = 
Ál£
;

657 i‡–
gëNÆUnôTy≥
(Ë=
NAL_UNIT_CODED_SLICE_CRA
 )

659 
bRe‰eshPídög
 = 
åue
;

660 
	gpocCRA
 = 
pocCuº
;

665 
Void
 
	gTComSli˚
::
	$c›ySli˚Info
(
TComSli˚
 *
pSrc
)

667 
	`as£π
–
pSrc
 !
NULL
 );

669 
I¡
 
i
, 
j
, 
k
;

671 
m_iPOC
 = 
pSrc
->m_iPOC;

672 
m_eNÆUnôTy≥
 = 
pSrc
->m_eNalUnitType;

673 
m_eSli˚Ty≥
 = 
pSrc
->m_eSliceType;

674 
m_iSli˚Qp
 = 
pSrc
->m_iSliceQp;

675 #i‡
ADAPTIVE_QP_SELECTION


676 
m_iSli˚QpBa£
 = 
pSrc
->m_iSliceQpBase;

678 
m_ChromaQpAdjE«bÀd
 = 
pSrc
->m_ChromaQpAdjEnabled;

679 
m_deblockögFûãrDißbÀ
 = 
pSrc
->m_deblockingFilterDisable;

680 
m_deblockögFûãrOvîrideFœg
 = 
pSrc
->m_deblockingFilterOverrideFlag;

681 
m_deblockögFûãrBëaOff£tDiv2
 = 
pSrc
->m_deblockingFilterBetaOffsetDiv2;

682 
m_deblockögFûãrTcOff£tDiv2
 = 
pSrc
->m_deblockingFilterTcOffsetDiv2;

684 
i
 = 0; i < 
NUM_REF_PIC_LIST_01
; i++)

686 
m_aiNumRefIdx
[
i
] = 
pSrc
->m_aiNumRefIdx[i];

689 
i
 = 0; i < 
MAX_NUM_REF
; i++)

691 
m_li°1IdxToLi°0Idx
[
i
] = 
pSrc
->m_list1IdxToList0Idx[i];

694 
m_bCheckLDC
 = 
pSrc
->m_bCheckLDC;

695 
m_iSli˚QpDñè
 = 
pSrc
->m_iSliceQpDelta;

696 
UI¡
 
comp⁄ít
 = 0; comp⁄íà< 
MAX_NUM_COMPONENT
; component++)

698 
m_iSli˚ChromaQpDñè
[
comp⁄ít
] = 
pSrc
->m_iSliceChromaQpDelta[component];

700 
i
 = 0; i < 
NUM_REF_PIC_LIST_01
; i++)

702 
j
 = 0; j < 
MAX_NUM_REF
; j++)

704 
m_≠cRefPicLi°
[
i
][
j
] = 
pSrc
->m_apcRefPicList[i][j];

705 
m_aiRefPOCLi°
[
i
][
j
] = 
pSrc
->m_aiRefPOCList[i][j];

706 
m_bIsU£dAsL⁄gTîm
[
i
][
j
] = 
pSrc
->m_bIsUsedAsLongTerm[i][j];

708 
m_bIsU£dAsL⁄gTîm
[
i
][
MAX_NUM_REF
] = 
pSrc
->m_bIsUsedAsLongTerm[i][MAX_NUM_REF];

710 
m_iDïth
 = 
pSrc
->m_iDepth;

713 
m_bRe„n˚d
 = 
pSrc
->m_bRefenced;

716 
m_pRPS
 = 
pSrc
->m_pRPS;

717 
m_iLa°IDR
 = 
pSrc
->m_iLastIDR;

719 
m_pcPic
 = 
pSrc
->m_pcPic;

721 
m_cﬁFromL0Fœg
 = 
pSrc
->m_colFromL0Flag;

722 
m_cﬁRefIdx
 = 
pSrc
->m_colRefIdx;

724 
	`£tLambdas
(
pSrc
->
	`gëLambdas
());

726 
i
 = 0; i < 
NUM_REF_PIC_LIST_01
; i++)

728 
j
 = 0; j < 
MAX_NUM_REF
; j++)

730 
k
 =0; k < 
MAX_NUM_REF
; k++)

732 
m_abEquÆRef
[
i
][
j
][
k
] = 
pSrc
->m_abEqualRef[i][j][k];

737 
m_uiTLayî
 = 
pSrc
->m_uiTLayer;

738 
m_bTLayîSwôchögFœg
 = 
pSrc
->m_bTLayerSwitchingFlag;

740 
m_¶i˚Mode
 = 
pSrc
->m_sliceMode;

741 
m_¶i˚Argumít
 = 
pSrc
->m_sliceArgument;

742 
m_¶i˚CurSèπCtuTsAddr
 = 
pSrc
->m_sliceCurStartCtuTsAddr;

743 
m_¶i˚CurEndCtuTsAddr
 = 
pSrc
->m_sliceCurEndCtuTsAddr;

744 
m_¶i˚Idx
 = 
pSrc
->m_sliceIdx;

745 
m_¶i˚SegmítMode
 = 
pSrc
->m_sliceSegmentMode;

746 
m_¶i˚SegmítArgumít
 = 
pSrc
->m_sliceSegmentArgument;

747 
m_¶i˚SegmítCurSèπCtuTsAddr
 = 
pSrc
->m_sliceSegmentCurStartCtuTsAddr;

748 
m_¶i˚SegmítCurEndCtuTsAddr
 = 
pSrc
->m_sliceSegmentCurEndCtuTsAddr;

749 
m_√xtSli˚
 = 
pSrc
->m_nextSlice;

750 
m_√xtSli˚Segmít
 = 
pSrc
->m_nextSliceSegment;

752  
UI¡
 
e
=0 ;É<
NUM_REF_PIC_LIST_01
 ;É++ )

754  
UI¡
 
n
=0 ;Ç<
MAX_NUM_REF
 ;Ç++ )

756 
	`mem˝y
(
m_weightPªdTabÀ
[
e
][
n
], 
pSrc
->m_weightPªdTabÀ[e][n], (
WPSˇlögP¨am
)*
MAX_NUM_COMPONENT
 );

760  
UI¡
 
ch
 = 0 ; ch < 
MAX_NUM_CHANNEL_TYPE
; ch++)

762 
m_ßoE«bÀdFœg
[
ch
] = 
pSrc
->m_saoEnabledFlag[ch];

765 
m_ˇbacInôFœg
 = 
pSrc
->m_cabacInitFlag;

767 
m_bLMvdL1Zîo
 = 
pSrc
->m_bLMvdL1Zero;

768 
m_LFCrossSli˚Bound¨yFœg
 = 
pSrc
->m_LFCrossSliceBoundaryFlag;

769 
m_íabÀTMVPFœg
 = 
pSrc
->m_enableTMVPFlag;

770 
m_maxNumMîgeC™d
 = 
pSrc
->m_maxNumMergeCand;

771 
m_ícCABACTabÀIdx
 = 
pSrc
->m_encCABACTableIdx;

772 
	}
}

781 
Void
 
	gTComSli˚
::
	$£tTLayîInfo
–
UI¡
 
uiTLayî
 )

783 
m_uiTLayî
 = 
uiTLayî
;

784 
	}
}

788 
Boﬁ
 
	gTComSli˚
::
isTemp‹ÆLayîSwôchögPoöt
(
TComLi°
<
TComPic
*>& 
rcLi°Pic
)

790 
TComPic
* 
ΩcPic
;

792 
	gTComLi°
<
	gTComPic
*>::
ôî©‹
 
ôîPic
 = 
rcLi°Pic
.
begö
();

793  
	gôîPic
 !
rcLi°Pic
.
íd
())

795 
ΩcPic
 = *(
ôîPic
++);

796 if(
	gΩcPic
->
gëSli˚
(0)->
isRe„ªn˚d
(Ë&&ÑpcPic->
gëPOC
() != getPOC())

798 if(
ΩcPic
->
gëTLayî
() >= getTLayer())

800  
Ál£
;

804  
	gåue
;

809 
Boﬁ
 
	gTComSli˚
::
isSãpwi£Temp‹ÆLayîSwôchögPoötC™did©e
(
TComLi°
<
TComPic
*>& 
rcLi°Pic
)

811 
TComPic
* 
ΩcPic
;

813 
	gTComLi°
<
	gTComPic
*>::
ôî©‹
 
ôîPic
 = 
rcLi°Pic
.
begö
();

814  
	gôîPic
 !
rcLi°Pic
.
íd
())

816 
ΩcPic
 = *(
ôîPic
++);

817 if(
	gΩcPic
->
gëSli˚
(0)->
isRe„ªn˚d
(Ë&& (ΩcPic->
gëU£dByCuº
()==
åue
Ë&& 
ΩcPic
->
gëPOC
() != getPOC())

819 if(
ΩcPic
->
gëTLayî
() >= getTLayer())

821  
Ál£
;

825  
	gåue
;

829 
Void
 
	gTComSli˚
::
checkLódögPi˘uªRe°ri˘i⁄s
(
TComLi°
<
TComPic
*>& 
rcLi°Pic
)

831 
TComPic
* 
ΩcPic
;

833 
I¡
 
	g«lUnôTy≥
 = 
this
->
gëNÆUnôTy≥
();

836 if(
	gthis
->
gëAssocüãdIRAPPOC
(Ë>Åhis->
gëPOC
())

839 if(
	g«lUnôTy≥
 < 
	gNAL_UNIT_CODED_SLICE_BLA_W_LP
 ||

840 
	g«lUnôTy≥
 > 
	gNAL_UNIT_RESERVED_IRAP_VCL23
)

842 
as£π
(
«lUnôTy≥
 =
NAL_UNIT_CODED_SLICE_RASL_N
 ||

843 
«lUnôTy≥
 =
NAL_UNIT_CODED_SLICE_RASL_R
 ||

844 
«lUnôTy≥
 =
NAL_UNIT_CODED_SLICE_RADL_N
 ||

845 
«lUnôTy≥
 =
NAL_UNIT_CODED_SLICE_RADL_R
);

850 if(
	gthis
->
gëAssocüãdIRAPPOC
(Ë<Åhis->
gëPOC
())

852 
as£π
(
«lUnôTy≥
 !
NAL_UNIT_CODED_SLICE_RASL_N
 &&

853 
«lUnôTy≥
 !
NAL_UNIT_CODED_SLICE_RASL_R
 &&

854 
«lUnôTy≥
 !
NAL_UNIT_CODED_SLICE_RADL_N
 &&

855 
«lUnôTy≥
 !
NAL_UNIT_CODED_SLICE_RADL_R
);

860 if(
	g«lUnôTy≥
 =
NAL_UNIT_CODED_SLICE_RASL_N
 ||

861 
«lUnôTy≥
 =
NAL_UNIT_CODED_SLICE_RASL_R
)

863 
as£π
(
this
->
gëAssocüãdIRAPTy≥
(Ë!
NAL_UNIT_CODED_SLICE_BLA_W_RADL
 &&

864 
this
->
gëAssocüãdIRAPTy≥
(Ë!
NAL_UNIT_CODED_SLICE_BLA_N_LP
);

869 if(
	g«lUnôTy≥
 =
NAL_UNIT_CODED_SLICE_RASL_N
 ||

870 
«lUnôTy≥
 =
NAL_UNIT_CODED_SLICE_RASL_R
)

872 
as£π
(
this
->
gëAssocüãdIRAPTy≥
(Ë!
NAL_UNIT_CODED_SLICE_IDR_N_LP
 &&

873 
this
->
gëAssocüãdIRAPTy≥
(Ë!
NAL_UNIT_CODED_SLICE_IDR_W_RADL
);

879 if(
	g«lUnôTy≥
 =
NAL_UNIT_CODED_SLICE_RADL_N
 ||

880 
«lUnôTy≥
 =
NAL_UNIT_CODED_SLICE_RADL_R
)

882 
as£π
(
this
->
gëAssocüãdIRAPTy≥
(Ë!
NAL_UNIT_CODED_SLICE_BLA_N_LP
 &&

883 
this
->
gëAssocüãdIRAPTy≥
(Ë!
NAL_UNIT_CODED_SLICE_IDR_N_LP
);

887 
	gTComLi°
<
	gTComPic
*>::
ôî©‹
 
ôîPic
 = 
rcLi°Pic
.
begö
();

888  
	gôîPic
 !
rcLi°Pic
.
íd
())

890 
ΩcPic
 = *(
ôîPic
++);

891 if(!
	gΩcPic
->
gëRec⁄M¨k
())

895 i‡(
	gΩcPic
->
gëPOC
(Ë=
this
->getPOC())

903 if(
	gΩcPic
->
gëSli˚
(0)->
gëPicOuçutFœg
(Ë=1 && !
this
->
gëNoOuçutPri‹PicsFœg
())

905 if(
«lUnôTy≥
 =
NAL_UNIT_CODED_SLICE_BLA_N_LP
 ||

906 
«lUnôTy≥
 =
NAL_UNIT_CODED_SLICE_BLA_W_LP
 ||

907 
«lUnôTy≥
 =
NAL_UNIT_CODED_SLICE_BLA_W_RADL
 ||

908 
«lUnôTy≥
 =
NAL_UNIT_CODED_SLICE_CRA
 ||

909 
«lUnôTy≥
 =
NAL_UNIT_CODED_SLICE_IDR_N_LP
 ||

910 
«lUnôTy≥
 =
NAL_UNIT_CODED_SLICE_IDR_W_RADL
)

912 
as£π
(
ΩcPic
->
gëPOC
(Ë< 
this
->getPOC());

919 if(
	gΩcPic
->
gëSli˚
(0)->
gëPicOuçutFœg
() == 1)

921 if((
«lUnôTy≥
 =
NAL_UNIT_CODED_SLICE_RADL_N
 ||

922 
«lUnôTy≥
 =
NAL_UNIT_CODED_SLICE_RADL_R
))

925 if(
this
->
gëAssocüãdIRAPPOC
(Ë> 
ΩcPic
->
gëSli˚
(0)->getAssociatedIRAPPOC())

928 if(
this
->
gëAssocüãdIRAPPOC
(Ë!
ΩcPic
->
gëPOC
())

930 
as£π
(
ΩcPic
->
gëPOC
(Ë< 
this
->getPOC());

938 if(
	g«lUnôTy≥
 =
NAL_UNIT_CODED_SLICE_RASL_N
 ||

939 
«lUnôTy≥
 =
NAL_UNIT_CODED_SLICE_RASL_R
 ||

940 
«lUnôTy≥
 =
NAL_UNIT_CODED_SLICE_RADL_N
 ||

941 
«lUnôTy≥
 =
NAL_UNIT_CODED_SLICE_RADL_R
)

943 if(
ΩcPic
->
gëSli˚
(0)->
gëAssocüãdIRAPPOC
(Ë=
this
->getAssociatedIRAPPOC())

947 
as£π
(
ΩcPic
->
gëPOC
(Ë<
this
->
gëAssocüãdIRAPPOC
());

953 if(
	g«lUnôTy≥
 =
NAL_UNIT_CODED_SLICE_RASL_N
 ||

954 
«lUnôTy≥
 =
NAL_UNIT_CODED_SLICE_RASL_R
)

956 if((
this
->
gëAssocüãdIRAPTy≥
(Ë=
NAL_UNIT_CODED_SLICE_BLA_N_LP
 ||

957 
this
->
gëAssocüãdIRAPTy≥
(Ë=
NAL_UNIT_CODED_SLICE_BLA_W_LP
 ||

958 
this
->
gëAssocüãdIRAPTy≥
(Ë=
NAL_UNIT_CODED_SLICE_BLA_W_RADL
 ||

959 
this
->
gëAssocüãdIRAPTy≥
(Ë=
NAL_UNIT_CODED_SLICE_CRA
) &&

960 
this
->
gëAssocüãdIRAPPOC
(Ë=
ΩcPic
->
gëSli˚
(0)->getAssociatedIRAPPOC())

962 if(
ΩcPic
->
gëSli˚
(0)->
gëNÆUnôTy≥
(Ë=
NAL_UNIT_CODED_SLICE_RADL_N
 ||

963 
ΩcPic
->
gëSli˚
(0)->
gëNÆUnôTy≥
(Ë=
NAL_UNIT_CODED_SLICE_RADL_R
)

965 
as£π
(
ΩcPic
->
gëPOC
(Ë> 
this
->getPOC());

972 if(
	g«lUnôTy≥
 =
NAL_UNIT_CODED_SLICE_RASL_N
 ||

973 
«lUnôTy≥
 =
NAL_UNIT_CODED_SLICE_RASL_R
)

975 if(
this
->
gëAssocüãdIRAPTy≥
(Ë=
NAL_UNIT_CODED_SLICE_CRA
)

977 if(
ΩcPic
->
gëSli˚
(0)->
gëPOC
(Ë< 
this
->
gëAssocüãdIRAPPOC
() &&

978 (
ΩcPic
->
gëSli˚
(0)->
gëNÆUnôTy≥
(Ë=
NAL_UNIT_CODED_SLICE_BLA_N_LP
 ||

979 
ΩcPic
->
gëSli˚
(0)->
gëNÆUnôTy≥
(Ë=
NAL_UNIT_CODED_SLICE_BLA_W_LP
 ||

980 
ΩcPic
->
gëSli˚
(0)->
gëNÆUnôTy≥
(Ë=
NAL_UNIT_CODED_SLICE_BLA_W_RADL
 ||

981 
ΩcPic
->
gëSli˚
(0)->
gëNÆUnôTy≥
(Ë=
NAL_UNIT_CODED_SLICE_IDR_N_LP
 ||

982 
ΩcPic
->
gëSli˚
(0)->
gëNÆUnôTy≥
(Ë=
NAL_UNIT_CODED_SLICE_IDR_W_RADL
 ||

983 
ΩcPic
->
gëSli˚
(0)->
gëNÆUnôTy≥
(Ë=
NAL_UNIT_CODED_SLICE_CRA
))

985 
as£π
(
this
->
gëPOC
(Ë> 
ΩcPic
->
gëSli˚
(0)->getPOC());

996 
Void
 
	gTComSli˚
::
≠∂yRe„ªn˚Pi˘uªSë
–
TComLi°
<
TComPic
*>& 
rcLi°Pic
, c⁄° 
TComRe„ªn˚Pi˘uªSë
 *
pRe„ªn˚Pi˘uªSë
)

998 
TComPic
* 
	gΩcPic
;

999 
I¡
 
	gi
, 
	gisRe„ªn˚
;

1001 
checkLódögPi˘uªRe°ri˘i⁄s
(
rcLi°Pic
);

1004 
	gTComLi°
<
	gTComPic
*>::
ôî©‹
 
ôîPic
 = 
rcLi°Pic
.
begö
();

1005  
	gôîPic
 !
rcLi°Pic
.
íd
())

1007 
ΩcPic
 = *(
ôîPic
++);

1009 if(!
	gΩcPic
->
gëSli˚
–0 )->
isRe„ªn˚d
())

1014 
	gisRe„ªn˚
 = 0;

1017 
	gi
=0;i<
	gpRe„ªn˚Pi˘uªSë
->
gëNumbîOfPosôivePi˘uªs
()+pRe„ªn˚Pi˘uªSë->
gëNumbîOfNeg©ivePi˘uªs
();i++)

1019 if(!
	gΩcPic
->
gëIsL⁄gTîm
(Ë&&ÑpcPic->
gëPicSym
()->
gëSli˚
(0)->
gëPOC
(Ë=
this
->gëPOC(Ë+ 
pRe„ªn˚Pi˘uªSë
->
gëDñèPOC
(
i
))

1021 
isRe„ªn˚
 = 1;

1022 
	gΩcPic
->
£tU£dByCuº
(
pRe„ªn˚Pi˘uªSë
->
gëU£d
(
i
));

1023 
	gΩcPic
->
£tIsL⁄gTîm
(0);

1026 ;
	gi
<
	gpRe„ªn˚Pi˘uªSë
->
gëNumbîOfPi˘uªs
();i++)

1028 if(
	gpRe„ªn˚Pi˘uªSë
->
gëCheckLTMSBPª£¡
(
i
)==
åue
)

1030 if(
ΩcPic
->
gëIsL⁄gTîm
(Ë&& (ΩcPic->
gëPicSym
()->
gëSli˚
(0)->
gëPOC
()Ë=
pRe„ªn˚Pi˘uªSë
->gëPOC(
i
))

1032 
isRe„ªn˚
 = 1;

1033 
	gΩcPic
->
£tU£dByCuº
(
pRe„ªn˚Pi˘uªSë
->
gëU£d
(
i
));

1038 
I¡
 
	gpocCy˛e
 = 1<<
ΩcPic
->
gëPicSym
()->
gëSli˚
(0)->
gëSPS
()->
gëBôsF‹POC
();

1039 
I¡
 
	gcurPoc
 = 
ΩcPic
->
gëPicSym
()->
gëSli˚
(0)->
gëPOC
(Ë& (
pocCy˛e
-1);

1040 
I¡
 
	gªfPoc
 = 
pRe„ªn˚Pi˘uªSë
->
gëPOC
(
i
Ë& (
pocCy˛e
-1);

1041 if(
	gΩcPic
->
gëIsL⁄gTîm
(Ë&& 
	gcurPoc
 =
ªfPoc
)

1043 
isRe„ªn˚
 = 1;

1044 
	gΩcPic
->
£tU£dByCuº
(
pRe„ªn˚Pi˘uªSë
->
gëU£d
(
i
));

1051 if(
	gΩcPic
->
gëPicSym
()->
gëSli˚
(0)->
gëPOC
(Ë!
this
->gëPOC(Ë&& 
isRe„ªn˚
 == 0)

1053 
ΩcPic
->
gëSli˚
–0 )->
£tRe„ªn˚d
–
Ál£
 );

1054 
	gΩcPic
->
£tU£dByCuº
(0);

1055 
	gΩcPic
->
£tIsL⁄gTîm
(0);

1058 
as£π
(
ΩcPic
->
gëSli˚
–0 )->
isRe„ªn˚d
()==0||ΩcPic->
gëU£dByCuº
()==0||ΩcPic->
gëTLayî
()<=
this
->getTLayer());

1060 if(
	gthis
->
gëNÆUnôTy≥
(Ë=
NAL_UNIT_CODED_SLICE_TSA_R
 || 
this
->gëNÆUnôTy≥(Ë=
NAL_UNIT_CODED_SLICE_TSA_N
)

1062 
as£π
(
ΩcPic
->
gëSli˚
–0 )->
isRe„ªn˚d
()==0||ΩcPic->
gëTLayî
()<
this
->getTLayer());

1065 if(
	gΩcPic
->
gëPicSym
()->
gëSli˚
(0)->
gëPOC
(Ë!
this
->gëPOC(Ë&& 
ΩcPic
->
gëTLayî
()==this->getTLayer())

1067 
as£π
(
ΩcPic
->
gëSli˚
–0 )->
isRe„ªn˚d
()==0||ΩcPic->
gëU£dByCuº
()==0||ΩcPic->gëSli˚–0 )->
gëTemp‹ÆLayîN⁄Re„ªn˚Fœg
()==
Ál£
);

1074 
I¡
 
	gTComSli˚
::
checkTh©AŒRefPicsAªAvaûabÀ
–
TComLi°
<
TComPic
*>& 
rcLi°Pic
, c⁄° 
TComRe„ªn˚Pi˘uªSë
 *
pRe„ªn˚Pi˘uªSë
, 
Boﬁ
 
¥ötEº‹s
, I¡ 
pocR™domAc˚ss
, Boﬁ 
bU£RecovîyPoöt
)

1076 
I¡
 
	g©Ló°O√U«bÀdByRecovîyPoöt
 = 0;

1077 
I¡
 
	g©Ló°O√FlushedByPªviousIDR
 = 0;

1078 
TComPic
* 
	gΩcPic
;

1079 
I¡
 
	gi
, 
	gisAvaûabÀ
;

1080 
I¡
 
	g©Ló°O√Lo°
 = 0;

1081 
I¡
 
	g©Ló°O√Removed
 = 0;

1082 
I¡
 
	giPocLo°
 = 0;

1086 
	gi
=
pRe„ªn˚Pi˘uªSë
->
gëNumbîOfNeg©ivePi˘uªs
()+pRe„ªn˚Pi˘uªSë->
gëNumbîOfPosôivePi˘uªs
();i<
	gpRe„ªn˚Pi˘uªSë
->
gëNumbîOfPi˘uªs
();i++)

1088 
	gisAvaûabÀ
 = 0;

1090 
	gTComLi°
<
	gTComPic
*>::
ôî©‹
 
ôîPic
 = 
rcLi°Pic
.
begö
();

1091  
	gôîPic
 !
rcLi°Pic
.
íd
())

1093 
ΩcPic
 = *(
ôîPic
++);

1094 if(
	gpRe„ªn˚Pi˘uªSë
->
gëCheckLTMSBPª£¡
(
i
)==
åue
)

1096 if(
ΩcPic
->
gëIsL⁄gTîm
(Ë&& (ΩcPic->
gëPicSym
()->
gëSli˚
(0)->
gëPOC
()Ë=
pRe„ªn˚Pi˘uªSë
->gëPOC(
i
Ë&&ÑpcPic->gëSli˚(0)->
isRe„ªn˚d
())

1098 if(
bU£RecovîyPoöt
 && 
this
->
gëPOC
(Ë> 
pocR™domAc˚ss
 &&Åhis->gëPOC(Ë+ 
pRe„ªn˚Pi˘uªSë
->
gëDñèPOC
(
i
) <ÖocRandomAccess)

1100 
isAvaûabÀ
 = 0;

1104 
	gisAvaûabÀ
 = 1;

1110 
I¡
 
	gpocCy˛e
 = 1<<
ΩcPic
->
gëPicSym
()->
gëSli˚
(0)->
gëSPS
()->
gëBôsF‹POC
();

1111 
I¡
 
	gcurPoc
 = 
ΩcPic
->
gëPicSym
()->
gëSli˚
(0)->
gëPOC
(Ë& (
pocCy˛e
-1);

1112 
I¡
 
	gªfPoc
 = 
pRe„ªn˚Pi˘uªSë
->
gëPOC
(
i
Ë& (
pocCy˛e
-1);

1113 if(
	gΩcPic
->
gëIsL⁄gTîm
(Ë&& 
	gcurPoc
 =
ªfPoc
 && 
ΩcPic
->
gëSli˚
(0)->
isRe„ªn˚d
())

1115 if(
bU£RecovîyPoöt
 && 
this
->
gëPOC
(Ë> 
pocR™domAc˚ss
 &&Åhis->gëPOC(Ë+ 
pRe„ªn˚Pi˘uªSë
->
gëDñèPOC
(
i
) <ÖocRandomAccess)

1117 
isAvaûabÀ
 = 0;

1121 
	gisAvaûabÀ
 = 1;

1127 if(!
	gisAvaûabÀ
)

1129 
	gôîPic
 = 
rcLi°Pic
.
begö
();

1130  
	gôîPic
 !
rcLi°Pic
.
íd
())

1132 
ΩcPic
 = *(
ôîPic
++);

1134 
I¡
 
	gpocCy˛e
 = 1 << 
ΩcPic
->
gëPicSym
()->
gëSli˚
(0)->
gëSPS
()->
gëBôsF‹POC
();

1135 
I¡
 
	gcurPoc
 = 
ΩcPic
->
gëPicSym
()->
gëSli˚
(0)->
gëPOC
();

1136 
I¡
 
	gªfPoc
 = 
pRe„ªn˚Pi˘uªSë
->
gëPOC
(
i
);

1137 i‡(!
	gpRe„ªn˚Pi˘uªSë
->
gëCheckLTMSBPª£¡
(
i
))

1139 
	gcurPoc
 = 
curPoc
 & (
pocCy˛e
 - 1);

1140 
	gªfPoc
 = 
ªfPoc
 & (
pocCy˛e
 - 1);

1143 i‡(
	gΩcPic
->
gëSli˚
(0)->
isRe„ªn˚d
(Ë&& 
	gcurPoc
 =
ªfPoc
)

1145 if(
bU£RecovîyPoöt
 && 
this
->
gëPOC
(Ë> 
pocR™domAc˚ss
 &&Åhis->gëPOC(Ë+ 
pRe„ªn˚Pi˘uªSë
->
gëDñèPOC
(
i
) <ÖocRandomAccess)

1147 
isAvaûabÀ
 = 0;

1151 
	gisAvaûabÀ
 = 1;

1152 
	gΩcPic
->
£tIsL⁄gTîm
(1);

1160 if(
	gisAvaûabÀ
 == 0)

1162 i‡(
this
->
gëPOC
(Ë+ 
pRe„ªn˚Pi˘uªSë
->
gëDñèPOC
(
i
Ë>
pocR™domAc˚ss
)

1164 if(!
pRe„ªn˚Pi˘uªSë
->
gëU£d
(
i
) )

1166 if(
¥ötEº‹s
)

1168 
¥ötf
("\nL⁄g-ãrmÑe„ªn˚Öi˘uª wôh POC = %3d sìm†tÿhavêbì¿ªmoved o∏nŸ c‹ª˘ly decoded.", 
this
->
gëPOC
(Ë+ 
pRe„ªn˚Pi˘uªSë
->
gëDñèPOC
(
i
));

1170 
	g©Ló°O√Removed
 = 1;

1174 if(
	g¥ötEº‹s
)

1176 
¥ötf
("\nL⁄g-ãrmÑe„ªn˚Öi˘uª wôh POC = %3d i†lo° o∏nŸ c‹ª˘ly decoded!", 
this
->
gëPOC
(Ë+ 
pRe„ªn˚Pi˘uªSë
->
gëDñèPOC
(
i
));

1178 
	g©Ló°O√Lo°
 = 1;

1179 
	giPocLo°
=
this
->
gëPOC
(Ë+ 
pRe„ªn˚Pi˘uªSë
->
gëDñèPOC
(
i
);

1182 if(
	gbU£RecovîyPoöt
 && 
	gthis
->
gëPOC
(Ë> 
	gpocR™domAc˚ss
)

1184 
	g©Ló°O√U«bÀdByRecovîyPoöt
 = 1;

1186 if(
	gbU£RecovîyPoöt
 && (
	gthis
->
gëAssocüãdIRAPTy≥
()==
NAL_UNIT_CODED_SLICE_IDR_N_LP
 || 
this
->gëAssocüãdIRAPTy≥()==
NAL_UNIT_CODED_SLICE_IDR_W_RADL
))

1188 
©Ló°O√FlushedByPªviousIDR
 = 1;

1194 
	gi
=0;i<
	gpRe„ªn˚Pi˘uªSë
->
gëNumbîOfNeg©ivePi˘uªs
()+pRe„ªn˚Pi˘uªSë->
gëNumbîOfPosôivePi˘uªs
();i++)

1196 
	gisAvaûabÀ
 = 0;

1198 
	gTComLi°
<
	gTComPic
*>::
ôî©‹
 
ôîPic
 = 
rcLi°Pic
.
begö
();

1199  
	gôîPic
 !
rcLi°Pic
.
íd
())

1201 
ΩcPic
 = *(
ôîPic
++);

1203 if(!
	gΩcPic
->
gëIsL⁄gTîm
(Ë&&ÑpcPic->
gëPicSym
()->
gëSli˚
(0)->
gëPOC
(Ë=
this
->gëPOC(Ë+ 
pRe„ªn˚Pi˘uªSë
->
gëDñèPOC
(
i
Ë&& 
ΩcPic
->gëSli˚(0)->
isRe„ªn˚d
())

1205 if(
bU£RecovîyPoöt
 && 
this
->
gëPOC
(Ë> 
pocR™domAc˚ss
 &&Åhis->gëPOC(Ë+ 
pRe„ªn˚Pi˘uªSë
->
gëDñèPOC
(
i
) <ÖocRandomAccess)

1207 
isAvaûabÀ
 = 0;

1211 
	gisAvaûabÀ
 = 1;

1217 if(
	gisAvaûabÀ
 == 0)

1219 i‡(
this
->
gëPOC
(Ë+ 
pRe„ªn˚Pi˘uªSë
->
gëDñèPOC
(
i
Ë>
pocR™domAc˚ss
)

1221 if(!
pRe„ªn˚Pi˘uªSë
->
gëU£d
(
i
) )

1223 if(
¥ötEº‹s
)

1225 
¥ötf
("\nSh‹t-ãrmÑe„ªn˚Öi˘uª wôh POC = %3d sìm†tÿhavêbì¿ªmoved o∏nŸ c‹ª˘ly decoded.", 
this
->
gëPOC
(Ë+ 
pRe„ªn˚Pi˘uªSë
->
gëDñèPOC
(
i
));

1227 
	g©Ló°O√Removed
 = 1;

1231 if(
	g¥ötEº‹s
)

1233 
¥ötf
("\nSh‹t-ãrmÑe„ªn˚Öi˘uª wôh POC = %3d i†lo° o∏nŸ c‹ª˘ly decoded!", 
this
->
gëPOC
(Ë+ 
pRe„ªn˚Pi˘uªSë
->
gëDñèPOC
(
i
));

1235 
	g©Ló°O√Lo°
 = 1;

1236 
	giPocLo°
=
this
->
gëPOC
(Ë+ 
pRe„ªn˚Pi˘uªSë
->
gëDñèPOC
(
i
);

1239 if(
	gbU£RecovîyPoöt
 && 
	gthis
->
gëPOC
(Ë> 
	gpocR™domAc˚ss
)

1241 
	g©Ló°O√U«bÀdByRecovîyPoöt
 = 1;

1243 if(
	gbU£RecovîyPoöt
 && (
	gthis
->
gëAssocüãdIRAPTy≥
()==
NAL_UNIT_CODED_SLICE_IDR_N_LP
 || 
this
->gëAssocüãdIRAPTy≥()==
NAL_UNIT_CODED_SLICE_IDR_W_RADL
))

1245 
©Ló°O√FlushedByPªviousIDR
 = 1;

1250 if(
	g©Ló°O√U«bÀdByRecovîyPoöt
 || 
	g©Ló°O√FlushedByPªviousIDR
)

1254 if(
	g©Ló°O√Lo°
)

1256  
	giPocLo°
+1;

1258 if(
	g©Ló°O√Removed
)

1270 
Void
 
	gTComSli˚
::
¸óãEx∂icôRe„ªn˚Pi˘uªSëFromRe„ªn˚
–
TComLi°
<
TComPic
*>& 
rcLi°Pic
, c⁄° 
TComRe„ªn˚Pi˘uªSë
 *
pRe„ªn˚Pi˘uªSë
, 
Boﬁ
 
isRAP
, 
I¡
 
pocR™domAc˚ss
, Boﬁ 
bU£RecovîyPoöt
, c⁄° Boﬁ 
bEfficõ¡FõldIRAPE«bÀd
)

1272 
TComPic
* 
	gΩcPic
;

1273 
I¡
 
	gi
, 
	gj
;

1274 
I¡
 
	gk
 = 0;

1275 
I¡
 
	gƒOfNeg©ivePi˘uªs
 = 0;

1276 
I¡
 
	gƒOfPosôivePi˘uªs
 = 0;

1277 
TComRe„ªn˚Pi˘uªSë
* 
	gpLoˇlRPS
 = 
this
->
gëLoˇlRPS
();

1278 (*
	gpLoˇlRPS
)=
TComRe„ªn˚Pi˘uªSë
();

1280 
Boﬁ
 
	gú≠IsInRPS
 = 
Ál£
;

1283 
	gi
=0;i<
	gpRe„ªn˚Pi˘uªSë
->
gëNumbîOfPi˘uªs
();i++)

1285 
	gj
 = 0;

1287 
	gTComLi°
<
	gTComPic
*>::
ôî©‹
 
ôîPic
 = 
rcLi°Pic
.
begö
();

1288  
	gôîPic
 !
rcLi°Pic
.
íd
())

1290 
j
++;

1291 
	gΩcPic
 = *(
ôîPic
++);

1293 if(
	gΩcPic
->
gëPicSym
()->
gëSli˚
(0)->
gëPOC
(Ë=
this
->gëPOC(Ë+ 
pRe„ªn˚Pi˘uªSë
->
gëDñèPOC
(
i
Ë&& 
ΩcPic
->gëSli˚(0)->
isRe„ªn˚d
())

1297 
pLoˇlRPS
->
£tDñèPOC
(
k
, 
pRe„ªn˚Pi˘uªSë
->
gëDñèPOC
(
i
));

1298 
	gpLoˇlRPS
->
£tU£d
(
k
, 
pRe„ªn˚Pi˘uªSë
->
gëU£d
(
i
Ë&& (!
isRAP
));

1299 i‡(
	gbEfficõ¡FõldIRAPE«bÀd
)

1301 
	gpLoˇlRPS
->
£tU£d
(
k
, 
pLoˇlRPS
->
gëU£d
(kË&& !(
bU£RecovîyPoöt
 && 
this
->
gëPOC
(Ë> 
pocR™domAc˚ss
 &&Åhis->gëPOC(Ë+ 
pRe„ªn˚Pi˘uªSë
->
gëDñèPOC
(
i
) <ÖocRandomAccess) );

1304 if(
	gpLoˇlRPS
->
gëDñèPOC
(
k
) < 0)

1306 
	gƒOfNeg©ivePi˘uªs
++;

1310 if(
	gbEfficõ¡FõldIRAPE«bÀd
 && 
	gΩcPic
->
gëPicSym
()->
gëSli˚
(0)->
gëPOC
(Ë=
this
->
gëAssocüãdIRAPPOC
() &&Åhis->getAssociatedIRAPPOC() ==Åhis->getPOC()+1)

1312 
ú≠IsInRPS
 = 
åue
;

1314 
	gƒOfPosôivePi˘uªs
++;

1316 
	gk
++;

1321 
Boﬁ
 
	gu£NewRPS
 = 
Ál£
;

1323 if(
	gbEfficõ¡FõldIRAPE«bÀd
 && 
	gm_pcPic
->
isFõld
(Ë&& !
	gú≠IsInRPS
)

1325 
	gTComLi°
<
	gTComPic
*>::
ôî©‹
 
ôîPic
 = 
rcLi°Pic
.
begö
();

1326  
	gôîPic
 !
rcLi°Pic
.
íd
())

1328 
ΩcPic
 = *(
ôîPic
++);

1329 if(
	gΩcPic
->
gëPicSym
()->
gëSli˚
(0)->
gëPOC
(Ë=
this
->
gëAssocüãdIRAPPOC
() &&Åhis->getAssociatedIRAPPOC() ==Åhis->getPOC()+1)

1331 
pLoˇlRPS
->
£tDñèPOC
(
k
, 1);

1332 
	gpLoˇlRPS
->
£tU£d
(
k
, 
åue
);

1333 
	gƒOfPosôivePi˘uªs
++;

1334 
	gk
 ++;

1335 
	gu£NewRPS
 = 
åue
;

1339 
	gpLoˇlRPS
->
£tNumbîOfNeg©ivePi˘uªs
(
ƒOfNeg©ivePi˘uªs
);

1340 
	gpLoˇlRPS
->
£tNumbîOfPosôivePi˘uªs
(
ƒOfPosôivePi˘uªs
);

1341 
	gpLoˇlRPS
->
£tNumbîOfPi˘uªs
(
ƒOfNeg©ivePi˘uªs
+
ƒOfPosôivePi˘uªs
);

1345 i‡(!
	gpRe„ªn˚Pi˘uªSë
->
gëI¡îRPSPªdi˘i⁄
(Ë|| 
	gu£NewRPS
 )

1347 
	gpLoˇlRPS
->
£tI¡îRPSPªdi˘i⁄
(
Ál£
);

1348 
	gpLoˇlRPS
->
£tNumRefIdc
(0);

1352 
I¡
 
	grIdx
 = 
this
->
gëRPSidx
(Ë- 
pRe„ªn˚Pi˘uªSë
->
gëDñèRIdxMöus1
() - 1;

1353 
I¡
 
	gdñèRPS
 = 
pRe„ªn˚Pi˘uªSë
->
gëDñèRPS
();

1354 c⁄° 
TComRe„ªn˚Pi˘uªSë
* 
	gpcRefRPS
 = 
this
->
gëSPS
()->
gëRPSLi°
()->
gëRe„ªn˚Pi˘uªSë
(
rIdx
);

1355 
I¡
 
	giRefPics
 = 
pcRefRPS
->
gëNumbîOfPi˘uªs
();

1356 
I¡
 
	giNewIdc
=0;

1357 
	gi
=0; i<
iRefPics
; i++)

1359 
I¡
 
	gdñèPOC
 = ((
i
 !
iRefPics
)? 
pcRefRPS
->
gëDñèPOC
(i) : 0);

1360 
I¡
 
	giRefIdc
 = 0;

1361 
	gj
=0; j < 
	gpLoˇlRPS
->
gëNumbîOfPi˘uªs
(); j++)

1363 i‡–(
	gdñèPOC
 + 
	gdñèRPS
Ë=
pLoˇlRPS
->
gëDñèPOC
(
j
))

1365 i‡(
pLoˇlRPS
->
gëU£d
(
j
))

1367 
iRefIdc
 = 1;

1371 
	giRefIdc
 = 2;

1375 
	gpLoˇlRPS
->
£tRefIdc
(
i
, 
iRefIdc
);

1376 
	giNewIdc
++;

1378 
	gpLoˇlRPS
->
£tI¡îRPSPªdi˘i⁄
(
åue
);

1379 
	gpLoˇlRPS
->
£tNumRefIdc
(
iNewIdc
);

1380 
	gpLoˇlRPS
->
£tDñèRPS
(
dñèRPS
);

1381 
	gpLoˇlRPS
->
£tDñèRIdxMöus1
(
pRe„ªn˚Pi˘uªSë
->
gëDñèRIdxMöus1
(Ë+ 
this
->
gëSPS
()->
gëRPSLi°
()->
gëNumbîOfRe„ªn˚Pi˘uªSës
(Ë-Åhis->
gëRPSidx
());

1384 
	gthis
->
£tRPS
(
pLoˇlRPS
);

1385 
	gthis
->
£tRPSidx
(-1);

1389 
Void
 
	gTComSli˚
::
	$gëWpAcDcP¨am
(
WPACDCP¨am
 *&
wp
)

1391 
wp
 = 
m_weightACDCP¨am
;

1392 
	}
}

1395 
Void
 
	gTComSli˚
::
	$öôWpAcDcP¨am
()

1397 
I¡
 
iComp
 = 0; iCom∞< 
MAX_NUM_COMPONENT
; iComp++ )

1399 
m_weightACDCP¨am
[
iComp
].
iAC
 = 0;

1400 
m_weightACDCP¨am
[
iComp
].
iDC
 = 0;

1402 
	}
}

1405 
Void
 
	gTComSli˚
::
	$gëWpSˇlög
–
RefPicLi°
 
e
, 
I¡
 
iRefIdx
, 
WPSˇlögP¨am
 *&
wp
 )

1407 
	`as£π
 (
e
<
NUM_REF_PIC_LIST_01
);

1408 
wp
 = 
m_weightPªdTabÀ
[
e
][
iRefIdx
];

1409 
	}
}

1412 
Void
 
	gTComSli˚
::
	$ª£tWpSˇlög
()

1414  
I¡
 
e
=0 ;É<
NUM_REF_PIC_LIST_01
 ;É++ )

1416  
I¡
 
i
=0 ; i<
MAX_NUM_REF
 ; i++ )

1418  
I¡
 
yuv
=0 ; yuv<
MAX_NUM_COMPONENT
 ; yuv++ )

1420 
WPSˇlögP¨am
 *
pwp
 = &(
m_weightPªdTabÀ
[
e
][
i
][
yuv
]);

1421 
pwp
->
bPª£¡Fœg
 = 
Ál£
;

1422 
pwp
->
uiLog2WeightDíom
 = 0;

1423 
pwp
->
uiLog2WeightDíom
 = 0;

1424 
pwp
->
iWeight
 = 1;

1425 
pwp
->
iOff£t
 = 0;

1429 
	}
}

1432 
Void
 
	gTComSli˚
::
	$öôWpSˇlög
(c⁄° 
TComSPS
 *
•s
)

1434 c⁄° 
Boﬁ
 
bU£HighPªcisi⁄Pªdi˘i⁄Weightög
 = 
•s
->
	`gëSpsR™geExãnsi⁄
().
	`gëHighPªcisi⁄Off£tsE«bÀdFœg
();

1435  
I¡
 
e
=0 ;É<
NUM_REF_PIC_LIST_01
 ;É++ )

1437  
I¡
 
i
=0 ; i<
MAX_NUM_REF
 ; i++ )

1439  
I¡
 
yuv
=0 ; yuv<
MAX_NUM_COMPONENT
 ; yuv++ )

1441 
WPSˇlögP¨am
 *
pwp
 = &(
m_weightPªdTabÀ
[
e
][
i
][
yuv
]);

1442 i‡–!
pwp
->
bPª£¡Fœg
 )

1445 
pwp
->
iWeight
 = (1 <<Öwp->
uiLog2WeightDíom
);

1446 
pwp
->
iOff£t
 = 0;

1449 c⁄° 
I¡
 
off£tSˇlögFa˘‹
 = 
bU£HighPªcisi⁄Pªdi˘i⁄Weightög
 ? 1 : (1 << (
•s
->
	`gëBôDïth
(
	`toCh™√lTy≥
(
	`Comp⁄ítID
(
yuv
)))-8));

1451 
pwp
->
w
 =Öwp->
iWeight
;

1452 
pwp
->
o
 =Öwp->
iOff£t
 * 
off£tSˇlögFa˘‹
;

1453 
pwp
->
shi·
 =Öwp->
uiLog2WeightDíom
;

1454 
pwp
->
round
 = (pwp->
uiLog2WeightDíom
>=1) ? (1 << (pwp->uiLog2WeightDenom-1)) : (0);

1458 
	}
}

1463 
	gTComVPS
::
	$TComVPS
()

1464 : 
	`m_VPSId
 ( 0)

1465 , 
	`m_uiMaxTLayîs
 ( 1)

1466 , 
	`m_uiMaxLayîs
 ( 1)

1467 , 
	`m_bTemp‹ÆIdNe°ögFœg
 (
Ál£
)

1468 , 
	`m_numHrdP¨amëîs
 ( 0)

1469 , 
	`m_maxNuhRe£rvedZîoLayîId
 ( 0)

1470 , 
	`m_hrdP¨amëîs
 ()

1471 , 
	`m_hrdOpSëIdx
 ()

1472 , 
	$m_˝rmsPª£¡Fœg
 ()

1475  
I¡
 
i
 = 0; i < 
MAX_TLAYER
; i++)

1477 
m_numRe‹dîPics
[
i
] = 0;

1478 
m_uiMaxDecPicBuf„rög
[
i
] = 1;

1479 
m_uiMaxL©ícyIn¸ó£
[
i
] = 0;

1481 
	}
}

1483 
	gTComVPS
::~
	$TComVPS
()

1485 
	}
}

1491 
TComSPSRExt
::
	$TComSPSRExt
()

1492 : 
	`m_å™sf‹mSkùRŸ©i⁄E«bÀdFœg
 (
Ál£
)

1493 , 
	`m_å™sf‹mSkùC⁄ãxtE«bÀdFœg
 (
Ál£
)

1495 , 
	`m_exãndedPªcisi⁄Pro˚ssögFœg
 (
Ál£
)

1496 , 
	`m_öåaSmoŸhögDißbÀdFœg
 (
Ál£
)

1497 , 
	`m_highPªcisi⁄Off£tsE«bÀdFœg
 (
Ál£
)

1498 , 
	`m_≥rsi°ítRi˚Ad≠èti⁄E«bÀdFœg
(
Ál£
)

1499 , 
	$m_ˇbacBy∑ssAlignmítE«bÀdFœg
 (
Ál£
)

1501 
UI¡
 
sig«ŒögModeIndex
 = 0; sig«ŒögModeIndex < 
NUMBER_OF_RDPCM_SIGNALLING_MODES
; signallingModeIndex++)

1503 
m_rdpcmE«bÀdFœg
[
sig«ŒögModeIndex
] = 
Ál£
;

1505 
	}
}

1507 
	gTComSPS
::
	$TComSPS
()

1508 : 
	`m_SPSId
 ( 0)

1509 , 
	`m_VPSId
 ( 0)

1510 , 
	`m_chromaF‹m©Idc
 (
CHROMA_420
)

1511 , 
	`m_uiMaxTLayîs
 ( 1)

1513 , 
	`m_picWidthInLumaSam∂es
 (352)

1514 , 
	`m_picHeightInLumaSam∂es
 (288)

1515 , 
	`m_log2MöCodögBlockSize
 ( 0)

1516 , 
	`m_log2DiffMaxMöCodögBlockSize
(0)

1517 , 
	`m_uiMaxCUWidth
 ( 32)

1518 , 
	`m_uiMaxCUHeight
 ( 32)

1519 , 
	`m_uiMaxTŸÆCUDïth
 ( 3)

1520 , 
	`m_bL⁄gTîmRefsPª£¡
 (
Ál£
)

1521 , 
	`m_uiQuadåìTULog2MaxSize
 ( 0)

1522 , 
	`m_uiQuadåìTULog2MöSize
 ( 0)

1523 , 
	`m_uiQuadåìTUMaxDïthI¡î
 ( 0)

1524 , 
	`m_uiQuadåìTUMaxDïthI¡ø
 ( 0)

1526 , 
	`m_u£PCM
 (
Ál£
)

1527 , 
	`m_pcmLog2MaxSize
 ( 5)

1528 , 
	`m_uiPCMLog2MöSize
 ( 7)

1529 , 
	`m_bPCMFûãrDißbÀFœg
 (
Ál£
)

1530 , 
	`m_uiBôsF‹POC
 ( 8)

1531 , 
	`m_numL⁄gTîmRefPicSPS
 ( 0)

1532 , 
	`m_uiMaxTrSize
 ( 32)

1533 , 
	`m_bU£SAO
 (
Ál£
)

1534 , 
	`m_bTemp‹ÆIdNe°ögFœg
 (
Ál£
)

1535 , 
	`m_sˇlögLi°E«bÀdFœg
 (
Ál£
)

1536 , 
	`m_u£Så⁄gI¡øSmoŸhög
 (
Ál£
)

1537 , 
	`m_vuiP¨amëîsPª£¡Fœg
 (
Ál£
)

1538 , 
	$m_vuiP¨amëîs
 ()

1540 
I¡
 
ch
=0; ch<
MAX_NUM_CHANNEL_TYPE
; ch++)

1542 
m_bôDïths
.
ªc⁄
[
ch
] = 8;

1543 #i‡
O0043_BEST_EFFORT_DECODING


1544 
m_bôDïths
.
°ªam
[
ch
] = 8;

1546 
m_pcmBôDïths
[
ch
] = 8;

1547 
m_qpBDOff£t
 [
ch
] = 0;

1550  
I¡
 
i
 = 0; i < 
MAX_TLAYER
; i++ )

1552 
m_uiMaxL©ícyIn¸ó£Plus1
[
i
] = 0;

1553 
m_uiMaxDecPicBuf„rög
[
i
] = 1;

1554 
m_numRe‹dîPics
[
i
] = 0;

1557 ::
	`mem£t
(
m_…RefPicPocLsbSps
, 0, (m_ltRefPicPocLsbSps));

1558 ::
	`mem£t
(
m_u£dByCuºPicLtSPSFœg
, 0, (m_usedByCurrPicLtSPSFlag));

1559 
	}
}

1561 
	gTComSPS
::~
	$TComSPS
()

1563 
m_RPSLi°
.
	`de°roy
();

1564 
	}
}

1566 
Void
 
	gTComSPS
::
	$¸óãRPSLi°
–
I¡
 
numRPS
 )

1568 
m_RPSLi°
.
	`de°roy
();

1569 
m_RPSLi°
.
	`¸óã
(
numRPS
);

1570 
	}
}

1573 c⁄° 
I¡
 
	gTComSPS
::
m_wöUnôX
[]={1,2,2,1};

1574 c⁄° 
I¡
 
	gTComSPS
::
m_wöUnôY
[]={1,2,1,1};

1576 
	gTComPPSRExt
::
	$TComPPSRExt
()

1577 : 
	`m_log2MaxTønsf‹mSkùBlockSize
 (2)

1578 , 
	`m_¸ossComp⁄ítPªdi˘i⁄E«bÀdFœg
(
Ál£
)

1579 , 
	`m_diffCuChromaQpOff£tDïth
 (0)

1580 , 
	$m_chromaQpOff£tLi°Lí
 (0)

1584 
m_ChromaQpAdjTabÀIn˛udögNuŒE¡ry
[0].
u
.
comp
.
CbOff£t
 = 0;

1585 
m_ChromaQpAdjTabÀIn˛udögNuŒE¡ry
[0].
u
.
comp
.
CrOff£t
 = 0;

1586 
I¡
 
ch
=0; ch<
MAX_NUM_CHANNEL_TYPE
; ch++)

1588 
m_log2SaoOff£tSˇÀ
[
ch
] = 0;

1590 
	}
}

1592 
	gTComPPS
::
	$TComPPS
()

1593 : 
	`m_PPSId
 (0)

1594 , 
	`m_SPSId
 (0)

1595 , 
	`m_picInôQPMöus26
 (0)

1596 , 
	`m_u£DQP
 (
Ál£
)

1597 , 
	`m_bC⁄°øöedI¡øPªd
 (
Ál£
)

1598 , 
	`m_bSli˚ChromaQpFœg
 (
Ál£
)

1599 , 
	`m_uiMaxCuDQPDïth
 (0)

1600 , 
	`m_chromaCbQpOff£t
 (0)

1601 , 
	`m_chromaCrQpOff£t
 (0)

1602 , 
	`m_numRefIdxL0DeÁu…A˘ive
 (1)

1603 , 
	`m_numRefIdxL1DeÁu…A˘ive
 (1)

1604 , 
	`m_Tønsqu™tBy∑ssE«bÀdFœg
 (
Ál£
)

1605 , 
	`m_u£Tønsf‹mSkù
 (
Ál£
)

1606 , 
	`m_dïídítSli˚SegmítsE«bÀdFœg
(
Ál£
)

1607 , 
	`m_tûesE«bÀdFœg
 (
Ál£
)

1608 , 
	`m_íå›yCodögSyncE«bÀdFœg
 (
Ál£
)

1609 , 
	`m_lo›FûãrA¸ossTûesE«bÀdFœg
 (
åue
)

1610 , 
	`m_unif‹mS∑cögFœg
 (
Ál£
)

1611 , 
	`m_numTûeCﬁumnsMöus1
 (0)

1612 , 
	`m_numTûeRowsMöus1
 (0)

1613 , 
	`m_signD©aHidögE«bÀdFœg
 (
Ál£
)

1614 , 
	`m_ˇbacInôPª£¡Fœg
 (
Ál£
)

1615 , 
	`m_¶i˚HódîExãnsi⁄Pª£¡Fœg
 (
Ál£
)

1616 , 
	`m_lo›FûãrA¸ossSli˚sE«bÀdFœg
(
Ál£
)

1617 , 
	`m_li°sModifiˇti⁄Pª£¡Fœg
 (0)

1618 , 
	$m_numExåaSli˚HódîBôs
 (0)

1620 
	}
}

1622 
	gTComPPS
::~
	$TComPPS
()

1624 
	}
}

1626 
TComRe„ªn˚Pi˘uªSë
::
	$TComRe„ªn˚Pi˘uªSë
()

1627 : 
	`m_numbîOfPi˘uªs
 (0)

1628 , 
	`m_numbîOfNeg©ivePi˘uªs
 (0)

1629 , 
	`m_numbîOfPosôivePi˘uªs
 (0)

1630 , 
	`m_numbîOfL⁄gãrmPi˘uªs
 (0)

1631 , 
	`m_öãrRPSPªdi˘i⁄
 (0)

1632 , 
	`m_dñèRIdxMöus1
 (0)

1633 , 
	`m_dñèRPS
 (0)

1634 , 
	$m_numRefIdc
 (0)

1636 ::
	`mem£t
–
m_dñèPOC
, 0, (m_deltaPOC) );

1637 ::
	`mem£t
–
m_POC
, 0, (m_POC) );

1638 ::
	`mem£t
–
m_u£d
, 0, (m_used) );

1639 ::
	`mem£t
–
m_ªfIdc
, 0, (m_refIdc) );

1640 ::
	`mem£t
–
m_bCheckLTMSB
, 0, (m_bCheckLTMSB) );

1641 ::
	`mem£t
–
m_pocLSBLT
, 0, (m_pocLSBLT) );

1642 ::
	`mem£t
–
m_dñèPOCMSBCy˛eLT
, 0, (m_deltaPOCMSBCycleLT) );

1643 ::
	`mem£t
–
m_dñèPocMSBPª£¡Fœg
, 0, (m_deltaPocMSBPresentFlag) );

1644 
	}
}

1646 
	gTComRe„ªn˚Pi˘uªSë
::~
	$TComRe„ªn˚Pi˘uªSë
()

1648 
	}
}

1650 
Void
 
TComRe„ªn˚Pi˘uªSë
::
	$£tU£d
(
I¡
 
buf„rNum
, 
Boﬁ
 
u£d
)

1652 
m_u£d
[
buf„rNum
] = 
u£d
;

1653 
	}
}

1655 
Void
 
	gTComRe„ªn˚Pi˘uªSë
::
	$£tDñèPOC
(
I¡
 
buf„rNum
, I¡ 
dñèPOC
)

1657 
m_dñèPOC
[
buf„rNum
] = 
dñèPOC
;

1658 
	}
}

1660 
Void
 
	gTComRe„ªn˚Pi˘uªSë
::
	$£tNumbîOfPi˘uªs
(
I¡
 
numbîOfPi˘uªs
)

1662 
m_numbîOfPi˘uªs
 = 
numbîOfPi˘uªs
;

1663 
	}
}

1665 
I¡
 
	gTComRe„ªn˚Pi˘uªSë
::
	$gëU£d
(
I¡
 
buf„rNum
) const

1667  
m_u£d
[
buf„rNum
];

1668 
	}
}

1670 
I¡
 
	gTComRe„ªn˚Pi˘uªSë
::
	$gëDñèPOC
(
I¡
 
buf„rNum
) const

1672  
m_dñèPOC
[
buf„rNum
];

1673 
	}
}

1675 
I¡
 
	gTComRe„ªn˚Pi˘uªSë
::
	$gëNumbîOfPi˘uªs
() const

1677  
m_numbîOfPi˘uªs
;

1678 
	}
}

1680 
I¡
 
	gTComRe„ªn˚Pi˘uªSë
::
	$gëPOC
(
I¡
 
buf„rNum
) const

1682  
m_POC
[
buf„rNum
];

1683 
	}
}

1685 
Void
 
	gTComRe„ªn˚Pi˘uªSë
::
	$£tPOC
(
I¡
 
buf„rNum
, I¡ 
POC
)

1687 
m_POC
[
buf„rNum
] = 
POC
;

1688 
	}
}

1690 
Boﬁ
 
	gTComRe„ªn˚Pi˘uªSë
::
	$gëCheckLTMSBPª£¡
(
I¡
 
buf„rNum
) const

1692  
m_bCheckLTMSB
[
buf„rNum
];

1693 
	}
}

1695 
Void
 
	gTComRe„ªn˚Pi˘uªSë
::
	$£tCheckLTMSBPª£¡
(
I¡
 
buf„rNum
, 
Boﬁ
 
b
)

1697 
m_bCheckLTMSB
[
buf„rNum
] = 
b
;

1698 
	}
}

1701 
Void
 
	gTComRe„ªn˚Pi˘uªSë
::
	$£tRefIdc
(
I¡
 
buf„rNum
, I¡ 
ªfIdc
)

1703 
m_ªfIdc
[
buf„rNum
] = 
ªfIdc
;

1704 
	}
}

1707 
I¡
 
	gTComRe„ªn˚Pi˘uªSë
::
	$gëRefIdc
(
I¡
 
buf„rNum
) const

1709  
m_ªfIdc
[
buf„rNum
];

1710 
	}
}

1717 
Void
 
	gTComRe„ªn˚Pi˘uªSë
::
	$s‹tDñèPOC
()

1720 
I¡
 
j
=1; j < 
	`gëNumbîOfPi˘uªs
(); j++)

1722 
I¡
 
dñèPOC
 = 
	`gëDñèPOC
(
j
);

1723 
Boﬁ
 
u£d
 = 
	`gëU£d
(
j
);

1724 
I¡
 
k
=
j
-1; k >= 0; k--)

1726 
I¡
 
ãmp
 = 
	`gëDñèPOC
(
k
);

1727 i‡(
dñèPOC
 < 
ãmp
)

1729 
	`£tDñèPOC
(
k
+1, 
ãmp
);

1730 
	`£tU£d
(
k
+1, 
	`gëU£d
(k));

1731 
	`£tDñèPOC
(
k
, 
dñèPOC
);

1732 
	`£tU£d
(
k
, 
u£d
);

1737 
I¡
 
numNegPics
 = 
	`gëNumbîOfNeg©ivePi˘uªs
();

1738 
I¡
 
j
=0, 
k
=
numNegPics
-1; j <ÇumNegPics>>1; j++, k--)

1740 
I¡
 
dñèPOC
 = 
	`gëDñèPOC
(
j
);

1741 
Boﬁ
 
u£d
 = 
	`gëU£d
(
j
);

1742 
	`£tDñèPOC
(
j
, 
	`gëDñèPOC
(
k
));

1743 
	`£tU£d
(
j
, 
	`gëU£d
(
k
));

1744 
	`£tDñèPOC
(
k
, 
dñèPOC
);

1745 
	`£tU£d
(
k
, 
u£d
);

1747 
	}
}

1753 
Void
 
	gTComRe„ªn˚Pi˘uªSë
::
	$¥ötDñèPOC
() const

1755 
	`¥ötf
("DeltaPOC = { ");

1756 
I¡
 
j
=0; j < 
	`gëNumbîOfPi˘uªs
(); j++)

1758 
	`¥ötf
("%d%†", 
	`gëDñèPOC
(
j
), (
	`gëU£d
(j)==1)?"*":"");

1760 i‡(
	`gëI¡îRPSPªdi˘i⁄
())

1762 
	`¥ötf
("}, RefIdc = { ");

1763 
I¡
 
j
=0; j < 
	`gëNumRefIdc
(); j++)

1765 
	`¥ötf
("%d ", 
	`gëRefIdc
(
j
));

1768 
	`¥ötf
("}\n");

1769 
	}
}

1771 
	gTComRefPicLi°Modifiˇti⁄
::
	$TComRefPicLi°Modifiˇti⁄
()

1772 : 
	`m_ªfPicLi°Modifiˇti⁄FœgL0
 (
Ál£
)

1773 , 
	$m_ªfPicLi°Modifiˇti⁄FœgL1
 (
Ál£
)

1775 ::
	`mem£t
–
m_RefPicSëIdxL0
, 0, (m_RefPicSetIdxL0) );

1776 ::
	`mem£t
–
m_RefPicSëIdxL1
, 0, (m_RefPicSetIdxL1) );

1777 
	}
}

1779 
	gTComRefPicLi°Modifiˇti⁄
::~
	$TComRefPicLi°Modifiˇti⁄
()

1781 
	}
}

1783 
TComSˇlögLi°
::
	$TComSˇlögLi°
()

1785 
UI¡
 
sizeId
 = 0; sizeId < 
SCALING_LIST_SIZE_NUM
; sizeId++)

1787 
UI¡
 
li°Id
 = 0;Üi°Id < 
SCALING_LIST_NUM
;ÜistId++)

1789 
m_sˇlögLi°C€f
[
sizeId
][
li°Id
].
	`ªsize
(
mö
<
I¡
>(
MAX_MATRIX_COEF_NUM
,(I¡)
g_sˇlögLi°Size
[sizeId]));

1792 
	}
}

1796 
Void
 
	gTComSˇlögLi°
::
	$£tDeÁu…SˇlögLi°
()

1798 
UI¡
 
sizeId
 = 0; sizeId < 
SCALING_LIST_SIZE_NUM
; sizeId++)

1800 
UI¡
 
li°Id
=0;li°Id<
SCALING_LIST_NUM
;listId++)

1802 
	`¥o˚ssDeÁu…M©rix
(
sizeId
, 
li°Id
);

1805 
	}
}

1809 
Boﬁ
 
	gTComSˇlögLi°
::
	$checkDeÁu…SˇlögLi°
()

1811 
UI¡
 
deÁu…Cou¡î
=0;

1813 
UI¡
 
sizeId
 = 0; sizeId < 
SCALING_LIST_SIZE_NUM
; sizeId++)

1815 
UI¡
 
li°Id
=0;li°Id<
SCALING_LIST_NUM
;listId++)

1817 if–!
	`memcmp
(
	`gëSˇlögLi°Addªss
(
sizeId
,
li°Id
), 
	`gëSˇlögLi°DeÁu…Addªss
(sizeId,Üi°Id),(
I¡
)*
	`mö
(
MAX_MATRIX_COEF_NUM
,(I¡)
g_sˇlögLi°Size
[sizeId]))

1818 && ((
sizeId
 < 
SCALING_LIST_16x16
Ë|| (
	`gëSˇlögLi°DC
(sizeId,
li°Id
) == 16)))

1820 
deÁu…Cou¡î
++;

1825  (
deÁu…Cou¡î
 =(
SCALING_LIST_NUM
 * 
SCALING_LIST_SIZE_NUM
 )Ë? 
Ál£
 : 
åue
;

1826 
	}
}

1833 
Void
 
	gTComSˇlögLi°
::
	$¥o˚ssRefM©rix
–
UI¡
 
sizeId
, UI¡ 
li°Id
 , UI¡ 
ªfLi°Id
 )

1835 ::
	`mem˝y
(
	`gëSˇlögLi°Addªss
(
sizeId
, 
li°Id
),(÷i°Id =
ªfLi°Id
)? 
	`gëSˇlögLi°DeÁu…Addªss
(sizeId,ÑefLi°Id): gëSˇlögLi°Addªss(sizeId,ÑefLi°Id)),(
I¡
)*
	`mö
(
MAX_MATRIX_COEF_NUM
,(I¡)
g_sˇlögLi°Size
[sizeId]));

1836 
	}
}

1838 
Void
 
	gTComSˇlögLi°
::
	$checkPªdMode
(
UI¡
 
sizeId
, UI¡ 
li°Id
)

1840 
I¡
 
¥edLi°Sãp
 = (
sizeId
 =
SCALING_LIST_32x32
? (
SCALING_LIST_NUM
/
NUMBER_OF_PREDICTION_MODES
) : 1);

1842 
I¡
 
¥edLi°Idx
 = (I¡)
li°Id
 ;ÖªdLi°Idx >0;ÖªdLi°Idx-=
¥edLi°Sãp
)

1844 if–!
	`memcmp
(
	`gëSˇlögLi°Addªss
(
sizeId
,
li°Id
),(÷i°Id =
¥edLi°Idx
) ?

1845 
	`gëSˇlögLi°DeÁu…Addªss
(
sizeId
, 
¥edLi°Idx
): 
	`gëSˇlögLi°Addªss
(sizeId,ÖªdLi°Idx)),(
I¡
)*
	`mö
(
MAX_MATRIX_COEF_NUM
,(I¡)
g_sˇlögLi°Size
[sizeId]))

1846 && ((
sizeId
 < 
SCALING_LIST_16x16
Ë|| (
	`gëSˇlögLi°DC
(sizeId,
li°Id
Ë=gëSˇlögLi°DC(sizeId,
¥edLi°Idx
))))

1848 
	`£tRefM©rixId
(
sizeId
, 
li°Id
, 
¥edLi°Idx
);

1849 
	`£tSˇlögLi°PªdModeFœg
(
sizeId
, 
li°Id
, 
Ál£
);

1853 
	`£tSˇlögLi°PªdModeFœg
(
sizeId
, 
li°Id
, 
åue
);

1854 
	}
}

1856 
Void
 
	$ouçutSˇlögLi°Hñp
(
°d
::
o°ªam
 &
os
)

1858 
os
 << "The scalingÜist file specifiesáll matricesándÅheir DC values;Çone can be missing,\n"

1873 
os
 << "TheÖermitted matrixÇamesáre:\n";

1874 
UI¡
 
sizeIdc
 = 0; sizeId¯< 
SCALING_LIST_SIZE_NUM
; sizeIdc++)

1876 
UI¡
 
li°Idc
 = 0;Üi°Id¯< 
SCALING_LIST_NUM
;ÜistIdc++)

1878 i‡((
sizeIdc
!=
SCALING_LIST_32x32
Ë|| (
li°Idc
%(
SCALING_LIST_NUM
/
NUMBER_OF_PREDICTION_MODES
) == 0))

1880 
os
 << " " << 
M©rixTy≥
[
sizeIdc
][
li°Idc
] << '\n';

1884 
	}
}

1886 
Void
 
	gTComSˇlögLi°
::
	$ouçutSˇlögLi°s
(
°d
::
o°ªam
 &
os
) const

1888 
UI¡
 
sizeIdc
 = 0; sizeId¯< 
SCALING_LIST_SIZE_NUM
; sizeIdc++)

1890 c⁄° 
UI¡
 
size
 = 
	`mö
(8,4<<(
sizeIdc
));

1891 
UI¡
 
li°Idc
 = 0;Üi°Id¯< 
SCALING_LIST_NUM
;ÜistIdc++)

1893 i‡((
sizeIdc
!=
SCALING_LIST_32x32
Ë|| (
li°Idc
%(
SCALING_LIST_NUM
/
NUMBER_OF_PREDICTION_MODES
) == 0))

1895 c⁄° 
I¡
 *
§c
 = 
	`gëSˇlögLi°Addªss
(
sizeIdc
, 
li°Idc
);

1896 
os
 << (
M©rixTy≥
[
sizeIdc
][
li°Idc
]) << " =\n ";

1897 
UI¡
 
y
=0; y<
size
; y++)

1899 
UI¡
 
x
=0; x<
size
; x++, 
§c
++)

1901 
os
 << 
°d
::
	`£tw
(3Ë<< (*
§c
) << ", ";

1903 
os
 << (
y
+1<
size
?"\n ":"\n");

1905 if(
sizeIdc
 > 
SCALING_LIST_8x8
)

1907 
os
 << 
M©rixTy≥_DC
[
sizeIdc
][
li°Idc
] << " = \¿ " << 
°d
::
	`£tw
(3Ë<< 
	`gëSˇlögLi°DC
(sizeIdc,ÜistIdc) << "\n";

1909 
os
 << "\n";

1913 
	}
}

1915 
Boﬁ
 
	gTComSˇlögLi°
::
	$xP¨£SˇlögLi°
(c⁄° 
°d
::
°rög
 &
fûeName
)

1917 c⁄° 
I¡
 
LINE_SIZE
=1024;

1918 
FILE
 *
Â
 = 
NULL
;

1919 
TCh¨
 
löe
[
LINE_SIZE
];

1921 i‡(
fûeName
.
	`em±y
())

1923 
	`Ârötf
(
°dîr
, "Error:Ço scalingÜist file specified. Help on scalingÜists being output\n");

1924 
	`ouçutSˇlögLi°Hñp
(
°d
::
cout
);

1925 
°d
::
cout
 << "\n\nExample scalingÜist file using default values:\n\n";

1926 
	`ouçutSˇlögLi°s
(
°d
::
cout
);

1927 
	`exô
 (1);

1928  
åue
;

1930 i‡((
Â
 = 
	`f›í
(
fûeName
.
	`c_°r
(),"r")Ë=(
FILE
*)
NULL
)

1932 
	`Ârötf
(
°dîr
, "Eº‹: c™nŸ o≥¿sˇlögÜi° fûê%†f‹Ñódög\n", 
fûeName
.
	`c_°r
());

1933  
åue
;

1936 
UI¡
 
sizeIdc
 = 0; sizeId¯< 
SCALING_LIST_SIZE_NUM
; sizeIdc++)

1938 c⁄° 
UI¡
 
size
 = 
	`mö
(
MAX_MATRIX_COEF_NUM
,(
I¡
)
g_sˇlögLi°Size
[
sizeIdc
]);

1940 
UI¡
 
li°Idc
 = 0;Üi°Id¯< 
SCALING_LIST_NUM
;ÜistIdc++)

1942 
I¡
 * c⁄° 
§c
 = 
	`gëSˇlögLi°Addªss
(
sizeIdc
, 
li°Idc
);

1944 i‡((
sizeIdc
==
SCALING_LIST_32x32
Ë&& (
li°Idc
%(
SCALING_LIST_NUM
/
NUMBER_OF_PREDICTION_MODES
) != 0))

1946 c⁄° 
I¡
 *
§cNextSmÆÀrSize
 = 
	`gëSˇlögLi°Addªss
(
sizeIdc
-1, 
li°Idc
);

1947 
UI¡
 
i
=0; i<
size
; i++)

1949 
§c
[
i
] = 
§cNextSmÆÀrSize
[i];

1951 
	`£tSˇlögLi°DC
(
sizeIdc
,
li°Idc
,(sizeId¯> 
SCALING_LIST_8x8
Ë? 
	`gëSˇlögLi°DC
(sizeIdc-1,Üi°IdcË: 
§c
[0]);

1956 
	`f£ek
(
Â
, 0, 
SEEK_SET
);

1957 
Boﬁ
 
bFound
=
Ál£
;

1958 (!
	`„of
(
Â
)Ë&& (!
bFound
))

1960 
TCh¨
 *
ªt
 = 
	`fgës
(
löe
, 
LINE_SIZE
, 
Â
);

1961 
TCh¨
 *
födNamePosôi⁄

ªt
==
NULL
 ? NULL : 
	`°r°r
(
löe
, 
M©rixTy≥
[
sizeIdc
][
li°Idc
]);

1963 i‡(
födNamePosôi⁄
!
NULL
 && (
M©rixTy≥_DC
[
sizeIdc
][
li°Idc
]==NULL || 
	`°r°r
(
löe
, MatrixType_DC[sizeIdc][listIdc])==NULL))

1965 
bFound
=
åue
;

1968 i‡(!
bFound
)

1970 
	`Ârötf
(
°dîr
, "Eº‹: c™nŸ föd M©rix %†‰om sˇlögÜi° fûê%s\n", 
M©rixTy≥
[
sizeIdc
][
li°Idc
], 
fûeName
.
	`c_°r
());

1971  
åue
;

1974 
UI¡
 
i
=0; i<
size
; i++)

1976 
I¡
 
d©a
;

1977 i‡(
	`fsˇnf
(
Â
, "%d,", &
d©a
)!=1)

1979 
	`Ârötf
(
°dîr
, "Eº‹: c™nŸÑód vÆuê#%d f‹ M©rix %†‰om sˇlögÜi° fûê%†© fûêposôi⁄ %ld\n", 
i
, 
M©rixTy≥
[
sizeIdc
][
li°Idc
], 
fûeName
.
	`c_°r
(), 
	`·ñl
(
Â
));

1980  
åue
;

1982 i‡(
d©a
<0 || data>255)

1984 
	`Ârötf
(
°dîr
, "Eº‹: QM©rixÉ¡ry #%d o‡vÆuê%d f‹ M©rix %†‰om sˇlögÜi° fûê%†© fûêposôi⁄ %ld i†ouào‡øngê(0Åÿ255)\n", 
i
, 
d©a
, 
M©rixTy≥
[
sizeIdc
][
li°Idc
], 
fûeName
.
	`c_°r
(), 
	`·ñl
(
Â
));

1985  
åue
;

1987 
§c
[
i
] = 
d©a
;

1991 
	`£tSˇlögLi°DC
(
sizeIdc
,
li°Idc
,
§c
[0]);

1993 if(
sizeIdc
 > 
SCALING_LIST_8x8
)

1996 
	`f£ek
(
Â
, 0, 
SEEK_SET
);

1997 
Boﬁ
 
bFound
=
Ál£
;

1998 (!
	`„of
(
Â
)Ë&& (!
bFound
))

2000 
TCh¨
 *
ªt
 = 
	`fgës
(
löe
, 
LINE_SIZE
, 
Â
);

2001 
TCh¨
 *
födNamePosôi⁄

ªt
==
NULL
 ? NULL : 
	`°r°r
(
löe
, 
M©rixTy≥_DC
[
sizeIdc
][
li°Idc
]);

2002 i‡(
födNamePosôi⁄
!
NULL
)

2005 
bFound
=
åue
;

2008 i‡(!
bFound
)

2010 
	`Ârötf
(
°dîr
, "Eº‹: c™nŸ föd DC M©rix %†‰om sˇlögÜi° fûê%s\n", 
M©rixTy≥_DC
[
sizeIdc
][
li°Idc
], 
fûeName
.
	`c_°r
());

2011  
åue
;

2014 
I¡
 
d©a
;

2015 i‡(
	`fsˇnf
(
Â
, "%d,", &
d©a
)!=1)

2017 
	`Ârötf
(
°dîr
, "Eº‹: c™nŸÑód DC %†‰om sˇlögÜi° fûê%†© fûêposôi⁄ %ld\n", 
M©rixTy≥_DC
[
sizeIdc
][
li°Idc
], 
fûeName
.
	`c_°r
(), 
	`·ñl
(
Â
));

2018  
åue
;

2020 i‡(
d©a
<0 || data>255)

2022 
	`Ârötf
(
°dîr
, "Eº‹: DC vÆuê%d f‹ M©rix %†‰om sˇlögÜi° fûê%†© fûêposôi⁄ %ld i†ouào‡øngê(0Åÿ255)\n", 
d©a
, 
M©rixTy≥
[
sizeIdc
][
li°Idc
], 
fûeName
.
	`c_°r
(), 
	`·ñl
(
Â
));

2023  
åue
;

2026 
	`£tSˇlögLi°DC
(
sizeIdc
,
li°Idc
,
d©a
);

2034 
	`f˛o£
(
Â
);

2035  
Ál£
;

2036 
	}
}

2044 c⁄° 
I¡
* 
	gTComSˇlögLi°
::
	$gëSˇlögLi°DeÁu…Addªss
(
UI¡
 
sizeId
, UI¡ 
li°Id
)

2046 c⁄° 
I¡
 *
§c
 = 0;

2047 
sizeId
)

2049 
SCALING_LIST_4x4
:

2050 
§c
 = 
g_qu™tTSDeÁu…4x4
;

2052 
SCALING_LIST_8x8
:

2053 
SCALING_LIST_16x16
:

2054 
SCALING_LIST_32x32
:

2055 
§c
 = (
li°Id
 < (
SCALING_LIST_NUM
/
NUMBER_OF_PREDICTION_MODES
ËË? 
g_qu™tI¡øDeÁu…8x8
 : 
g_qu™tI¡îDeÁu…8x8
;

2058 
	`as£π
(0);

2059 
§c
 = 
NULL
;

2062  
§c
;

2063 
	}
}

2069 
Void
 
	gTComSˇlögLi°
::
	$¥o˚ssDeÁu…M©rix
(
UI¡
 
sizeId
, UI¡ 
li°Id
)

2071 ::
	`mem˝y
(
	`gëSˇlögLi°Addªss
(
sizeId
, 
li°Id
),
	`gëSˇlögLi°DeÁu…Addªss
(sizeId,li°Id),(
I¡
)*
	`mö
(
MAX_MATRIX_COEF_NUM
,(I¡)
g_sˇlögLi°Size
[sizeId]));

2072 
	`£tSˇlögLi°DC
(
sizeId
,
li°Id
,
SCALING_LIST_DC
);

2073 
	}
}

2077 
Void
 
	gTComSˇlögLi°
::
	$checkDcOfM©rix
()

2079 
UI¡
 
sizeId
 = 0; sizeId < 
SCALING_LIST_SIZE_NUM
; sizeId++)

2081 
UI¡
 
li°Id
 = 0;Üi°Id < 
SCALING_LIST_NUM
;ÜistId++)

2084 if(
	`gëSˇlögLi°DC
(
sizeId
,
li°Id
) == 0)

2086 
	`¥o˚ssDeÁu…M©rix
(
sizeId
, 
li°Id
);

2090 
	}
}

2092 
	gP¨amëîSëM™agî
::
	$P¨amëîSëM™agî
()

2093 : 
	`m_vpsM≠
(
MAX_NUM_VPS
)

2094 , 
	`m_•sM≠
(
MAX_NUM_SPS
)

2095 , 
	`m_µsM≠
(
MAX_NUM_PPS
)

2096 , 
	`m_a˘iveVPSId
(-1)

2097 , 
	`m_a˘iveSPSId
(-1)

2099 
	}
}

2102 
	gP¨amëîSëM™agî
::~
	$P¨amëîSëM™agî
()

2104 
	}
}

2135 
Boﬁ
 
P¨amëîSëM™agî
::
	$a˘iv©ePPS
(
I¡
 
µsId
, 
Boﬁ
 
isIRAP
)

2137 
TComPPS
 *
µs
 = 
m_µsM≠
.
	`gëPS
(
µsId
);

2138 i‡(
µs
)

2140 
I¡
 
•sId
 = 
µs
->
	`gëSPSId
();

2141 i‡(!
isIRAP
 && (
•sId
 !
m_a˘iveSPSId
 ))

2143 
	`¥ötf
("Warning:ÅriedÅoáctivate PPSÑeferringÅoá inactive SPSátÇon-IDR.");

2147 
TComSPS
 *
•s
 = 
m_•sM≠
.
	`gëPS
(
•sId
);

2148 i‡(
•s
)

2150 
I¡
 
vpsId
 = 
•s
->
	`gëVPSId
();

2151 i‡(!
isIRAP
 && (
vpsId
 !
m_a˘iveVPSId
 ))

2153 
	`¥ötf
("Warning:ÅriedÅoáctivate PPSÑeferringÅoá inactive VPSátÇon-IDR.");

2157 
TComVPS
 *
vps
 =
m_vpsM≠
.
	`gëPS
(
vpsId
);

2158 i‡(
vps
)

2160 
m_a˘iveVPSId
 = 
vpsId
;

2161 
m_a˘iveSPSId
 = 
•sId
;

2162  
åue
;

2166 
	`¥ötf
("Warning:ÅriedÅoáctivate PPSÅhatÑefersÅoáÇon-existing VPS.");

2172 
	`¥ötf
("Warning:ÅriedÅoáctivateá PPSÅhatÑefersÅoáÇon-existing SPS.");

2178 
	`¥ötf
("Warning:ÅriedÅoáctivateÇon-existing PPS.");

2182 
m_a˘iveSPSId
=-1;

2183 
m_a˘iveVPSId
=-1;

2184  
Ál£
;

2185 
	}
}

2187 
	gãm∂©e
 <>

2188 
Void
 
	gP¨amëîSëM≠
<
	gTComPPS
>::
	$£tID
(
TComPPS
* 
∑ømëîSë
, c⁄° 
I¡
 
psId
)

2190 
∑ømëîSë
->
	`£tPPSId
(
psId
);

2191 
	}
}

2193 
	gãm∂©e
 <>

2194 
Void
 
	gP¨amëîSëM≠
<
	gTComSPS
>::
	$£tID
(
TComSPS
* 
∑ømëîSë
, c⁄° 
I¡
 
psId
)

2196 
∑ømëîSë
->
	`£tSPSId
(
psId
);

2197 
	}
}

2199 
	gProfûeTõrLevñ
::
	$ProfûeTõrLevñ
()

2200 : 
	`m_¥ofûeS∑˚
 (0)

2201 , 
	`m_tõrFœg
 (
Levñ
::
MAIN
)

2202 , 
	`m_¥ofûeIdc
 (
Profûe
::
NONE
)

2203 , 
	`m_ÀvñIdc
 (
Levñ
::
NONE
)

2204 , 
	`m_¥ogªssiveSour˚Fœg
 (
Ál£
)

2205 , 
	`m_öãæa˚dSour˚Fœg
 (
Ál£
)

2206 , 
	`m_n⁄PackedC⁄°øötFœg
(
Ál£
)

2207 , 
	$m_‰ameO∆yC⁄°øötFœg
(
Ál£
)

2209 ::
	`mem£t
(
m_¥ofûeCom∑tibûôyFœg
, 0, (m_profileCompatibilityFlag));

2210 
	}
}

2212 
	gTComPTL
::
	$TComPTL
()

2214 ::
	`mem£t
(
m_subLayîProfûePª£¡Fœg
, 0, (m_subLayerProfilePresentFlag));

2215 ::
	`mem£t
(
m_subLayîLevñPª£¡Fœg
, 0, (m_subLayerLevelPresentFlag ));

2216 
	}
}

2218 
Void
 
ˇlcuœãP¨amëîSëCh™gedFœg
(
Boﬁ
 &
bCh™ged
, c⁄° 
°d
::
ve˘‹
<
UCh¨
> *
pOldD©a
, c⁄° std::ve˘‹<UCh¨> *
pNewD©a
)

2220 i‡(!
bCh™ged
)

2222 i‡((
pOldD©a
==0 && 
pNewD©a
!=0) || (pOldData!=0 &&ÖNewData==0))

2224 
bCh™ged
=
åue
;

2226 i‡(
	gpOldD©a
!=0 && 
pNewD©a
!=0)

2229 i‡(
pOldD©a
->
size
(Ë!
pNewD©a
->size())

2231 
bCh™ged
=
åue
;

2235 c⁄° 
UCh¨
 *
	gpNewD©aAºay
=&(*
pNewD©a
)[0];

2236 c⁄° 
UCh¨
 *
	gpOldD©aAºay
=&(*
pOldD©a
)[0];

2237 i‡(
memcmp
(
pOldD©aAºay
, 
pNewD©aAºay
, 
pOldD©a
->
size
()))

2239 
	gbCh™ged
=
åue
;

	@TComSlice.h

38 #i‚de‡
__TCOMSLICE__


39 
	#__TCOMSLICE__


	)

41 
	~<c°rög
>

42 
	~<m≠
>

43 
	~<ve˘‹
>

44 
	~"Comm⁄Def.h
"

45 
	~"TComRom.h
"

46 
	~"TComLi°.h
"

47 
	~"TComChromaF‹m©.h
"

52 
˛ass
 
	gTComPic
;

53 
˛ass
 
	gTComTrQu™t
;

58 c⁄° 
UI¡
 
	gREF_PIC_LIST_NUM_IDX
=32;

65 ˛as†
	cTComRe„ªn˚Pi˘uªSë


67 
	m¥iv©e
:

68 
I¡
 
m_numbîOfPi˘uªs
;

69 
I¡
 
	mm_numbîOfNeg©ivePi˘uªs
;

70 
I¡
 
	mm_numbîOfPosôivePi˘uªs
;

71 
I¡
 
	mm_numbîOfL⁄gãrmPi˘uªs
;

72 
I¡
 
	mm_dñèPOC
[
MAX_NUM_REF_PICS
];

73 
I¡
 
	mm_POC
[
MAX_NUM_REF_PICS
];

74 
Boﬁ
 
	mm_u£d
[
MAX_NUM_REF_PICS
];

75 
Boﬁ
 
	mm_öãrRPSPªdi˘i⁄
;

76 
I¡
 
	mm_dñèRIdxMöus1
;

77 
I¡
 
	mm_dñèRPS
;

78 
I¡
 
	mm_numRefIdc
;

79 
I¡
 
	mm_ªfIdc
[
MAX_NUM_REF_PICS
+1];

80 
Boﬁ
 
	mm_bCheckLTMSB
[
MAX_NUM_REF_PICS
];

81 
I¡
 
	mm_pocLSBLT
[
MAX_NUM_REF_PICS
];

82 
I¡
 
	mm_dñèPOCMSBCy˛eLT
[
MAX_NUM_REF_PICS
];

83 
Boﬁ
 
	mm_dñèPocMSBPª£¡Fœg
[
MAX_NUM_REF_PICS
];

85 
	mpublic
:

86 
TComRe„ªn˚Pi˘uªSë
();

87 
	mvútuÆ
 ~
TComRe„ªn˚Pi˘uªSë
();

88 
I¡
 
	$gëPocLSBLT
(
I¡
 
i
Ëc⁄° {  
m_pocLSBLT
[i]; }

89 
Void
 
	$£tPocLSBLT
(
I¡
 
i
, I¡ 
x
Ë{ 
m_pocLSBLT
[i] = x; 
	}
}

90 
I¡
 
	$gëDñèPocMSBCy˛eLT
(
I¡
 
i
Ëc⁄° {  
m_dñèPOCMSBCy˛eLT
[i]; 
	}
}

91 
Void
 
	$£tDñèPocMSBCy˛eLT
(
I¡
 
i
, I¡ 
x
Ë{ 
m_dñèPOCMSBCy˛eLT
[i] = x; 
	}
}

92 
Boﬁ
 
	$gëDñèPocMSBPª£¡Fœg
(
I¡
 
i
Ëc⁄° {  
m_dñèPocMSBPª£¡Fœg
[i]; 
	}
}

93 
Void
 
	$£tDñèPocMSBPª£¡Fœg
(
I¡
 
i
, 
Boﬁ
 
x
Ë{ 
m_dñèPocMSBPª£¡Fœg
[i] = x; 
	}
}

94 
Void
 
£tU£d
(
I¡
 
buf„rNum
, 
Boﬁ
 
u£d
);

95 
Void
 
£tDñèPOC
(
I¡
 
buf„rNum
, I¡ 
dñèPOC
);

96 
Void
 
£tPOC
(
I¡
 
buf„rNum
, I¡ 
dñèPOC
);

97 
Void
 
£tNumbîOfPi˘uªs
(
I¡
 
numbîOfPi˘uªs
);

98 
Void
 
£tCheckLTMSBPª£¡
(
I¡
 
buf„rNum
, 
Boﬁ
 
b
 );

99 
Boﬁ
 
	$gëCheckLTMSBPª£¡
(
I¡
 
buf„rNum
) const;

101 
I¡
 
	$gëU£d
(
I¡
 
buf„rNum
) const;

102 
I¡
 
	$gëDñèPOC
(
I¡
 
buf„rNum
) const;

103 
I¡
 
	$gëPOC
(
I¡
 
buf„rNum
) const;

104 
I¡
 
	$gëNumbîOfPi˘uªs
() const;

106 
Void
 
	$£tNumbîOfNeg©ivePi˘uªs
(
I¡
 
numbî
Ë{ 
m_numbîOfNeg©ivePi˘uªs
 =Çumbî; 
	}
}

107 
I¡
 
	$gëNumbîOfNeg©ivePi˘uªs
(Ëc⁄° {  
m_numbîOfNeg©ivePi˘uªs
; 
	}
}

108 
Void
 
	$£tNumbîOfPosôivePi˘uªs
(
I¡
 
numbî
Ë{ 
m_numbîOfPosôivePi˘uªs
 =Çumbî; 
	}
}

109 
I¡
 
	$gëNumbîOfPosôivePi˘uªs
(Ëc⁄° {  
m_numbîOfPosôivePi˘uªs
; 
	}
}

110 
Void
 
	$£tNumbîOfL⁄gãrmPi˘uªs
(
I¡
 
numbî
Ë{ 
m_numbîOfL⁄gãrmPi˘uªs
 =Çumbî; 
	}
}

111 
I¡
 
	$gëNumbîOfL⁄gãrmPi˘uªs
(Ëc⁄° {  
m_numbîOfL⁄gãrmPi˘uªs
; 
	}
}

113 
Void
 
	$£tI¡îRPSPªdi˘i⁄
(
Boﬁ
 
Êag
Ë{ 
m_öãrRPSPªdi˘i⁄
 = fœg; 
	}
}

114 
Boﬁ
 
	$gëI¡îRPSPªdi˘i⁄
(Ëc⁄° {  
m_öãrRPSPªdi˘i⁄
; 
	}
}

115 
Void
 
	$£tDñèRIdxMöus1
(
I¡
 
x
Ë{ 
m_dñèRIdxMöus1
 = x; 
	}
}

116 
I¡
 
	$gëDñèRIdxMöus1
(Ëc⁄° {  
m_dñèRIdxMöus1
; 
	}
}

117 
Void
 
	$£tDñèRPS
(
I¡
 
x
Ë{ 
m_dñèRPS
 = x; 
	}
}

118 
I¡
 
	$gëDñèRPS
(Ëc⁄° {  
m_dñèRPS
; 
	}
}

119 
Void
 
	$£tNumRefIdc
(
I¡
 
x
Ë{ 
m_numRefIdc
 = x; 
	}
}

120 
I¡
 
	$gëNumRefIdc
(Ëc⁄° {  
m_numRefIdc
; 
	}
}

122 
Void
 
£tRefIdc
(
I¡
 
buf„rNum
, I¡ 
ªfIdc
);

123 
I¡
 
	$gëRefIdc
(
I¡
 
buf„rNum
) const ;

125 
Void
 
	`s‹tDñèPOC
();

126 
Void
 
	$¥ötDñèPOC
() const;

127 
	}
};

130 ˛as†
	cTComRPSLi°


132 
	m¥iv©e
:

133 
°d
::
ve˘‹
<
TComRe„ªn˚Pi˘uªSë
> 
m_ª„ªn˚Pi˘uªSës
;

135 
	mpublic
:

136 
	$TComRPSLi°
() { }

137 
vútuÆ
 ~
	$TComRPSLi°
(Ë{ 
	}
}

139 
Void
 
	$¸óã
 (
I¡
 
numbîOfE¡rõs
Ë{ 
m_ª„ªn˚Pi˘uªSës
.
	`ªsize
“umbîOfE¡rõs); 
	}
}

140 
Void
 
	$de°roy
 (Ë{ 
	}
}

143 
TComRe„ªn˚Pi˘uªSë
* 
	$gëRe„ªn˚Pi˘uªSë
(
I¡
 
ª„ªn˚Pi˘uªSëNum
Ë{  &
m_ª„ªn˚Pi˘uªSës
[ª„ªn˚Pi˘uªSëNum]; 
	}
}

144 c⁄° 
TComRe„ªn˚Pi˘uªSë
* 
	$gëRe„ªn˚Pi˘uªSë
(
I¡
 
ª„ªn˚Pi˘uªSëNum
Ëc⁄° {  &
m_ª„ªn˚Pi˘uªSës
[ª„ªn˚Pi˘uªSëNum]; 
	}
}

146 
I¡
 
	$gëNumbîOfRe„ªn˚Pi˘uªSës
(Ëc⁄° {  
	`I¡
(
m_ª„ªn˚Pi˘uªSës
.
	`size
()); 
	}
}

150 ˛as†
	cTComSˇlögLi°


152 
	mpublic
:

153 
TComSˇlögLi°
();

154 
	mvútuÆ
 ~
	$TComSˇlögLi°
() { }

155 
I¡
* 
	$gëSˇlögLi°Addªss
(
UI¡
 
sizeId
, UI¡ 
li°Id
Ë{  &(
m_sˇlögLi°C€f
[sizeId][li°Id][0]); 
	}
}

156 c⁄° 
I¡
* 
	$gëSˇlögLi°Addªss
(
UI¡
 
sizeId
, UI¡ 
li°Id
Ëc⁄° {  &(
m_sˇlögLi°C€f
[sizeId][li°Id][0]); 
	}
}

157 
Void
 
checkPªdMode
(
UI¡
 
sizeId
, UI¡ 
li°Id
);

159 
Void
 
	$£tRefM©rixId
(
UI¡
 
sizeId
, UI¡ 
li°Id
, UI¡ 
u
Ë{ 
m_ªfM©rixId
[sizeId][li°Id] = u; 
	}
}

160 
UI¡
 
	$gëRefM©rixId
(
UI¡
 
sizeId
, UI¡ 
li°Id
Ëc⁄° {  
m_ªfM©rixId
[sizeId][li°Id]; 
	}
}

162 c⁄° 
I¡
* 
gëSˇlögLi°DeÁu…Addªss
(
UI¡
 
sizeId
, UI¡ 
li°Id
);

163 
Void
 
¥o˚ssDeÁu…M©rix
(
UI¡
 
sizeId
, UI¡ 
li°Id
);

165 
Void
 
	$£tSˇlögLi°DC
(
UI¡
 
sizeId
, UI¡ 
li°Id
, UI¡ 
u
Ë{ 
m_sˇlögLi°DC
[sizeId][li°Id] = u; 
	}
}

166 
I¡
 
	$gëSˇlögLi°DC
(
UI¡
 
sizeId
, UI¡ 
li°Id
Ëc⁄° {  
m_sˇlögLi°DC
[sizeId][li°Id]; 
	}
}

168 
Void
 
	$£tSˇlögLi°PªdModeFœg
(
UI¡
 
sizeId
, UI¡ 
li°Id
, 
Boﬁ
 
bIsDPCM
Ë{ 
m_sˇlögLi°PªdModeFœgIsDPCM
[sizeId][li°Id] = bIsDPCM; 
	}
}

169 
Boﬁ
 
	$gëSˇlögLi°PªdModeFœg
(
UI¡
 
sizeId
, UI¡ 
li°Id
Ëc⁄° {  
m_sˇlögLi°PªdModeFœgIsDPCM
[sizeId][li°Id]; 
	}
}

171 
Void
 
checkDcOfM©rix
();

172 
Void
 
¥o˚ssRefM©rix
(
UI¡
 
sizeId
, UI¡ 
li°Id
 , UI¡ 
ªfLi°Id
 );

173 
Boﬁ
 
xP¨£SˇlögLi°
(c⁄° 
°d
::
°rög
 &
fûeName
);

174 
Void
 
£tDeÁu…SˇlögLi°
();

175 
Boﬁ
 
checkDeÁu…SˇlögLi°
();

177 
	g¥iv©e
:

178 
Void
 
	$ouçutSˇlögLi°s
(
°d
::
o°ªam
 &
os
) const;

179 
Boﬁ
 
m_sˇlögLi°PªdModeFœgIsDPCM
 [
SCALING_LIST_SIZE_NUM
][
SCALING_LIST_NUM
];

180 
I¡
 
m_sˇlögLi°DC
 [
SCALING_LIST_SIZE_NUM
][
SCALING_LIST_NUM
];

181 
UI¡
 
m_ªfM©rixId
 [
SCALING_LIST_SIZE_NUM
][
SCALING_LIST_NUM
];

182 
°d
::
ve˘‹
<
I¡
> 
m_sˇlögLi°C€f
 [
SCALING_LIST_SIZE_NUM
][
SCALING_LIST_NUM
];

183 
	}
};

185 ˛as†
	cProfûeTõrLevñ


187 
I¡
 
	mm_¥ofûeS∑˚
;

188 
	mLevñ
::
Tõr
 
m_tõrFœg
;

189 
	mProfûe
::
Name
 
m_¥ofûeIdc
;

190 
Boﬁ
 
	mm_¥ofûeCom∑tibûôyFœg
[32];

191 
	mLevñ
::
Name
 
m_ÀvñIdc
;

193 
Boﬁ
 
	mm_¥ogªssiveSour˚Fœg
;

194 
Boﬁ
 
	mm_öãæa˚dSour˚Fœg
;

195 
Boﬁ
 
	mm_n⁄PackedC⁄°øötFœg
;

196 
Boﬁ
 
	mm_‰ameO∆yC⁄°øötFœg
;

197 
UI¡
 
	mm_bôDïthC⁄°øötVÆue
;

198 
ChromaF‹m©
 
	mm_chromaF‹m©C⁄°øötVÆue
;

199 
Boﬁ
 
	mm_öåaC⁄°øötFœg
;

200 
Boﬁ
 
	mm_⁄ePi˘uªO∆yC⁄°øötFœg
;

201 
Boﬁ
 
	mm_lowîBôR©eC⁄°øötFœg
;

203 
	mpublic
:

204 
ProfûeTõrLevñ
();

206 
I¡
 
	$gëProfûeS∑˚
(Ëc⁄° {  
m_¥ofûeS∑˚
; }

207 
Void
 
	$£tProfûeS∑˚
(
I¡
 
x
Ë{ 
m_¥ofûeS∑˚
 = x; 
	}
}

209 
	gLevñ
::
Tõr
 
	$gëTõrFœg
(Ëc⁄° {  
m_tõrFœg
; 
	}
}

210 
Void
 
	$£tTõrFœg
(
Levñ
::
Tõr
 
x
Ë{ 
m_tõrFœg
 = x; 
	}
}

212 
	gProfûe
::
Name
 
	$gëProfûeIdc
(Ëc⁄° {  
m_¥ofûeIdc
; 
	}
}

213 
Void
 
	$£tProfûeIdc
(
Profûe
::
Name
 
x
Ë{ 
m_¥ofûeIdc
 = x; 
	}
}

215 
Boﬁ
 
	$gëProfûeCom∑tibûôyFœg
(
I¡
 
i
Ëc⁄° {  
m_¥ofûeCom∑tibûôyFœg
[i]; 
	}
}

216 
Void
 
	$£tProfûeCom∑tibûôyFœg
(
I¡
 
i
, 
Boﬁ
 
x
Ë{ 
m_¥ofûeCom∑tibûôyFœg
[i] = x; 
	}
}

218 
	gLevñ
::
Name
 
	$gëLevñIdc
(Ëc⁄° {  
m_ÀvñIdc
; 
	}
}

219 
Void
 
	$£tLevñIdc
(
Levñ
::
Name
 
x
Ë{ 
m_ÀvñIdc
 = x; 
	}
}

221 
Boﬁ
 
	$gëProgªssiveSour˚Fœg
(Ëc⁄° {  
m_¥ogªssiveSour˚Fœg
; 
	}
}

222 
Void
 
	$£tProgªssiveSour˚Fœg
(
Boﬁ
 
b
Ë{ 
m_¥ogªssiveSour˚Fœg
 = b; 
	}
}

224 
Boﬁ
 
	$gëI¡îœ˚dSour˚Fœg
(Ëc⁄° {  
m_öãæa˚dSour˚Fœg
; 
	}
}

225 
Void
 
	$£tI¡îœ˚dSour˚Fœg
(
Boﬁ
 
b
Ë{ 
m_öãæa˚dSour˚Fœg
 = b; 
	}
}

227 
Boﬁ
 
	$gëN⁄PackedC⁄°øötFœg
(Ëc⁄° {  
m_n⁄PackedC⁄°øötFœg
; 
	}
}

228 
Void
 
	$£tN⁄PackedC⁄°øötFœg
(
Boﬁ
 
b
Ë{ 
m_n⁄PackedC⁄°øötFœg
 = b; 
	}
}

230 
Boﬁ
 
	$gëFømeO∆yC⁄°øötFœg
(Ëc⁄° {  
m_‰ameO∆yC⁄°øötFœg
; 
	}
}

231 
Void
 
	$£tFømeO∆yC⁄°øötFœg
(
Boﬁ
 
b
Ë{ 
m_‰ameO∆yC⁄°øötFœg
 = b; 
	}
}

233 
UI¡
 
	$gëBôDïthC⁄°øöt
(Ëc⁄° {  
m_bôDïthC⁄°øötVÆue
; 
	}
}

234 
Void
 
	$£tBôDïthC⁄°øöt
(
UI¡
 
bôDïth
Ë{ 
m_bôDïthC⁄°øötVÆue
=bôDïth; 
	}
}

236 
ChromaF‹m©
 
	$gëChromaF‹m©C⁄°øöt
(Ëc⁄° {  
m_chromaF‹m©C⁄°øötVÆue
; 
	}
}

237 
Void
 
	$£tChromaF‹m©C⁄°øöt
(
ChromaF‹m©
 
fmt
Ë{ 
m_chromaF‹m©C⁄°øötVÆue
=fmt; 
	}
}

239 
Boﬁ
 
	$gëI¡øC⁄°øötFœg
(Ëc⁄° {  
m_öåaC⁄°øötFœg
; 
	}
}

240 
Void
 
	$£tI¡øC⁄°øötFœg
(
Boﬁ
 
b
Ë{ 
m_öåaC⁄°øötFœg
 = b; 
	}
}

242 
Boﬁ
 
	$gëO√Pi˘uªO∆yC⁄°øötFœg
(Ëc⁄° {  
m_⁄ePi˘uªO∆yC⁄°øötFœg
;
	}
}

243 
Void
 
	$£tO√Pi˘uªO∆yC⁄°øötFœg
(
Boﬁ
 
b
Ë{ 
m_⁄ePi˘uªO∆yC⁄°øötFœg
 = b; 
	}
}

245 
Boﬁ
 
	$gëLowîBôR©eC⁄°øötFœg
(Ëc⁄° {  
m_lowîBôR©eC⁄°øötFœg
; 
	}
}

246 
Void
 
	$£tLowîBôR©eC⁄°øötFœg
(
Boﬁ
 
b
Ë{ 
m_lowîBôR©eC⁄°øötFœg
 = b; 
	}
}

250 ˛as†
	cTComPTL


252 
ProfûeTõrLevñ
 
	mm_gíîÆPTL
;

253 
ProfûeTõrLevñ
 
	mm_subLayîPTL
 [
MAX_TLAYER
-1];

254 
Boﬁ
 
	mm_subLayîProfûePª£¡Fœg
 [
MAX_TLAYER
-1];

255 
Boﬁ
 
	mm_subLayîLevñPª£¡Fœg
 [
MAX_TLAYER
-1];

257 
	mpublic
:

258 
TComPTL
();

259 
Boﬁ
 
	$gëSubLayîProfûePª£¡Fœg
(
I¡
 
i
Ëc⁄° {  
m_subLayîProfûePª£¡Fœg
[i]; }

260 
Void
 
	$£tSubLayîProfûePª£¡Fœg
(
I¡
 
i
, 
Boﬁ
 
x
Ë{ 
m_subLayîProfûePª£¡Fœg
[i] = x; 
	}
}

262 
Boﬁ
 
	$gëSubLayîLevñPª£¡Fœg
(
I¡
 
i
Ëc⁄° {  
m_subLayîLevñPª£¡Fœg
[i]; 
	}
}

263 
Void
 
	$£tSubLayîLevñPª£¡Fœg
(
I¡
 
i
, 
Boﬁ
 
x
Ë{ 
m_subLayîLevñPª£¡Fœg
[i] = x; 
	}
}

265 
ProfûeTõrLevñ
* 
	$gëGíîÆPTL
(Ë{  &
m_gíîÆPTL
; 
	}
}

266 c⁄° 
ProfûeTõrLevñ
* 
	$gëGíîÆPTL
(Ëc⁄° {  &
m_gíîÆPTL
; 
	}
}

267 
ProfûeTõrLevñ
* 
	$gëSubLayîPTL
(
I¡
 
i
Ë{  &
m_subLayîPTL
[i]; 
	}
}

268 c⁄° 
ProfûeTõrLevñ
* 
	$gëSubLayîPTL
(
I¡
 
i
Ëc⁄° {  &
m_subLayîPTL
[i]; 
	}
}

273 
	sHrdSubLayîInfo


275 
Boﬁ
 
	mfixedPicR©eFœg
;

276 
Boﬁ
 
	mfixedPicR©eWôhöCvsFœg
;

277 
UI¡
 
	mpicDuøti⁄InTcMöus1
;

278 
Boﬁ
 
	mlowDñayHrdFœg
;

279 
UI¡
 
	m˝bC¡Möus1
;

280 
UI¡
 
	mbôR©eVÆueMöus1
[
MAX_CPB_CNT
][2];

281 
UI¡
 
	m˝bSizeVÆue
 [
MAX_CPB_CNT
][2];

282 
UI¡
 
	mdu˝bSizeVÆue
 [
MAX_CPB_CNT
][2];

283 
Boﬁ
 
	mcbrFœg
 [
MAX_CPB_CNT
][2];

284 
UI¡
 
	mduBôR©eVÆue
 [
MAX_CPB_CNT
][2];

287 ˛as†
	cTComHRD


289 
	m¥iv©e
:

290 
Boﬁ
 
m_«lHrdP¨amëîsPª£¡Fœg
;

291 
Boﬁ
 
	mm_v˛HrdP¨amëîsPª£¡Fœg
;

292 
Boﬁ
 
	mm_subPicCpbP¨amsPª£¡Fœg
;

293 
UI¡
 
	mm_tickDivis‹Möus2
;

294 
UI¡
 
	mm_duCpbRemovÆDñayLígthMöus1
;

295 
Boﬁ
 
	mm_subPicCpbP¨amsInPicTimögSEIFœg
;

296 
UI¡
 
	mm_dpbOuçutDñayDuLígthMöus1
;

297 
UI¡
 
	mm_bôR©eSˇÀ
;

298 
UI¡
 
	mm_˝bSizeSˇÀ
;

299 
UI¡
 
	mm_du˝bSizeSˇÀ
;

300 
UI¡
 
	mm_öôülCpbRemovÆDñayLígthMöus1
;

301 
UI¡
 
	mm_˝bRemovÆDñayLígthMöus1
;

302 
UI¡
 
	mm_dpbOuçutDñayLígthMöus1
;

303 
HrdSubLayîInfo
 
	mm_HRD
[
MAX_TLAYER
];

305 
	mpublic
:

306 
	$TComHRD
()

307 :
	`m_«lHrdP¨amëîsPª£¡Fœg
 (0)

308 ,
	`m_v˛HrdP¨amëîsPª£¡Fœg
 (0)

309 ,
	`m_subPicCpbP¨amsPª£¡Fœg
 (
Ál£
)

310 ,
	`m_tickDivis‹Möus2
 (0)

311 ,
	`m_duCpbRemovÆDñayLígthMöus1
 (0)

312 ,
	`m_subPicCpbP¨amsInPicTimögSEIFœg
 (
Ál£
)

313 ,
	`m_dpbOuçutDñayDuLígthMöus1
 (0)

314 ,
	`m_bôR©eSˇÀ
 (0)

315 ,
	`m_˝bSizeSˇÀ
 (0)

316 ,
	`m_öôülCpbRemovÆDñayLígthMöus1
(23)

317 ,
	`m_˝bRemovÆDñayLígthMöus1
 (23)

318 ,
	$m_dpbOuçutDñayLígthMöus1
 (23)

321 
vútuÆ
 ~
	$TComHRD
(Ë{
	}
}

323 
Void
 
	$£tNÆHrdP¨amëîsPª£¡Fœg
–
Boﬁ
 
Êag
 ) { 
m_«lHrdP¨amëîsPª£¡Fœg
 = fœg; 
	}
}

324 
Boﬁ
 
	$gëNÆHrdP¨amëîsPª£¡Fœg
–Ëc⁄° {  
m_«lHrdP¨amëîsPª£¡Fœg
; 
	}
}

326 
Void
 
	$£tV˛HrdP¨amëîsPª£¡Fœg
–
Boﬁ
 
Êag
 ) { 
m_v˛HrdP¨amëîsPª£¡Fœg
 = fœg; 
	}
}

327 
Boﬁ
 
	$gëV˛HrdP¨amëîsPª£¡Fœg
–Ëc⁄° {  
m_v˛HrdP¨amëîsPª£¡Fœg
; 
	}
}

329 
Void
 
	$£tSubPicCpbP¨amsPª£¡Fœg
–
Boﬁ
 
Êag
 ) { 
m_subPicCpbP¨amsPª£¡Fœg
 = fœg; 
	}
}

330 
Boﬁ
 
	$gëSubPicCpbP¨amsPª£¡Fœg
–Ëc⁄° {  
m_subPicCpbP¨amsPª£¡Fœg
; 
	}
}

332 
Void
 
	$£tTickDivis‹Möus2
–
UI¡
 
vÆue
 ) { 
m_tickDivis‹Möus2
 = vÆue; 
	}
}

333 
UI¡
 
	$gëTickDivis‹Möus2
–Ëc⁄° {  
m_tickDivis‹Möus2
; 
	}
}

335 
Void
 
	$£tDuCpbRemovÆDñayLígthMöus1
–
UI¡
 
vÆue
 ) { 
m_duCpbRemovÆDñayLígthMöus1
 = vÆue; 
	}
}

336 
UI¡
 
	$gëDuCpbRemovÆDñayLígthMöus1
–Ëc⁄° {  
m_duCpbRemovÆDñayLígthMöus1
; 
	}
}

338 
Void
 
	$£tSubPicCpbP¨amsInPicTimögSEIFœg
–
Boﬁ
 
Êag
Ë{ 
m_subPicCpbP¨amsInPicTimögSEIFœg
 = fœg; 
	}
}

339 
Boﬁ
 
	$gëSubPicCpbP¨amsInPicTimögSEIFœg
–Ëc⁄° {  
m_subPicCpbP¨amsInPicTimögSEIFœg
; 
	}
}

341 
Void
 
	$£tDpbOuçutDñayDuLígthMöus1
(
UI¡
 
vÆue
 ) { 
m_dpbOuçutDñayDuLígthMöus1
 = vÆue; 
	}
}

342 
UI¡
 
	$gëDpbOuçutDñayDuLígthMöus1
–Ëc⁄° {  
m_dpbOuçutDñayDuLígthMöus1
; 
	}
}

344 
Void
 
	$£tBôR©eSˇÀ
–
UI¡
 
vÆue
 ) { 
m_bôR©eSˇÀ
 = vÆue; 
	}
}

345 
UI¡
 
	$gëBôR©eSˇÀ
–Ëc⁄° {  
m_bôR©eSˇÀ
; 
	}
}

347 
Void
 
	$£tCpbSizeSˇÀ
–
UI¡
 
vÆue
 ) { 
m_˝bSizeSˇÀ
 = vÆue; 
	}
}

348 
UI¡
 
	$gëCpbSizeSˇÀ
–Ëc⁄° {  
m_˝bSizeSˇÀ
; 
	}
}

349 
Void
 
	$£tDuCpbSizeSˇÀ
–
UI¡
 
vÆue
 ) { 
m_du˝bSizeSˇÀ
 = vÆue; 
	}
}

350 
UI¡
 
	$gëDuCpbSizeSˇÀ
–Ëc⁄° {  
m_du˝bSizeSˇÀ
; 
	}
}

352 
Void
 
	$£tInôülCpbRemovÆDñayLígthMöus1
–
UI¡
 
vÆue
 ) { 
m_öôülCpbRemovÆDñayLígthMöus1
 = vÆue; 
	}
}

353 
UI¡
 
	$gëInôülCpbRemovÆDñayLígthMöus1
–Ëc⁄° {  
m_öôülCpbRemovÆDñayLígthMöus1
; 
	}
}

355 
Void
 
	$£tCpbRemovÆDñayLígthMöus1
–
UI¡
 
vÆue
 ) { 
m_˝bRemovÆDñayLígthMöus1
 = vÆue; 
	}
}

356 
UI¡
 
	$gëCpbRemovÆDñayLígthMöus1
–Ëc⁄° {  
m_˝bRemovÆDñayLígthMöus1
; 
	}
}

358 
Void
 
	$£tDpbOuçutDñayLígthMöus1
–
UI¡
 
vÆue
 ) { 
m_dpbOuçutDñayLígthMöus1
 = vÆue; 
	}
}

359 
UI¡
 
	$gëDpbOuçutDñayLígthMöus1
–Ëc⁄° {  
m_dpbOuçutDñayLígthMöus1
; 
	}
}

361 
Void
 
	$£tFixedPicR©eFœg
–
I¡
 
œyî
, 
Boﬁ
 
Êag
 ) { 
m_HRD
[œyî].
fixedPicR©eFœg
 = fœg; 
	}
}

362 
Boﬁ
 
	$gëFixedPicR©eFœg
–
I¡
 
œyî
 ) c⁄° {  
m_HRD
[œyî].
fixedPicR©eFœg
; 
	}
}

364 
Void
 
	$£tFixedPicR©eWôhöCvsFœg
–
I¡
 
œyî
, 
Boﬁ
 
Êag
 ) { 
m_HRD
[œyî].
fixedPicR©eWôhöCvsFœg
 = fœg; 
	}
}

365 
Boﬁ
 
	$gëFixedPicR©eWôhöCvsFœg
–
I¡
 
œyî
 ) c⁄° {  
m_HRD
[œyî].
fixedPicR©eWôhöCvsFœg
; 
	}
}

367 
Void
 
	$£tPicDuøti⁄InTcMöus1
–
I¡
 
œyî
, 
UI¡
 
vÆue
 ) { 
m_HRD
[œyî].
picDuøti⁄InTcMöus1
 = vÆue; 
	}
}

368 
UI¡
 
	$gëPicDuøti⁄InTcMöus1
–
I¡
 
œyî
 ) c⁄° {  
m_HRD
[œyî].
picDuøti⁄InTcMöus1
; 
	}
}

370 
Void
 
	$£tLowDñayHrdFœg
–
I¡
 
œyî
, 
Boﬁ
 
Êag
 ) { 
m_HRD
[œyî].
lowDñayHrdFœg
 = fœg; 
	}
}

371 
Boﬁ
 
	$gëLowDñayHrdFœg
–
I¡
 
œyî
 ) c⁄° {  
m_HRD
[œyî].
lowDñayHrdFœg
; 
	}
}

373 
Void
 
	$£tCpbC¡Möus1
–
I¡
 
œyî
, 
UI¡
 
vÆue
 ) { 
m_HRD
[œyî].
˝bC¡Möus1
 = vÆue; 
	}
}

374 
UI¡
 
	$gëCpbC¡Möus1
–
I¡
 
œyî
 ) c⁄° {  
m_HRD
[œyî].
˝bC¡Möus1
; 
	}
}

376 
Void
 
	$£tBôR©eVÆueMöus1
–
I¡
 
œyî
, I¡ 
˝b˙t
, I¡ 
«lOrV˛
, 
UI¡
 
vÆue
 ) { 
m_HRD
[œyî].
bôR©eVÆueMöus1
[˝b˙t][«lOrV˛] = vÆue; 
	}
}

377 
UI¡
 
	$gëBôR©eVÆueMöus1
–
I¡
 
œyî
, I¡ 
˝b˙t
, I¡ 
«lOrV˛
 ) c⁄° {  
m_HRD
[œyî].
bôR©eVÆueMöus1
[˝b˙t][«lOrV˛]; 
	}
}

379 
Void
 
	$£tCpbSizeVÆueMöus1
–
I¡
 
œyî
, I¡ 
˝b˙t
, I¡ 
«lOrV˛
, 
UI¡
 
vÆue
 ) { 
m_HRD
[œyî].
˝bSizeVÆue
[˝b˙t][«lOrV˛] = vÆue; 
	}
}

380 
UI¡
 
	$gëCpbSizeVÆueMöus1
–
I¡
 
œyî
, I¡ 
˝b˙t
, I¡ 
«lOrV˛
 ) c⁄° {  
m_HRD
[œyî].
˝bSizeVÆue
[˝b˙t][«lOrV˛]; 
	}
}

381 
Void
 
	$£tDuCpbSizeVÆueMöus1
–
I¡
 
œyî
, I¡ 
˝b˙t
, I¡ 
«lOrV˛
, 
UI¡
 
vÆue
 ) { 
m_HRD
[œyî].
du˝bSizeVÆue
[˝b˙t][«lOrV˛] = vÆue; 
	}
}

382 
UI¡
 
	$gëDuCpbSizeVÆueMöus1
–
I¡
 
œyî
, I¡ 
˝b˙t
, I¡ 
«lOrV˛
 ) c⁄° {  
m_HRD
[œyî].
du˝bSizeVÆue
[˝b˙t][«lOrV˛]; 
	}
}

383 
Void
 
	$£tDuBôR©eVÆueMöus1
–
I¡
 
œyî
, I¡ 
˝b˙t
, I¡ 
«lOrV˛
, 
UI¡
 
vÆue
 ) { 
m_HRD
[œyî].
duBôR©eVÆue
[˝b˙t][«lOrV˛] = vÆue; 
	}
}

384 
UI¡
 
	$gëDuBôR©eVÆueMöus1
(
I¡
 
œyî
, I¡ 
˝b˙t
, I¡ 
«lOrV˛
 ) c⁄° {  
m_HRD
[œyî].
duBôR©eVÆue
[˝b˙t][«lOrV˛]; 
	}
}

385 
Void
 
	$£tCbrFœg
–
I¡
 
œyî
, I¡ 
˝b˙t
, I¡ 
«lOrV˛
, 
Boﬁ
 
vÆue
 ) { 
m_HRD
[œyî].
cbrFœg
[˝b˙t][«lOrV˛] = vÆue; 
	}
}

386 
Boﬁ
 
	$gëCbrFœg
–
I¡
 
œyî
, I¡ 
˝b˙t
, I¡ 
«lOrV˛
 ) c⁄° {  
m_HRD
[œyî].
cbrFœg
[˝b˙t][«lOrV˛]; 
	}
}

388 
Boﬁ
 
	$gëCpbDpbDñaysPª£¡Fœg
–Ëc⁄° {  
	`gëNÆHrdP¨amëîsPª£¡Fœg
(Ë|| 
	`gëV˛HrdP¨amëîsPª£¡Fœg
(); 
	}
}

391 ˛as†
	cTimögInfo


393 
Boﬁ
 
	mm_timögInfoPª£¡Fœg
;

394 
UI¡
 
	mm_numUnôsInTick
;

395 
UI¡
 
	mm_timeSˇÀ
;

396 
Boﬁ
 
	mm_pocPr›‹ti⁄ÆToTimögFœg
;

397 
I¡
 
	mm_numTicksPocDiffO√Möus1
;

398 
	mpublic
:

399 
	$TimögInfo
()

400 : 
	`m_timögInfoPª£¡Fœg
 (
Ál£
)

401 , 
	`m_numUnôsInTick
 (1001)

402 , 
	`m_timeSˇÀ
 (60000)

403 , 
	`m_pocPr›‹ti⁄ÆToTimögFœg
(
Ál£
)

404 , 
	$m_numTicksPocDiffO√Möus1
 (0)

407 
Void
 
	$£tTimögInfoPª£¡Fœg
–
Boﬁ
 
Êag
 ) { 
m_timögInfoPª£¡Fœg
 = fœg; 
	}
}

408 
Boﬁ
 
	$gëTimögInfoPª£¡Fœg
–Ëc⁄° {  
m_timögInfoPª£¡Fœg
; 
	}
}

410 
Void
 
	$£tNumUnôsInTick
–
UI¡
 
vÆue
 ) { 
m_numUnôsInTick
 = vÆue; 
	}
}

411 
UI¡
 
	$gëNumUnôsInTick
–Ëc⁄° {  
m_numUnôsInTick
; 
	}
}

413 
Void
 
	$£tTimeSˇÀ
–
UI¡
 
vÆue
 ) { 
m_timeSˇÀ
 = vÆue; 
	}
}

414 
UI¡
 
	$gëTimeSˇÀ
–Ëc⁄° {  
m_timeSˇÀ
; 
	}
}

416 
Void
 
	$£tPocPr›‹ti⁄ÆToTimögFœg
(
Boﬁ
 
x
Ë{ 
m_pocPr›‹ti⁄ÆToTimögFœg
 = x; 
	}
}

417 
Boﬁ
 
	$gëPocPr›‹ti⁄ÆToTimögFœg
–Ëc⁄° {  
m_pocPr›‹ti⁄ÆToTimögFœg
; 
	}
}

419 
Void
 
	$£tNumTicksPocDiffO√Möus1
(
I¡
 
x
Ë{ 
m_numTicksPocDiffO√Möus1
 = x; 
	}
}

420 
I¡
 
	$gëNumTicksPocDiffO√Möus1
–Ëc⁄° {  
m_numTicksPocDiffO√Möus1
; 
	}
}

423 
	sChromaQpAdj


428 
I¡
 
	mCbOff£t
;

429 
I¡
 
	mCrOff£t
;

430 } 
	mcomp
;

431 
I¡
 
	moff£t
[2];

432 } 
	mu
;

435 ˛as†
	cTComVPS


437 
	m¥iv©e
:

438 
I¡
 
m_VPSId
;

439 
UI¡
 
	mm_uiMaxTLayîs
;

440 
UI¡
 
	mm_uiMaxLayîs
;

441 
Boﬁ
 
	mm_bTemp‹ÆIdNe°ögFœg
;

443 
UI¡
 
	mm_numRe‹dîPics
[
MAX_TLAYER
];

444 
UI¡
 
	mm_uiMaxDecPicBuf„rög
[
MAX_TLAYER
];

445 
UI¡
 
	mm_uiMaxL©ícyIn¸ó£
[
MAX_TLAYER
];

447 
UI¡
 
	mm_numHrdP¨amëîs
;

448 
UI¡
 
	mm_maxNuhRe£rvedZîoLayîId
;

449 
	m°d
::
ve˘‹
<
TComHRD
> 
m_hrdP¨amëîs
;

450 
	m°d
::
ve˘‹
<
UI¡
> 
m_hrdOpSëIdx
;

451 
	m°d
::
ve˘‹
<
Boﬁ
> 
m_˝rmsPª£¡Fœg
;

452 
UI¡
 
	mm_numOpSës
;

453 
Boﬁ
 
	mm_œyîIdIn˛udedFœg
[
MAX_VPS_OP_SETS_PLUS1
][
MAX_VPS_NUH_RESERVED_ZERO_LAYER_ID_PLUS1
];

455 
TComPTL
 
	mm_pcPTL
;

456 
TimögInfo
 
	mm_timögInfo
;

458 
	mpublic
:

459 
TComVPS
();

461 
	mvútuÆ
 ~
TComVPS
();

463 
Void
 
	$¸óãHrdP¨amBuf„r
()

465 
m_hrdP¨amëîs
.
	`ªsize
(
	`gëNumHrdP¨amëîs
());

466 
m_hrdOpSëIdx
.
	`ªsize
(
	`gëNumHrdP¨amëîs
());

467 
m_˝rmsPª£¡Fœg
.
	`ªsize
(
	`gëNumHrdP¨amëîs
());

470 
TComHRD
* 
	$gëHrdP¨amëîs
–
UI¡
 
i
 ) {  &
m_hrdP¨amëîs
[ i ]; 
	}
}

471 c⁄° 
TComHRD
* 
	$gëHrdP¨amëîs
–
UI¡
 
i
 ) c⁄° {  &
m_hrdP¨amëîs
[ i ]; 
	}
}

472 
UI¡
 
	$gëHrdOpSëIdx
–
UI¡
 
i
 ) c⁄° {  
m_hrdOpSëIdx
[ i ]; 
	}
}

473 
Void
 
	$£tHrdOpSëIdx
–
UI¡
 
vÆ
, UI¡ 
i
 ) { 
m_hrdOpSëIdx
[ i ] = vÆ; 
	}
}

474 
Boﬁ
 
	$gëC¥msPª£¡Fœg
–
UI¡
 
i
 ) c⁄° {  
m_˝rmsPª£¡Fœg
[ i ]; 
	}
}

475 
Void
 
	$£tC¥msPª£¡Fœg
–
Boﬁ
 
vÆ
, 
UI¡
 
i
 ) { 
m_˝rmsPª£¡Fœg
[ i ] = vÆ; 
	}
}

477 
I¡
 
	$gëVPSId
(Ëc⁄° {  
m_VPSId
; 
	}
}

478 
Void
 
	$£tVPSId
(
I¡
 
i
Ë{ 
m_VPSId
 = i; 
	}
}

480 
UI¡
 
	$gëMaxTLayîs
(Ëc⁄° {  
m_uiMaxTLayîs
; 
	}
}

481 
Void
 
	$£tMaxTLayîs
(
UI¡
 
t
Ë{ 
m_uiMaxTLayîs
 =Å; 
	}
}

483 
UI¡
 
	$gëMaxLayîs
(Ëc⁄° {  
m_uiMaxLayîs
; 
	}
}

484 
Void
 
	$£tMaxLayîs
(
UI¡
 
l
Ë{ 
m_uiMaxLayîs
 =Ü; 
	}
}

486 
Boﬁ
 
	$gëTemp‹ÆNe°ögFœg
(Ëc⁄° {  
m_bTemp‹ÆIdNe°ögFœg
; 
	}
}

487 
Void
 
	$£tTemp‹ÆNe°ögFœg
(
Boﬁ
 
t
Ë{ 
m_bTemp‹ÆIdNe°ögFœg
 =Å; 
	}
}

489 
Void
 
	$£tNumRe‹dîPics
(
UI¡
 
v
, UI¡ 
tLayî
Ë{ 
m_numRe‹dîPics
[tLayî] = v; 
	}
}

490 
UI¡
 
	$gëNumRe‹dîPics
(
UI¡
 
tLayî
Ëc⁄° {  
m_numRe‹dîPics
[tLayî]; 
	}
}

492 
Void
 
	$£tMaxDecPicBuf„rög
(
UI¡
 
v
, UI¡ 
tLayî
Ë{ 
	`as£π
—Layî < 
MAX_TLAYER
); 
m_uiMaxDecPicBuf„rög
[tLayî] = v; 
	}
}

493 
UI¡
 
	$gëMaxDecPicBuf„rög
(
UI¡
 
tLayî
Ëc⁄° {  
m_uiMaxDecPicBuf„rög
[tLayî]; 
	}
}

495 
Void
 
	$£tMaxL©ícyIn¸ó£
(
UI¡
 
v
, UI¡ 
tLayî
Ë{ 
m_uiMaxL©ícyIn¸ó£
[tLayî] = v; 
	}
}

496 
UI¡
 
	$gëMaxL©ícyIn¸ó£
(
UI¡
 
tLayî
Ëc⁄° {  
m_uiMaxL©ícyIn¸ó£
[tLayî]; 
	}
}

498 
UI¡
 
	$gëNumHrdP¨amëîs
(Ëc⁄° {  
m_numHrdP¨amëîs
; 
	}
}

499 
Void
 
	$£tNumHrdP¨amëîs
(
UI¡
 
v
Ë{ 
m_numHrdP¨amëîs
 = v; 
	}
}

501 
UI¡
 
	$gëMaxNuhRe£rvedZîoLayîId
(Ëc⁄° {  
m_maxNuhRe£rvedZîoLayîId
; 
	}
}

502 
Void
 
	$£tMaxNuhRe£rvedZîoLayîId
(
UI¡
 
v
Ë{ 
m_maxNuhRe£rvedZîoLayîId
 = v; 
	}
}

504 
UI¡
 
	$gëMaxOpSës
(Ëc⁄° {  
m_numOpSës
; 
	}
}

505 
Void
 
	$£tMaxOpSës
(
UI¡
 
v
Ë{ 
m_numOpSës
 = v; 
	}
}

506 
Boﬁ
 
	$gëLayîIdIn˛udedFœg
(
UI¡
 
›sIdx
, UI¡ 
id
Ëc⁄° {  
m_œyîIdIn˛udedFœg
[›sIdx][id]; 
	}
}

507 
Void
 
	$£tLayîIdIn˛udedFœg
(
Boﬁ
 
v
, 
UI¡
 
›sIdx
, UI¡ 
id
Ë{ 
m_œyîIdIn˛udedFœg
[›sIdx][id] = v; 
	}
}

509 
TComPTL
* 
	$gëPTL
(Ë{  &
m_pcPTL
; 
	}
}

510 c⁄° 
TComPTL
* 
	$gëPTL
(Ëc⁄° {  &
m_pcPTL
; 
	}
}

511 
TimögInfo
* 
	$gëTimögInfo
(Ë{  &
m_timögInfo
; 
	}
}

512 c⁄° 
TimögInfo
* 
	$gëTimögInfo
(Ëc⁄° {  &
m_timögInfo
; 
	}
}

515 ˛as†
	cTComVUI


517 
	m¥iv©e
:

518 
Boﬁ
 
m_a•e˘R©ioInfoPª£¡Fœg
;

519 
I¡
 
	mm_a•e˘R©ioIdc
;

520 
I¡
 
	mm_ßrWidth
;

521 
I¡
 
	mm_ßrHeight
;

522 
Boﬁ
 
	mm_ovîsˇnInfoPª£¡Fœg
;

523 
Boﬁ
 
	mm_ovîsˇnAµr›rüãFœg
;

524 
Boﬁ
 
	mm_videoSig«lTy≥Pª£¡Fœg
;

525 
I¡
 
	mm_videoF‹m©
;

526 
Boﬁ
 
	mm_videoFuŒR™geFœg
;

527 
Boﬁ
 
	mm_cﬁourDes¸ùti⁄Pª£¡Fœg
;

528 
I¡
 
	mm_cﬁourPrim¨õs
;

529 
I¡
 
	mm_å™s„rCh¨a˘îi°ics
;

530 
I¡
 
	mm_m©rixC€fficõ¡s
;

531 
Boﬁ
 
	mm_chromaLocInfoPª£¡Fœg
;

532 
I¡
 
	mm_chromaSam∂eLocTy≥T›Fõld
;

533 
I¡
 
	mm_chromaSam∂eLocTy≥BŸtomFõld
;

534 
Boﬁ
 
	mm_√uåÆChromaIndiˇti⁄Fœg
;

535 
Boﬁ
 
	mm_fõldSeqFœg
;

536 
Wödow
 
	mm_deÁu…Di•œyWödow
;

537 
Boﬁ
 
	mm_‰ameFõldInfoPª£¡Fœg
;

538 
Boﬁ
 
	mm_hrdP¨amëîsPª£¡Fœg
;

539 
Boﬁ
 
	mm_bô°ªamRe°ri˘i⁄Fœg
;

540 
Boﬁ
 
	mm_tûesFixedSåu˘uªFœg
;

541 
Boﬁ
 
	mm_mŸi⁄Ve˘‹sOvîPicBound¨õsFœg
;

542 
Boﬁ
 
	mm_ª°ri˘edRefPicLi°sFœg
;

543 
I¡
 
	mm_möS∑tülSegmíèti⁄Idc
;

544 
I¡
 
	mm_maxByãsPîPicDíom
;

545 
I¡
 
	mm_maxBôsPîMöCuDíom
;

546 
I¡
 
	mm_log2MaxMvLígthH‹iz⁄èl
;

547 
I¡
 
	mm_log2MaxMvLígthVîtiˇl
;

548 
TComHRD
 
	mm_hrdP¨amëîs
;

549 
TimögInfo
 
	mm_timögInfo
;

551 
	mpublic
:

552 
	$TComVUI
()

553 : 
	`m_a•e˘R©ioInfoPª£¡Fœg
 (
Ál£
)

554 , 
	`m_a•e˘R©ioIdc
 (0)

555 , 
	`m_ßrWidth
 (0)

556 , 
	`m_ßrHeight
 (0)

557 , 
	`m_ovîsˇnInfoPª£¡Fœg
 (
Ál£
)

558 , 
	`m_ovîsˇnAµr›rüãFœg
 (
Ál£
)

559 , 
	`m_videoSig«lTy≥Pª£¡Fœg
 (
Ál£
)

560 , 
	`m_videoF‹m©
 (5)

561 , 
	`m_videoFuŒR™geFœg
 (
Ál£
)

562 , 
	`m_cﬁourDes¸ùti⁄Pª£¡Fœg
 (
Ál£
)

563 , 
	`m_cﬁourPrim¨õs
 (2)

564 , 
	`m_å™s„rCh¨a˘îi°ics
 (2)

565 , 
	`m_m©rixC€fficõ¡s
 (2)

566 , 
	`m_chromaLocInfoPª£¡Fœg
 (
Ál£
)

567 , 
	`m_chromaSam∂eLocTy≥T›Fõld
 (0)

568 , 
	`m_chromaSam∂eLocTy≥BŸtomFõld
 (0)

569 , 
	`m_√uåÆChromaIndiˇti⁄Fœg
 (
Ál£
)

570 , 
	`m_fõldSeqFœg
 (
Ál£
)

571 , 
	`m_‰ameFõldInfoPª£¡Fœg
 (
Ál£
)

572 , 
	`m_hrdP¨amëîsPª£¡Fœg
 (
Ál£
)

573 , 
	`m_bô°ªamRe°ri˘i⁄Fœg
 (
Ál£
)

574 , 
	`m_tûesFixedSåu˘uªFœg
 (
Ál£
)

575 , 
	`m_mŸi⁄Ve˘‹sOvîPicBound¨õsFœg
(
åue
)

576 , 
	`m_ª°ri˘edRefPicLi°sFœg
 (1)

577 , 
	`m_möS∑tülSegmíèti⁄Idc
 (0)

578 , 
	`m_maxByãsPîPicDíom
 (2)

579 , 
	`m_maxBôsPîMöCuDíom
 (1)

580 , 
	`m_log2MaxMvLígthH‹iz⁄èl
 (15)

581 , 
	$m_log2MaxMvLígthVîtiˇl
 (15)

584 
vútuÆ
 ~
	$TComVUI
(Ë{
	}
}

586 
Boﬁ
 
	$gëA•e˘R©ioInfoPª£¡Fœg
(Ëc⁄° {  
m_a•e˘R©ioInfoPª£¡Fœg
; 
	}
}

587 
Void
 
	$£tA•e˘R©ioInfoPª£¡Fœg
(
Boﬁ
 
i
Ë{ 
m_a•e˘R©ioInfoPª£¡Fœg
 = i; 
	}
}

589 
I¡
 
	$gëA•e˘R©ioIdc
(Ëc⁄° {  
m_a•e˘R©ioIdc
; 
	}
}

590 
Void
 
	$£tA•e˘R©ioIdc
(
I¡
 
i
Ë{ 
m_a•e˘R©ioIdc
 = i; 
	}
}

592 
I¡
 
	$gëS¨Width
(Ëc⁄° {  
m_ßrWidth
; 
	}
}

593 
Void
 
	$£tS¨Width
(
I¡
 
i
Ë{ 
m_ßrWidth
 = i; 
	}
}

595 
I¡
 
	$gëS¨Height
(Ëc⁄° {  
m_ßrHeight
; 
	}
}

596 
Void
 
	$£tS¨Height
(
I¡
 
i
Ë{ 
m_ßrHeight
 = i; 
	}
}

598 
Boﬁ
 
	$gëOvîsˇnInfoPª£¡Fœg
(Ëc⁄° {  
m_ovîsˇnInfoPª£¡Fœg
; 
	}
}

599 
Void
 
	$£tOvîsˇnInfoPª£¡Fœg
(
Boﬁ
 
i
Ë{ 
m_ovîsˇnInfoPª£¡Fœg
 = i; 
	}
}

601 
Boﬁ
 
	$gëOvîsˇnAµr›rüãFœg
(Ëc⁄° {  
m_ovîsˇnAµr›rüãFœg
; 
	}
}

602 
Void
 
	$£tOvîsˇnAµr›rüãFœg
(
Boﬁ
 
i
Ë{ 
m_ovîsˇnAµr›rüãFœg
 = i; 
	}
}

604 
Boﬁ
 
	$gëVideoSig«lTy≥Pª£¡Fœg
(Ëc⁄° {  
m_videoSig«lTy≥Pª£¡Fœg
; 
	}
}

605 
Void
 
	$£tVideoSig«lTy≥Pª£¡Fœg
(
Boﬁ
 
i
Ë{ 
m_videoSig«lTy≥Pª£¡Fœg
 = i; 
	}
}

607 
I¡
 
	$gëVideoF‹m©
(Ëc⁄° {  
m_videoF‹m©
; 
	}
}

608 
Void
 
	$£tVideoF‹m©
(
I¡
 
i
Ë{ 
m_videoF‹m©
 = i; 
	}
}

610 
Boﬁ
 
	$gëVideoFuŒR™geFœg
(Ëc⁄° {  
m_videoFuŒR™geFœg
; 
	}
}

611 
Void
 
	$£tVideoFuŒR™geFœg
(
Boﬁ
 
i
Ë{ 
m_videoFuŒR™geFœg
 = i; 
	}
}

613 
Boﬁ
 
	$gëCﬁourDes¸ùti⁄Pª£¡Fœg
(Ëc⁄° {  
m_cﬁourDes¸ùti⁄Pª£¡Fœg
; 
	}
}

614 
Void
 
	$£tCﬁourDes¸ùti⁄Pª£¡Fœg
(
Boﬁ
 
i
Ë{ 
m_cﬁourDes¸ùti⁄Pª£¡Fœg
 = i; 
	}
}

616 
I¡
 
	$gëCﬁourPrim¨õs
(Ëc⁄° {  
m_cﬁourPrim¨õs
; 
	}
}

617 
Void
 
	$£tCﬁourPrim¨õs
(
I¡
 
i
Ë{ 
m_cﬁourPrim¨õs
 = i; 
	}
}

619 
I¡
 
	$gëTøns„rCh¨a˘îi°ics
(Ëc⁄° {  
m_å™s„rCh¨a˘îi°ics
; 
	}
}

620 
Void
 
	$£tTøns„rCh¨a˘îi°ics
(
I¡
 
i
Ë{ 
m_å™s„rCh¨a˘îi°ics
 = i; 
	}
}

622 
I¡
 
	$gëM©rixC€fficõ¡s
(Ëc⁄° {  
m_m©rixC€fficõ¡s
; 
	}
}

623 
Void
 
	$£tM©rixC€fficõ¡s
(
I¡
 
i
Ë{ 
m_m©rixC€fficõ¡s
 = i; 
	}
}

625 
Boﬁ
 
	$gëChromaLocInfoPª£¡Fœg
(Ëc⁄° {  
m_chromaLocInfoPª£¡Fœg
; 
	}
}

626 
Void
 
	$£tChromaLocInfoPª£¡Fœg
(
Boﬁ
 
i
Ë{ 
m_chromaLocInfoPª£¡Fœg
 = i; 
	}
}

628 
I¡
 
	$gëChromaSam∂eLocTy≥T›Fõld
(Ëc⁄° {  
m_chromaSam∂eLocTy≥T›Fõld
; 
	}
}

629 
Void
 
	$£tChromaSam∂eLocTy≥T›Fõld
(
I¡
 
i
Ë{ 
m_chromaSam∂eLocTy≥T›Fõld
 = i; 
	}
}

631 
I¡
 
	$gëChromaSam∂eLocTy≥BŸtomFõld
(Ëc⁄° {  
m_chromaSam∂eLocTy≥BŸtomFõld
; 
	}
}

632 
Void
 
	$£tChromaSam∂eLocTy≥BŸtomFõld
(
I¡
 
i
Ë{ 
m_chromaSam∂eLocTy≥BŸtomFõld
 = i; 
	}
}

634 
Boﬁ
 
	$gëNeuåÆChromaIndiˇti⁄Fœg
(Ëc⁄° {  
m_√uåÆChromaIndiˇti⁄Fœg
; 
	}
}

635 
Void
 
	$£tNeuåÆChromaIndiˇti⁄Fœg
(
Boﬁ
 
i
Ë{ 
m_√uåÆChromaIndiˇti⁄Fœg
 = i; 
	}
}

637 
Boﬁ
 
	$gëFõldSeqFœg
(Ëc⁄° {  
m_fõldSeqFœg
; 
	}
}

638 
Void
 
	$£tFõldSeqFœg
(
Boﬁ
 
i
Ë{ 
m_fõldSeqFœg
 = i; 
	}
}

640 
Boﬁ
 
	$gëFømeFõldInfoPª£¡Fœg
(Ëc⁄° {  
m_‰ameFõldInfoPª£¡Fœg
; 
	}
}

641 
Void
 
	$£tFømeFõldInfoPª£¡Fœg
(
Boﬁ
 
i
Ë{ 
m_‰ameFõldInfoPª£¡Fœg
 = i; 
	}
}

643 
	gWödow
& 
	$gëDeÁu…Di•œyWödow
(Ë{  
m_deÁu…Di•œyWödow
; 
	}
}

644 c⁄° 
	gWödow
& 
	$gëDeÁu…Di•œyWödow
(Ëc⁄° {  
m_deÁu…Di•œyWödow
; 
	}
}

645 
Void
 
	$£tDeÁu…Di•œyWödow
(
Wödow
& 
deÁu…Di•œyWödow
 ) { 
m_deÁu…Di•œyWödow
 = deÁu…Di•œyWödow; 
	}
}

647 
Boﬁ
 
	$gëHrdP¨amëîsPª£¡Fœg
(Ëc⁄° {  
m_hrdP¨amëîsPª£¡Fœg
; 
	}
}

648 
Void
 
	$£tHrdP¨amëîsPª£¡Fœg
(
Boﬁ
 
i
Ë{ 
m_hrdP¨amëîsPª£¡Fœg
 = i; 
	}
}

650 
Boﬁ
 
	$gëBô°ªamRe°ri˘i⁄Fœg
(Ëc⁄° {  
m_bô°ªamRe°ri˘i⁄Fœg
; 
	}
}

651 
Void
 
	$£tBô°ªamRe°ri˘i⁄Fœg
(
Boﬁ
 
i
Ë{ 
m_bô°ªamRe°ri˘i⁄Fœg
 = i; 
	}
}

653 
Boﬁ
 
	$gëTûesFixedSåu˘uªFœg
(Ëc⁄° {  
m_tûesFixedSåu˘uªFœg
; 
	}
}

654 
Void
 
	$£tTûesFixedSåu˘uªFœg
(
Boﬁ
 
i
Ë{ 
m_tûesFixedSåu˘uªFœg
 = i; 
	}
}

656 
Boﬁ
 
	$gëMŸi⁄Ve˘‹sOvîPicBound¨õsFœg
(Ëc⁄° {  
m_mŸi⁄Ve˘‹sOvîPicBound¨õsFœg
; 
	}
}

657 
Void
 
	$£tMŸi⁄Ve˘‹sOvîPicBound¨õsFœg
(
Boﬁ
 
i
Ë{ 
m_mŸi⁄Ve˘‹sOvîPicBound¨õsFœg
 = i; 
	}
}

659 
Boﬁ
 
	$gëRe°ri˘edRefPicLi°sFœg
(Ëc⁄° {  
m_ª°ri˘edRefPicLi°sFœg
; 
	}
}

660 
Void
 
	$£tRe°ri˘edRefPicLi°sFœg
(
Boﬁ
 
b
Ë{ 
m_ª°ri˘edRefPicLi°sFœg
 = b; 
	}
}

662 
I¡
 
	$gëMöS∑tülSegmíèti⁄Idc
(Ëc⁄° {  
m_möS∑tülSegmíèti⁄Idc
; 
	}
}

663 
Void
 
	$£tMöS∑tülSegmíèti⁄Idc
(
I¡
 
i
Ë{ 
m_möS∑tülSegmíèti⁄Idc
 = i; 
	}
}

665 
I¡
 
	$gëMaxByãsPîPicDíom
(Ëc⁄° {  
m_maxByãsPîPicDíom
; 
	}
}

666 
Void
 
	$£tMaxByãsPîPicDíom
(
I¡
 
i
Ë{ 
m_maxByãsPîPicDíom
 = i; 
	}
}

668 
I¡
 
	$gëMaxBôsPîMöCuDíom
(Ëc⁄° {  
m_maxBôsPîMöCuDíom
; 
	}
}

669 
Void
 
	$£tMaxBôsPîMöCuDíom
(
I¡
 
i
Ë{ 
m_maxBôsPîMöCuDíom
 = i; 
	}
}

671 
I¡
 
	$gëLog2MaxMvLígthH‹iz⁄èl
(Ëc⁄° {  
m_log2MaxMvLígthH‹iz⁄èl
; 
	}
}

672 
Void
 
	$£tLog2MaxMvLígthH‹iz⁄èl
(
I¡
 
i
Ë{ 
m_log2MaxMvLígthH‹iz⁄èl
 = i; 
	}
}

674 
I¡
 
	$gëLog2MaxMvLígthVîtiˇl
(Ëc⁄° {  
m_log2MaxMvLígthVîtiˇl
; 
	}
}

675 
Void
 
	$£tLog2MaxMvLígthVîtiˇl
(
I¡
 
i
Ë{ 
m_log2MaxMvLígthVîtiˇl
 = i; 
	}
}

677 
TComHRD
* 
	$gëHrdP¨amëîs
(Ë{  &
m_hrdP¨amëîs
; 
	}
}

678 c⁄° 
TComHRD
* 
	$gëHrdP¨amëîs
(Ëc⁄° {  &
m_hrdP¨amëîs
; 
	}
}

680 
TimögInfo
* 
	$gëTimögInfo
(Ë{  &
m_timögInfo
; 
	}
}

681 c⁄° 
TimögInfo
* 
	$gëTimögInfo
(Ëc⁄° {  &
m_timögInfo
; 
	}
}

685 ˛as†
	cTComSPSRExt


687 
	m¥iv©e
:

688 
Boﬁ
 
m_å™sf‹mSkùRŸ©i⁄E«bÀdFœg
;

689 
Boﬁ
 
	mm_å™sf‹mSkùC⁄ãxtE«bÀdFœg
;

690 
Boﬁ
 
	mm_rdpcmE«bÀdFœg
[
NUMBER_OF_RDPCM_SIGNALLING_MODES
];

691 
Boﬁ
 
	mm_exãndedPªcisi⁄Pro˚ssögFœg
;

692 
Boﬁ
 
	mm_öåaSmoŸhögDißbÀdFœg
;

693 
Boﬁ
 
	mm_highPªcisi⁄Off£tsE«bÀdFœg
;

694 
Boﬁ
 
	mm_≥rsi°ítRi˚Ad≠èti⁄E«bÀdFœg
;

695 
Boﬁ
 
	mm_ˇbacBy∑ssAlignmítE«bÀdFœg
;

697 
	mpublic
:

698 
TComSPSRExt
();

700 
Boﬁ
 
	$£âögsDif„rFromDeÁu…s
() const

702  
	`gëTønsf‹mSkùRŸ©i⁄E«bÀdFœg
()

703 || 
	`gëTønsf‹mSkùC⁄ãxtE«bÀdFœg
()

704 || 
	`gëRdpcmE«bÀdFœg
(
RDPCM_SIGNAL_IMPLICIT
)

705 || 
	`gëRdpcmE«bÀdFœg
(
RDPCM_SIGNAL_EXPLICIT
)

706 || 
	`gëExãndedPªcisi⁄Pro˚ssögFœg
()

707 || 
	`gëI¡øSmoŸhögDißbÀdFœg
()

708 || 
	`gëHighPªcisi⁄Off£tsE«bÀdFœg
()

709 || 
	`gëPîsi°ítRi˚Ad≠èti⁄E«bÀdFœg
()

710 || 
	`gëCabacBy∑ssAlignmítE«bÀdFœg
();

714 
Boﬁ
 
	$gëTønsf‹mSkùRŸ©i⁄E«bÀdFœg
(Ëc⁄° {  
m_å™sf‹mSkùRŸ©i⁄E«bÀdFœg
; 
	}
}

715 
Void
 
	$£tTønsf‹mSkùRŸ©i⁄E«bÀdFœg
(c⁄° 
Boﬁ
 
vÆue
Ë{ 
m_å™sf‹mSkùRŸ©i⁄E«bÀdFœg
 = vÆue; 
	}
}

717 
Boﬁ
 
	$gëTønsf‹mSkùC⁄ãxtE«bÀdFœg
(Ëc⁄° {  
m_å™sf‹mSkùC⁄ãxtE«bÀdFœg
; 
	}
}

718 
Void
 
	$£tTønsf‹mSkùC⁄ãxtE«bÀdFœg
(c⁄° 
Boﬁ
 
vÆue
Ë{ 
m_å™sf‹mSkùC⁄ãxtE«bÀdFœg
 = vÆue; 
	}
}

720 
Boﬁ
 
	$gëRdpcmE«bÀdFœg
(c⁄° 
RDPCMSig«ŒögMode
 
sig«ŒögMode
Ëc⁄° {  
m_rdpcmE«bÀdFœg
[sig«ŒögMode]; 
	}
}

721 
Void
 
	$£tRdpcmE«bÀdFœg
(c⁄° 
RDPCMSig«ŒögMode
 
sig«ŒögMode
, c⁄° 
Boﬁ
 
vÆue
Ë{ 
m_rdpcmE«bÀdFœg
[sig«ŒögMode] = vÆue; 
	}
}

723 
Boﬁ
 
	$gëExãndedPªcisi⁄Pro˚ssögFœg
(Ëc⁄° {  
m_exãndedPªcisi⁄Pro˚ssögFœg
; 
	}
}

724 
Void
 
	$£tExãndedPªcisi⁄Pro˚ssögFœg
(
Boﬁ
 
vÆue
Ë{ 
m_exãndedPªcisi⁄Pro˚ssögFœg
 = vÆue; 
	}
}

726 
Boﬁ
 
	$gëI¡øSmoŸhögDißbÀdFœg
(Ëc⁄° {  
m_öåaSmoŸhögDißbÀdFœg
; 
	}
}

727 
Void
 
	$£tI¡øSmoŸhögDißbÀdFœg
(
Boﬁ
 
bVÆue
Ë{ 
m_öåaSmoŸhögDißbÀdFœg
=bVÆue; 
	}
}

729 
Boﬁ
 
	$gëHighPªcisi⁄Off£tsE«bÀdFœg
(Ëc⁄° {  
m_highPªcisi⁄Off£tsE«bÀdFœg
; 
	}
}

730 
Void
 
	$£tHighPªcisi⁄Off£tsE«bÀdFœg
(
Boﬁ
 
vÆue
Ë{ 
m_highPªcisi⁄Off£tsE«bÀdFœg
 = vÆue; 
	}
}

732 
Boﬁ
 
	$gëPîsi°ítRi˚Ad≠èti⁄E«bÀdFœg
(Ëc⁄° {  
m_≥rsi°ítRi˚Ad≠èti⁄E«bÀdFœg
; 
	}
}

733 
Void
 
	$£tPîsi°ítRi˚Ad≠èti⁄E«bÀdFœg
(c⁄° 
Boﬁ
 
vÆue
Ë{ 
m_≥rsi°ítRi˚Ad≠èti⁄E«bÀdFœg
 = vÆue; 
	}
}

735 
Boﬁ
 
	$gëCabacBy∑ssAlignmítE«bÀdFœg
(Ëc⁄° {  
m_ˇbacBy∑ssAlignmítE«bÀdFœg
; 
	}
}

736 
Void
 
	$£tCabacBy∑ssAlignmítE«bÀdFœg
(c⁄° 
Boﬁ
 
vÆue
Ë{ 
m_ˇbacBy∑ssAlignmítE«bÀdFœg
 = vÆue; 
	}
}

740 ˛as†
	cTComSPS


742 
	m¥iv©e
:

743 
I¡
 
m_SPSId
;

744 
I¡
 
	mm_VPSId
;

745 
ChromaF‹m©
 
	mm_chromaF‹m©Idc
;

747 
UI¡
 
	mm_uiMaxTLayîs
;

750 
UI¡
 
	mm_picWidthInLumaSam∂es
;

751 
UI¡
 
	mm_picHeightInLumaSam∂es
;

753 
I¡
 
	mm_log2MöCodögBlockSize
;

754 
I¡
 
	mm_log2DiffMaxMöCodögBlockSize
;

755 
UI¡
 
	mm_uiMaxCUWidth
;

756 
UI¡
 
	mm_uiMaxCUHeight
;

757 
UI¡
 
	mm_uiMaxTŸÆCUDïth
;

759 
Wödow
 
	mm_c⁄f‹m™˚Wödow
;

761 
TComRPSLi°
 
	mm_RPSLi°
;

762 
Boﬁ
 
	mm_bL⁄gTîmRefsPª£¡
;

763 
Boﬁ
 
	mm_SPSTemp‹ÆMVPE«bÀdFœg
;

764 
I¡
 
	mm_numRe‹dîPics
[
MAX_TLAYER
];

767 
UI¡
 
	mm_uiQuadåìTULog2MaxSize
;

768 
UI¡
 
	mm_uiQuadåìTULog2MöSize
;

769 
UI¡
 
	mm_uiQuadåìTUMaxDïthI¡î
;

770 
UI¡
 
	mm_uiQuadåìTUMaxDïthI¡ø
;

771 
Boﬁ
 
	mm_u£PCM
;

772 
UI¡
 
	mm_pcmLog2MaxSize
;

773 
UI¡
 
	mm_uiPCMLog2MöSize
;

774 
Boﬁ
 
	mm_u£AMP
;

777 
BôDïths
 
	mm_bôDïths
;

778 
I¡
 
	mm_qpBDOff£t
[
MAX_NUM_CHANNEL_TYPE
];

779 
I¡
 
	mm_pcmBôDïths
[
MAX_NUM_CHANNEL_TYPE
];

780 
Boﬁ
 
	mm_bPCMFûãrDißbÀFœg
;

782 
UI¡
 
	mm_uiBôsF‹POC
;

783 
UI¡
 
	mm_numL⁄gTîmRefPicSPS
;

784 
UI¡
 
	mm_…RefPicPocLsbSps
[
MAX_NUM_LONG_TERM_REF_PICS
];

785 
Boﬁ
 
	mm_u£dByCuºPicLtSPSFœg
[
MAX_NUM_LONG_TERM_REF_PICS
];

787 
UI¡
 
	mm_uiMaxTrSize
;

789 
Boﬁ
 
	mm_bU£SAO
;

791 
Boﬁ
 
	mm_bTemp‹ÆIdNe°ögFœg
;

793 
Boﬁ
 
	mm_sˇlögLi°E«bÀdFœg
;

794 
Boﬁ
 
	mm_sˇlögLi°Pª£¡Fœg
;

795 
TComSˇlögLi°
 
	mm_sˇlögLi°
;

796 
UI¡
 
	mm_uiMaxDecPicBuf„rög
[
MAX_TLAYER
];

797 
UI¡
 
	mm_uiMaxL©ícyIn¸ó£Plus1
[
MAX_TLAYER
];

799 
Boﬁ
 
	mm_u£Så⁄gI¡øSmoŸhög
;

801 
Boﬁ
 
	mm_vuiP¨amëîsPª£¡Fœg
;

802 
TComVUI
 
	mm_vuiP¨amëîs
;

804 
TComSPSRExt
 
	mm_•sR™geExãnsi⁄
;

806 c⁄° 
I¡
 
	mm_wöUnôX
[
NUM_CHROMA_FORMAT
];

807 c⁄° 
I¡
 
	mm_wöUnôY
[
NUM_CHROMA_FORMAT
];

808 
TComPTL
 
	mm_pcPTL
;

810 #i‡
O0043_BEST_EFFORT_DECODING


811 
UI¡
 
	mm_f‹˚DecodeBôDïth
;

814 
	mpublic
:

815 
TComSPS
();

816 
	mvútuÆ
 ~
TComSPS
();

817 #i‡
O0043_BEST_EFFORT_DECODING


818 
Void
 
	$£tF‹˚DecodeBôDïth
(
UI¡
 
bôDïth
Ë{ 
m_f‹˚DecodeBôDïth
 = bitDepth; }

819 
UI¡
 
	$gëF‹˚DecodeBôDïth
(Ëc⁄° {  
m_f‹˚DecodeBôDïth
; 
	}
}

822 
I¡
 
	$gëVPSId
(Ëc⁄° {  
m_VPSId
; 
	}
}

823 
Void
 
	$£tVPSId
(
I¡
 
i
Ë{ 
m_VPSId
 = i; 
	}
}

824 
I¡
 
	$gëSPSId
(Ëc⁄° {  
m_SPSId
; 
	}
}

825 
Void
 
	$£tSPSId
(
I¡
 
i
Ë{ 
m_SPSId
 = i; 
	}
}

826 
ChromaF‹m©
 
	$gëChromaF‹m©Idc
 (Ëc⁄° {  
m_chromaF‹m©Idc
; 
	}
}

827 
Void
 
	$£tChromaF‹m©Idc
 (
ChromaF‹m©
 
i
Ë{ 
m_chromaF‹m©Idc
 = i; 
	}
}

829 
I¡
 
	$gëWöUnôX
 (
I¡
 
chromaF‹m©Idc
Ë{ 
	`as£π
 (chromaF‹m©Id¯>0 && chromaF‹m©Id¯< 
NUM_CHROMA_FORMAT
);  
m_wöUnôX
[chromaF‹m©Idc]; 
	}
}

830 
I¡
 
	$gëWöUnôY
 (
I¡
 
chromaF‹m©Idc
Ë{ 
	`as£π
 (chromaF‹m©Id¯>0 && chromaF‹m©Id¯< 
NUM_CHROMA_FORMAT
);  
m_wöUnôY
[chromaF‹m©Idc]; 
	}
}

833 
Void
 
	$£tPicWidthInLumaSam∂es
–
UI¡
 
u
 ) { 
m_picWidthInLumaSam∂es
 = u; 
	}
}

834 
UI¡
 
	$gëPicWidthInLumaSam∂es
(Ëc⁄° {  
m_picWidthInLumaSam∂es
; 
	}
}

835 
Void
 
	$£tPicHeightInLumaSam∂es
–
UI¡
 
u
 ) { 
m_picHeightInLumaSam∂es
 = u; 
	}
}

836 
UI¡
 
	$gëPicHeightInLumaSam∂es
(Ëc⁄° {  
m_picHeightInLumaSam∂es
; 
	}
}

838 
	gWödow
& 
	$gëC⁄f‹m™˚Wödow
(Ë{  
m_c⁄f‹m™˚Wödow
; 
	}
}

839 c⁄° 
	gWödow
& 
	$gëC⁄f‹m™˚Wödow
(Ëc⁄° {  
m_c⁄f‹m™˚Wödow
; 
	}
}

840 
Void
 
	$£tC⁄f‹m™˚Wödow
(
Wödow
& 
c⁄f‹m™˚Wödow
 ) { 
m_c⁄f‹m™˚Wödow
 = c⁄f‹m™˚Wödow; 
	}
}

842 
UI¡
 
	$gëNumL⁄gTîmRefPicSPS
(Ëc⁄° {  
m_numL⁄gTîmRefPicSPS
; 
	}
}

843 
Void
 
	$£tNumL⁄gTîmRefPicSPS
(
UI¡
 
vÆ
Ë{ 
m_numL⁄gTîmRefPicSPS
 = vÆ; 
	}
}

845 
UI¡
 
	$gëLtRefPicPocLsbSps
(
UI¡
 
ödex
Ëc⁄° { 
	`as£π
–ödex < 
MAX_NUM_LONG_TERM_REF_PICS
 );  
m_…RefPicPocLsbSps
[ödex]; 
	}
}

846 
Void
 
	$£tLtRefPicPocLsbSps
(
UI¡
 
ödex
, UI¡ 
vÆ
Ë{ 
	`as£π
–ödex < 
MAX_NUM_LONG_TERM_REF_PICS
 ); 
m_…RefPicPocLsbSps
[ödex] = vÆ; 
	}
}

848 
Boﬁ
 
	$gëU£dByCuºPicLtSPSFœg
(
I¡
 
i
Ëc⁄° { 
	`as£π
–ò< 
MAX_NUM_LONG_TERM_REF_PICS
 );  
m_u£dByCuºPicLtSPSFœg
[i]; 
	}
}

849 
Void
 
	$£tU£dByCuºPicLtSPSFœg
(
I¡
 
i
, 
Boﬁ
 
x
Ë{ 
	`as£π
–ò< 
MAX_NUM_LONG_TERM_REF_PICS
 ); 
m_u£dByCuºPicLtSPSFœg
[i] = x; 
	}
}

851 
I¡
 
	$gëLog2MöCodögBlockSize
(Ëc⁄° {  
m_log2MöCodögBlockSize
; 
	}
}

852 
Void
 
	$£tLog2MöCodögBlockSize
(
I¡
 
vÆ
Ë{ 
m_log2MöCodögBlockSize
 = vÆ; 
	}
}

853 
I¡
 
	$gëLog2DiffMaxMöCodögBlockSize
(Ëc⁄° {  
m_log2DiffMaxMöCodögBlockSize
; 
	}
}

854 
Void
 
	$£tLog2DiffMaxMöCodögBlockSize
(
I¡
 
vÆ
Ë{ 
m_log2DiffMaxMöCodögBlockSize
 = vÆ; 
	}
}

856 
Void
 
	$£tMaxCUWidth
–
UI¡
 
u
 ) { 
m_uiMaxCUWidth
 = u; 
	}
}

857 
UI¡
 
	$gëMaxCUWidth
(Ëc⁄° {  
m_uiMaxCUWidth
; 
	}
}

858 
Void
 
	$£tMaxCUHeight
–
UI¡
 
u
 ) { 
m_uiMaxCUHeight
 = u; 
	}
}

859 
UI¡
 
	$gëMaxCUHeight
(Ëc⁄° {  
m_uiMaxCUHeight
; 
	}
}

860 
Void
 
	$£tMaxTŸÆCUDïth
–
UI¡
 
u
 ) { 
m_uiMaxTŸÆCUDïth
 = u; 
	}
}

861 
UI¡
 
	$gëMaxTŸÆCUDïth
(Ëc⁄° {  
m_uiMaxTŸÆCUDïth
; 
	}
}

862 
Void
 
	$£tU£PCM
–
Boﬁ
 
b
 ) { 
m_u£PCM
 = b; 
	}
}

863 
Boﬁ
 
	$gëU£PCM
(Ëc⁄° {  
m_u£PCM
; 
	}
}

864 
Void
 
	$£tPCMLog2MaxSize
–
UI¡
 
u
 ) { 
m_pcmLog2MaxSize
 = u; 
	}
}

865 
UI¡
 
	$gëPCMLog2MaxSize
(Ëc⁄° {  
m_pcmLog2MaxSize
; 
	}
}

866 
Void
 
	$£tPCMLog2MöSize
–
UI¡
 
u
 ) { 
m_uiPCMLog2MöSize
 = u; 
	}
}

867 
UI¡
 
	$gëPCMLog2MöSize
(Ëc⁄° {  
m_uiPCMLog2MöSize
; 
	}
}

868 
Void
 
	$£tBôsF‹POC
–
UI¡
 
u
 ) { 
m_uiBôsF‹POC
 = u; 
	}
}

869 
UI¡
 
	$gëBôsF‹POC
(Ëc⁄° {  
m_uiBôsF‹POC
; 
	}
}

870 
Boﬁ
 
	$gëU£AMP
(Ëc⁄° {  
m_u£AMP
; 
	}
}

871 
Void
 
	$£tU£AMP
–
Boﬁ
 
b
 ) { 
m_u£AMP
 = b; 
	}
}

872 
Void
 
	$£tQuadåìTULog2MaxSize
–
UI¡
 
u
 ) { 
m_uiQuadåìTULog2MaxSize
 = u; 
	}
}

873 
UI¡
 
	$gëQuadåìTULog2MaxSize
(Ëc⁄° {  
m_uiQuadåìTULog2MaxSize
; 
	}
}

874 
Void
 
	$£tQuadåìTULog2MöSize
–
UI¡
 
u
 ) { 
m_uiQuadåìTULog2MöSize
 = u; 
	}
}

875 
UI¡
 
	$gëQuadåìTULog2MöSize
(Ëc⁄° {  
m_uiQuadåìTULog2MöSize
; 
	}
}

876 
Void
 
	$£tQuadåìTUMaxDïthI¡î
–
UI¡
 
u
 ) { 
m_uiQuadåìTUMaxDïthI¡î
 = u; 
	}
}

877 
Void
 
	$£tQuadåìTUMaxDïthI¡ø
–
UI¡
 
u
 ) { 
m_uiQuadåìTUMaxDïthI¡ø
 = u; 
	}
}

878 
UI¡
 
	$gëQuadåìTUMaxDïthI¡î
(Ëc⁄° {  
m_uiQuadåìTUMaxDïthI¡î
; 
	}
}

879 
UI¡
 
	$gëQuadåìTUMaxDïthI¡ø
(Ëc⁄° {  
m_uiQuadåìTUMaxDïthI¡ø
; 
	}
}

880 
Void
 
	$£tNumRe‹dîPics
(
I¡
 
i
, 
UI¡
 
éayî
Ë{ 
m_numRe‹dîPics
[éayî] = i; 
	}
}

881 
I¡
 
	$gëNumRe‹dîPics
(
UI¡
 
éayî
Ëc⁄° {  
m_numRe‹dîPics
[éayî]; 
	}
}

882 
Void
 
¸óãRPSLi°
–
I¡
 
numRPS
 );

883 c⁄° 
TComRPSLi°
* 
	$gëRPSLi°
(Ëc⁄° {  &
m_RPSLi°
; 
	}
}

884 
TComRPSLi°
* 
	$gëRPSLi°
(Ë{  &
m_RPSLi°
; 
	}
}

885 
Boﬁ
 
	$gëL⁄gTîmRefsPª£¡
(Ëc⁄° {  
m_bL⁄gTîmRefsPª£¡
; 
	}
}

886 
Void
 
	$£tL⁄gTîmRefsPª£¡
(
Boﬁ
 
b
Ë{ 
m_bL⁄gTîmRefsPª£¡
=b; 
	}
}

887 
Boﬁ
 
	$gëSPSTemp‹ÆMVPE«bÀdFœg
(Ëc⁄° {  
m_SPSTemp‹ÆMVPE«bÀdFœg
; 
	}
}

888 
Void
 
	$£tSPSTemp‹ÆMVPE«bÀdFœg
(
Boﬁ
 
b
Ë{ 
m_SPSTemp‹ÆMVPE«bÀdFœg
=b; 
	}
}

890 
Void
 
	$£tMaxTrSize
–
UI¡
 
u
 ) { 
m_uiMaxTrSize
 = u; 
	}
}

891 
UI¡
 
	$gëMaxTrSize
(Ëc⁄° {  
m_uiMaxTrSize
; 
	}
}

894 
I¡
 
	$gëBôDïth
(
Ch™√lTy≥
 
ty≥
Ëc⁄° {  
m_bôDïths
.
ªc⁄
[ty≥]; 
	}
}

895 
Void
 
	$£tBôDïth
(
Ch™√lTy≥
 
ty≥
, 
I¡
 
u
 ) { 
m_bôDïths
.
ªc⁄
[ty≥] = u; 
	}
}

896 #i‡
O0043_BEST_EFFORT_DECODING


897 
I¡
 
	$gëSåómBôDïth
(
Ch™√lTy≥
 
ty≥
Ëc⁄° {  
m_bôDïths
.
°ªam
[ty≥]; 
	}
}

898 
Void
 
	$£tSåómBôDïth
(
Ch™√lTy≥
 
ty≥
, 
I¡
 
u
 ) { 
m_bôDïths
.
°ªam
[ty≥] = u; 
	}
}

900 c⁄° 
	gBôDïths
& 
	$gëBôDïths
(Ëc⁄° {  
m_bôDïths
; 
	}
}

901 
I¡
 
	$gëMaxLog2TrDy«micR™ge
(
Ch™√lTy≥
 
ch™√lTy≥
Ëc⁄° {  
	`gëSpsR™geExãnsi⁄
().
	`gëExãndedPªcisi⁄Pro˚ssögFœg
(Ë? 
°d
::
max
<
I¡
>(15, 
	`I¡
(
m_bôDïths
.
ªc⁄
[ch™√lTy≥] + 6)Ë: 15; 
	}
}

903 
I¡
 
	$gëDif„ª¡ülLumaChromaBôDïth
(Ëc⁄° {  
	`I¡
(
m_bôDïths
.
ªc⁄
[
CHANNEL_TYPE_LUMA
]Ë- I¡(m_bôDïths.ªc⁄[
CHANNEL_TYPE_CHROMA
]); 
	}
}

904 
I¡
 
	$gëQpBDOff£t
(
Ch™√lTy≥
 
ty≥
Ëc⁄° {  
m_qpBDOff£t
[ty≥]; 
	}
}

905 
Void
 
	$£tQpBDOff£t
(
Ch™√lTy≥
 
ty≥
, 
I¡
 
i
Ë{ 
m_qpBDOff£t
[ty≥] = i; 
	}
}

907 
Void
 
	$£tU£SAO
(
Boﬁ
 
bVÆ
Ë{ 
m_bU£SAO
 = bVÆ; 
	}
}

908 
Boﬁ
 
	$gëU£SAO
(Ëc⁄° {  
m_bU£SAO
; 
	}
}

910 
UI¡
 
	$gëMaxTLayîs
(Ëc⁄° {  
m_uiMaxTLayîs
; 
	}
}

911 
Void
 
	$£tMaxTLayîs
–
UI¡
 
uiMaxTLayîs
 ) { 
	`as£π
–uiMaxTLayî†<
MAX_TLAYER
 ); 
m_uiMaxTLayîs
 = uiMaxTLayîs; 
	}
}

913 
Boﬁ
 
	$gëTemp‹ÆIdNe°ögFœg
(Ëc⁄° {  
m_bTemp‹ÆIdNe°ögFœg
; 
	}
}

914 
Void
 
	$£tTemp‹ÆIdNe°ögFœg
–
Boﬁ
 
bVÆue
 ) { 
m_bTemp‹ÆIdNe°ögFœg
 = bVÆue; 
	}
}

915 
UI¡
 
	$gëPCMBôDïth
(
Ch™√lTy≥
 
ty≥
Ëc⁄° {  
m_pcmBôDïths
[ty≥]; 
	}
}

916 
Void
 
	$£tPCMBôDïth
(
Ch™√lTy≥
 
ty≥
, 
UI¡
 
u
Ë{ 
m_pcmBôDïths
[ty≥] = u; 
	}
}

917 
Void
 
	$£tPCMFûãrDißbÀFœg
–
Boﬁ
 
bVÆue
 ) { 
m_bPCMFûãrDißbÀFœg
 = bVÆue; 
	}
}

918 
Boﬁ
 
	$gëPCMFûãrDißbÀFœg
(Ëc⁄° {  
m_bPCMFûãrDißbÀFœg
; 
	}
}

920 
Boﬁ
 
	$gëSˇlögLi°Fœg
(Ëc⁄° {  
m_sˇlögLi°E«bÀdFœg
; 
	}
}

921 
Void
 
	$£tSˇlögLi°Fœg
–
Boﬁ
 
b
 ) { 
m_sˇlögLi°E«bÀdFœg
 = b; 
	}
}

922 
Boﬁ
 
	$gëSˇlögLi°Pª£¡Fœg
(Ëc⁄° {  
m_sˇlögLi°Pª£¡Fœg
; 
	}
}

923 
Void
 
	$£tSˇlögLi°Pª£¡Fœg
–
Boﬁ
 
b
 ) { 
m_sˇlögLi°Pª£¡Fœg
 = b; 
	}
}

924 
	gTComSˇlögLi°
& 
	$gëSˇlögLi°
(Ë{  
m_sˇlögLi°
; 
	}
}

925 c⁄° 
	gTComSˇlögLi°
& 
	$gëSˇlögLi°
(Ëc⁄° {  
m_sˇlögLi°
; 
	}
}

926 
UI¡
 
	$gëMaxDecPicBuf„rög
(
UI¡
 
éayî
Ëc⁄° {  
m_uiMaxDecPicBuf„rög
[éayî]; 
	}
}

927 
Void
 
	$£tMaxDecPicBuf„rög
–
UI¡
 
ui
, UI¡ 
éayî
 ) { 
	`as£π
—œyî < 
MAX_TLAYER
); 
m_uiMaxDecPicBuf„rög
[éayî] = ui; 
	}
}

928 
UI¡
 
	$gëMaxL©ícyIn¸ó£Plus1
(
UI¡
 
éayî
Ëc⁄° {  
m_uiMaxL©ícyIn¸ó£Plus1
[éayî]; 
	}
}

929 
Void
 
	$£tMaxL©ícyIn¸ó£Plus1
–
UI¡
 
ui
 , UI¡ 
éayî
Ë{ 
m_uiMaxL©ícyIn¸ó£Plus1
[éayî] = ui; 
	}
}

931 
Void
 
	$£tU£Så⁄gI¡øSmoŸhög
(
Boﬁ
 
bVÆ
Ë{ 
m_u£Så⁄gI¡øSmoŸhög
 = bVÆ; 
	}
}

932 
Boﬁ
 
	$gëU£Så⁄gI¡øSmoŸhög
(Ëc⁄° {  
m_u£Så⁄gI¡øSmoŸhög
; 
	}
}

934 
Boﬁ
 
	$gëVuiP¨amëîsPª£¡Fœg
(Ëc⁄° {  
m_vuiP¨amëîsPª£¡Fœg
; 
	}
}

935 
Void
 
	$£tVuiP¨amëîsPª£¡Fœg
(
Boﬁ
 
b
Ë{ 
m_vuiP¨amëîsPª£¡Fœg
 = b; 
	}
}

936 
TComVUI
* 
	$gëVuiP¨amëîs
(Ë{  &
m_vuiP¨amëîs
; 
	}
}

937 c⁄° 
TComVUI
* 
	$gëVuiP¨amëîs
(Ëc⁄° {  &
m_vuiP¨amëîs
; 
	}
}

938 c⁄° 
TComPTL
* 
	$gëPTL
(Ëc⁄° {  &
m_pcPTL
; 
	}
}

939 
TComPTL
* 
	$gëPTL
(Ë{  &
m_pcPTL
; 
	}
}

941 c⁄° 
	gTComSPSRExt
& 
	$gëSpsR™geExãnsi⁄
(Ëc⁄° {  
m_•sR™geExãnsi⁄
; 
	}
}

942 
	gTComSPSRExt
& 
	$gëSpsR™geExãnsi⁄
(Ë{  
m_•sR™geExãnsi⁄
; 
	}
}

948 ˛as†
	cTComRefPicLi°Modifiˇti⁄


950 
	m¥iv©e
:

951 
Boﬁ
 
m_ªfPicLi°Modifiˇti⁄FœgL0
;

952 
Boﬁ
 
	mm_ªfPicLi°Modifiˇti⁄FœgL1
;

953 
UI¡
 
	mm_RefPicSëIdxL0
[
REF_PIC_LIST_NUM_IDX
];

954 
UI¡
 
	mm_RefPicSëIdxL1
[
REF_PIC_LIST_NUM_IDX
];

956 
	mpublic
:

957 
TComRefPicLi°Modifiˇti⁄
();

958 
	mvútuÆ
 ~
TComRefPicLi°Modifiˇti⁄
();

960 
Boﬁ
 
	$gëRefPicLi°Modifiˇti⁄FœgL0
(Ëc⁄° {  
m_ªfPicLi°Modifiˇti⁄FœgL0
; }

961 
Void
 
	$£tRefPicLi°Modifiˇti⁄FœgL0
(
Boﬁ
 
Êag
Ë{ 
m_ªfPicLi°Modifiˇti⁄FœgL0
 = fœg; 
	}
}

962 
Boﬁ
 
	$gëRefPicLi°Modifiˇti⁄FœgL1
(Ëc⁄° {  
m_ªfPicLi°Modifiˇti⁄FœgL1
; 
	}
}

963 
Void
 
	$£tRefPicLi°Modifiˇti⁄FœgL1
(
Boﬁ
 
Êag
Ë{ 
m_ªfPicLi°Modifiˇti⁄FœgL1
 = fœg; 
	}
}

964 
UI¡
 
	$gëRefPicSëIdxL0
(
UI¡
 
idx
Ëc⁄° { 
	`as£π
(idx<
REF_PIC_LIST_NUM_IDX
);  
m_RefPicSëIdxL0
[idx]; 
	}
}

965 
Void
 
	$£tRefPicSëIdxL0
(
UI¡
 
idx
, UI¡ 
ªfPicSëIdx
Ë{ 
	`as£π
(idx<
REF_PIC_LIST_NUM_IDX
); 
m_RefPicSëIdxL0
[idx] =ÑefPicSëIdx; 
	}
}

966 
UI¡
 
	$gëRefPicSëIdxL1
(
UI¡
 
idx
Ëc⁄° { 
	`as£π
(idx<
REF_PIC_LIST_NUM_IDX
);  
m_RefPicSëIdxL1
[idx]; 
	}
}

967 
Void
 
	$£tRefPicSëIdxL1
(
UI¡
 
idx
, UI¡ 
ªfPicSëIdx
Ë{ 
	`as£π
(idx<
REF_PIC_LIST_NUM_IDX
); 
m_RefPicSëIdxL1
[idx] =ÑefPicSëIdx; 
	}
}

973 ˛as†
	cTComPPSRExt


975 
	m¥iv©e
:

976 
I¡
 
m_log2MaxTønsf‹mSkùBlockSize
;

977 
Boﬁ
 
	mm_¸ossComp⁄ítPªdi˘i⁄E«bÀdFœg
;

980 
I¡
 
	mm_diffCuChromaQpOff£tDïth
;

981 
I¡
 
	mm_chromaQpOff£tLi°Lí
;

982 
ChromaQpAdj
 
	mm_ChromaQpAdjTabÀIn˛udögNuŒE¡ry
[1+
MAX_QP_OFFSET_LIST_SIZE
];

984 
UI¡
 
	mm_log2SaoOff£tSˇÀ
[
MAX_NUM_CHANNEL_TYPE
];

986 
	mpublic
:

987 
TComPPSRExt
();

989 
Boﬁ
 
	$£âögsDif„rFromDeÁu…s
(c⁄° 
boﬁ
 
bTønsf‹mSkùE«bÀdFœg
) const

991  (
bTønsf‹mSkùE«bÀdFœg
 && (
	`gëLog2MaxTønsf‹mSkùBlockSize
() !=2))

992 || (
	`gëCrossComp⁄ítPªdi˘i⁄E«bÀdFœg
() )

993 || (
	`gëChromaQpOff£tLi°E«bÀdFœg
() )

994 || (
	`gëLog2SaoOff£tSˇÀ
(
CHANNEL_TYPE_LUMA
) !=0 )

995 || (
	`gëLog2SaoOff£tSˇÀ
(
CHANNEL_TYPE_CHROMA
) !=0 );

998 
UI¡
 
	$gëLog2MaxTønsf‹mSkùBlockSize
(Ëc⁄° {  
m_log2MaxTønsf‹mSkùBlockSize
; 
	}
}

999 
Void
 
	$£tLog2MaxTønsf‹mSkùBlockSize
–
UI¡
 
u
 ) { 
m_log2MaxTønsf‹mSkùBlockSize
 = u; 
	}
}

1001 
Boﬁ
 
	$gëCrossComp⁄ítPªdi˘i⁄E«bÀdFœg
(Ëc⁄° {  
m_¸ossComp⁄ítPªdi˘i⁄E«bÀdFœg
; 
	}
}

1002 
Void
 
	$£tCrossComp⁄ítPªdi˘i⁄E«bÀdFœg
(
Boﬁ
 
vÆue
Ë{ 
m_¸ossComp⁄ítPªdi˘i⁄E«bÀdFœg
 = vÆue; 
	}
}

1004 
Void
 
	$˛órChromaQpOff£tLi°
(Ë{ 
m_chromaQpOff£tLi°Lí
 = 0; 
	}
}

1006 
UI¡
 
	$gëDiffCuChromaQpOff£tDïth
 (Ëc⁄° {  
m_diffCuChromaQpOff£tDïth
; 
	}
}

1007 
Void
 
	$£tDiffCuChromaQpOff£tDïth
 ( 
UI¡
 
u
 ) { 
m_diffCuChromaQpOff£tDïth
 = u; 
	}
}

1009 
Boﬁ
 
	$gëChromaQpOff£tLi°E«bÀdFœg
(Ëc⁄° {  
	`gëChromaQpOff£tLi°Lí
()>0; 
	}
}

1010 
I¡
 
	$gëChromaQpOff£tLi°Lí
(Ëc⁄° {  
m_chromaQpOff£tLi°Lí
; 
	}
}

1012 c⁄° 
	gChromaQpAdj
& 
	$gëChromaQpOff£tLi°E¡ry
–
I¡
 
cuChromaQpOff£tIdxPlus1
 ) const

1014 
	`as£π
(
cuChromaQpOff£tIdxPlus1
 < 
m_chromaQpOff£tLi°Lí
+1);

1015  
m_ChromaQpAdjTabÀIn˛udögNuŒE¡ry
[
cuChromaQpOff£tIdxPlus1
];

1016 
	}
}

1018 
Void
 
	$£tChromaQpOff£tLi°E¡ry
–
I¡
 
cuChromaQpOff£tIdxPlus1
, I¡ 
cbOff£t
, I¡ 
¸Off£t
 )

1020 
	`as£π
 (
cuChromaQpOff£tIdxPlus1
 !0 && cuChromaQpOff£tIdxPlus1 <
MAX_QP_OFFSET_LIST_SIZE
);

1021 
m_ChromaQpAdjTabÀIn˛udögNuŒE¡ry
[
cuChromaQpOff£tIdxPlus1
].
u
.
comp
.
CbOff£t
 = 
cbOff£t
;

1022 
m_ChromaQpAdjTabÀIn˛udögNuŒE¡ry
[
cuChromaQpOff£tIdxPlus1
].
u
.
comp
.
CrOff£t
 = 
¸Off£t
;

1023 
m_chromaQpOff£tLi°Lí
 = 
	`max
(m_chromaQpOff£tLi°Lí, 
cuChromaQpOff£tIdxPlus1
);

1024 
	}
}

1027 
UI¡
 
	$gëLog2SaoOff£tSˇÀ
(
Ch™√lTy≥
 
ty≥
Ëc⁄° {  
m_log2SaoOff£tSˇÀ
[ty≥]; 
	}
}

1028 
Void
 
	$£tLog2SaoOff£tSˇÀ
(
Ch™√lTy≥
 
ty≥
, 
UI¡
 
uiBôShi·
Ë{ 
m_log2SaoOff£tSˇÀ
[ty≥] = uiBôShi·; 
	}
}

1034 ˛as†
	cTComPPS


1036 
	m¥iv©e
:

1037 
I¡
 
m_PPSId
;

1038 
I¡
 
	mm_SPSId
;

1039 
I¡
 
	mm_picInôQPMöus26
;

1040 
Boﬁ
 
	mm_u£DQP
;

1041 
Boﬁ
 
	mm_bC⁄°øöedI¡øPªd
;

1042 
Boﬁ
 
	mm_bSli˚ChromaQpFœg
;

1045 
UI¡
 
	mm_uiMaxCuDQPDïth
;

1047 
I¡
 
	mm_chromaCbQpOff£t
;

1048 
I¡
 
	mm_chromaCrQpOff£t
;

1050 
UI¡
 
	mm_numRefIdxL0DeÁu…A˘ive
;

1051 
UI¡
 
	mm_numRefIdxL1DeÁu…A˘ive
;

1053 
Boﬁ
 
	mm_bU£WeightPªd
;

1054 
Boﬁ
 
	mm_u£WeighãdBiPªd
;

1055 
Boﬁ
 
	mm_OuçutFœgPª£¡Fœg
;

1056 
Boﬁ
 
	mm_Tønsqu™tBy∑ssE«bÀdFœg
;

1057 
Boﬁ
 
	mm_u£Tønsf‹mSkù
;

1058 
Boﬁ
 
	mm_dïídítSli˚SegmítsE«bÀdFœg
;

1059 
Boﬁ
 
	mm_tûesE«bÀdFœg
;

1060 
Boﬁ
 
	mm_íå›yCodögSyncE«bÀdFœg
;

1062 
Boﬁ
 
	mm_lo›FûãrA¸ossTûesE«bÀdFœg
;

1063 
Boﬁ
 
	mm_unif‹mS∑cögFœg
;

1064 
I¡
 
	mm_numTûeCﬁumnsMöus1
;

1065 
I¡
 
	mm_numTûeRowsMöus1
;

1066 
	m°d
::
ve˘‹
<
I¡
> 
m_tûeCﬁumnWidth
;

1067 
	m°d
::
ve˘‹
<
I¡
> 
m_tûeRowHeight
;

1069 
Boﬁ
 
	mm_signD©aHidögE«bÀdFœg
;

1071 
Boﬁ
 
	mm_ˇbacInôPª£¡Fœg
;

1073 
Boﬁ
 
	mm_¶i˚HódîExãnsi⁄Pª£¡Fœg
;

1074 
Boﬁ
 
	mm_lo›FûãrA¸ossSli˚sE«bÀdFœg
;

1075 
Boﬁ
 
	mm_deblockögFûãrC⁄åﬁPª£¡Fœg
;

1076 
Boﬁ
 
	mm_deblockögFûãrOvîrideE«bÀdFœg
;

1077 
Boﬁ
 
	mm_µsDeblockögFûãrDißbÀdFœg
;

1078 
I¡
 
	mm_deblockögFûãrBëaOff£tDiv2
;

1079 
I¡
 
	mm_deblockögFûãrTcOff£tDiv2
;

1080 
Boﬁ
 
	mm_sˇlögLi°Pª£¡Fœg
;

1081 
TComSˇlögLi°
 
	mm_sˇlögLi°
;

1082 
Boﬁ
 
	mm_li°sModifiˇti⁄Pª£¡Fœg
;

1083 
UI¡
 
	mm_log2P¨ÆÀlMîgeLevñMöus2
;

1084 
I¡
 
	mm_numExåaSli˚HódîBôs
;

1086 
TComPPSRExt
 
	mm_µsR™geExãnsi⁄
;

1088 
	mpublic
:

1089 
TComPPS
();

1090 
	mvútuÆ
 ~
TComPPS
();

1092 
I¡
 
	$gëPPSId
(Ëc⁄° {  
m_PPSId
; }

1093 
Void
 
	$£tPPSId
(
I¡
 
i
Ë{ 
m_PPSId
 = i; 
	}
}

1094 
I¡
 
	$gëSPSId
(Ëc⁄° {  
m_SPSId
; 
	}
}

1095 
Void
 
	$£tSPSId
(
I¡
 
i
Ë{ 
m_SPSId
 = i; 
	}
}

1097 
I¡
 
	$gëPicInôQPMöus26
(Ëc⁄° {  
m_picInôQPMöus26
; 
	}
}

1098 
Void
 
	$£tPicInôQPMöus26
–
I¡
 
i
 ) { 
m_picInôQPMöus26
 = i; 
	}
}

1099 
Boﬁ
 
	$gëU£DQP
(Ëc⁄° {  
m_u£DQP
; 
	}
}

1100 
Void
 
	$£tU£DQP
–
Boﬁ
 
b
 ) { 
m_u£DQP
 = b; 
	}
}

1101 
Boﬁ
 
	$gëC⁄°øöedI¡øPªd
(Ëc⁄° {  
m_bC⁄°øöedI¡øPªd
; 
	}
}

1102 
Void
 
	$£tC⁄°øöedI¡øPªd
–
Boﬁ
 
b
 ) { 
m_bC⁄°øöedI¡øPªd
 = b; 
	}
}

1103 
Boﬁ
 
	$gëSli˚ChromaQpFœg
(Ëc⁄° {  
m_bSli˚ChromaQpFœg
; 
	}
}

1104 
Void
 
	$£tSli˚ChromaQpFœg
–
Boﬁ
 
b
 ) { 
m_bSli˚ChromaQpFœg
 = b; 
	}
}

1106 
Void
 
	$£tMaxCuDQPDïth
–
UI¡
 
u
 ) { 
m_uiMaxCuDQPDïth
 = u; 
	}
}

1107 
UI¡
 
	$gëMaxCuDQPDïth
(Ëc⁄° {  
m_uiMaxCuDQPDïth
; 
	}
}

1109 
Void
 
	$£tQpOff£t
(
Comp⁄ítID
 
compID
, 
I¡
 
i
 )

1111 i‡(
compID
==
COMPONENT_Cb
)

1113 
m_chromaCbQpOff£t
 = 
i
;

1115 i‡(
compID
==
COMPONENT_Cr
)

1117 
m_chromaCrQpOff£t
 = 
i
;

1121 
	`as£π
(0);

1123 
	}
}

1124 
I¡
 
	$gëQpOff£t
(
Comp⁄ítID
 
compID
) const

1126  (
compID
==
COMPONENT_Y
Ë? 0 : (compID==
COMPONENT_Cb
 ? 
m_chromaCbQpOff£t
 : 
m_chromaCrQpOff£t
 );

1127 
	}
}

1129 
Void
 
	$£tNumRefIdxL0DeÁu…A˘ive
(
UI¡
 
ui
Ë{ 
m_numRefIdxL0DeÁu…A˘ive
=ui; 
	}
}

1130 
UI¡
 
	$gëNumRefIdxL0DeÁu…A˘ive
(Ëc⁄° {  
m_numRefIdxL0DeÁu…A˘ive
; 
	}
}

1131 
Void
 
	$£tNumRefIdxL1DeÁu…A˘ive
(
UI¡
 
ui
Ë{ 
m_numRefIdxL1DeÁu…A˘ive
=ui; 
	}
}

1132 
UI¡
 
	$gëNumRefIdxL1DeÁu…A˘ive
(Ëc⁄° {  
m_numRefIdxL1DeÁu…A˘ive
; 
	}
}

1134 
Boﬁ
 
	$gëU£WP
(Ëc⁄° {  
m_bU£WeightPªd
; 
	}
}

1135 
Boﬁ
 
	$gëWPBiPªd
(Ëc⁄° {  
m_u£WeighãdBiPªd
; 
	}
}

1136 
Void
 
	$£tU£WP
–
Boﬁ
 
b
 ) { 
m_bU£WeightPªd
 = b; 
	}
}

1137 
Void
 
	$£tWPBiPªd
–
Boﬁ
 
b
 ) { 
m_u£WeighãdBiPªd
 = b; 
	}
}

1139 
Void
 
	$£tOuçutFœgPª£¡Fœg
–
Boﬁ
 
b
 ) { 
m_OuçutFœgPª£¡Fœg
 = b; 
	}
}

1140 
Boﬁ
 
	$gëOuçutFœgPª£¡Fœg
(Ëc⁄° {  
m_OuçutFœgPª£¡Fœg
; 
	}
}

1141 
Void
 
	$£tTønsqu™tBy∑ssE«bÀdFœg
–
Boﬁ
 
b
 ) { 
m_Tønsqu™tBy∑ssE«bÀdFœg
 = b; 
	}
}

1142 
Boﬁ
 
	$gëTønsqu™tBy∑ssE«bÀdFœg
(Ëc⁄° {  
m_Tønsqu™tBy∑ssE«bÀdFœg
; 
	}
}

1144 
Boﬁ
 
	$gëU£Tønsf‹mSkù
(Ëc⁄° {  
m_u£Tønsf‹mSkù
; 
	}
}

1145 
Void
 
	$£tU£Tønsf‹mSkù
–
Boﬁ
 
b
 ) { 
m_u£Tønsf‹mSkù
 = b; 
	}
}

1147 
Void
 
	$£tLo›FûãrA¸ossTûesE«bÀdFœg
(
Boﬁ
 
b
Ë{ 
m_lo›FûãrA¸ossTûesE«bÀdFœg
 = b; 
	}
}

1148 
Boﬁ
 
	$gëLo›FûãrA¸ossTûesE«bÀdFœg
(Ëc⁄° {  
m_lo›FûãrA¸ossTûesE«bÀdFœg
; 
	}
}

1149 
Boﬁ
 
	$gëDïídítSli˚SegmítsE«bÀdFœg
(Ëc⁄° {  
m_dïídítSli˚SegmítsE«bÀdFœg
; 
	}
}

1150 
Void
 
	$£tDïídítSli˚SegmítsE«bÀdFœg
(
Boﬁ
 
vÆ
Ë{ 
m_dïídítSli˚SegmítsE«bÀdFœg
 = vÆ; 
	}
}

1151 
Boﬁ
 
	$gëE¡r›yCodögSyncE«bÀdFœg
(Ëc⁄° {  
m_íå›yCodögSyncE«bÀdFœg
; 
	}
}

1152 
Void
 
	$£tE¡r›yCodögSyncE«bÀdFœg
(
Boﬁ
 
vÆ
Ë{ 
m_íå›yCodögSyncE«bÀdFœg
 = vÆ; 
	}
}

1154 
Void
 
	$£tTûesE«bÀdFœg
(
Boﬁ
 
vÆ
Ë{ 
m_tûesE«bÀdFœg
 = vÆ; 
	}
}

1155 
Boﬁ
 
	$gëTûesE«bÀdFœg
(Ëc⁄° {  
m_tûesE«bÀdFœg
; 
	}
}

1156 
Void
 
	$£tTûeUnif‹mS∑cögFœg
(
Boﬁ
 
b
Ë{ 
m_unif‹mS∑cögFœg
 = b; 
	}
}

1157 
Boﬁ
 
	$gëTûeUnif‹mS∑cögFœg
(Ëc⁄° {  
m_unif‹mS∑cögFœg
; 
	}
}

1158 
Void
 
	$£tNumTûeCﬁumnsMöus1
(
I¡
 
i
Ë{ 
m_numTûeCﬁumnsMöus1
 = i; 
	}
}

1159 
I¡
 
	$gëNumTûeCﬁumnsMöus1
(Ëc⁄° {  
m_numTûeCﬁumnsMöus1
; 
	}
}

1160 
Void
 
£tTûeCﬁumnWidth
(c⁄° 
°d
::
ve˘‹
<
I¡
>& 
cﬁumnWidth
 ) { 
m_tûeCﬁumnWidth
 = columnWidth; }

1161 
UI¡
 
	$gëTûeCﬁumnWidth
(
UI¡
 
cﬁumnIdx
Ëc⁄° {  
m_tûeCﬁumnWidth
[cﬁumnIdx]; 
	}
}

1162 
Void
 
	$£tNumTûeRowsMöus1
(
I¡
 
i
Ë{ 
m_numTûeRowsMöus1
 = i; 
	}
}

1163 
I¡
 
	$gëNumTûeRowsMöus1
(Ëc⁄° {  
m_numTûeRowsMöus1
; 
	}
}

1164 
Void
 
£tTûeRowHeight
(c⁄° 
°d
::
ve˘‹
<
I¡
>& 
rowHeight
Ë{ 
m_tûeRowHeight
 =ÑowHeight; }

1165 
UI¡
 
	$gëTûeRowHeight
(
UI¡
 
rowIdx
Ëc⁄° {  
m_tûeRowHeight
[rowIdx]; 
	}
}

1167 
Void
 
	$£tSignD©aHidögE«bÀdFœg
–
Boﬁ
 
b
 ) { 
m_signD©aHidögE«bÀdFœg
 = b; 
	}
}

1168 
Boﬁ
 
	$gëSignD©aHidögE«bÀdFœg
(Ëc⁄° {  
m_signD©aHidögE«bÀdFœg
; 
	}
}

1170 
Void
 
	$£tCabacInôPª£¡Fœg
–
Boﬁ
 
Êag
 ) { 
m_ˇbacInôPª£¡Fœg
 = fœg; 
	}
}

1171 
Boﬁ
 
	$gëCabacInôPª£¡Fœg
(Ëc⁄° {  
m_ˇbacInôPª£¡Fœg
; 
	}
}

1172 
Void
 
	$£tDeblockögFûãrC⁄åﬁPª£¡Fœg
–
Boﬁ
 
vÆ
 ) { 
m_deblockögFûãrC⁄åﬁPª£¡Fœg
 = vÆ; 
	}
}

1173 
Boﬁ
 
	$gëDeblockögFûãrC⁄åﬁPª£¡Fœg
(Ëc⁄° {  
m_deblockögFûãrC⁄åﬁPª£¡Fœg
; 
	}
}

1174 
Void
 
	$£tDeblockögFûãrOvîrideE«bÀdFœg
–
Boﬁ
 
vÆ
 ) { 
m_deblockögFûãrOvîrideE«bÀdFœg
 = vÆ; 
	}
}

1175 
Boﬁ
 
	$gëDeblockögFûãrOvîrideE«bÀdFœg
(Ëc⁄° {  
m_deblockögFûãrOvîrideE«bÀdFœg
; 
	}
}

1176 
Void
 
	$£tPPSDeblockögFûãrDißbÀdFœg
(
Boﬁ
 
vÆ
Ë{ 
m_µsDeblockögFûãrDißbÀdFœg
 = vÆ; 
	}
}

1177 
Boﬁ
 
	$gëPPSDeblockögFûãrDißbÀdFœg
(Ëc⁄° {  
m_µsDeblockögFûãrDißbÀdFœg
; 
	}
}

1178 
Void
 
	$£tDeblockögFûãrBëaOff£tDiv2
(
I¡
 
vÆ
Ë{ 
m_deblockögFûãrBëaOff£tDiv2
 = vÆ; 
	}
}

1179 
I¡
 
	$gëDeblockögFûãrBëaOff£tDiv2
(Ëc⁄° {  
m_deblockögFûãrBëaOff£tDiv2
; 
	}
}

1180 
Void
 
	$£tDeblockögFûãrTcOff£tDiv2
(
I¡
 
vÆ
Ë{ 
m_deblockögFûãrTcOff£tDiv2
 = vÆ; 
	}
}

1181 
I¡
 
	$gëDeblockögFûãrTcOff£tDiv2
(Ëc⁄° {  
m_deblockögFûãrTcOff£tDiv2
; 
	}
}

1182 
Boﬁ
 
	$gëSˇlögLi°Pª£¡Fœg
(Ëc⁄° {  
m_sˇlögLi°Pª£¡Fœg
; 
	}
}

1183 
Void
 
	$£tSˇlögLi°Pª£¡Fœg
–
Boﬁ
 
b
 ) { 
m_sˇlögLi°Pª£¡Fœg
 = b; 
	}
}

1184 
	gTComSˇlögLi°
& 
	$gëSˇlögLi°
(Ë{  
m_sˇlögLi°
; 
	}
}

1185 c⁄° 
	gTComSˇlögLi°
& 
	$gëSˇlögLi°
(Ëc⁄° {  
m_sˇlögLi°
; 
	}
}

1186 
Boﬁ
 
	$gëLi°sModifiˇti⁄Pª£¡Fœg
(Ëc⁄° {  
m_li°sModifiˇti⁄Pª£¡Fœg
; 
	}
}

1187 
Void
 
	$£tLi°sModifiˇti⁄Pª£¡Fœg
–
Boﬁ
 
b
 ) { 
m_li°sModifiˇti⁄Pª£¡Fœg
 = b; 
	}
}

1188 
UI¡
 
	$gëLog2P¨ÆÀlMîgeLevñMöus2
(Ëc⁄° {  
m_log2P¨ÆÀlMîgeLevñMöus2
; 
	}
}

1189 
Void
 
	$£tLog2P¨ÆÀlMîgeLevñMöus2
(
UI¡
 
mrgLevñ
Ë{ 
m_log2P¨ÆÀlMîgeLevñMöus2
 = mrgLevñ; 
	}
}

1190 
I¡
 
	$gëNumExåaSli˚HódîBôs
(Ëc⁄° {  
m_numExåaSli˚HódîBôs
; 
	}
}

1191 
Void
 
	$£tNumExåaSli˚HódîBôs
(
I¡
 
i
Ë{ 
m_numExåaSli˚HódîBôs
 = i; 
	}
}

1192 
Void
 
	$£tLo›FûãrA¸ossSli˚sE«bÀdFœg
–
Boﬁ
 
bVÆue
 ) { 
m_lo›FûãrA¸ossSli˚sE«bÀdFœg
 = bVÆue; 
	}
}

1193 
Boﬁ
 
	$gëLo›FûãrA¸ossSli˚sE«bÀdFœg
(Ëc⁄° {  
m_lo›FûãrA¸ossSli˚sE«bÀdFœg
; 
	}
}

1194 
Boﬁ
 
	$gëSli˚HódîExãnsi⁄Pª£¡Fœg
(Ëc⁄° {  
m_¶i˚HódîExãnsi⁄Pª£¡Fœg
; 
	}
}

1195 
Void
 
	$£tSli˚HódîExãnsi⁄Pª£¡Fœg
(
Boﬁ
 
vÆ
Ë{ 
m_¶i˚HódîExãnsi⁄Pª£¡Fœg
 = vÆ; 
	}
}

1197 c⁄° 
	gTComPPSRExt
& 
	$gëPpsR™geExãnsi⁄
(Ëc⁄° {  
m_µsR™geExãnsi⁄
; 
	}
}

1198 
	gTComPPSRExt
& 
	$gëPpsR™geExãnsi⁄
(Ë{  
m_µsR™geExãnsi⁄
; 
	}
}

1201 
	sWPSˇlögP¨am


1205 
Boﬁ
 
	mbPª£¡Fœg
;

1206 
UI¡
 
	muiLog2WeightDíom
;

1207 
I¡
 
	miWeight
;

1208 
I¡
 
	miOff£t
;

1211 
I¡
 
	mw
;

1212 
I¡
 
	mo
;

1213 
I¡
 
	moff£t
;

1214 
I¡
 
	mshi·
;

1215 
I¡
 
	mround
;

1218 
	sWPACDCP¨am


1220 
I¡64
 
	miAC
;

1221 
I¡64
 
	miDC
;

1225 ˛as†
	cTComSli˚


1228 
	m¥iv©e
:

1230 
Boﬁ
 
m_ßoE«bÀdFœg
[
MAX_NUM_CHANNEL_TYPE
];

1231 
I¡
 
	mm_iPPSId
;

1232 
Boﬁ
 
	mm_PicOuçutFœg
;

1233 
I¡
 
	mm_iPOC
;

1234 
I¡
 
	mm_iLa°IDR
;

1235 
I¡
 
	mm_iAssocüãdIRAP
;

1236 
NÆUnôTy≥
 
	mm_iAssocüãdIRAPTy≥
;

1237 c⁄° 
TComRe„ªn˚Pi˘uªSë
* 
	mm_pRPS
;

1238 
TComRe„ªn˚Pi˘uªSë
 
	mm_loˇlRPS
;

1239 
I¡
 
	mm_ΩsIdx
;

1240 
TComRefPicLi°Modifiˇti⁄
 
	mm_RefPicLi°Modifiˇti⁄
;

1241 
NÆUnôTy≥
 
	mm_eNÆUnôTy≥
;

1242 
Sli˚Ty≥
 
	mm_eSli˚Ty≥
;

1243 
I¡
 
	mm_iSli˚Qp
;

1244 
Boﬁ
 
	mm_dïídítSli˚SegmítFœg
;

1245 #i‡
ADAPTIVE_QP_SELECTION


1246 
I¡
 
	mm_iSli˚QpBa£
;

1248 
Boﬁ
 
	mm_ChromaQpAdjE«bÀd
;

1249 
Boﬁ
 
	mm_deblockögFûãrDißbÀ
;

1250 
Boﬁ
 
	mm_deblockögFûãrOvîrideFœg
;

1251 
I¡
 
	mm_deblockögFûãrBëaOff£tDiv2
;

1252 
I¡
 
	mm_deblockögFûãrTcOff£tDiv2
;

1253 
I¡
 
	mm_li°1IdxToLi°0Idx
[
MAX_NUM_REF
];

1254 
I¡
 
	mm_aiNumRefIdx
 [
NUM_REF_PIC_LIST_01
];

1256 
Boﬁ
 
	mm_bCheckLDC
;

1259 
I¡
 
	mm_iSli˚QpDñè
;

1260 
I¡
 
	mm_iSli˚ChromaQpDñè
[
MAX_NUM_COMPONENT
];

1261 
TComPic
* 
	mm_≠cRefPicLi°
 [
NUM_REF_PIC_LIST_01
][
MAX_NUM_REF
+1];

1262 
I¡
 
	mm_aiRefPOCLi°
 [
NUM_REF_PIC_LIST_01
][
MAX_NUM_REF
+1];

1263 
Boﬁ
 
	mm_bIsU£dAsL⁄gTîm
[
NUM_REF_PIC_LIST_01
][
MAX_NUM_REF
+1];

1264 
I¡
 
	mm_iDïth
;

1267 
Boﬁ
 
	mm_bRe„n˚d
;

1270 c⁄° 
TComVPS
* 
	mm_pcVPS
;

1271 c⁄° 
TComSPS
* 
	mm_pcSPS
;

1272 c⁄° 
TComPPS
* 
	mm_pcPPS
;

1273 
TComPic
* 
	mm_pcPic
;

1274 
Boﬁ
 
	mm_cﬁFromL0Fœg
;

1276 
Boﬁ
 
	mm_noOuçutPri‹PicsFœg
;

1277 
Boﬁ
 
	mm_noRa¶OuçutFœg
;

1278 
Boﬁ
 
	mm_h™dÀCøAsBœFœg
;

1280 
UI¡
 
	mm_cﬁRefIdx
;

1281 
UI¡
 
	mm_maxNumMîgeC™d
;

1283 
DoubÀ
 
	mm_œmbdas
[
MAX_NUM_COMPONENT
];

1285 
Boﬁ
 
	mm_abEquÆRef
 [
NUM_REF_PIC_LIST_01
][
MAX_NUM_REF
][MAX_NUM_REF];

1286 
UI¡
 
	mm_uiTLayî
;

1287 
Boﬁ
 
	mm_bTLayîSwôchögFœg
;

1289 
Sli˚C⁄°øöt
 
	mm_¶i˚Mode
;

1290 
UI¡
 
	mm_¶i˚Argumít
;

1291 
UI¡
 
	mm_¶i˚CurSèπCtuTsAddr
;

1292 
UI¡
 
	mm_¶i˚CurEndCtuTsAddr
;

1293 
UI¡
 
	mm_¶i˚Idx
;

1294 
Sli˚C⁄°øöt
 
	mm_¶i˚SegmítMode
;

1295 
UI¡
 
	mm_¶i˚SegmítArgumít
;

1296 
UI¡
 
	mm_¶i˚SegmítCurSèπCtuTsAddr
;

1297 
UI¡
 
	mm_¶i˚SegmítCurEndCtuTsAddr
;

1298 
Boﬁ
 
	mm_√xtSli˚
;

1299 
Boﬁ
 
	mm_√xtSli˚Segmít
;

1300 
UI¡
 
	mm_¶i˚Bôs
;

1301 
UI¡
 
	mm_¶i˚SegmítBôs
;

1302 
Boﬁ
 
	mm_bFöÆized
;

1304 
Boﬁ
 
	mm_bTe°WeightPªd
;

1305 
Boﬁ
 
	mm_bTe°WeightBiPªd
;

1306 
WPSˇlögP¨am
 
	mm_weightPªdTabÀ
[
NUM_REF_PIC_LIST_01
][
MAX_NUM_REF
][
MAX_NUM_COMPONENT
];

1307 
WPACDCP¨am
 
	mm_weightACDCP¨am
[
MAX_NUM_COMPONENT
];

1309 
	m°d
::
ve˘‹
<
UI¡
> 
m_sub°ªamSizes
;

1311 
Boﬁ
 
	mm_ˇbacInôFœg
;

1313 
Boﬁ
 
	mm_bLMvdL1Zîo
;

1314 
Boﬁ
 
	mm_ãmp‹ÆLayîN⁄Re„ªn˚Fœg
;

1315 
Boﬁ
 
	mm_LFCrossSli˚Bound¨yFœg
;

1317 
Boﬁ
 
	mm_íabÀTMVPFœg
;

1319 
Sli˚Ty≥
 
	mm_ícCABACTabÀIdx
;

1321 
	mpublic
:

1322 
TComSli˚
();

1323 
	mvútuÆ
 ~
TComSli˚
();

1324 
Void
 
öôSli˚
();

1326 
Void
 
	$£tVPS
–
TComVPS
* 
pcVPS
 ) { 
m_pcVPS
 =ÖcVPS; }

1327 c⁄° 
TComVPS
* 
	$gëVPS
(Ëc⁄° {  
m_pcVPS
; 
	}
}

1328 
Void
 
	$£tSPS
–c⁄° 
TComSPS
* 
pcSPS
 ) { 
m_pcSPS
 =ÖcSPS; 
	}
}

1329 c⁄° 
TComSPS
* 
	$gëSPS
(Ëc⁄° {  
m_pcSPS
; 
	}
}

1331 
Void
 
	$£tPPS
–c⁄° 
TComPPS
* 
pcPPS
 ) { 
m_pcPPS
 =ÖcPPS; 
m_iPPSId
 = (pcPPSË?ÖcPPS->
	`gëPPSId
(Ë: -1; 
	}
}

1332 c⁄° 
TComPPS
* 
	$gëPPS
(Ëc⁄° {  
m_pcPPS
; 
	}
}

1334 
Void
 
	$£tPPSId
–
I¡
 
PPSId
 ) { 
m_iPPSId
 = PPSId; 
	}
}

1335 
I¡
 
	$gëPPSId
(Ëc⁄° {  
m_iPPSId
; 
	}
}

1336 
Void
 
	$£tPicOuçutFœg
–
Boﬁ
 
b
 ) { 
m_PicOuçutFœg
 = b; 
	}
}

1337 
Boﬁ
 
	$gëPicOuçutFœg
(Ëc⁄° {  
m_PicOuçutFœg
; 
	}
}

1338 
Void
 
	$£tSaoE«bÀdFœg
(
Ch™√lTy≥
 
chTy≥
, 
Boﬁ
 
s
Ë{
m_ßoE«bÀdFœg
[chTy≥] =s; 
	}
}

1339 
Boﬁ
 
	$gëSaoE«bÀdFœg
(
Ch™√lTy≥
 
chTy≥
Ëc⁄° {  
m_ßoE«bÀdFœg
[chTy≥]; 
	}
}

1340 
Void
 
	$£tRPS
–c⁄° 
TComRe„ªn˚Pi˘uªSë
 *
pcRPS
 ) { 
m_pRPS
 =ÖcRPS; 
	}
}

1341 c⁄° 
TComRe„ªn˚Pi˘uªSë
* 
	$gëRPS
(Ë{  
m_pRPS
; 
	}
}

1342 
TComRe„ªn˚Pi˘uªSë
* 
	$gëLoˇlRPS
(Ë{  &
m_loˇlRPS
; 
	}
}

1344 
Void
 
	$£tRPSidx
–
I¡
 
ΩsIdx
 ) { 
m_ΩsIdx
 =ÑpsIdx; 
	}
}

1345 
I¡
 
	$gëRPSidx
(Ëc⁄° {  
m_ΩsIdx
; 
	}
}

1346 
TComRefPicLi°Modifiˇti⁄
* 
	$gëRefPicLi°Modifiˇti⁄
(Ë{  &
m_RefPicLi°Modifiˇti⁄
; 
	}
}

1347 
Void
 
	$£tLa°IDR
(
I¡
 
iIDRPOC
Ë{ 
m_iLa°IDR
 = iIDRPOC; 
	}
}

1348 
I¡
 
	$gëLa°IDR
(Ëc⁄° {  
m_iLa°IDR
; 
	}
}

1349 
Void
 
	$£tAssocüãdIRAPPOC
(
I¡
 
iAssocüãdIRAPPOC
Ë{ 
m_iAssocüãdIRAP
 = iAssocüãdIRAPPOC; 
	}
}

1350 
I¡
 
	$gëAssocüãdIRAPPOC
(Ëc⁄° {  
m_iAssocüãdIRAP
; 
	}
}

1351 
Void
 
	$£tAssocüãdIRAPTy≥
(
NÆUnôTy≥
 
assocüãdIRAPTy≥
Ë{ 
m_iAssocüãdIRAPTy≥
 =ássocüãdIRAPTy≥; 
	}
}

1352 
NÆUnôTy≥
 
	$gëAssocüãdIRAPTy≥
(Ëc⁄° {  
m_iAssocüãdIRAPTy≥
; 
	}
}

1353 
Sli˚Ty≥
 
	$gëSli˚Ty≥
(Ëc⁄° {  
m_eSli˚Ty≥
; 
	}
}

1354 
I¡
 
	$gëPOC
(Ëc⁄° {  
m_iPOC
; 
	}
}

1355 
I¡
 
	$gëSli˚Qp
(Ëc⁄° {  
m_iSli˚Qp
; 
	}
}

1356 
Boﬁ
 
	$gëU£WeighãdPªdi˘i⁄
(Ëc⁄° { –(
m_eSli˚Ty≥
==
P_SLICE
 && 
	`ã°WeightPªd
()Ë|| (m_eSli˚Ty≥==
B_SLICE
 && 
	`ã°WeightBiPªd
()Ë); 
	}
}

1357 
Boﬁ
 
	$gëDïídítSli˚SegmítFœg
(Ëc⁄° {  
m_dïídítSli˚SegmítFœg
; 
	}
}

1358 
Void
 
	$£tDïídítSli˚SegmítFœg
(
Boﬁ
 
vÆ
Ë{ 
m_dïídítSli˚SegmítFœg
 = vÆ; 
	}
}

1359 #i‡
ADAPTIVE_QP_SELECTION


1360 
I¡
 
	$gëSli˚QpBa£
(Ëc⁄° {  
m_iSli˚QpBa£
; 
	}
}

1362 
I¡
 
	$gëSli˚QpDñè
(Ëc⁄° {  
m_iSli˚QpDñè
; 
	}
}

1363 
I¡
 
	$gëSli˚ChromaQpDñè
(
Comp⁄ítID
 
compID
Ëc⁄° {  
	`isLuma
(compIDË? 0 : 
m_iSli˚ChromaQpDñè
[compID]; 
	}
}

1364 
Boﬁ
 
	$gëU£ChromaQpAdj
(Ëc⁄° {  
m_ChromaQpAdjE«bÀd
; 
	}
}

1365 
Boﬁ
 
	$gëDeblockögFûãrDißbÀ
(Ëc⁄° {  
m_deblockögFûãrDißbÀ
; 
	}
}

1366 
Boﬁ
 
	$gëDeblockögFûãrOvîrideFœg
(Ëc⁄° {  
m_deblockögFûãrOvîrideFœg
; 
	}
}

1367 
I¡
 
	$gëDeblockögFûãrBëaOff£tDiv2
()c⁄° {  
m_deblockögFûãrBëaOff£tDiv2
; 
	}
}

1368 
I¡
 
	$gëDeblockögFûãrTcOff£tDiv2
(Ëc⁄° {  
m_deblockögFûãrTcOff£tDiv2
; 
	}
}

1370 
I¡
 
	$gëNumRefIdx
–
RefPicLi°
 
e
 ) c⁄° {  
m_aiNumRefIdx
[e]; 
	}
}

1371 
TComPic
* 
	$gëPic
(Ë{  
m_pcPic
; 
	}
}

1372 c⁄° 
TComPic
* 
	$gëPic
(Ëc⁄° {  
m_pcPic
; 
	}
}

1373 
TComPic
* 
	$gëRefPic
–
RefPicLi°
 
e
, 
I¡
 
iRefIdx
Ë{  
m_≠cRefPicLi°
[e][iRefIdx]; 
	}
}

1374 c⁄° 
TComPic
* 
	$gëRefPic
–
RefPicLi°
 
e
, 
I¡
 
iRefIdx
Ëc⁄° {  
m_≠cRefPicLi°
[e][iRefIdx]; 
	}
}

1375 
I¡
 
	$gëRefPOC
–
RefPicLi°
 
e
, 
I¡
 
iRefIdx
Ëc⁄° {  
m_aiRefPOCLi°
[e][iRefIdx]; 
	}
}

1376 
I¡
 
	$gëDïth
(Ëc⁄° {  
m_iDïth
; 
	}
}

1377 
Boﬁ
 
	$gëCﬁFromL0Fœg
(Ëc⁄° {  
m_cﬁFromL0Fœg
; 
	}
}

1378 
UI¡
 
	$gëCﬁRefIdx
(Ëc⁄° {  
m_cﬁRefIdx
; 
	}
}

1379 
Void
 
checkCﬁRefIdx
(
UI¡
 
curSli˚Idx
, 
TComPic
* 
pic
);

1380 
Boﬁ
 
	$gëIsU£dAsL⁄gTîm
(
I¡
 
i
, I¡ 
j
Ëc⁄° {  
m_bIsU£dAsL⁄gTîm
[i][j]; 
	}
}

1381 
Void
 
	$£tIsU£dAsL⁄gTîm
(
I¡
 
i
, I¡ 
j
, 
Boﬁ
 
vÆue
Ë{ 
m_bIsU£dAsL⁄gTîm
[i][j] = vÆue; 
	}
}

1382 
Boﬁ
 
	$gëCheckLDC
(Ëc⁄° {  
m_bCheckLDC
; 
	}
}

1383 
Boﬁ
 
	$gëMvdL1ZîoFœg
(Ëc⁄° {  
m_bLMvdL1Zîo
; 
	}
}

1384 
I¡
 
	$gëNumRpsCuºTempLi°
() const;

1385 
I¡
 
	$gëLi°1IdxToLi°0Idx
–
I¡
 
li°1Idx
 ) c⁄° {  
m_li°1IdxToLi°0Idx
[li°1Idx]; 
	}
}

1386 
Void
 
	$£tRe„ªn˚d
(
Boﬁ
 
b
Ë{ 
m_bRe„n˚d
 = b; 
	}
}

1387 
Boﬁ
 
	$isRe„ªn˚d
(Ëc⁄° {  
m_bRe„n˚d
; 
	}
}

1388 
Boﬁ
 
	$isRe„ªn˚NÆu
(Ëc⁄° {  ((
	`gëNÆUnôTy≥
(Ë<
NAL_UNIT_RESERVED_VCL_R15
Ë&& (gëNÆUnôTy≥()%2 !0)Ë|| ((gëNÆUnôTy≥(Ë>
NAL_UNIT_CODED_SLICE_BLA_W_LP
Ë&& (gëNÆUnôTy≥(Ë<
NAL_UNIT_RESERVED_IRAP_VCL23
Ë); 
	}
}

1389 
Void
 
	$£tPOC
–
I¡
 
i
 ) { 
m_iPOC
 = i; 
	}
}

1390 
Void
 
	$£tNÆUnôTy≥
–
NÆUnôTy≥
 
e
 ) { 
m_eNÆUnôTy≥
 =É; 
	}
}

1391 
NÆUnôTy≥
 
	$gëNÆUnôTy≥
(Ëc⁄° {  
m_eNÆUnôTy≥
; 
	}
}

1392 
Boﬁ
 
	$gëR≠PicFœg
() const;

1393 
Boﬁ
 
	$gëIdrPicFœg
(Ëc⁄° {  
	`gëNÆUnôTy≥
(Ë=
NAL_UNIT_CODED_SLICE_IDR_W_RADL
 || gëNÆUnôTy≥(Ë=
NAL_UNIT_CODED_SLICE_IDR_N_LP
; 
	}
}

1394 
Boﬁ
 
	$isIRAP
(Ëc⁄° {  (
	`gëNÆUnôTy≥
(Ë>16Ë&& (gëNÆUnôTy≥(Ë<23); 
	}
}

1395 
Void
 
checkCRA
(c⁄° 
TComRe„ªn˚Pi˘uªSë
 *
pRe„ªn˚Pi˘uªSë
, 
I¡
& 
pocCRA
, 
NÆUnôTy≥
& 
assocüãdIRAPTy≥
, 
TComLi°
<
TComPic
 *>& 
rcLi°Pic
);

1396 
Void
 
decodögRe‰eshM¨kög
(
I¡
& 
pocCRA
, 
Boﬁ
& 
bRe‰eshPídög
, 
TComLi°
<
TComPic
*>& 
rcLi°Pic
, c⁄° 
boﬁ
 
bEfficõ¡FõldIRAPE«bÀd
);

1397 
Void
 
	$£tSli˚Ty≥
–
Sli˚Ty≥
 
e
 ) { 
m_eSli˚Ty≥
 =É; 
	}
}

1398 
Void
 
	$£tSli˚Qp
–
I¡
 
i
 ) { 
m_iSli˚Qp
 = i; 
	}
}

1399 #i‡
ADAPTIVE_QP_SELECTION


1400 
Void
 
	$£tSli˚QpBa£
–
I¡
 
i
 ) { 
m_iSli˚QpBa£
 = i; 
	}
}

1402 
Void
 
	$£tSli˚QpDñè
–
I¡
 
i
 ) { 
m_iSli˚QpDñè
 = i; 
	}
}

1403 
Void
 
	$£tSli˚ChromaQpDñè
–
Comp⁄ítID
 
compID
, 
I¡
 
i
 ) { 
m_iSli˚ChromaQpDñè
[compID] = 
	`isLuma
(compIDË? 0 : i; 
	}
}

1404 
Void
 
	$£tU£ChromaQpAdj
–
Boﬁ
 
b
 ) { 
m_ChromaQpAdjE«bÀd
 = b; 
	}
}

1405 
Void
 
	$£tDeblockögFûãrDißbÀ
–
Boﬁ
 
b
 ) { 
m_deblockögFûãrDißbÀ
b; 
	}
}

1406 
Void
 
	$£tDeblockögFûãrOvîrideFœg
–
Boﬁ
 
b
 ) { 
m_deblockögFûãrOvîrideFœg
 = b; 
	}
}

1407 
Void
 
	$£tDeblockögFûãrBëaOff£tDiv2
–
I¡
 
i
 ) { 
m_deblockögFûãrBëaOff£tDiv2
 = i; 
	}
}

1408 
Void
 
	$£tDeblockögFûãrTcOff£tDiv2
–
I¡
 
i
 ) { 
m_deblockögFûãrTcOff£tDiv2
 = i; 
	}
}

1410 
Void
 
	$£tRefPic
–
TComPic
* 
p
, 
RefPicLi°
 
e
, 
I¡
 
iRefIdx
 ) { 
m_≠cRefPicLi°
[e][iRefIdx] =Ö; 
	}
}

1411 
Void
 
	$£tRefPOC
–
I¡
 
i
, 
RefPicLi°
 
e
, I¡ 
iRefIdx
 ) { 
m_aiRefPOCLi°
[e][iRefIdx] = i; 
	}
}

1412 
Void
 
	$£tNumRefIdx
–
RefPicLi°
 
e
, 
I¡
 
i
 ) { 
m_aiNumRefIdx
[e] = i; 
	}
}

1413 
Void
 
	$£tPic
–
TComPic
* 
p
 ) { 
m_pcPic
 =Ö; 
	}
}

1414 
Void
 
	$£tDïth
–
I¡
 
iDïth
 ) { 
m_iDïth
 = iDïth; 
	}
}

1416 
Void
 
£tRefPicLi°
–
TComLi°
<
TComPic
*>& 
rcLi°Pic
, 
Boﬁ
 
checkNumPocTŸÆCuº
 = 
Ál£
 );

1417 
Void
 
£tRefPOCLi°
();

1418 
Void
 
	$£tCﬁFromL0Fœg
–
Boﬁ
 
cﬁFromL0
 ) { 
m_cﬁFromL0Fœg
 = cﬁFromL0; 
	}
}

1419 
Void
 
	$£tCﬁRefIdx
–
UI¡
 
ªfIdx
Ë{ 
m_cﬁRefIdx
 =ÑefIdx; 
	}
}

1420 
Void
 
	$£tCheckLDC
–
Boﬁ
 
b
 ) { 
m_bCheckLDC
 = b; 
	}
}

1421 
Void
 
	$£tMvdL1ZîoFœg
–
Boﬁ
 
b
Ë{ 
m_bLMvdL1Zîo
 = b; 
	}
}

1423 
Boﬁ
 
	$isI¡ø
(Ëc⁄° {  
m_eSli˚Ty≥
 =
I_SLICE
; 
	}
}

1424 
Boﬁ
 
	$isI¡îB
(Ëc⁄° {  
m_eSli˚Ty≥
 =
B_SLICE
; 
	}
}

1425 
Boﬁ
 
	$isI¡îP
(Ëc⁄° {  
m_eSli˚Ty≥
 =
P_SLICE
; 
	}
}

1427 
Void
 
	$£tLambdas
–c⁄° 
DoubÀ
 
œmbdas
[
MAX_NUM_COMPONENT
] ) { 
I¡
 
comp⁄ít
 = 0; comp⁄íà< MAX_NUM_COMPONENT; comp⁄ít++Ë
m_œmbdas
[comp⁄ít] =Üambdas[comp⁄ít]; 
	}
}

1428 c⁄° 
DoubÀ
* 
	$gëLambdas
(Ëc⁄° {  
m_œmbdas
; 
	}
}

1430 
Void
 
öôEquÆRef
();

1431 
Boﬁ
 
	$isEquÆRef
–
RefPicLi°
 
e
, 
I¡
 
iRefIdx1
, I¡ 
iRefIdx2
 )

1433 
	`as£π
(
e
<
NUM_REF_PIC_LIST_01
);

1434 i‡(
iRefIdx1
 < 0 || 
iRefIdx2
 < 0)

1436  
Ál£
;

1440  
m_abEquÆRef
[
e
][
iRefIdx1
][
iRefIdx2
];

1442 
	}
}

1444 
Void
 
	$£tEquÆRef
–
RefPicLi°
 
e
, 
I¡
 
iRefIdx1
, I¡ 
iRefIdx2
, 
Boﬁ
 
b
)

1446 
	`as£π
(
e
<
NUM_REF_PIC_LIST_01
);

1447 
m_abEquÆRef
[
e
][
iRefIdx1
][
iRefIdx2
] = m_abEquÆRef[e][iRefIdx2][iRefIdx1] = 
b
;

1448 
	}
}

1450 
Void
 
s‹tPicLi°
–
TComLi°
<
TComPic
*>& 
rcLi°Pic
 );

1451 
Void
 
£tLi°1IdxToLi°0Idx
();

1453 
UI¡
 
	$gëTLayî
(Ëc⁄° {  
m_uiTLayî
; 
	}
}

1454 
Void
 
	$£tTLayî
–
UI¡
 
uiTLayî
 ) { 
m_uiTLayî
 = uiTLayî; 
	}
}

1456 
Void
 
£tTLayîInfo
–
UI¡
 
uiTLayî
 );

1457 
Void
 
decodögM¨kög
–
TComLi°
<
TComPic
*>& 
rcLi°Pic
, 
I¡
 
iGOPSIze
, I¡& 
iMaxRefPicNum
 );

1458 
Void
 
checkLódögPi˘uªRe°ri˘i⁄s
–
TComLi°
<
TComPic
*>& 
rcLi°Pic
 );

1459 
Void
 
≠∂yRe„ªn˚Pi˘uªSë
–
TComLi°
<
TComPic
*>& 
rcLi°Pic
, c⁄° 
TComRe„ªn˚Pi˘uªSë
 *
RPSLi°
);

1460 
Boﬁ
 
isTemp‹ÆLayîSwôchögPoöt
–
TComLi°
<
TComPic
*>& 
rcLi°Pic
 );

1461 
Boﬁ
 
isSãpwi£Temp‹ÆLayîSwôchögPoötC™did©e
–
TComLi°
<
TComPic
*>& 
rcLi°Pic
 );

1462 
I¡
 
checkTh©AŒRefPicsAªAvaûabÀ
–
TComLi°
<
TComPic
*>& 
rcLi°Pic
, c⁄° 
TComRe„ªn˚Pi˘uªSë
 *
pRe„ªn˚Pi˘uªSë
, 
Boﬁ
 
¥ötEº‹s
, I¡ 
pocR™domAc˚ss
 = 0, Boﬁ 
bU£RecovîyPoöt
 = 
Ál£
);

1463 
Void
 
¸óãEx∂icôRe„ªn˚Pi˘uªSëFromRe„ªn˚
–
TComLi°
<
TComPic
*>& 
rcLi°Pic
, c⁄° 
TComRe„ªn˚Pi˘uªSë
 *
pRe„ªn˚Pi˘uªSë
, 
Boﬁ
 
isRAP
, 
I¡
 
pocR™domAc˚ss
, Boﬁ 
bU£RecovîyPoöt
, c⁄° Boﬁ 
bEfficõ¡FõldIRAPE«bÀd
);

1464 
Void
 
	$£tMaxNumMîgeC™d
(
UI¡
 
vÆ
 ) { 
m_maxNumMîgeC™d
 = vÆ; 
	}
}

1465 
UI¡
 
	$gëMaxNumMîgeC™d
(Ëc⁄° {  
m_maxNumMîgeC™d
; 
	}
}

1467 
Void
 
	$£tNoOuçutPri‹PicsFœg
–
Boﬁ
 
vÆ
 ) { 
m_noOuçutPri‹PicsFœg
 = vÆ; 
	}
}

1468 
Boﬁ
 
	$gëNoOuçutPri‹PicsFœg
(Ëc⁄° {  
m_noOuçutPri‹PicsFœg
; 
	}
}

1470 
Void
 
	$£tNoRa¶OuçutFœg
–
Boﬁ
 
vÆ
 ) { 
m_noRa¶OuçutFœg
 = vÆ; 
	}
}

1471 
Boﬁ
 
	$gëNoRa¶OuçutFœg
(Ëc⁄° {  
m_noRa¶OuçutFœg
; 
	}
}

1473 
Void
 
	$£tH™dÀCøAsBœFœg
–
Boﬁ
 
vÆ
 ) { 
m_h™dÀCøAsBœFœg
 = vÆ; 
	}
}

1474 
Boﬁ
 
	$gëH™dÀCøAsBœFœg
(Ëc⁄° {  
m_h™dÀCøAsBœFœg
; 
	}
}

1476 
Void
 
	$£tSli˚Mode
–
Sli˚C⁄°øöt
 
mode
 ) { 
m_¶i˚Mode
 = mode; 
	}
}

1477 
Sli˚C⁄°øöt
 
	$gëSli˚Mode
(Ëc⁄° {  
m_¶i˚Mode
; 
	}
}

1478 
Void
 
	$£tSli˚Argumít
–
UI¡
 
uiArgumít
 ) { 
m_¶i˚Argumít
 = uiArgumít; 
	}
}

1479 
UI¡
 
	$gëSli˚Argumít
(Ëc⁄° {  
m_¶i˚Argumít
; 
	}
}

1480 
Void
 
	$£tSli˚CurSèπCtuTsAddr
–
UI¡
 
˘uTsAddr
 ) { 
m_¶i˚CurSèπCtuTsAddr
 = ctuTsAddr; 
	}
}

1481 
UI¡
 
	$gëSli˚CurSèπCtuTsAddr
(Ëc⁄° {  
m_¶i˚CurSèπCtuTsAddr
; 
	}
}

1482 
Void
 
	$£tSli˚CurEndCtuTsAddr
–
UI¡
 
˘uTsAddr
 ) { 
m_¶i˚CurEndCtuTsAddr
 = ctuTsAddr; 
	}
}

1483 
UI¡
 
	$gëSli˚CurEndCtuTsAddr
(Ëc⁄° {  
m_¶i˚CurEndCtuTsAddr
; 
	}
}

1484 
Void
 
	$£tSli˚Idx
–
UI¡
 
i
Ë{ 
m_¶i˚Idx
 = i; 
	}
}

1485 
UI¡
 
	$gëSli˚Idx
(Ëc⁄° {  
m_¶i˚Idx
; 
	}
}

1486 
Void
 
c›ySli˚Info
(
TComSli˚
 *
pcSli˚Src
);

1487 
Void
 
	$£tSli˚SegmítMode
–
Sli˚C⁄°øöt
 
mode
 ) { 
m_¶i˚SegmítMode
 = mode; 
	}
}

1488 
Sli˚C⁄°øöt
 
	$gëSli˚SegmítMode
(Ëc⁄° {  
m_¶i˚SegmítMode
; 
	}
}

1489 
Void
 
	$£tSli˚SegmítArgumít
–
UI¡
 
uiArgumít
 ) { 
m_¶i˚SegmítArgumít
 = uiArgumít; 
	}
}

1490 
UI¡
 
	$gëSli˚SegmítArgumít
(Ëc⁄° {  
m_¶i˚SegmítArgumít
; 
	}
}

1491 
Void
 
	$£tSli˚SegmítCurSèπCtuTsAddr
–
UI¡
 
˘uTsAddr
 ) { 
m_¶i˚SegmítCurSèπCtuTsAddr
 = ctuTsAddr; 
	}
}

1492 
UI¡
 
	$gëSli˚SegmítCurSèπCtuTsAddr
(Ëc⁄° {  
m_¶i˚SegmítCurSèπCtuTsAddr
; 
	}
}

1493 
Void
 
	$£tSli˚SegmítCurEndCtuTsAddr
–
UI¡
 
˘uTsAddr
 ) { 
m_¶i˚SegmítCurEndCtuTsAddr
 = ctuTsAddr; 
	}
}

1494 
UI¡
 
	$gëSli˚SegmítCurEndCtuTsAddr
(Ëc⁄° {  
m_¶i˚SegmítCurEndCtuTsAddr
; 
	}
}

1495 
Void
 
	$£tSli˚Bôs
–
UI¡
 
uiVÆ
 ) { 
m_¶i˚Bôs
 = uiVÆ; 
	}
}

1496 
UI¡
 
	$gëSli˚Bôs
(Ëc⁄° {  
m_¶i˚Bôs
; 
	}
}

1497 
Void
 
	$£tSli˚SegmítBôs
–
UI¡
 
uiVÆ
 ) { 
m_¶i˚SegmítBôs
 = uiVÆ; 
	}
}

1498 
UI¡
 
	$gëSli˚SegmítBôs
(Ëc⁄° {  
m_¶i˚SegmítBôs
; 
	}
}

1499 
Void
 
	$£tFöÆized
–
Boﬁ
 
uiVÆ
 ) { 
m_bFöÆized
 = uiVÆ; 
	}
}

1500 
Boﬁ
 
	$gëFöÆized
(Ëc⁄° {  
m_bFöÆized
; 
	}
}

1501 
Boﬁ
 
	$ã°WeightPªd
–Ëc⁄° {  
m_bTe°WeightPªd
; 
	}
}

1502 
Void
 
	$£tTe°WeightPªd
–
Boﬁ
 
bVÆue
 ) { 
m_bTe°WeightPªd
 = bVÆue; 
	}
}

1503 
Boﬁ
 
	$ã°WeightBiPªd
–Ëc⁄° {  
m_bTe°WeightBiPªd
; 
	}
}

1504 
Void
 
	$£tTe°WeightBiPªd
–
Boﬁ
 
bVÆue
 ) { 
m_bTe°WeightBiPªd
 = bVÆue; 
	}
}

1505 
Void
 
	$£tWpSˇlög
–
WPSˇlögP¨am
 
wp
[
NUM_REF_PIC_LIST_01
][
MAX_NUM_REF
][
MAX_NUM_COMPONENT
] )

1507 
	`mem˝y
(
m_weightPªdTabÀ
, 
wp
, (
WPSˇlögP¨am
)*
NUM_REF_PIC_LIST_01
*
MAX_NUM_REF
*
MAX_NUM_COMPONENT
);

1508 
	}
}

1510 
Void
 
gëWpSˇlög
–
RefPicLi°
 
e
, 
I¡
 
iRefIdx
, 
WPSˇlögP¨am
 *&
wp
);

1512 
Void
 
ª£tWpSˇlög
();

1513 
Void
 
öôWpSˇlög
(c⁄° 
TComSPS
 *
•s
);

1515 
Void
 
	$£tWpAcDcP¨am
–
WPACDCP¨am
 
wp
[
MAX_NUM_COMPONENT
] )

1517 
	`mem˝y
(
m_weightACDCP¨am
, 
wp
, (
WPACDCP¨am
)*
MAX_NUM_COMPONENT
);

1518 
	}
}

1520 
Void
 
gëWpAcDcP¨am
–
WPACDCP¨am
 *&
wp
 );

1521 
Void
 
öôWpAcDcP¨am
();

1523 
Void
 
	$˛órSub°ªamSizes
–Ë{  
m_sub°ªamSizes
.
	`˛ór
(); 
	}
}

1524 
UI¡
 
	$gëNumbîOfSub°ªamSizes
–Ë{  (
UI¡
Ë
m_sub°ªamSizes
.
	`size
(); 
	}
}

1525 
Void
 
	$addSub°ªamSize
–
UI¡
 
size
 ) { 
m_sub°ªamSizes
.
	`push_back
(size); 
	}
}

1526 
UI¡
 
	$gëSub°ªamSize
–
I¡
 
idx
 ) { 
	`as£π
(idx<
	`gëNumbîOfSub°ªamSizes
());  
m_sub°ªamSizes
[idx]; 
	}
}

1528 
Void
 
	$£tCabacInôFœg
–
Boﬁ
 
vÆ
 ) { 
m_ˇbacInôFœg
 = vÆ; 
	}
}

1529 
Boﬁ
 
	$gëCabacInôFœg
(Ë{  
m_ˇbacInôFœg
; 
	}
}

1530 
Boﬁ
 
	$gëTemp‹ÆLayîN⁄Re„ªn˚Fœg
(Ë{  
m_ãmp‹ÆLayîN⁄Re„ªn˚Fœg
; 
	}
}

1531 
Void
 
	$£tTemp‹ÆLayîN⁄Re„ªn˚Fœg
(
Boﬁ
 
x
Ë{ 
m_ãmp‹ÆLayîN⁄Re„ªn˚Fœg
 = x; 
	}
}

1532 
Void
 
	$£tLFCrossSli˚Bound¨yFœg
–
Boﬁ
 
vÆ
 ) { 
m_LFCrossSli˚Bound¨yFœg
 = vÆ; 
	}
}

1533 
Boﬁ
 
	$gëLFCrossSli˚Bound¨yFœg
(Ë{  
m_LFCrossSli˚Bound¨yFœg
; 
	}
}

1535 
Void
 
	$£tE«bÀTMVPFœg
–
Boﬁ
 
b
 ) { 
m_íabÀTMVPFœg
 = b; 
	}
}

1536 
Boﬁ
 
	$gëE«bÀTMVPFœg
(Ëc⁄° {  
m_íabÀTMVPFœg
; 
	}
}

1538 
Void
 
	$£tEncCABACTabÀIdx
–
Sli˚Ty≥
 
idx
 ) { 
m_ícCABACTabÀIdx
 = idx; 
	}
}

1539 
Sli˚Ty≥
 
	$gëEncCABACTabÀIdx
(Ëc⁄° {  
m_ícCABACTabÀIdx
; 
	}
}

1541 
	g¥Ÿe˘ed
:

1542 
TComPic
* 
xGëRefPic
 (
TComLi°
<TComPic*>& 
rcLi°Pic
, 
I¡
 
poc
);

1543 
TComPic
* 
xGëL⁄gTîmRefPic
(
TComLi°
<TComPic*>& 
rcLi°Pic
, 
I¡
 
poc
, 
Boﬁ
 
pocHasMsb
);

1547 
Void
 
ˇlcuœãP¨amëîSëCh™gedFœg
(
Boﬁ
 &
bCh™ged
, c⁄° 
°d
::
ve˘‹
<
UCh¨
> *
pOldD©a
, c⁄° std::ve˘‹<UCh¨> *
pNewD©a
);

1549 
	gãm∂©e
 <
˛ass
 
	gT
> cœs†
	cP¨amëîSëM≠


1551 
	mpublic
:

1552 
ãm∂©e
 <
˛ass
 
Tm
>

1553 
	sM≠D©a


1555 
Boﬁ
 
bCh™ged
;

1556 
	m°d
::
ve˘‹
<
UCh¨
> *
pNÆuD©a
;

1557 
Tm
* 
	m∑ømëîSë
;

1560 
	$P¨amëîSëM≠
(
I¡
 
maxId
)

1561 :
	$m_maxId
 (
maxId
)

1562 {
	}
}

1564 ~
	$P¨amëîSëM≠
()

1566 
ty≥«me
 
°d
::
m≠
<
I¡
,
M≠D©a
<
T
> >::
ôî©‹
 
i
 = 
m_∑øm£tM≠
.
	`begö
(); i!m_∑øm£tM≠.
	`íd
(); i++)

1568 
	`dñëe
 (*
i
).
£c⁄d
.
pNÆuD©a
;

1569 
	`dñëe
 (*
i
).
£c⁄d
.
∑ømëîSë
;

1571 
	}
}

1573 
T
 *
	$ÆloˇãPS
(c⁄° 
I¡
 
psId
)

1575 
	`as£π
 ( 
psId
 < 
m_maxId
 );

1576 i‡–
m_∑øm£tM≠
.
	`föd
(
psId
Ë=m_∑øm£tM≠.
	`íd
() )

1578 
m_∑øm£tM≠
[
psId
].
bCh™ged
 = 
åue
;

1579 
m_∑øm£tM≠
[
psId
].
pNÆuD©a
=0;

1580 
m_∑øm£tM≠
[
psId
].
∑ømëîSë
 = 
√w
 
T
;

1581 
	`£tID
(
m_∑øm£tM≠
[
psId
].
∑ømëîSë
,ÖsId);

1583  
m_∑øm£tM≠
[
psId
].
∑ømëîSë
;

1584 
	}
}

1586 
Void
 
°‹ePS
(
I¡
 
psId
, 
T
 *
ps
, c⁄° 
°d
::
ve˘‹
<
UCh¨
> *
pNÆuD©a
)

1588 
as£π
 ( 
psId
 < 
m_maxId
 );

1589 i‡–
	gm_∑øm£tM≠
.
föd
(
psId
Ë!
m_∑øm£tM≠
.
íd
() )

1591 
M≠D©a
<
T
> &
m≠D©a
=
m_∑øm£tM≠
[
psId
];

1594 
ˇlcuœãP¨amëîSëCh™gedFœg
(
m≠D©a
.
bCh™ged
, m≠D©a.
pNÆuD©a
,ÖNaluData);

1595 
dñëe
 
	gm_∑øm£tM≠
[
psId
].
	gpNÆuD©a
;

1596 
dñëe
 
	gm_∑øm£tM≠
[
psId
].
	g∑ømëîSë
;

1598 
	gm_∑øm£tM≠
[
psId
].
	g∑ømëîSë
 = 
ps
;

1602 
	gm_∑øm£tM≠
[
psId
].
	g∑ømëîSë
 = 
ps
;

1603 
	gm_∑øm£tM≠
[
psId
].
	gbCh™ged
 = 
Ál£
;

1605 i‡(
	gpNÆuD©a
 != 0)

1607 
m_∑øm£tM≠
[
psId
].
pNÆuD©a
=
√w
 
°d
::
ve˘‹
<
UCh¨
>;

1608 *(
	gm_∑øm£tM≠
[
psId
].
	gpNÆuD©a
Ë*
pNÆuD©a
;

1612 
	gm_∑øm£tM≠
[
psId
].
	gpNÆuD©a
=0;

1616 
Void
 
	$£tCh™gedFœg
(
I¡
 
psId
, 
Boﬁ
 
bCh™ged
=
åue
)

1618 i‡–
m_∑øm£tM≠
.
	`föd
(
psId
Ë!m_∑øm£tM≠.
	`íd
() )

1620 
m_∑øm£tM≠
[
psId
].
bCh™ged
=bChanged;

1622 
	}
}

1624 
Void
 
	$˛órCh™gedFœg
(
I¡
 
psId
)

1626 i‡–
m_∑øm£tM≠
.
	`föd
(
psId
Ë!m_∑øm£tM≠.
	`íd
() )

1628 
m_∑øm£tM≠
[
psId
].
bCh™ged
=
Ál£
;

1630 
	}
}

1632 
Boﬁ
 
	$gëCh™gedFœg
(
I¡
 
psId
) const

1634 c⁄° 
ty≥«me
 
°d
::
m≠
<
I¡
,
M≠D©a
<
T
> >::
c⁄°_ôî©‹
 
c⁄°ô
=
m_∑øm£tM≠
.
	`föd
(
psId
);

1635 i‡–
c⁄°ô
 !
m_∑øm£tM≠
.
	`íd
() )

1637  
c⁄°ô
->
£c⁄d
.
bCh™ged
;

1639  
Ál£
;

1640 
	}
}

1642 
T
* 
	$gëPS
(
I¡
 
psId
)

1644 
ty≥«me
 
°d
::
m≠
<
I¡
,
M≠D©a
<
T
> >::
ôî©‹
 
ô
=
m_∑øm£tM≠
.
	`föd
(
psId
);

1645  ( 
ô
 =
m_∑øm£tM≠
.
	`íd
(ËË? 
NULL
 : (ô)->
£c⁄d
.
∑ømëîSë
;

1646 
	}
}

1648 c⁄° 
T
* 
	$gëPS
(
I¡
 
psId
) const

1650 
ty≥«me
 
°d
::
m≠
<
I¡
,
M≠D©a
<
T
> >::
c⁄°_ôî©‹
 
ô
=
m_∑øm£tM≠
.
	`föd
(
psId
);

1651  ( 
ô
 =
m_∑øm£tM≠
.
	`íd
(ËË? 
NULL
 : (ô)->
£c⁄d
.
∑ømëîSë
;

1652 
	}
}

1654 
T
* 
	$gëFú°PS
()

1656  (
m_∑øm£tM≠
.
	`begö
(Ë=m_∑øm£tM≠.
	`íd
(ËË? 
NULL
 : m_∑øm£tM≠.begö()->
£c⁄d
.
∑ømëîSë
;

1657 
	}
}

1659 
	g¥iv©e
:

1660 
°d
::
m≠
<
I¡
,
	gM≠D©a
<
	gT
> > 
	gm_∑øm£tM≠
;

1661 
I¡
 
	gm_maxId
;

1663 
Void
 
£tID
(
T
* 
∑ømëîSë
, c⁄° 
I¡
 
psId
);

1667 ˛as†
	cP¨amëîSëM™agî


1669 
	mpublic
:

1670 
P¨amëîSëM™agî
();

1671 
	mvútuÆ
 ~
P¨amëîSëM™agî
();

1674 
Void
 
°‹eVPS
(
TComVPS
 *
vps
, c⁄° 
°d
::
ve˘‹
<
UCh¨
> &
«luD©a
Ë{ 
m_vpsM≠
.
°‹ePS
–vps->
gëVPSId
(), vps, &naluData); };

1676 
TComVPS
* 
	$gëVPS
(
I¡
 
vpsId
Ë{  
m_vpsM≠
.
	`gëPS
(vpsId); 
	}
};

1677 
Boﬁ
 
	$gëVPSCh™gedFœg
(
I¡
 
vpsId
Ëc⁄° {  
m_vpsM≠
.
	`gëCh™gedFœg
(vpsId); 
	}
}

1678 
Void
 
	$˛órVPSCh™gedFœg
(
I¡
 
vpsId
Ë{ 
m_vpsM≠
.
	`˛órCh™gedFœg
(vpsId); 
	}
}

1679 
TComVPS
* 
	$gëFú°VPS
(Ë{  
m_vpsM≠
.
	`gëFú°PS
(); 
	}
};

1682 
Void
 
°‹eSPS
(
TComSPS
 *
•s
, c⁄° 
°d
::
ve˘‹
<
UCh¨
> &
«luD©a
Ë{ 
m_•sM≠
.
°‹ePS
–•s->
gëSPSId
(), sps, &naluData); };

1684 
TComSPS
* 
	$gëSPS
(
I¡
 
•sId
Ë{  
m_•sM≠
.
	`gëPS
(•sId); 
	}
};

1685 
Boﬁ
 
	$gëSPSCh™gedFœg
(
I¡
 
•sId
Ëc⁄° {  
m_•sM≠
.
	`gëCh™gedFœg
(•sId); 
	}
}

1686 
Void
 
	$˛órSPSCh™gedFœg
(
I¡
 
•sId
Ë{ 
m_•sM≠
.
	`˛órCh™gedFœg
(•sId); 
	}
}

1687 
TComSPS
* 
	$gëFú°SPS
(Ë{  
m_•sM≠
.
	`gëFú°PS
(); 
	}
};

1690 
Void
 
°‹ePPS
(
TComPPS
 *
µs
, c⁄° 
°d
::
ve˘‹
<
UCh¨
> &
«luD©a
Ë{ 
m_µsM≠
.
°‹ePS
–µs->
gëPPSId
(),Öps, &naluData); };

1692 
TComPPS
* 
	$gëPPS
(
I¡
 
µsId
Ë{  
m_µsM≠
.
	`gëPS
’psId); 
	}
};

1693 
Boﬁ
 
	$gëPPSCh™gedFœg
(
I¡
 
µsId
Ëc⁄° {  
m_µsM≠
.
	`gëCh™gedFœg
’psId); 
	}
}

1694 
Void
 
	$˛órPPSCh™gedFœg
(
I¡
 
µsId
Ë{ 
m_µsM≠
.
	`˛órCh™gedFœg
’psId); 
	}
}

1695 
TComPPS
* 
	$gëFú°PPS
(Ë{  
m_µsM≠
.
	`gëFú°PS
(); 
	}
};

1703 
Boﬁ
 
a˘iv©ePPS
(
I¡
 
µsId
, Boﬁ 
isIRAP
);

1705 c⁄° 
TComVPS
* 
	$gëA˘iveVPS
()c⁄° {  
m_vpsM≠
.
	`gëPS
(
m_a˘iveVPSId
); 
	}
};

1706 c⁄° 
TComSPS
* 
	$gëA˘iveSPS
()c⁄° {  
m_•sM≠
.
	`gëPS
(
m_a˘iveSPSId
); 
	}
};

1708 
	g¥Ÿe˘ed
:

1709 
P¨amëîSëM≠
<
TComVPS
> 
m_vpsM≠
;

1710 
	gP¨amëîSëM≠
<
	gTComSPS
> 
	gm_•sM≠
;

1711 
	gP¨amëîSëM≠
<
	gTComPPS
> 
	gm_µsM≠
;

1713 
I¡
 
	gm_a˘iveVPSId
;

1714 
I¡
 
	gm_a˘iveSPSId
;

	@TComTU.cpp

35 
	~"TComTU.h
"

36 
	~"TComRom.h
"

37 
	~"TComD©aCU.h
"

38 
	~"TComPic.h
"

42  c⁄° 
UI¡
 
	gTComTU
::
NUMBER_OF_SECTIONS
[
TComTU
::
NUMBER_OF_SPLIT_MODES
] = { 1, 2, 4 };

44 c⁄° 
UI¡
 
	g∑πIdxSãpShi·
 [
TComTU
::
NUMBER_OF_SPLIT_MODES
] = { 0, 1, 2 };

48 
	gTComTU
::
	$TComTU
(
TComD©aCU
 *
pcCU
, c⁄° 
UI¡
 
absP¨tIdxCU
, c⁄° UI¡ 
cuDïth
, c⁄° UI¡ 
öôTrDïthRñCU
)

49 : 
	`mChromaF‹m©
(
pcCU
->
	`gëSli˚
()->
	`gëSPS
()->
	`gëChromaF‹m©Idc
()),

50 
	`mbPro˚ssLa°OfLevñ
(
åue
),

51 
	`mCuDïth
(
cuDïth
),

52 
	`mSe˘i⁄
(0),

53 
	`mS∂ôMode
(
DONT_SPLIT
),

54 
	`mAbsP¨tIdxCU
(
absP¨tIdxCU
),

55 
	`mAbsP¨tIdxTURñCU
(0),

56 
	`mAbsP¨tIdxSãp
(
pcCU
->
	`gëPic
()->
	`gëNumP¨tôi⁄sInCtu
(Ë>> (pcCU->
	`gëDïth
(
absP¨tIdxCU
)<<1)),

57 
	`mpcCU
(
pcCU
),

58 
	`mLog2TrLumaSize
(0),

59 
	$mpP¨ít
(
NULL
)

61 c⁄° 
TComSPS
 *
pSPS
=
pcCU
->
	`gëSli˚
()->
	`gëSPS
();

62 
mLog2TrLumaSize
 = 
g_aucC⁄vîtToBô
[
pSPS
->
	`gëMaxCUWidth
(Ë>> (
mCuDïth
+
öôTrDïthRñCU
)]+2;

64 c⁄° 
UI¡
 
ba£Off£t444
=
pcCU
->
	`gëPic
()->
	`gëMöCUWidth
()*pcCU->gëPic()->
	`gëMöCUHeight
()*
absP¨tIdxCU
;

66 
UI¡
 
i
=0; i<
MAX_NUM_COMPONENT
; i++)

68 
mTrDïthRñCU
[
i
] = 
öôTrDïthRñCU
;

69 c⁄° 
UI¡
 
csx
=
	`gëComp⁄ítSˇÀX
(
	`Comp⁄ítID
(
i
), 
mChromaF‹m©
);

70 c⁄° 
UI¡
 
csy
=
	`gëComp⁄ítSˇÀY
(
	`Comp⁄ítID
(
i
), 
mChromaF‹m©
);

71 
mOrigWidth
[
i
]=
mRe˘
[i].
width
 = (ò< 
	`gëNumbîVÆidComp⁄íts
(
mChromaF‹m©
)Ë? (
pcCU
->
	`gëWidth
–
absP¨tIdxCU
Ë>> 
csx
) : 0;

72 
mRe˘
[
i
].
height
 = (ò< 
	`gëNumbîVÆidComp⁄íts
(
mChromaF‹m©
)Ë? (
pcCU
->
	`gëHeight
(
absP¨tIdxCU
Ë>> 
csy
) : 0;

73 
mRe˘
[
i
].
x0
=0;

74 
mRe˘
[
i
].
y0
=0;

75 
mCodeAŒ
[
i
]=
åue
;

76 
mOff£ts
[
i
]=
ba£Off£t444
>>(
csx
+
csy
);

78 
	}
}

82 
	gTComTURecur£
::
	$TComTURecur£
–
TComD©aCU
 *
pcCU
,

83 c⁄° 
UI¡
 
absP¨tIdxCU
)

84 : 
	`TComTU
(
pcCU
, 
absP¨tIdxCU
,ÖcCU->
	`gëDïth
(absPartIdxCU), 0)

85 { 
	}
}

89 
	gTComTU
::
	$TComTU
(
TComTU
 &
∑ª¡
, c⁄° 
Boﬁ
 
bPro˚ssLa°OfLevñ
, c⁄° 
TU_SPLIT_MODE
 
•lôMode
, c⁄° Boﬁ 
•lôAtCuºítDïth
, c⁄° 
Comp⁄ítID
 
absP¨tIdxSour˚Comp⁄ít
)

90 : 
	`mChromaF‹m©
(
∑ª¡
.
mChromaF‹m©
),

91 
	`mbPro˚ssLa°OfLevñ
(
bPro˚ssLa°OfLevñ
),

92 
	`mCuDïth
(
∑ª¡
.
mCuDïth
),

93 
	`mSe˘i⁄
(0),

94 
	`mS∂ôMode
(
•lôMode
),

95 
	`mAbsP¨tIdxCU
(
∑ª¡
.
mAbsP¨tIdxCU
),

96 
	`mAbsP¨tIdxTURñCU
(
∑ª¡
.
	`GëRñP¨tIdxTU
(
absP¨tIdxSour˚Comp⁄ít
)),

97 
	`mAbsP¨tIdxSãp
(
°d
::
max
<
UI¡
>(1, (
∑ª¡
.
	`GëAbsP¨tIdxNumP¨ts
(
absP¨tIdxSour˚Comp⁄ít
Ë>> 
∑πIdxSãpShi·
[
•lôMode
]))),

98 
	`mpcCU
(
∑ª¡
.
mpcCU
),

99 
	`mLog2TrLumaSize
(
∑ª¡
.
mLog2TrLumaSize
 - ((
•lôMode
 !
QUAD_SPLIT
) ? 0 : 1)),

100 
	$mpP¨ít
(&
∑ª¡
)

102 
UI¡
 
i
=0; i<
MAX_NUM_COMPONENT
; i++)

104 
mTrDïthRñCU
[
i
] = 
∑ª¡
.mTrDïthRñCU[i] + ((
•lôAtCuºítDïth
 || (
•lôMode
 =
DONT_SPLIT
)) ? 0 : 1);

107 i‡(
mS∂ôMode
==
DONT_SPLIT
)

109 
UI¡
 
i
=0; i<
MAX_NUM_COMPONENT
; i++)

111 
mRe˘
[
i
] = (
∑ª¡
.mRect[i]);

112 
mOff£ts
[
i
]=
∑ª¡
.mOffsets[i];

113 
mCodeAŒ
[
i
]=
åue
;

114 
mOrigWidth
[
i
]=
mRe˘
[i].
width
;

118 i‡(
mS∂ôMode
==
VERTICAL_SPLIT
)

120 
UI¡
 
i
=0; i<
MAX_NUM_COMPONENT
; i++)

122 
mRe˘
[
i
].
x0
 = (
∑ª¡
.mRect[i].x0);

123 
mRe˘
[
i
].
y0
 = (
∑ª¡
.mRect[i].y0);

124 
mRe˘
[
i
].
width
 = (
∑ª¡
.mRect[i].width);

125 
mRe˘
[
i
].
height
 = (
∑ª¡
.mRect[i].height)>>1;

126 
mOff£ts
[
i
]=
∑ª¡
.mOffsets[i];

127 
mCodeAŒ
[
i
]=
åue
;

128 
mOrigWidth
[
i
]=
mRe˘
[i].
width
;

133 
UI¡
 
i
=0; i<
MAX_NUM_COMPONENT
; i++)

135 
mRe˘
[
i
].
width
 = (
∑ª¡
.mRect[i].width >> 1);

136 
mRe˘
[
i
].
height
(
∑ª¡
.mRect[i].height>> 1);

137 
mRe˘
[
i
].
x0
=
∑ª¡
.mRect[i].x0;

138 
mRe˘
[
i
].
y0
=
∑ª¡
.mRect[i].y0;

139 
mOff£ts
[
i
]=
∑ª¡
.mOffsets[i];

141 i‡((
mRe˘
[
i
].
width
 < 
MIN_TU_SIZE
 || mRe˘[i].
height
 < MIN_TU_SIZE) && mRect[i].width!=0)

143 c⁄° 
UI¡
 
numPñs
=
mRe˘
[
i
].
width
 * mRe˘[i].
height
;

144 i‡(
numPñs
 < (
MIN_TU_SIZE
*MIN_TU_SIZE))

147 
mRe˘
[
i
].
width
 = 
∑ª¡
.mRect[i].width;

148 
mRe˘
[
i
].
height

∑ª¡
.mRect[i].height;

149 
mCodeAŒ
[
i
]=
Ál£
;

150 
mTrDïthRñCU
[
i
]--;

152 i‡(
mRe˘
[
i
].
width
 < mRe˘[i].
height
)

154 
mRe˘
[
i
].
width
=
MIN_TU_SIZE
;

155 
mRe˘
[
i
].
height
=
numPñs
/
MIN_TU_SIZE
;

156 
mCodeAŒ
[
i
]=
åue
;

160 
mRe˘
[
i
].
height
=
MIN_TU_SIZE
;

161 
mRe˘
[
i
].
width
=
numPñs
/
MIN_TU_SIZE
;

162 
mCodeAŒ
[
i
]=
åue
;

167 
mCodeAŒ
[
i
]=
åue
;

170 
mOrigWidth
[
i
]=
mRe˘
[i].
width
;

171 i‡(!
mCodeAŒ
[
i
] && 
mbPro˚ssLa°OfLevñ
)

173 
mRe˘
[
i
].
width
=0;

176 
	}
}

178 
Boﬁ
 
	gTComTURecur£
::
	$√xtSe˘i⁄
(c⁄° 
TComTU
 &
∑ª¡
)

180 i‡(
mS∂ôMode
==
DONT_SPLIT
)

182 
mSe˘i⁄
++;

183  
Ál£
;

187 
UI¡
 
i
=0; i<
MAX_NUM_COMPONENT
; i++)

189 
mOff£ts
[
i
]+=
mRe˘
[i].
width
*mRe˘[i].
height
;

190 i‡(
mbPro˚ssLa°OfLevñ
)

192 
mRe˘
[
i
].
width
=
mOrigWidth
[i];

194 
mRe˘
[
i
].
x0
+=mRe˘[i].
width
;

195 c⁄° 
TComRe˘™gÀ
 &
∑ª¡Re˘
=
∑ª¡
.
	`gëRe˘
(
	`Comp⁄ítID
(
i
));

196 i‡(
mRe˘
[
i
].
x0
 >
∑ª¡Re˘
.x0+∑ª¡Re˘.
width
)

198 
mRe˘
[
i
].
x0
=
∑ª¡Re˘
.x0;

199 
mRe˘
[
i
].
y0
+=mRe˘[i].
height
;

201 i‡(!
mCodeAŒ
[
i
])

203 i‡(!
mbPro˚ssLa°OfLevñ
 || 
mSe˘i⁄
!=2)

205 
mRe˘
[
i
].
width
=0;

209 
	`as£π
(
mRe˘
[
COMPONENT_Cb
].
x0
==mRe˘[
COMPONENT_Cr
].x0);

210 
	`as£π
(
mRe˘
[
COMPONENT_Cb
].
y0
==mRe˘[
COMPONENT_Cr
].y0);

211 
	`as£π
(
mRe˘
[
COMPONENT_Cb
].
width
==mRe˘[
COMPONENT_Cr
].width);

212 
	`as£π
(
mRe˘
[
COMPONENT_Cb
].
height
==mRe˘[
COMPONENT_Cr
].height);

214 
mAbsP¨tIdxTURñCU
+=
mAbsP¨tIdxSãp
;

215 
mSe˘i⁄
++;

216  
mSe˘i⁄
< (1<<
mS∂ôMode
);

218 
	}
}

221 
UI¡
 
	gTComTU
::
	$GëEquivÆítLog2TrSize
(c⁄° 
Comp⁄ítID
 
compID
) const

223  
g_aucC⁄vîtToBô
[ 
	`gëRe˘
(
compID
).
height
 ] + 2;

224 
	}
}

227 
Boﬁ
 
	gTComTU
::
	$u£DST
(c⁄° 
Comp⁄ítID
 
compID
)

229 
TComD©aCU
 *c⁄° 
pcCU
 = 
	`gëCU
();

230 c⁄° 
UI¡
 
absP¨tIdx
 = 
	`GëAbsP¨tIdxTU
(
compID
);

232  
	`isLuma
(
compID
Ë&& 
pcCU
->
	`isI¡ø
(
absP¨tIdx
);

233 
	}
}

236 
Boﬁ
 
	gTComTU
::
	$isN⁄Tønsf‹medResiduÆRŸ©ed
(c⁄° 
Comp⁄ítID
 
compID
)

239  
	`gëCU
()->
	`gëSli˚
()->
	`gëSPS
()->
	`gëSpsR™geExãnsi⁄
().
	`gëTønsf‹mSkùRŸ©i⁄E«bÀdFœg
()

240 && 
mRe˘
[
compID
].
width
 == 4

241 && 
	`gëCU
()->
	`isI¡ø
(
	`GëAbsP¨tIdxTU
());

242 
	}
}

245 
UI¡
 
	gTComTU
::
	$gëGﬁombRi˚Sèti°icsIndex
(c⁄° 
Comp⁄ítID
 
compID
)

247 
TComD©aCU
 *c⁄° 
pcCU
 = 
	`gëCU
();

248 c⁄° 
UI¡
 
absP¨tIdx
 = 
	`GëAbsP¨tIdxTU
(
compID
);

249 c⁄° 
Boﬁ
 
å™sf‹mSkù
 = 
pcCU
->
	`gëTønsf‹mSkù
(
absP¨tIdx
, 
compID
);

250 c⁄° 
Boﬁ
 
å™squ™tBy∑ss
 = 
pcCU
->
	`gëCUTønsqu™tBy∑ss
(
absP¨tIdx
);

254 c⁄° 
UI¡
 
ch™√lTy≥Off£t
 = 
	`isChroma
(
compID
) ? 2 : 0;

255 c⁄° 
UI¡
 
n⁄Tønsf‹medOff£t
 = (
å™sf‹mSkù
 || 
å™squ™tBy∑ss
) ? 1 : 0;

259 c⁄° 
UI¡
 
£À˘edIndex
 = 
ch™√lTy≥Off£t
 + 
n⁄Tønsf‹medOff£t
;

260 
	`as£π
(
£À˘edIndex
 < 
RExt__GOLOMB_RICE_ADAPTATION_STATISTICS_SETS
);

262  
£À˘edIndex
;

263 
	}
}

	@TComTU.h

34 #i‚de‡
__TCOMTU__


35 
	#__TCOMTU__


	)

37 
˛ass
 
	gTComTU
;

39 
	~"Comm⁄Def.h
"

40 
	~"TComRe˘™gÀ.h
"

41 
	~"TComChromaF‹m©.h
"

43 
˛ass
 
	gTComD©aCU
;

48 ˛as†
	cTComTU


50 
	mpublic
:

51 
	eTU_SPLIT_MODE
 { 
DONT_SPLIT
=0, 
	mVERTICAL_SPLIT
=1, 
	mQUAD_SPLIT
=2, 
	mNUMBER_OF_SPLIT_MODES
=3 } 
	tSPLIT_MODE
;

53 c⁄° 
UI¡
 
	gNUMBER_OF_SECTIONS
[
NUMBER_OF_SPLIT_MODES
];

55 
	g¥Ÿe˘ed
:

56 
ChromaF‹m©
 
mChromaF‹m©
;

57 
Boﬁ
 
	gmbPro˚ssLa°OfLevñ
;

58 
UI¡
 
	gmCuDïth
;

59 
UI¡
 
	gmTrDïthRñCU
[
MAX_NUM_COMPONENT
];

60 
UI¡
 
	gmSe˘i⁄
;

61 
TU_SPLIT_MODE
 
	gmS∂ôMode
;

62 
TComRe˘™gÀ
 
	gmRe˘
[
MAX_NUM_COMPONENT
];

63 
Boﬁ
 
	gmCodeAŒ
[
MAX_NUM_COMPONENT
];

64 
UI¡
 
	gmOrigWidth
[
MAX_NUM_COMPONENT
];

65 
UI¡
 
	gmOff£ts
[
MAX_NUM_COMPONENT
];

66 
UI¡
 
	gmAbsP¨tIdxCU
;

67 
UI¡
 
	gmAbsP¨tIdxTURñCU
;

68 
UI¡
 
	gmAbsP¨tIdxSãp
;

69 
TComD©aCU
 *
	gmpcCU
;

70 
UI¡
 
	gmLog2TrLumaSize
;

71 
TComTU
 *
	gmpP¨ít
;

73 
TComTU
(const TComTU &);

74 
	gTComTU
&
	g›î©‹
=(c⁄° 
TComTU
 &);

76 
	gpublic
:

77 
TComTU
–
TComD©aCU
 *
pcCU
,

78 c⁄° 
UI¡
 
absP¨tIdxCU
,

79 c⁄° 
UI¡
 
cuDïth
,

80 c⁄° 
UI¡
 
öôTrDïthRñCU
);

82 
	g¥Ÿe˘ed
:

83 
TComTU
–TComTU &
∑ª¡Levñ
,

84 c⁄° 
Boﬁ
 
bPro˚ssLa°OfLevñ
,

85 c⁄° 
TU_SPLIT_MODE
 
•lôMode
 = 
QUAD_SPLIT
,

86 c⁄° 
Boﬁ
 
•lôAtCuºítDïth
 = 
Ál£
,

87 c⁄° 
Comp⁄ítID
 
absP¨tIdxSour˚Comp⁄ít
 = 
COMPONENT_Y


90 
	gpublic
:

91 
TComTU
 *
	$P¨ít
(Ë{  
mpP¨ít
; 
	}
}

92 c⁄° 
TComTU
 *
	$P¨ít
(Ëc⁄° {  
mpP¨ít
; 
	}
}

94 
UI¡
 
	$gëC€fficõ¡Off£t
(c⁄° 
Comp⁄ítID
 
compID
Ëc⁄° {  
mOff£ts
[compID]; 
	}
}

96 c⁄° 
	gTComRe˘™gÀ
 &
	$gëRe˘
(c⁄° 
Comp⁄ítID
 
compID
Ëc⁄° {  
mRe˘
[compID]; 
	}
}

98 
Boﬁ
 
	$Pro˚ssögAŒQuadø¡s
(c⁄° 
Comp⁄ítID
 
compID
Ëc⁄° {  
mCodeAŒ
[compID]; 
	}
}

99 
Boﬁ
 
	$Pro˚ssComp⁄ítSe˘i⁄
(c⁄° 
Comp⁄ítID
 
compID
Ëc⁄° {  
mRe˘
[compID].
width
 !0; 
	}
}

100 
Boﬁ
 
	$Pro˚ssCh™√lSe˘i⁄
(c⁄° 
Ch™√lTy≥
 
chTy≥
Ëc⁄° {  
mRe˘
[chTy≥].
width
 !0; 
	}
}

101 
UI¡
 
	$GëSe˘i⁄Numbî
(Ëc⁄° {  
mSe˘i⁄
; 
	}
}

103 
UI¡
 
	$gëCUDïth
(Ëc⁄° {  
mCuDïth
; 
	}
}

105 
UI¡
 
	$GëTønsf‹mDïthTŸÆ
(Ëc⁄° {  
mCuDïth
+
	`GëTønsf‹mDïthRñ
(); 
	}
}

106 
UI¡
 
	$GëTønsf‹mDïthTŸÆAdj
(c⁄° 
Comp⁄ítID
 
compID
Ëc⁄° {  
mCuDïth
+
	`GëTønsf‹mDïthRñAdj
(compID); 
	}
}

108 
UI¡
 
	$GëTønsf‹mDïthRñ
(Ëc⁄° {  
mTrDïthRñCU
[
COMPONENT_Y
]; 
	}
}

109 
UI¡
 
	$GëTønsf‹mDïthRñAdj
(c⁄° 
Comp⁄ítID
 
compID
Ëc⁄° {  
mTrDïthRñCU
[compID]; 
	}
}

110 
UI¡
 
	$GëTønsf‹mDïthRñAdj
(c⁄° 
Ch™√lTy≥
 
chTy≥
) const

112 
	`as£π
(
	`isLuma
(
chTy≥
Ë|| (
mTrDïthRñCU
[
COMPONENT_Cb
] =mTrDïthRñCU[
COMPONENT_Cr
]));

113  
mTrDïthRñCU
[
	`isLuma
(
chTy≥
Ë? 
COMPONENT_Y
 : 
COMPONENT_Cb
];

114 
	}
}

116 
UI¡
 
	$GëAbsP¨tIdxCU
(Ëc⁄° {  
mAbsP¨tIdxCU
; 
	}
}

117 
UI¡
 
	$GëRñP¨tIdxTU
(Ëc⁄° {  
mAbsP¨tIdxTURñCU
; 
	}
}

118 
UI¡
 
	$GëRñP¨tIdxTU
(c⁄° 
Comp⁄ítID
 
compID
Ëc⁄° {  
	`Pro˚ssögAŒQuadø¡s
(compIDË? 
mAbsP¨tIdxTURñCU
 : (mAbsP¨tIdxTURñCU & (~0x3)); 
	}
}

119 
UI¡
 
	$GëAbsP¨tIdxTU
(Ëc⁄° {  
	`GëAbsP¨tIdxCU
(Ë+ 
	`GëRñP¨tIdxTU
(); 
	}
}

120 
UI¡
 
	$GëAbsP¨tIdxTU
(c⁄° 
Comp⁄ítID
 
compID
Ëc⁄° {  
	`GëAbsP¨tIdxCU
(Ë+ 
	`GëRñP¨tIdxTU
(compID); 
	}
}

121 
UI¡
 
	$GëAbsP¨tIdxNumP¨ts
(Ëc⁄° {  
mAbsP¨tIdxSãp
; 
	}
}

122 
UI¡
 
	$GëAbsP¨tIdxNumP¨ts
(c⁄° 
Comp⁄ítID
 
compID
Ëc⁄° {  
	`Pro˚ssögAŒQuadø¡s
(compIDË? 
mAbsP¨tIdxSãp
 : (mAbsP¨tIdxSã∞* 
NUMBER_OF_SECTIONS
[
mS∂ôMode
]); 
	}
}

124 
ChromaF‹m©
 
	$GëChromaF‹m©
(Ëc⁄° {  
mChromaF‹m©
; 
	}
}

126 
TComD©aCU
 *
	$gëCU
(Ë{  
mpcCU
; 
	}
}

127 c⁄° 
TComD©aCU
 *
	$gëCU
(Ëc⁄° {  
mpcCU
; 
	}
}

128 
Boﬁ
 
	$IsLa°Se˘i⁄
(Ëc⁄° {  
mSe˘i⁄
+1>=((1<<
mS∂ôMode
)); 
	}
}

130 
UI¡
 
	$GëLog2LumaTrSize
(Ëc⁄° {  
mLog2TrLumaSize
; 
	}
}

131 
UI¡
 
	$GëEquivÆítLog2TrSize
(c⁄° 
Comp⁄ítID
 
compID
) const;

132 
TU_SPLIT_MODE
 
	$GëS∂ôMode
(Ëc⁄° {  
mS∂ôMode
; 
	}
}

134 
Boﬁ
 
u£DST
(c⁄° 
Comp⁄ítID
 
compID
);

135 
Boﬁ
 
isN⁄Tønsf‹medResiduÆRŸ©ed
(c⁄° 
Comp⁄ítID
 
compID
);

137 
UI¡
 
gëGﬁombRi˚Sèti°icsIndex
(c⁄° 
Comp⁄ítID
 
compID
);

142 ˛as†
	cTComTURecur£
 : 
public
 
TComTU


144 
public
:

146 
	$TComTURecur£
–
TComD©aCU
 *
pcCU
,

147 c⁄° 
UI¡
 
absP¨tIdxCU
,

148 c⁄° 
UI¡
 
f‹˚dDïthOfCU
)

149 : 
	$TComTU
(
pcCU
, 
absP¨tIdxCU
, 
f‹˚dDïthOfCU
, 0) { }

151 
	`TComTURecur£
–
TComD©aCU
 *
pcCU
,

152 c⁄° 
UI¡
 
absP¨tIdxCU
);

154 
	$TComTURecur£
–
TComTU
 &
∑ª¡Levñ
,

155 c⁄° 
Boﬁ
 
bPro˚ssLa°OfLevñ
,

156 c⁄° 
TU_SPLIT_MODE
 
•lôMode
 = 
QUAD_SPLIT
,

157 c⁄° 
Boﬁ
 
•lôAtCuºítDïth
 = 
Ál£
,

158 c⁄° 
Comp⁄ítID
 
absP¨tIdxSour˚Comp⁄ít
 = 
COMPONENT_Y


160 : 
	$TComTU
(
∑ª¡Levñ
, 
bPro˚ssLa°OfLevñ
, 
•lôMode
, 
•lôAtCuºítDïth
, 
absP¨tIdxSour˚Comp⁄ít
Ë{ 
	}
}

162 
Boﬁ
 
√xtSe˘i⁄
(c⁄° 
TComTU
 &
∑ª¡
);

	@TComTrQuant.cpp

38 
	~<°dlib.h
>

39 
	~<m©h.h
>

40 
	~<limôs
>

41 
	~<mem‹y.h
>

42 
	~"TComTrQu™t.h
"

43 
	~"TComPic.h
"

44 
	~"C⁄ãxtTabÀs.h
"

45 
	~"TComTU.h
"

46 
	~"Debug.h
"

50 
I¡
 
	miNNZbef‹ePos0
;

51 
DoubÀ
 
	md64CodedLevñ™dDi°
;

52 
DoubÀ
 
	md64UncodedDi°
;

53 
DoubÀ
 
	md64SigCo°
;

54 
DoubÀ
 
	md64SigCo°_0
;

55 } 
	tc€ffGroupRDSèts
;

64 
	#RDOQ_CHROMA
 1

65 

	)

71 
	gQpP¨am
::
	$QpP¨am
(c⁄° 
I¡
 
qpy
,

72 c⁄° 
Ch™√lTy≥
 
chTy≥
,

73 c⁄° 
I¡
 
qpBdOff£t
,

74 c⁄° 
I¡
 
chromaQPOff£t
,

75 c⁄° 
ChromaF‹m©
 
chFmt
 )

77 
I¡
 
ba£Qp
;

79 if(
	`isLuma
(
chTy≥
))

81 
ba£Qp
 = 
qpy
 + 
qpBdOff£t
;

85 
ba£Qp
 = 
	`Clù3
–-
qpBdOff£t
, (
chromaQPM≠pögTabÀSize
 - 1), 
qpy
 + 
chromaQPOff£t
 );

87 if(
ba£Qp
 < 0)

89 
ba£Qp
 = ba£Q∞+ 
qpBdOff£t
;

93 
ba£Qp
 = 
	`gëSˇÀdChromaQP
(ba£Qp, 
chFmt
Ë+ 
qpBdOff£t
;

97 
Qp
 =
ba£Qp
;

98 
≥r
=
ba£Qp
/6;

99 
ªm
=
ba£Qp
%6;

100 
	}
}

102 
	gQpP¨am
::
	$QpP¨am
(c⁄° 
TComD©aCU
 &
cu
, c⁄° 
Comp⁄ítID
 
compID
)

104 
I¡
 
chromaQpOff£t
 = 0;

106 i‡(
	`isChroma
(
compID
))

108 
chromaQpOff£t
 +
cu
.
	`gëSli˚
()->
	`gëPPS
()->
	`gëQpOff£t
(
compID
);

109 
chromaQpOff£t
 +
cu
.
	`gëSli˚
()->
	`gëSli˚ChromaQpDñè
(
compID
);

111 
chromaQpOff£t
 +
cu
.
	`gëSli˚
()->
	`gëPPS
()->
	`gëPpsR™geExãnsi⁄
().
	`gëChromaQpOff£tLi°E¡ry
(cu.
	`gëChromaQpAdj
(0)).
u
.
off£t
[
	`I¡
(
compID
)-1];

114 *
this
 = 
	`QpP¨am
(
cu
.
	`gëQP
( 0 ),

115 
	`toCh™√lTy≥
(
compID
),

116 
cu
.
	`gëSli˚
()->
	`gëSPS
()->
	`gëQpBDOff£t
(
	`toCh™√lTy≥
(
compID
)),

117 
chromaQpOff£t
,

118 
cu
.
	`gëPic
()->
	`gëChromaF‹m©
());

119 
	}
}

126 
	gTComTrQu™t
::
	$TComTrQu™t
()

129 
m_∂TempC€ff
 = 
√w
 
TC€ff
[ 
MAX_CU_SIZE
*MAX_CU_SIZE ];

132 
m_pcE°BôsSbac
 = 
√w
 
e°BôsSbacSåu˘
;

133 
	`öôSˇlögLi°
();

134 
	}
}

136 
	gTComTrQu™t
::~
	$TComTrQu™t
()

139 i‡–
m_∂TempC€ff
 )

141 
dñëe
 [] 
m_∂TempC€ff
;

142 
m_∂TempC€ff
 = 
NULL
;

146 i‡–
m_pcE°BôsSbac
 )

148 
dñëe
 
m_pcE°BôsSbac
;

150 
	`de°roySˇlögLi°
();

151 
	}
}

153 #i‡
ADAPTIVE_QP_SELECTION


154 
Void
 
	gTComTrQu™t
::
	$°‹eSli˚QpNext
(
TComSli˚
* 
pcSli˚
)

158 
I¡
 
qpBa£
 = 
pcSli˚
->
	`gëSli˚QpBa£
();

159 
I¡
 
¶i˚Qpu£d
 = 
pcSli˚
->
	`gëSli˚Qp
();

160 
I¡
 
¶i˚Q≤ext
;

161 
DoubÀ
 
Æpha
 = 
qpBa£
 < 17 ? 0.5 : 1;

163 
I¡
 
˙t
=0;

164 
I¡
 
u
=1; u<=
LEVEL_RANGE
; u++)

166 
˙t
 +
m_¶i˚Nßm∂es
[
u
] ;

169 if–!
m_u£RDOQ
 )

171 
¶i˚Qpu£d
 = 
qpBa£
;

172 
Æpha
 = 0.5;

175 if–
˙t
 > 120 )

177 
DoubÀ
 
sum
 = 0;

178 
I¡
 
k
 = 0;

179 
I¡
 
u
=1; u<
LEVEL_RANGE
; u++)

181 
sum
 +
u
*
m_¶i˚SumC
[u];

182 
k
 +
u
*u*
m_¶i˚Nßm∂es
[u];

185 
I¡
 
v
;

186 
DoubÀ
 
q
[
MAX_QP
+1] ;

187 
v
=0; v<=
MAX_QP
; v++)

189 
q
[
v
] = (
DoubÀ
)(
g_övQu™tSˇÀs
[v%6] * (1<<(v/6)))/64 ;

192 
DoubÀ
 
q√xt
 = 
sum
/
k
 * 
q
[
¶i˚Qpu£d
] / (1<<
ARL_C_PRECISION
);

194 
v
=0; v<
MAX_QP
; v++)

196 if(
q√xt
 < 
Æpha
 * 
q
[
v
] + (1 -álpha) * q[v+1] )

201 
¶i˚Q≤ext
 = 
	`Clù3
(
¶i˚Qpu£d
 - 3, sli˚Qpu£d + 3, 
v
);

205 
¶i˚Q≤ext
 = 
¶i˚Qpu£d
;

208 
m_qpDñè
[
qpBa£
] = 
¶i˚Q≤ext
 - qpBase;

209 
	}
}

211 
Void
 
	gTComTrQu™t
::
	$öôSli˚QpDñè
()

213 
I¡
 
qp
=0; qp<=
MAX_QP
; qp++)

215 
m_qpDñè
[
qp
] = qp < 17 ? 0 : 1;

217 
	}
}

219 
Void
 
	gTComTrQu™t
::
	$˛órSli˚ARLC¡
()

221 
	`mem£t
(
m_¶i˚SumC
, 0, (
DoubÀ
)*(
LEVEL_RANGE
+1));

222 
	`mem£t
(
m_¶i˚Nßm∂es
, 0, (
I¡
)*(
LEVEL_RANGE
+1));

223 
	}
}

228 #i‡
MATRIX_MULT


236 
Void
 
	$xTr
(
I¡
 
bôDïth
, 
Pñ
 *
block
, 
TC€ff
 *
c€ff
, 
UI¡
 
uiSåide
, UI¡ 
uiTrSize
, 
Boﬁ
 
u£DST
, c⁄° I¡ 
maxLog2TrDy«micR™ge
)

238 
UI¡
 
i
,
j
,
k
;

239 
TC€ff
 
iSum
;

240 
TC€ff
 
tmp
[
MAX_TU_SIZE
 * MAX_TU_SIZE];

241 c⁄° 
TM©rixC€ff
 *
iT
;

242 
UI¡
 
uiLog2TrSize
 = 
g_aucC⁄vîtToBô
[ 
uiTrSize
 ] + 2;

244 i‡(
uiTrSize
==4)

246 
iT
 = (
u£DST
 ? 
g_as_DST_MAT_4
[
TRANSFORM_FORWARD
][0] : 
g_aiT4
[TRANSFORM_FORWARD][0]);

248 i‡(
uiTrSize
==8)

250 
iT
 = 
g_aiT8
[
TRANSFORM_FORWARD
][0];

252 i‡(
uiTrSize
==16)

254 
iT
 = 
g_aiT16
[
TRANSFORM_FORWARD
][0];

256 i‡(
uiTrSize
==32)

258 
iT
 = 
g_aiT32
[
TRANSFORM_FORWARD
][0];

262 
	`as£π
(0);

265 c⁄° 
I¡
 
TRANSFORM_MATRIX_SHIFT
 = 
g_å™sf‹mM©rixShi·
[
TRANSFORM_FORWARD
];

267 c⁄° 
I¡
 
shi·_1°
 = (
uiLog2TrSize
 + 
bôDïth
 + 
TRANSFORM_MATRIX_SHIFT
Ë- 
maxLog2TrDy«micR™ge
;

268 c⁄° 
I¡
 
shi·_2nd
 = 
uiLog2TrSize
 + 
TRANSFORM_MATRIX_SHIFT
;

269 c⁄° 
I¡
 
add_1°
 = (
shi·_1°
>0) ? (1<<(shift_1st-1)) : 0;

270 c⁄° 
I¡
 
add_2nd
 = 1<<(
shi·_2nd
-1);

274 
i
=0; i<
uiTrSize
; i++)

276 
j
=0; j<
uiTrSize
; j++)

278 
iSum
 = 0;

279 
k
=0; k<
uiTrSize
; k++)

281 
iSum
 +
iT
[
i
*
uiTrSize
+
k
]*
block
[
j
*
uiSåide
+k];

283 
tmp
[
i
*
uiTrSize
+
j
] = (
iSum
 + 
add_1°
)>>
shi·_1°
;

288 
i
=0; i<
uiTrSize
; i++)

290 
j
=0; j<
uiTrSize
; j++)

292 
iSum
 = 0;

293 
k
=0; k<
uiTrSize
; k++)

295 
iSum
 +
iT
[
i
*
uiTrSize
+
k
]*
tmp
[
j
*uiTrSize+k];

297 
c€ff
[
i
*
uiTrSize
+
j
] = (
iSum
 + 
add_2nd
)>>
shi·_2nd
;

300 
	}
}

309 
Void
 
	$xITr
(
I¡
 
bôDïth
, 
TC€ff
 *
c€ff
, 
Pñ
 *
block
, 
UI¡
 
uiSåide
, UI¡ 
uiTrSize
, 
Boﬁ
 
u£DST
, c⁄° I¡ 
maxLog2TrDy«micR™ge
)

311 
UI¡
 
i
,
j
,
k
;

312 
TC€ff
 
iSum
;

313 
TC€ff
 
tmp
[
MAX_TU_SIZE
 * MAX_TU_SIZE];

314 c⁄° 
TM©rixC€ff
 *
iT
;

316 i‡(
uiTrSize
==4)

318 
iT
 = (
u£DST
 ? 
g_as_DST_MAT_4
[
TRANSFORM_INVERSE
][0] : 
g_aiT4
[TRANSFORM_INVERSE][0]);

320 i‡(
uiTrSize
==8)

322 
iT
 = 
g_aiT8
[
TRANSFORM_INVERSE
][0];

324 i‡(
uiTrSize
==16)

326 
iT
 = 
g_aiT16
[
TRANSFORM_INVERSE
][0];

328 i‡(
uiTrSize
==32)

330 
iT
 = 
g_aiT32
[
TRANSFORM_INVERSE
][0];

334 
	`as£π
(0);

337 c⁄° 
I¡
 
TRANSFORM_MATRIX_SHIFT
 = 
g_å™sf‹mM©rixShi·
[
TRANSFORM_INVERSE
];

339 c⁄° 
I¡
 
shi·_1°
 = 
TRANSFORM_MATRIX_SHIFT
 + 1;

340 c⁄° 
I¡
 
shi·_2nd
 = (
TRANSFORM_MATRIX_SHIFT
 + 
maxLog2TrDy«micR™ge
 - 1Ë- 
bôDïth
;

341 c⁄° 
TC€ff
 
˛ùMöimum
 = -(1 << 
maxLog2TrDy«micR™ge
);

342 c⁄° 
TC€ff
 
˛ùMaximum
 = (1 << 
maxLog2TrDy«micR™ge
) - 1;

343 
	`as£π
(
shi·_2nd
>=0);

344 c⁄° 
I¡
 
add_1°
 = 1<<(
shi·_1°
-1);

345 c⁄° 
I¡
 
add_2nd
 = (
shi·_2nd
>0) ? (1<<(shift_2nd-1)) : 0;

348 
i
=0; i<
uiTrSize
; i++)

350 
j
=0; j<
uiTrSize
; j++)

352 
iSum
 = 0;

353 
k
=0; k<
uiTrSize
; k++)

355 
iSum
 +
iT
[
k
*
uiTrSize
+
i
]*
c€ff
[k*uiTrSize+
j
];

359 
tmp
[
i
*
uiTrSize
+
j
] = 
Clù3
<
TC€ff
>(
˛ùMöimum
, 
˛ùMaximum
, (
iSum
 + 
add_1°
)>>
shi·_1°
);

364 
i
=0; i<
uiTrSize
; i++)

366 
j
=0; j<
uiTrSize
; j++)

368 
iSum
 = 0;

369 
k
=0; k<
uiTrSize
; k++)

371 
iSum
 +
iT
[
k
*
uiTrSize
+
j
]*
tmp
[
i
*uiTrSize+k];

374 
block
[
i
*
uiSåide
+
j
] = 
Clù3
<
TC€ff
>(
°d
::
numîic_limôs
<
Pñ
>::
	`mö
(), std::numîic_limôs<Pñ>::
	`max
(), (
iSum
 + 
add_2nd
)>>
shi·_2nd
);

377 
	}
}

388 
Void
 
	$∑πülBuâîÊy4
(
TC€ff
 *
§c
, TC€f‡*
d°
, 
I¡
 
shi·
, I¡ 
löe
)

390 
I¡
 
j
;

391 
TC€ff
 
E
[2],
O
[2];

392 
TC€ff
 
add
 = (
shi·
 > 0) ? (1<<(shift-1)) : 0;

394 
j
=0; j<
löe
; j++)

397 
E
[0] = 
§c
[0] + src[3];

398 
O
[0] = 
§c
[0] - src[3];

399 
E
[1] = 
§c
[1] + src[2];

400 
O
[1] = 
§c
[1] - src[2];

402 
d°
[0] = (
g_aiT4
[
TRANSFORM_FORWARD
][0][0]*
E
[0] + g_aiT4[TRANSFORM_FORWARD][0][1]*E[1] + 
add
)>>
shi·
;

403 
d°
[2*
löe
] = (
g_aiT4
[
TRANSFORM_FORWARD
][2][0]*
E
[0] + g_aiT4[TRANSFORM_FORWARD][2][1]*E[1] + 
add
)>>
shi·
;

404 
d°
[
löe
] = (
g_aiT4
[
TRANSFORM_FORWARD
][1][0]*
O
[0] + g_aiT4[TRANSFORM_FORWARD][1][1]*O[1] + 
add
)>>
shi·
;

405 
d°
[3*
löe
] = (
g_aiT4
[
TRANSFORM_FORWARD
][3][0]*
O
[0] + g_aiT4[TRANSFORM_FORWARD][3][1]*O[1] + 
add
)>>
shi·
;

407 
§c
 += 4;

408 
d°
 ++;

410 
	}
}

414 
Void
 
	$Á°F‹w¨dD°
(
TC€ff
 *
block
, TC€f‡*
c€ff
, 
I¡
 
shi·
)

416 
I¡
 
i
;

417 
TC€ff
 
c
[4];

418 
TC€ff
 
∫d_Á˘‹
 = (
shi·
 > 0) ? (1<<(shift-1)) : 0;

419 
i
=0; i<4; i++)

422 
c
[0] = 
block
[4*
i
+0];

423 
c
[1] = 
block
[4*
i
+1];

424 
c
[2] = 
block
[4*
i
+2];

425 
c
[3] = 
block
[4*
i
+3];

427 
I¡
 
row
 = 0;Ñow < 4;Ñow++)

429 
TC€ff
 
ªsu…
 = 0;

430 
I¡
 
cﬁumn
 = 0; column < 4; column++)

432 
ªsu…
 +
c
[
cﬁumn
] * 
g_as_DST_MAT_4
[
TRANSFORM_FORWARD
][
row
][column];

435 
c€ff
[(
row
 * 4Ë+ 
i
] = 
	`rightShi·
((
ªsu…
 + 
∫d_Á˘‹
), 
shi·
);

438 
	}
}

440 
Void
 
	$Á°Invî£D°
(
TC€ff
 *
tmp
, TC€f‡*
block
, 
I¡
 
shi·
, c⁄° TC€f‡
ouçutMöimum
, c⁄° TC€f‡
ouçutMaximum
)

442 
I¡
 
i
;

443 
TC€ff
 
c
[4];

444 
TC€ff
 
∫d_Á˘‹
 = (
shi·
 > 0) ? (1<<(shift-1)) : 0;

445 
i
=0; i<4; i++)

448 
c
[0] = 
tmp
[ 
i
];

449 
c
[1] = 
tmp
[4 +
i
];

450 
c
[2] = 
tmp
[8 +
i
];

451 
c
[3] = 
tmp
[12+
i
];

453 
I¡
 
cﬁumn
 = 0; column < 4; column++)

455 
TC€ff
 &
ªsu…
 = 
block
[(
i
 * 4Ë+ 
cﬁumn
];

457 
ªsu…
 = 0;

458 
I¡
 
row
 = 0;Ñow < 4;Ñow++)

460 
ªsu…
 +
c
[
row
] * 
g_as_DST_MAT_4
[
TRANSFORM_INVERSE
][row][
cﬁumn
];

463 
ªsu…
 = 
	`Clù3
–
ouçutMöimum
, 
ouçutMaximum
, 
	`rightShi·
(‘esu… + 
∫d_Á˘‹
), 
shi·
));

466 
	}
}

476 
Void
 
	$∑πülBuâîÊyInvî£4
(
TC€ff
 *
§c
, TC€f‡*
d°
, 
I¡
 
shi·
, I¡ 
löe
, c⁄° TC€f‡
ouçutMöimum
, c⁄° TC€f‡
ouçutMaximum
)

478 
I¡
 
j
;

479 
TC€ff
 
E
[2],
O
[2];

480 
TC€ff
 
add
 = (
shi·
 > 0) ? (1<<(shift-1)) : 0;

482 
j
=0; j<
löe
; j++)

485 
O
[0] = 
g_aiT4
[
TRANSFORM_INVERSE
][1][0]*
§c
[
löe
] + g_aiT4[TRANSFORM_INVERSE][3][0]*src[3*line];

486 
O
[1] = 
g_aiT4
[
TRANSFORM_INVERSE
][1][1]*
§c
[
löe
] + g_aiT4[TRANSFORM_INVERSE][3][1]*src[3*line];

487 
E
[0] = 
g_aiT4
[
TRANSFORM_INVERSE
][0][0]*
§c
[0] + g_aiT4[TRANSFORM_INVERSE][2][0]*§c[2*
löe
];

488 
E
[1] = 
g_aiT4
[
TRANSFORM_INVERSE
][0][1]*
§c
[0] + g_aiT4[TRANSFORM_INVERSE][2][1]*§c[2*
löe
];

491 
d°
[0] = 
	`Clù3
–
ouçutMöimum
, 
ouçutMaximum
, (
E
[0] + 
O
[0] + 
add
)>>
shi·
 );

492 
d°
[1] = 
	`Clù3
–
ouçutMöimum
, 
ouçutMaximum
, (
E
[1] + 
O
[1] + 
add
)>>
shi·
 );

493 
d°
[2] = 
	`Clù3
–
ouçutMöimum
, 
ouçutMaximum
, (
E
[1] - 
O
[1] + 
add
)>>
shi·
 );

494 
d°
[3] = 
	`Clù3
–
ouçutMöimum
, 
ouçutMaximum
, (
E
[0] - 
O
[0] + 
add
)>>
shi·
 );

496 
§c
 ++;

497 
d°
 += 4;

499 
	}
}

507 
Void
 
	$∑πülBuâîÊy8
(
TC€ff
 *
§c
, TC€f‡*
d°
, 
I¡
 
shi·
, I¡ 
löe
)

509 
I¡
 
j
,
k
;

510 
TC€ff
 
E
[4],
O
[4];

511 
TC€ff
 
EE
[2],
EO
[2];

512 
TC€ff
 
add
 = (
shi·
 > 0) ? (1<<(shift-1)) : 0;

514 
j
=0; j<
löe
; j++)

517 
k
=0;k<4;k++)

519 
E
[
k
] = 
§c
[k] + src[7-k];

520 
O
[
k
] = 
§c
[k] - src[7-k];

523 
EE
[0] = 
E
[0] + E[3];

524 
EO
[0] = 
E
[0] - E[3];

525 
EE
[1] = 
E
[1] + E[2];

526 
EO
[1] = 
E
[1] - E[2];

528 
d°
[0] = (
g_aiT8
[
TRANSFORM_FORWARD
][0][0]*
EE
[0] + g_aiT8[TRANSFORM_FORWARD][0][1]*EE[1] + 
add
)>>
shi·
;

529 
d°
[4*
löe
] = (
g_aiT8
[
TRANSFORM_FORWARD
][4][0]*
EE
[0] + g_aiT8[TRANSFORM_FORWARD][4][1]*EE[1] + 
add
)>>
shi·
;

530 
d°
[2*
löe
] = (
g_aiT8
[
TRANSFORM_FORWARD
][2][0]*
EO
[0] + g_aiT8[TRANSFORM_FORWARD][2][1]*EO[1] + 
add
)>>
shi·
;

531 
d°
[6*
löe
] = (
g_aiT8
[
TRANSFORM_FORWARD
][6][0]*
EO
[0] + g_aiT8[TRANSFORM_FORWARD][6][1]*EO[1] + 
add
)>>
shi·
;

533 
d°
[
löe
] = (
g_aiT8
[
TRANSFORM_FORWARD
][1][0]*
O
[0] + g_aiT8[TRANSFORM_FORWARD][1][1]*O[1] + g_aiT8[TRANSFORM_FORWARD][1][2]*O[2] + g_aiT8[TRANSFORM_FORWARD][1][3]*O[3] + 
add
)>>
shi·
;

534 
d°
[3*
löe
] = (
g_aiT8
[
TRANSFORM_FORWARD
][3][0]*
O
[0] + g_aiT8[TRANSFORM_FORWARD][3][1]*O[1] + g_aiT8[TRANSFORM_FORWARD][3][2]*O[2] + g_aiT8[TRANSFORM_FORWARD][3][3]*O[3] + 
add
)>>
shi·
;

535 
d°
[5*
löe
] = (
g_aiT8
[
TRANSFORM_FORWARD
][5][0]*
O
[0] + g_aiT8[TRANSFORM_FORWARD][5][1]*O[1] + g_aiT8[TRANSFORM_FORWARD][5][2]*O[2] + g_aiT8[TRANSFORM_FORWARD][5][3]*O[3] + 
add
)>>
shi·
;

536 
d°
[7*
löe
] = (
g_aiT8
[
TRANSFORM_FORWARD
][7][0]*
O
[0] + g_aiT8[TRANSFORM_FORWARD][7][1]*O[1] + g_aiT8[TRANSFORM_FORWARD][7][2]*O[2] + g_aiT8[TRANSFORM_FORWARD][7][3]*O[3] + 
add
)>>
shi·
;

538 
§c
 += 8;

539 
d°
 ++;

541 
	}
}

551 
Void
 
	$∑πülBuâîÊyInvî£8
(
TC€ff
 *
§c
, TC€f‡*
d°
, 
I¡
 
shi·
, I¡ 
löe
, c⁄° TC€f‡
ouçutMöimum
, c⁄° TC€f‡
ouçutMaximum
)

553 
I¡
 
j
,
k
;

554 
TC€ff
 
E
[4],
O
[4];

555 
TC€ff
 
EE
[2],
EO
[2];

556 
TC€ff
 
add
 = (
shi·
 > 0) ? (1<<(shift-1)) : 0;

558 
j
=0; j<
löe
; j++)

561 
k
=0;k<4;k++)

563 
O
[
k
] = 
g_aiT8
[
TRANSFORM_INVERSE
][ 1][k]*
§c
[
löe
] + g_aiT8[TRANSFORM_INVERSE][ 3][k]*src[3*line] +

564 
g_aiT8
[
TRANSFORM_INVERSE
][ 5][
k
]*
§c
[5*
löe
] + g_aiT8[TRANSFORM_INVERSE][ 7][k]*src[7*line];

567 
EO
[0] = 
g_aiT8
[
TRANSFORM_INVERSE
][2][0]*
§c
[ 2*
löe
 ] + g_aiT8[TRANSFORM_INVERSE][6][0]*src[ 6*line ];

568 
EO
[1] = 
g_aiT8
[
TRANSFORM_INVERSE
][2][1]*
§c
[ 2*
löe
 ] + g_aiT8[TRANSFORM_INVERSE][6][1]*src[ 6*line ];

569 
EE
[0] = 
g_aiT8
[
TRANSFORM_INVERSE
][0][0]*
§c
[ 0 ] + g_aiT8[TRANSFORM_INVERSE][4][0]*§c[ 4*
löe
 ];

570 
EE
[1] = 
g_aiT8
[
TRANSFORM_INVERSE
][0][1]*
§c
[ 0 ] + g_aiT8[TRANSFORM_INVERSE][4][1]*§c[ 4*
löe
 ];

573 
E
[0] = 
EE
[0] + 
EO
[0];

574 
E
[3] = 
EE
[0] - 
EO
[0];

575 
E
[1] = 
EE
[1] + 
EO
[1];

576 
E
[2] = 
EE
[1] - 
EO
[1];

577 
k
=0;k<4;k++)

579 
d°
[ 
k
 ] = 
	`Clù3
–
ouçutMöimum
, 
ouçutMaximum
, (
E
[k] + 
O
[k] + 
add
)>>
shi·
 );

580 
d°
[ 
k
+4 ] = 
	`Clù3
–
ouçutMöimum
, 
ouçutMaximum
, (
E
[3-k] - 
O
[3-k] + 
add
)>>
shi·
 );

582 
§c
 ++;

583 
d°
 += 8;

585 
	}
}

593 
Void
 
	$∑πülBuâîÊy16
(
TC€ff
 *
§c
, TC€f‡*
d°
, 
I¡
 
shi·
, I¡ 
löe
)

595 
I¡
 
j
,
k
;

596 
TC€ff
 
E
[8],
O
[8];

597 
TC€ff
 
EE
[4],
EO
[4];

598 
TC€ff
 
EEE
[2],
EEO
[2];

599 
TC€ff
 
add
 = (
shi·
 > 0) ? (1<<(shift-1)) : 0;

601 
j
=0; j<
löe
; j++)

604 
k
=0;k<8;k++)

606 
E
[
k
] = 
§c
[k] + src[15-k];

607 
O
[
k
] = 
§c
[k] - src[15-k];

610 
k
=0;k<4;k++)

612 
EE
[
k
] = 
E
[k] + E[7-k];

613 
EO
[
k
] = 
E
[k] - E[7-k];

616 
EEE
[0] = 
EE
[0] + EE[3];

617 
EEO
[0] = 
EE
[0] - EE[3];

618 
EEE
[1] = 
EE
[1] + EE[2];

619 
EEO
[1] = 
EE
[1] - EE[2];

621 
d°
[ 0 ] = (
g_aiT16
[
TRANSFORM_FORWARD
][ 0][0]*
EEE
[0] + g_aiT16[TRANSFORM_FORWARD][ 0][1]*EEE[1] + 
add
)>>
shi·
;

622 
d°
[ 8*
löe
 ] = (
g_aiT16
[
TRANSFORM_FORWARD
][ 8][0]*
EEE
[0] + g_aiT16[TRANSFORM_FORWARD][ 8][1]*EEE[1] + 
add
)>>
shi·
;

623 
d°
[ 4*
löe
 ] = (
g_aiT16
[
TRANSFORM_FORWARD
][ 4][0]*
EEO
[0] + g_aiT16[TRANSFORM_FORWARD][ 4][1]*EEO[1] + 
add
)>>
shi·
;

624 
d°
[ 12*
löe
] = (
g_aiT16
[
TRANSFORM_FORWARD
][12][0]*
EEO
[0] + g_aiT16[TRANSFORM_FORWARD][12][1]*EEO[1] + 
add
)>>
shi·
;

626 
k
=2;k<16;k+=4)

628 
d°
[ 
k
*
löe
 ] = (
g_aiT16
[
TRANSFORM_FORWARD
][k][0]*
EO
[0] + g_aiT16[TRANSFORM_FORWARD][k][1]*EO[1] +

629 
g_aiT16
[
TRANSFORM_FORWARD
][
k
][2]*
EO
[2] + g_aiT16[TRANSFORM_FORWARD][k][3]*EO[3] + 
add
)>>
shi·
;

632 
k
=1;k<16;k+=2)

634 
d°
[ 
k
*
löe
 ] = (
g_aiT16
[
TRANSFORM_FORWARD
][k][0]*
O
[0] + g_aiT16[TRANSFORM_FORWARD][k][1]*O[1] +

635 
g_aiT16
[
TRANSFORM_FORWARD
][
k
][2]*
O
[2] + g_aiT16[TRANSFORM_FORWARD][k][3]*O[3] +

636 
g_aiT16
[
TRANSFORM_FORWARD
][
k
][4]*
O
[4] + g_aiT16[TRANSFORM_FORWARD][k][5]*O[5] +

637 
g_aiT16
[
TRANSFORM_FORWARD
][
k
][6]*
O
[6] + g_aiT16[TRANSFORM_FORWARD][k][7]*O[7] + 
add
)>>
shi·
;

640 
§c
 += 16;

641 
d°
 ++;

644 
	}
}

654 
Void
 
	$∑πülBuâîÊyInvî£16
(
TC€ff
 *
§c
, TC€f‡*
d°
, 
I¡
 
shi·
, I¡ 
löe
, c⁄° TC€f‡
ouçutMöimum
, c⁄° TC€f‡
ouçutMaximum
)

656 
I¡
 
j
,
k
;

657 
TC€ff
 
E
[8],
O
[8];

658 
TC€ff
 
EE
[4],
EO
[4];

659 
TC€ff
 
EEE
[2],
EEO
[2];

660 
TC€ff
 
add
 = (
shi·
 > 0) ? (1<<(shift-1)) : 0;

662 
j
=0; j<
löe
; j++)

665 
k
=0;k<8;k++)

667 
O
[
k
] = 
g_aiT16
[
TRANSFORM_INVERSE
][ 1][k]*
§c
[ 
löe
] + g_aiT16[TRANSFORM_INVERSE][ 3][k]*src[ 3*line] +

668 
g_aiT16
[
TRANSFORM_INVERSE
][ 5][
k
]*
§c
[ 5*
löe
] + g_aiT16[TRANSFORM_INVERSE][ 7][k]*src[ 7*line] +

669 
g_aiT16
[
TRANSFORM_INVERSE
][ 9][
k
]*
§c
[ 9*
löe
] + g_aiT16[TRANSFORM_INVERSE][11][k]*src[11*line] +

670 
g_aiT16
[
TRANSFORM_INVERSE
][13][
k
]*
§c
[13*
löe
] + g_aiT16[TRANSFORM_INVERSE][15][k]*src[15*line];

672 
k
=0;k<4;k++)

674 
EO
[
k
] = 
g_aiT16
[
TRANSFORM_INVERSE
][ 2][k]*
§c
[ 2*
löe
] + g_aiT16[TRANSFORM_INVERSE][ 6][k]*src[ 6*line] +

675 
g_aiT16
[
TRANSFORM_INVERSE
][10][
k
]*
§c
[10*
löe
] + g_aiT16[TRANSFORM_INVERSE][14][k]*src[14*line];

677 
EEO
[0] = 
g_aiT16
[
TRANSFORM_INVERSE
][4][0]*
§c
[ 4*
löe
 ] + g_aiT16[TRANSFORM_INVERSE][12][0]*src[ 12*line ];

678 
EEE
[0] = 
g_aiT16
[
TRANSFORM_INVERSE
][0][0]*
§c
[ 0 ] + g_aiT16[TRANSFORM_INVERSE][ 8][0]*§c[ 8*
löe
 ];

679 
EEO
[1] = 
g_aiT16
[
TRANSFORM_INVERSE
][4][1]*
§c
[ 4*
löe
 ] + g_aiT16[TRANSFORM_INVERSE][12][1]*src[ 12*line ];

680 
EEE
[1] = 
g_aiT16
[
TRANSFORM_INVERSE
][0][1]*
§c
[ 0 ] + g_aiT16[TRANSFORM_INVERSE][ 8][1]*§c[ 8*
löe
 ];

683 
k
=0;k<2;k++)

685 
EE
[
k
] = 
EEE
[k] + 
EEO
[k];

686 
EE
[
k
+2] = 
EEE
[1-k] - 
EEO
[1-k];

688 
k
=0;k<4;k++)

690 
E
[
k
] = 
EE
[k] + 
EO
[k];

691 
E
[
k
+4] = 
EE
[3-k] - 
EO
[3-k];

693 
k
=0;k<8;k++)

695 
d°
[
k
] = 
	`Clù3
–
ouçutMöimum
, 
ouçutMaximum
, (
E
[k] + 
O
[k] + 
add
)>>
shi·
 );

696 
d°
[
k
+8] = 
	`Clù3
–
ouçutMöimum
, 
ouçutMaximum
, (
E
[7-k] - 
O
[7-k] + 
add
)>>
shi·
 );

698 
§c
 ++;

699 
d°
 += 16;

701 
	}
}

709 
Void
 
	$∑πülBuâîÊy32
(
TC€ff
 *
§c
, TC€f‡*
d°
, 
I¡
 
shi·
, I¡ 
löe
)

711 
I¡
 
j
,
k
;

712 
TC€ff
 
E
[16],
O
[16];

713 
TC€ff
 
EE
[8],
EO
[8];

714 
TC€ff
 
EEE
[4],
EEO
[4];

715 
TC€ff
 
EEEE
[2],
EEEO
[2];

716 
TC€ff
 
add
 = (
shi·
 > 0) ? (1<<(shift-1)) : 0;

718 
j
=0; j<
löe
; j++)

721 
k
=0;k<16;k++)

723 
E
[
k
] = 
§c
[k] + src[31-k];

724 
O
[
k
] = 
§c
[k] - src[31-k];

727 
k
=0;k<8;k++)

729 
EE
[
k
] = 
E
[k] + E[15-k];

730 
EO
[
k
] = 
E
[k] - E[15-k];

733 
k
=0;k<4;k++)

735 
EEE
[
k
] = 
EE
[k] + EE[7-k];

736 
EEO
[
k
] = 
EE
[k] - EE[7-k];

739 
EEEE
[0] = 
EEE
[0] + EEE[3];

740 
EEEO
[0] = 
EEE
[0] - EEE[3];

741 
EEEE
[1] = 
EEE
[1] + EEE[2];

742 
EEEO
[1] = 
EEE
[1] - EEE[2];

744 
d°
[ 0 ] = (
g_aiT32
[
TRANSFORM_FORWARD
][ 0][0]*
EEEE
[0] + g_aiT32[TRANSFORM_FORWARD][ 0][1]*EEEE[1] + 
add
)>>
shi·
;

745 
d°
[ 16*
löe
 ] = (
g_aiT32
[
TRANSFORM_FORWARD
][16][0]*
EEEE
[0] + g_aiT32[TRANSFORM_FORWARD][16][1]*EEEE[1] + 
add
)>>
shi·
;

746 
d°
[ 8*
löe
 ] = (
g_aiT32
[
TRANSFORM_FORWARD
][ 8][0]*
EEEO
[0] + g_aiT32[TRANSFORM_FORWARD][ 8][1]*EEEO[1] + 
add
)>>
shi·
;

747 
d°
[ 24*
löe
 ] = (
g_aiT32
[
TRANSFORM_FORWARD
][24][0]*
EEEO
[0] + g_aiT32[TRANSFORM_FORWARD][24][1]*EEEO[1] + 
add
)>>
shi·
;

748 
k
=4;k<32;k+=8)

750 
d°
[ 
k
*
löe
 ] = (
g_aiT32
[
TRANSFORM_FORWARD
][k][0]*
EEO
[0] + g_aiT32[TRANSFORM_FORWARD][k][1]*EEO[1] +

751 
g_aiT32
[
TRANSFORM_FORWARD
][
k
][2]*
EEO
[2] + g_aiT32[TRANSFORM_FORWARD][k][3]*EEO[3] + 
add
)>>
shi·
;

753 
k
=2;k<32;k+=4)

755 
d°
[ 
k
*
löe
 ] = (
g_aiT32
[
TRANSFORM_FORWARD
][k][0]*
EO
[0] + g_aiT32[TRANSFORM_FORWARD][k][1]*EO[1] +

756 
g_aiT32
[
TRANSFORM_FORWARD
][
k
][2]*
EO
[2] + g_aiT32[TRANSFORM_FORWARD][k][3]*EO[3] +

757 
g_aiT32
[
TRANSFORM_FORWARD
][
k
][4]*
EO
[4] + g_aiT32[TRANSFORM_FORWARD][k][5]*EO[5] +

758 
g_aiT32
[
TRANSFORM_FORWARD
][
k
][6]*
EO
[6] + g_aiT32[TRANSFORM_FORWARD][k][7]*EO[7] + 
add
)>>
shi·
;

760 
k
=1;k<32;k+=2)

762 
d°
[ 
k
*
löe
 ] = (
g_aiT32
[
TRANSFORM_FORWARD
][k][ 0]*
O
[ 0] + g_aiT32[TRANSFORM_FORWARD][k][ 1]*O[ 1] +

763 
g_aiT32
[
TRANSFORM_FORWARD
][
k
][ 2]*
O
[ 2] + g_aiT32[TRANSFORM_FORWARD][k][ 3]*O[ 3] +

764 
g_aiT32
[
TRANSFORM_FORWARD
][
k
][ 4]*
O
[ 4] + g_aiT32[TRANSFORM_FORWARD][k][ 5]*O[ 5] +

765 
g_aiT32
[
TRANSFORM_FORWARD
][
k
][ 6]*
O
[ 6] + g_aiT32[TRANSFORM_FORWARD][k][ 7]*O[ 7] +

766 
g_aiT32
[
TRANSFORM_FORWARD
][
k
][ 8]*
O
[ 8] + g_aiT32[TRANSFORM_FORWARD][k][ 9]*O[ 9] +

767 
g_aiT32
[
TRANSFORM_FORWARD
][
k
][10]*
O
[10] + g_aiT32[TRANSFORM_FORWARD][k][11]*O[11] +

768 
g_aiT32
[
TRANSFORM_FORWARD
][
k
][12]*
O
[12] + g_aiT32[TRANSFORM_FORWARD][k][13]*O[13] +

769 
g_aiT32
[
TRANSFORM_FORWARD
][
k
][14]*
O
[14] + g_aiT32[TRANSFORM_FORWARD][k][15]*O[15] + 
add
)>>
shi·
;

772 
§c
 += 32;

773 
d°
 ++;

775 
	}
}

785 
Void
 
	$∑πülBuâîÊyInvî£32
(
TC€ff
 *
§c
, TC€f‡*
d°
, 
I¡
 
shi·
, I¡ 
löe
, c⁄° TC€f‡
ouçutMöimum
, c⁄° TC€f‡
ouçutMaximum
)

787 
I¡
 
j
,
k
;

788 
TC€ff
 
E
[16],
O
[16];

789 
TC€ff
 
EE
[8],
EO
[8];

790 
TC€ff
 
EEE
[4],
EEO
[4];

791 
TC€ff
 
EEEE
[2],
EEEO
[2];

792 
TC€ff
 
add
 = (
shi·
 > 0) ? (1<<(shift-1)) : 0;

794 
j
=0; j<
löe
; j++)

797 
k
=0;k<16;k++)

799 
O
[
k
] = 
g_aiT32
[
TRANSFORM_INVERSE
][ 1][k]*
§c
[ 
löe
 ] + g_aiT32[TRANSFORM_INVERSE][ 3][k]*src[ 3*line ] +

800 
g_aiT32
[
TRANSFORM_INVERSE
][ 5][
k
]*
§c
[ 5*
löe
 ] + g_aiT32[TRANSFORM_INVERSE][ 7][k]*src[ 7*line ] +

801 
g_aiT32
[
TRANSFORM_INVERSE
][ 9][
k
]*
§c
[ 9*
löe
 ] + g_aiT32[TRANSFORM_INVERSE][11][k]*src[ 11*line ] +

802 
g_aiT32
[
TRANSFORM_INVERSE
][13][
k
]*
§c
[ 13*
löe
 ] + g_aiT32[TRANSFORM_INVERSE][15][k]*src[ 15*line ] +

803 
g_aiT32
[
TRANSFORM_INVERSE
][17][
k
]*
§c
[ 17*
löe
 ] + g_aiT32[TRANSFORM_INVERSE][19][k]*src[ 19*line ] +

804 
g_aiT32
[
TRANSFORM_INVERSE
][21][
k
]*
§c
[ 21*
löe
 ] + g_aiT32[TRANSFORM_INVERSE][23][k]*src[ 23*line ] +

805 
g_aiT32
[
TRANSFORM_INVERSE
][25][
k
]*
§c
[ 25*
löe
 ] + g_aiT32[TRANSFORM_INVERSE][27][k]*src[ 27*line ] +

806 
g_aiT32
[
TRANSFORM_INVERSE
][29][
k
]*
§c
[ 29*
löe
 ] + g_aiT32[TRANSFORM_INVERSE][31][k]*src[ 31*line ];

808 
k
=0;k<8;k++)

810 
EO
[
k
] = 
g_aiT32
[
TRANSFORM_INVERSE
][ 2][k]*
§c
[ 2*
löe
 ] + g_aiT32[TRANSFORM_INVERSE][ 6][k]*src[ 6*line ] +

811 
g_aiT32
[
TRANSFORM_INVERSE
][10][
k
]*
§c
[ 10*
löe
 ] + g_aiT32[TRANSFORM_INVERSE][14][k]*src[ 14*line ] +

812 
g_aiT32
[
TRANSFORM_INVERSE
][18][
k
]*
§c
[ 18*
löe
 ] + g_aiT32[TRANSFORM_INVERSE][22][k]*src[ 22*line ] +

813 
g_aiT32
[
TRANSFORM_INVERSE
][26][
k
]*
§c
[ 26*
löe
 ] + g_aiT32[TRANSFORM_INVERSE][30][k]*src[ 30*line ];

815 
k
=0;k<4;k++)

817 
EEO
[
k
] = 
g_aiT32
[
TRANSFORM_INVERSE
][ 4][k]*
§c
[ 4*
löe
 ] + g_aiT32[TRANSFORM_INVERSE][12][k]*src[ 12*line ] +

818 
g_aiT32
[
TRANSFORM_INVERSE
][20][
k
]*
§c
[ 20*
löe
 ] + g_aiT32[TRANSFORM_INVERSE][28][k]*src[ 28*line ];

820 
EEEO
[0] = 
g_aiT32
[
TRANSFORM_INVERSE
][8][0]*
§c
[ 8*
löe
 ] + g_aiT32[TRANSFORM_INVERSE][24][0]*src[ 24*line ];

821 
EEEO
[1] = 
g_aiT32
[
TRANSFORM_INVERSE
][8][1]*
§c
[ 8*
löe
 ] + g_aiT32[TRANSFORM_INVERSE][24][1]*src[ 24*line ];

822 
EEEE
[0] = 
g_aiT32
[
TRANSFORM_INVERSE
][0][0]*
§c
[ 0 ] + g_aiT32[TRANSFORM_INVERSE][16][0]*§c[ 16*
löe
 ];

823 
EEEE
[1] = 
g_aiT32
[
TRANSFORM_INVERSE
][0][1]*
§c
[ 0 ] + g_aiT32[TRANSFORM_INVERSE][16][1]*§c[ 16*
löe
 ];

826 
EEE
[0] = 
EEEE
[0] + 
EEEO
[0];

827 
EEE
[3] = 
EEEE
[0] - 
EEEO
[0];

828 
EEE
[1] = 
EEEE
[1] + 
EEEO
[1];

829 
EEE
[2] = 
EEEE
[1] - 
EEEO
[1];

830 
k
=0;k<4;k++)

832 
EE
[
k
] = 
EEE
[k] + 
EEO
[k];

833 
EE
[
k
+4] = 
EEE
[3-k] - 
EEO
[3-k];

835 
k
=0;k<8;k++)

837 
E
[
k
] = 
EE
[k] + 
EO
[k];

838 
E
[
k
+8] = 
EE
[7-k] - 
EO
[7-k];

840 
k
=0;k<16;k++)

842 
d°
[
k
] = 
	`Clù3
–
ouçutMöimum
, 
ouçutMaximum
, (
E
[k] + 
O
[k] + 
add
)>>
shi·
 );

843 
d°
[
k
+16] = 
	`Clù3
–
ouçutMöimum
, 
ouçutMaximum
, (
E
[15-k] - 
O
[15-k] + 
add
)>>
shi·
 );

845 
§c
 ++;

846 
d°
 += 32;

848 
	}
}

860 
Void
 
	$xTrMxN
(
I¡
 
bôDïth
, 
TC€ff
 *
block
, TC€f‡*
c€ff
, I¡ 
iWidth
, I¡ 
iHeight
, 
Boﬁ
 
u£DST
, c⁄° I¡ 
maxLog2TrDy«micR™ge
)

862 c⁄° 
I¡
 
TRANSFORM_MATRIX_SHIFT
 = 
g_å™sf‹mM©rixShi·
[
TRANSFORM_FORWARD
];

864 c⁄° 
I¡
 
shi·_1°
 = ((
g_aucC⁄vîtToBô
[
iWidth
] + 2Ë+ 
bôDïth
 + 
TRANSFORM_MATRIX_SHIFT
Ë- 
maxLog2TrDy«micR™ge
;

865 c⁄° 
I¡
 
shi·_2nd
 = (
g_aucC⁄vîtToBô
[
iHeight
] + 2Ë+ 
TRANSFORM_MATRIX_SHIFT
;

867 
	`as£π
(
shi·_1°
 >= 0);

868 
	`as£π
(
shi·_2nd
 >= 0);

870 
TC€ff
 
tmp
[ 
MAX_TU_SIZE
 * MAX_TU_SIZE ];

872 
iWidth
)

876 i‡((
iHeight
 =4Ë&& 
u£DST
)

878 
	`Á°F‹w¨dD°
–
block
, 
tmp
, 
shi·_1°
 );

882 
	`∑πülBuâîÊy4
 ( 
block
, 
tmp
, 
shi·_1°
, 
iHeight
 );

887 8: 
	`∑πülBuâîÊy8
 ( 
block
, 
tmp
, 
shi·_1°
, 
iHeight
 ); ;

888 16: 
	`∑πülBuâîÊy16
–
block
, 
tmp
, 
shi·_1°
, 
iHeight
 ); ;

889 32: 
	`∑πülBuâîÊy32
–
block
, 
tmp
, 
shi·_1°
, 
iHeight
 ); ;

891 
	`as£π
(0); 
	`exô
 (1); ;

894 
iHeight
)

898 i‡((
iWidth
 =4Ë&& 
u£DST
)

900 
	`Á°F‹w¨dD°
–
tmp
, 
c€ff
, 
shi·_2nd
 );

904 
	`∑πülBuâîÊy4
 ( 
tmp
, 
c€ff
, 
shi·_2nd
, 
iWidth
 );

909 8: 
	`∑πülBuâîÊy8
 ( 
tmp
, 
c€ff
, 
shi·_2nd
, 
iWidth
 ); ;

910 16: 
	`∑πülBuâîÊy16
–
tmp
, 
c€ff
, 
shi·_2nd
, 
iWidth
 ); ;

911 32: 
	`∑πülBuâîÊy32
–
tmp
, 
c€ff
, 
shi·_2nd
, 
iWidth
 ); ;

913 
	`as£π
(0); 
	`exô
 (1); ;

915 
	}
}

927 
Void
 
	$xITrMxN
(
I¡
 
bôDïth
, 
TC€ff
 *
c€ff
, TC€f‡*
block
, I¡ 
iWidth
, I¡ 
iHeight
, 
Boﬁ
 
u£DST
, c⁄° I¡ 
maxLog2TrDy«micR™ge
)

929 c⁄° 
I¡
 
TRANSFORM_MATRIX_SHIFT
 = 
g_å™sf‹mM©rixShi·
[
TRANSFORM_INVERSE
];

931 
I¡
 
shi·_1°
 = 
TRANSFORM_MATRIX_SHIFT
 + 1;

932 
I¡
 
shi·_2nd
 = (
TRANSFORM_MATRIX_SHIFT
 + 
maxLog2TrDy«micR™ge
 - 1Ë- 
bôDïth
;

933 c⁄° 
TC€ff
 
˛ùMöimum
 = -(1 << 
maxLog2TrDy«micR™ge
);

934 c⁄° 
TC€ff
 
˛ùMaximum
 = (1 << 
maxLog2TrDy«micR™ge
) - 1;

936 
	`as£π
(
shi·_1°
 >= 0);

937 
	`as£π
(
shi·_2nd
 >= 0);

939 
TC€ff
 
tmp
[
MAX_TU_SIZE
 * MAX_TU_SIZE];

941 
iHeight
)

945 i‡((
iWidth
 =4Ë&& 
u£DST
)

947 
	`Á°Invî£D°
–
c€ff
, 
tmp
, 
shi·_1°
, 
˛ùMöimum
, 
˛ùMaximum
);

951 
	`∑πülBuâîÊyInvî£4
 ( 
c€ff
, 
tmp
, 
shi·_1°
, 
iWidth
, 
˛ùMöimum
, 
˛ùMaximum
);

956 8: 
	`∑πülBuâîÊyInvî£8
 ( 
c€ff
, 
tmp
, 
shi·_1°
, 
iWidth
, 
˛ùMöimum
, 
˛ùMaximum
); ;

957 16: 
	`∑πülBuâîÊyInvî£16
–
c€ff
, 
tmp
, 
shi·_1°
, 
iWidth
, 
˛ùMöimum
, 
˛ùMaximum
); ;

958 32: 
	`∑πülBuâîÊyInvî£32
–
c€ff
, 
tmp
, 
shi·_1°
, 
iWidth
, 
˛ùMöimum
, 
˛ùMaximum
); ;

961 
	`as£π
(0); 
	`exô
 (1); ;

964 
iWidth
)

969 i‡((
iHeight
 =4Ë&& 
u£DST
)

971 
	`Á°Invî£D°
–
tmp
, 
block
, 
shi·_2nd
, 
°d
::
numîic_limôs
<
Pñ
>::
	`mö
(), std::numîic_limôs<Pñ>::
	`max
() );

975 
	`∑πülBuâîÊyInvî£4
 ( 
tmp
, 
block
, 
shi·_2nd
, 
iHeight
, 
°d
::
numîic_limôs
<
Pñ
>::
	`mö
(), std::numîic_limôs<Pñ>::
	`max
());

980 8: 
	`∑πülBuâîÊyInvî£8
 ( 
tmp
, 
block
, 
shi·_2nd
, 
iHeight
, 
°d
::
numîic_limôs
<
Pñ
>::
	`mö
(), std::numîic_limôs<Pñ>::
	`max
()); ;

981 16: 
	`∑πülBuâîÊyInvî£16
–
tmp
, 
block
, 
shi·_2nd
, 
iHeight
, 
°d
::
numîic_limôs
<
Pñ
>::
	`mö
(), std::numîic_limôs<Pñ>::
	`max
()); ;

982 32: 
	`∑πülBuâîÊyInvî£32
–
tmp
, 
block
, 
shi·_2nd
, 
iHeight
, 
°d
::
numîic_limôs
<
Pñ
>::
	`mö
(), std::numîic_limôs<Pñ>::
	`max
()); ;

985 
	`as£π
(0); 
	`exô
 (1); ;

987 
	}
}

991 
Void
 
	gTComTrQu™t
::
	$signBôHidögHDQ
–
TC€ff
* 
pQC€f
, TC€ff* 
pC€f
, TC€ff* 
dñèU
, c⁄° 
TUE¡r›yCodögP¨amëîs
 &
codögP¨amëîs
, c⁄° 
I¡
 
maxLog2TrDy«micR™ge
 )

993 c⁄° 
UI¡
 
width
 = 
codögP¨amëîs
.
widthInGroups
 << 
MLS_CG_LOG2_WIDTH
;

994 c⁄° 
UI¡
 
height
 = 
codögP¨amëîs
.
heightInGroups
 << 
MLS_CG_LOG2_HEIGHT
;

995 c⁄° 
UI¡
 
groupSize
 = 1 << 
MLS_CG_SIZE
;

997 c⁄° 
TC€ff
 
íå›yCodögMöimum
 = -(1 << 
maxLog2TrDy«micR™ge
);

998 c⁄° 
TC€ff
 
íå›yCodögMaximum
 = (1 << 
maxLog2TrDy«micR™ge
) - 1;

1000 
I¡
 
œ°CG
 = -1;

1001 
I¡
 
absSum
 = 0 ;

1002 
I¡
 
n
 ;

1004  
I¡
 
subSë
 = (
width
*
height
-1Ë>> 
MLS_CG_SIZE
; subSet >= 0; subSet-- )

1006 
I¡
 
subPos
 = 
subSë
 << 
MLS_CG_SIZE
;

1007 
I¡
 
fú°NZPosInCG
=
groupSize
 , 
œ°NZPosInCG
=-1 ;

1008 
absSum
 = 0 ;

1010 
n
 = 
groupSize
-1;Ç >= 0; --n )

1012 if–
pQC€f
[ 
codögP¨amëîs
.
sˇn
[ 
n
 + 
subPos
 ]] )

1014 
œ°NZPosInCG
 = 
n
;

1019 
n
 = 0;Ç <
groupSize
;Ç++ )

1021 if–
pQC€f
[ 
codögP¨amëîs
.
sˇn
[ 
n
 + 
subPos
 ]] )

1023 
fú°NZPosInCG
 = 
n
;

1028 
n
 = 
fú°NZPosInCG
;Ç <=
œ°NZPosInCG
;Ç++ )

1030 
absSum
 +
	`I¡
(
pQC€f
[ 
codögP¨amëîs
.
sˇn
[ 
n
 + 
subPos
 ]]);

1033 if(
œ°NZPosInCG
>=0 && 
œ°CG
==-1)

1035 
œ°CG
 = 1 ;

1038 if–
œ°NZPosInCG
-
fú°NZPosInCG
>=
SBH_THRESHOLD
 )

1040 
UI¡
 
signbô
 = (
pQC€f
[
codögP¨amëîs
.
sˇn
[
subPos
+
fú°NZPosInCG
]]>0?0:1) ;

1041 if–
signbô
!=(
absSum
&0x1) )

1043 
TC€ff
 
curCo°
 = 
°d
::
numîic_limôs
<TC€ff>::
	`max
();

1044 
TC€ff
 
möCo°Inc
 = 
°d
::
numîic_limôs
<TC€ff>::
	`max
();

1045 
I¡
 
möPos
 =-1, 
föÆCh™ge
=0, 
curCh™ge
=0;

1047  
n
 = (
œ°CG
==1?
œ°NZPosInCG
:
groupSize
-1) ;Ç >= 0; --n )

1049 
UI¡
 
blkPos
 = 
codögP¨amëîs
.
sˇn
[ 
n
+
subPos
 ];

1050 if(
pQC€f
[ 
blkPos
 ] != 0 )

1052 if(
dñèU
[
blkPos
]>0)

1054 
curCo°
 = - 
dñèU
[
blkPos
];

1055 
curCh™ge
=1 ;

1060 if(
n
==
fú°NZPosInCG
 && 
	`abs
(
pQC€f
[
blkPos
])==1)

1062 
curCo°
 = 
°d
::
numîic_limôs
<
TC€ff
>::
	`max
();

1066 
curCo°
 = 
dñèU
[
blkPos
];

1067 
curCh™ge
 =-1;

1073 if(
n
<
fú°NZPosInCG
)

1075 
UI¡
 
thisSignBô
 = (
pC€f
[
blkPos
]>=0?0:1);

1076 if(
thisSignBô
 !
signbô
 )

1078 
curCo°
 = 
°d
::
numîic_limôs
<
TC€ff
>::
	`max
();

1082 
curCo°
 = - (
dñèU
[
blkPos
]) ;

1083 
curCh™ge
 = 1 ;

1088 
curCo°
 = - (
dñèU
[
blkPos
]) ;

1089 
curCh™ge
 = 1 ;

1093 if–
curCo°
<
möCo°Inc
)

1095 
möCo°Inc
 = 
curCo°
 ;

1096 
föÆCh™ge
 = 
curCh™ge
 ;

1097 
möPos
 = 
blkPos
 ;

1101 if(
pQC€f
[
möPos
] =
íå›yCodögMaximum
 ||ÖQC€f[möPos] =
íå›yCodögMöimum
)

1103 
föÆCh™ge
 = -1;

1106 if(
pC€f
[
möPos
]>=0)

1108 
pQC€f
[
möPos
] +
föÆCh™ge
 ;

1112 
pQC€f
[
möPos
] -
föÆCh™ge
 ;

1116 if(
œ°CG
==1)

1118 
œ°CG
=0 ;

1123 
	}
}

1126 
Void
 
	gTComTrQu™t
::
xQu™t
–
TComTU
 &
rTu
,

1127 
TC€ff
 * 
pSrc
,

1128 
TC€ff
 * 
pDes
,

1129 #i‡
ADAPTIVE_QP_SELECTION


1130 
TC€ff
 *
pAæDes
,

1132 
TC€ff
 &
uiAbsSum
,

1133 c⁄° 
Comp⁄ítID
 
compID
,

1134 c⁄° 
QpP¨am
 &
cQP
 )

1136 c⁄° 
	gTComRe˘™gÀ
 &
	gª˘
 = 
rTu
.
gëRe˘
(
compID
);

1137 c⁄° 
UI¡
 
	guiWidth
 = 
ª˘
.
width
;

1138 c⁄° 
UI¡
 
	guiHeight
 = 
ª˘
.
height
;

1139 
TComD©aCU
* 
	gpcCU
 = 
rTu
.
gëCU
();

1140 c⁄° 
UI¡
 
	guiAbsP¨tIdx
 = 
rTu
.
GëAbsP¨tIdxTU
();

1141 c⁄° 
I¡
 
	gch™√lBôDïth
 = 
pcCU
->
gëSli˚
()->
gëSPS
()->
gëBôDïth
(
toCh™√lTy≥
(
compID
));

1143 
TC€ff
* 
	gpiC€f
 = 
pSrc
;

1144 
TC€ff
* 
	gpiQC€f
 = 
pDes
;

1145 #i‡
ADAPTIVE_QP_SELECTION


1146 
TC€ff
* 
	gpiAæCC€f
 = 
pAæDes
;

1149 c⁄° 
Boﬁ
 
	gu£Tønsf‹mSkù
 = 
pcCU
->
gëTønsf‹mSkù
(
uiAbsP¨tIdx
, 
compID
);

1150 c⁄° 
I¡
 
	gmaxLog2TrDy«micR™ge
 = 
pcCU
->
gëSli˚
()->
gëSPS
()->
gëMaxLog2TrDy«micR™ge
(
toCh™√lTy≥
(
compID
));

1152 
Boﬁ
 
	gu£RDOQ
 = 
u£Tønsf‹mSkù
 ? 
m_u£RDOQTS
 : 
m_u£RDOQ
;

1153 i‡–
	gu£RDOQ
 && (
isLuma
(
compID
Ë|| 
	gRDOQ_CHROMA
) )

1155 i‡–!
	gm_u£Sñe˘iveRDOQ
 || 
xNìdRDOQ
–
rTu
, 
piC€f
, 
compID
, 
cQP
 ) )

1157 #i‡
ADAPTIVE_QP_SELECTION


1158 
xR©eDi°O±Qu™t
–
rTu
, 
piC€f
, 
pDes
, 
pAæDes
, 
uiAbsSum
, 
compID
, 
cQP
 );

1160 
xR©eDi°O±Qu™t
–
rTu
, 
piC€f
, 
pDes
, 
uiAbsSum
, 
compID
, 
cQP
 );

1165 
mem£t
–
pDes
, 0, –
TC€ff
 ) * 
uiWidth
 *
uiHeight
 );

1166 
	guiAbsSum
 = 0;

1171 
TUE¡r›yCodögP¨amëîs
 
	gcodögP¨amëîs
;

1172 
gëTUE¡r›yCodögP¨amëîs
(
codögP¨amëîs
, 
rTu
, 
compID
);

1174 c⁄° 
TC€ff
 
	gíå›yCodögMöimum
 = -(1 << 
maxLog2TrDy«micR™ge
);

1175 c⁄° 
TC€ff
 
	gíå›yCodögMaximum
 = (1 << 
maxLog2TrDy«micR™ge
) - 1;

1177 
TC€ff
 
	gdñèU
[
MAX_TU_SIZE
 * MAX_TU_SIZE];

1179 c⁄° 
UI¡
 
	guiLog2TrSize
 = 
rTu
.
GëEquivÆítLog2TrSize
(
compID
);

1181 
I¡
 
	gsˇlögLi°Ty≥
 = 
gëSˇlögLi°Ty≥
(
pcCU
->
gëPªdi˘i⁄Mode
(
uiAbsP¨tIdx
), 
compID
);

1182 
as£π
(
sˇlögLi°Ty≥
 < 
SCALING_LIST_NUM
);

1183 
I¡
 *
	gpiQu™tC€ff
 = 
gëQu™tC€ff
(
sˇlögLi°Ty≥
, 
cQP
.
ªm
, 
uiLog2TrSize
-2);

1185 c⁄° 
Boﬁ
 
	gíabÀSˇlögLi°s
 = 
gëU£SˇlögLi°
(
uiWidth
, 
uiHeight
, (
pcCU
->
gëTønsf‹mSkù
(
uiAbsP¨tIdx
, 
compID
) != 0));

1186 c⁄° 
I¡
 
	gdeÁu…Qu™tißti⁄C€fficõ¡
 = 
g_qu™tSˇÀs
[
cQP
.
ªm
];

1195 
I¡
 
	giTønsf‹mShi·
 = 
gëTønsf‹mShi·
(
ch™√lBôDïth
, 
uiLog2TrSize
, 
maxLog2TrDy«micR™ge
);

1196 i‡(
	gu£Tønsf‹mSkù
 && 
	gpcCU
->
gëSli˚
()->
gëSPS
()->
gëSpsR™geExãnsi⁄
().
gëExãndedPªcisi⁄Pro˚ssögFœg
())

1198 
	giTønsf‹mShi·
 = 
°d
::
max
<
I¡
>(0, iTransformShift);

1201 c⁄° 
I¡
 
	giQBôs
 = 
QUANT_SHIFT
 + 
cQP
.
≥r
 + 
iTønsf‹mShi·
;

1204 #i‡
ADAPTIVE_QP_SELECTION


1205 
I¡
 
	giQBôsC
 = 
MAX_INT
;

1206 
I¡
 
	giAddC
 = 
MAX_INT
;

1208 i‡(
	gm_bU£Ad≠tQpSñe˘
)

1210 
	giQBôsC
 = 
iQBôs
 - 
ARL_C_PRECISION
;

1211 
	giAddC
 = 1 << (
iQBôsC
-1);

1215 c⁄° 
I¡
 
	giAdd
 = (
pcCU
->
gëSli˚
()->
gëSli˚Ty≥
()==
I_SLICE
 ? 171 : 85Ë<< (
iQBôs
-9);

1216 c⁄° 
I¡
 
	gqBôs8
 = 
iQBôs
 - 8;

1218  
I¡
 
	guiBlockPos
 = 0; uiBlockPo†< 
uiWidth
*
	guiHeight
; uiBlockPos++ )

1220 c⁄° 
TC€ff
 
	giLevñ
 = 
piC€f
[
uiBlockPos
];

1221 c⁄° 
TC€ff
 
	giSign
 = (
iLevñ
 < 0 ? -1: 1);

1223 c⁄° 
I¡64
 
	gtmpLevñ
 = (I¡64)
abs
(
iLevñ
Ë* (
íabÀSˇlögLi°s
 ? 
piQu™tC€ff
[
uiBlockPos
] : 
deÁu…Qu™tißti⁄C€fficõ¡
);

1225 #i‡
ADAPTIVE_QP_SELECTION


1226 if–
	gm_bU£Ad≠tQpSñe˘
 )

1228 
	gpiAæCC€f
[
uiBlockPos
] = (
TC€ff
)((
tmpLevñ
 + 
iAddC
 ) >> 
iQBôsC
);

1232 c⁄° 
TC€ff
 
	gqu™ti£dMagnôude
 = TC€ff((
tmpLevñ
 + 
iAdd
 ) >> 
iQBôs
);

1233 
	gdñèU
[
uiBlockPos
] = (
TC€ff
)((
tmpLevñ
 - (
qu™ti£dMagnôude
<<
iQBôs
Ë)>> 
qBôs8
);

1235 
	guiAbsSum
 +
qu™ti£dMagnôude
;

1236 c⁄° 
TC€ff
 
	gqu™ti£dC€fficõ¡
 = 
qu™ti£dMagnôude
 * 
iSign
;

1238 
	gpiQC€f
[
uiBlockPos
] = 
Clù3
<
TC€ff
>–
íå›yCodögMöimum
, 
	gíå›yCodögMaximum
, 
	gqu™ti£dC€fficõ¡
 );

1241 if–
	gpcCU
->
gëSli˚
()->
gëPPS
()->
gëSignD©aHidögE«bÀdFœg
() )

1243 if(
	guiAbsSum
 >= 2)

1245 
signBôHidögHDQ
–
piQC€f
, 
piC€f
, 
dñèU
, 
codögP¨amëîs
, 
maxLog2TrDy«micR™ge
 ) ;

1252 
Boﬁ
 
	gTComTrQu™t
::
	$xNìdRDOQ
–
TComTU
 &
rTu
, 
TC€ff
 * 
pSrc
, c⁄° 
Comp⁄ítID
 
compID
, c⁄° 
QpP¨am
 &
cQP
 )

1254 c⁄° 
TComRe˘™gÀ
 &
ª˘
 = 
rTu
.
	`gëRe˘
(
compID
);

1255 c⁄° 
UI¡
 
uiWidth
 = 
ª˘
.
width
;

1256 c⁄° 
UI¡
 
uiHeight
 = 
ª˘
.
height
;

1257 
TComD©aCU
* 
pcCU
 = 
rTu
.
	`gëCU
();

1258 c⁄° 
UI¡
 
uiAbsP¨tIdx
 = 
rTu
.
	`GëAbsP¨tIdxTU
();

1259 c⁄° 
I¡
 
ch™√lBôDïth
 = 
pcCU
->
	`gëSli˚
()->
	`gëSPS
()->
	`gëBôDïth
(
	`toCh™√lTy≥
(
compID
));

1261 
TC€ff
* 
piC€f
 = 
pSrc
;

1263 c⁄° 
Boﬁ
 
u£Tønsf‹mSkù
 = 
pcCU
->
	`gëTønsf‹mSkù
(
uiAbsP¨tIdx
, 
compID
);

1264 c⁄° 
I¡
 
maxLog2TrDy«micR™ge
 = 
pcCU
->
	`gëSli˚
()->
	`gëSPS
()->
	`gëMaxLog2TrDy«micR™ge
(
	`toCh™√lTy≥
(
compID
));

1266 c⁄° 
UI¡
 
uiLog2TrSize
 = 
rTu
.
	`GëEquivÆítLog2TrSize
(
compID
);

1268 
I¡
 
sˇlögLi°Ty≥
 = 
	`gëSˇlögLi°Ty≥
(
pcCU
->
	`gëPªdi˘i⁄Mode
(
uiAbsP¨tIdx
), 
compID
);

1269 
	`as£π
(
sˇlögLi°Ty≥
 < 
SCALING_LIST_NUM
);

1270 
I¡
 *
piQu™tC€ff
 = 
	`gëQu™tC€ff
(
sˇlögLi°Ty≥
, 
cQP
.
ªm
, 
uiLog2TrSize
-2);

1272 c⁄° 
Boﬁ
 
íabÀSˇlögLi°s
 = 
	`gëU£SˇlögLi°
(
uiWidth
, 
uiHeight
, (
pcCU
->
	`gëTønsf‹mSkù
(
uiAbsP¨tIdx
, 
compID
) != 0));

1273 c⁄° 
I¡
 
deÁu…Qu™tißti⁄C€fficõ¡
 = 
g_qu™tSˇÀs
[
cQP
.
ªm
];

1282 
I¡
 
iTønsf‹mShi·
 = 
	`gëTønsf‹mShi·
(
ch™√lBôDïth
, 
uiLog2TrSize
, 
maxLog2TrDy«micR™ge
);

1283 i‡(
u£Tønsf‹mSkù
 && 
pcCU
->
	`gëSli˚
()->
	`gëSPS
()->
	`gëSpsR™geExãnsi⁄
().
	`gëExãndedPªcisi⁄Pro˚ssögFœg
())

1285 
iTønsf‹mShi·
 = 
°d
::
max
<
I¡
>(0, iTransformShift);

1288 c⁄° 
I¡
 
iQBôs
 = 
QUANT_SHIFT
 + 
cQP
.
≥r
 + 
iTønsf‹mShi·
;

1292 c⁄° 
I¡
 
iAdd
 = (
compID
 =
COMPONENT_Y
 ? 171 : 256Ë<< (
iQBôs
-9);

1294  
I¡
 
uiBlockPos
 = 0; uiBlockPo†< 
uiWidth
*
uiHeight
; uiBlockPos++ )

1296 c⁄° 
TC€ff
 
iLevñ
 = 
piC€f
[
uiBlockPos
];

1297 c⁄° 
I¡64
 
tmpLevñ
 = (I¡64)
	`abs
(
iLevñ
Ë* (
íabÀSˇlögLi°s
 ? 
piQu™tC€ff
[
uiBlockPos
] : 
deÁu…Qu™tißti⁄C€fficõ¡
);

1298 c⁄° 
TC€ff
 
qu™ti£dMagnôude
 = 
	`TC€ff
((
tmpLevñ
 + 
iAdd
 ) >> 
iQBôs
);

1300 i‡–
qu™ti£dMagnôude
 != 0 )

1302  
åue
;

1305  
Ál£
;

1306 
	}
}

1308 
Void
 
	gTComTrQu™t
::
	$xDeQu™t
–
TComTU
 &
rTu
,

1309 c⁄° 
TC€ff
 * 
pSrc
,

1310 
TC€ff
 * 
pDes
,

1311 c⁄° 
Comp⁄ítID
 
compID
,

1312 c⁄° 
QpP¨am
 &
cQP
 )

1314 
	`as£π
(
compID
<
MAX_NUM_COMPONENT
);

1316 
TComD©aCU
 *
pcCU
 = 
rTu
.
	`gëCU
();

1317 c⁄° 
UI¡
 
uiAbsP¨tIdx
 = 
rTu
.
	`GëAbsP¨tIdxTU
();

1318 c⁄° 
TComRe˘™gÀ
 &
ª˘
 = 
rTu
.
	`gëRe˘
(
compID
);

1319 c⁄° 
UI¡
 
uiWidth
 = 
ª˘
.
width
;

1320 c⁄° 
UI¡
 
uiHeight
 = 
ª˘
.
height
;

1321 c⁄° 
TC€ff
 *c⁄° 
piQC€f
 = 
pSrc
;

1322 
TC€ff
 *c⁄° 
piC€f
 = 
pDes
;

1323 c⁄° 
UI¡
 
uiLog2TrSize
 = 
rTu
.
	`GëEquivÆítLog2TrSize
(
compID
);

1324 c⁄° 
UI¡
 
numSam∂esInBlock
 = 
uiWidth
*
uiHeight
;

1325 c⁄° 
I¡
 
maxLog2TrDy«micR™ge
 = 
pcCU
->
	`gëSli˚
()->
	`gëSPS
()->
	`gëMaxLog2TrDy«micR™ge
(
	`toCh™√lTy≥
(
compID
));

1326 c⁄° 
TC€ff
 
å™sf‹mMöimum
 = -(1 << 
maxLog2TrDy«micR™ge
);

1327 c⁄° 
TC€ff
 
å™sf‹mMaximum
 = (1 << 
maxLog2TrDy«micR™ge
) - 1;

1328 c⁄° 
Boﬁ
 
íabÀSˇlögLi°s
 = 
	`gëU£SˇlögLi°
(
uiWidth
, 
uiHeight
, (
pcCU
->
	`gëTønsf‹mSkù
(
uiAbsP¨tIdx
, 
compID
) != 0));

1329 c⁄° 
I¡
 
sˇlögLi°Ty≥
 = 
	`gëSˇlögLi°Ty≥
(
pcCU
->
	`gëPªdi˘i⁄Mode
(
uiAbsP¨tIdx
), 
compID
);

1330 #i‡
O0043_BEST_EFFORT_DECODING


1331 c⁄° 
I¡
 
ch™√lBôDïth
 = 
pcCU
->
	`gëSli˚
()->
	`gëSPS
()->
	`gëSåómBôDïth
(
	`toCh™√lTy≥
(
compID
));

1333 c⁄° 
I¡
 
ch™√lBôDïth
 = 
pcCU
->
	`gëSli˚
()->
	`gëSPS
()->
	`gëBôDïth
(
	`toCh™√lTy≥
(
compID
));

1336 
	`as£π
 (
sˇlögLi°Ty≥
 < 
SCALING_LIST_NUM
);

1337 
	`as£π
 ( 
uiWidth
 <
m_uiMaxTrSize
 );

1340 c⁄° 
Boﬁ
 
bClùTønsf‹mShi·To0
 = (
pcCU
->
	`gëTønsf‹mSkù
(
uiAbsP¨tIdx
, 
compID
Ë!0Ë&&ÖcCU->
	`gëSli˚
()->
	`gëSPS
()->
	`gëSpsR™geExãnsi⁄
().
	`gëExãndedPªcisi⁄Pro˚ssögFœg
();

1341 c⁄° 
I¡
 
‹igöÆTønsf‹mShi·
 = 
	`gëTønsf‹mShi·
(
ch™√lBôDïth
, 
uiLog2TrSize
, 
maxLog2TrDy«micR™ge
);

1342 c⁄° 
I¡
 
iTønsf‹mShi·
 = 
bClùTønsf‹mShi·To0
 ? 
°d
::
max
<I¡>(0, 
‹igöÆTønsf‹mShi·
) : originalTransformShift;

1344 c⁄° 
I¡
 
QP_≥r
 = 
cQP
.
≥r
;

1345 c⁄° 
I¡
 
QP_ªm
 = 
cQP
.
ªm
;

1347 c⁄° 
I¡
 
rightShi·
 = (
IQUANT_SHIFT
 - (
iTønsf‹mShi·
 + 
QP_≥r
)Ë+ (
íabÀSˇlögLi°s
 ? 
LOG2_SCALING_LIST_NEUTRAL_VALUE
 : 0);

1349 if(
íabÀSˇlögLi°s
)

1354 c⁄° 
UI¡
 
dequ™tC€fBôs
 = 1 + 
IQUANT_SHIFT
 + 
SCALING_LIST_BITS
;

1355 c⁄° 
UI¡
 
èrgëI≈utBôDïth
 = 
°d
::
mö
<UI¡>((
maxLog2TrDy«micR™ge
 + 1), ((((
I¡îmedüã_I¡
Ë* 8Ë+ 
rightShi·
Ë- 
dequ™tC€fBôs
));

1357 c⁄° 
I¡îmedüã_I¡
 
öputMöimum
 = -(1 << (
èrgëI≈utBôDïth
 - 1));

1358 c⁄° 
I¡îmedüã_I¡
 
öputMaximum
 = (1 << (
èrgëI≈utBôDïth
 - 1)) - 1;

1360 
I¡
 *
piDequ™tC€f
 = 
	`gëDequ™tC€ff
(
sˇlögLi°Ty≥
,
QP_ªm
,
uiLog2TrSize
-2);

1362 if(
rightShi·
 > 0)

1364 c⁄° 
I¡îmedüã_I¡
 
iAdd
 = 1 << (
rightShi·
 - 1);

1366  
I¡
 
n
 = 0;Ç < 
numSam∂esInBlock
;Ç++ )

1368 c⁄° 
TC€ff
 
˛ùQC€f
 = 
	`TC€ff
(
Clù3
<
I¡îmedüã_I¡
>(
öputMöimum
, 
öputMaximum
, 
piQC€f
[
n
]));

1369 c⁄° 
I¡îmedüã_I¡
 
iC€ffQ
 = ((
	`I¡îmedüã_I¡
(
˛ùQC€f
Ë* 
piDequ™tC€f
[
n
]Ë+ 
iAdd
 ) >> 
rightShi·
;

1371 
piC€f
[
n
] = 
	`TC€ff
(
Clù3
<
I¡îmedüã_I¡
>(
å™sf‹mMöimum
,
å™sf‹mMaximum
,
iC€ffQ
));

1376 c⁄° 
I¡
 
À·Shi·
 = -
rightShi·
;

1378  
I¡
 
n
 = 0;Ç < 
numSam∂esInBlock
;Ç++ )

1380 c⁄° 
TC€ff
 
˛ùQC€f
 = 
	`TC€ff
(
Clù3
<
I¡îmedüã_I¡
>(
öputMöimum
, 
öputMaximum
, 
piQC€f
[
n
]));

1381 c⁄° 
I¡îmedüã_I¡
 
iC€ffQ
 = (
	`I¡îmedüã_I¡
(
˛ùQC€f
Ë* 
piDequ™tC€f
[
n
]Ë<< 
À·Shi·
;

1383 
piC€f
[
n
] = 
	`TC€ff
(
Clù3
<
I¡îmedüã_I¡
>(
å™sf‹mMöimum
,
å™sf‹mMaximum
,
iC€ffQ
));

1389 c⁄° 
I¡
 
sˇÀ
 = 
g_övQu™tSˇÀs
[
QP_ªm
];

1390 c⁄° 
I¡
 
sˇÀBôs
 = (
IQUANT_SHIFT
 + 1) ;

1395 c⁄° 
UI¡
 
èrgëI≈utBôDïth
 = 
°d
::
mö
<UI¡>((
maxLog2TrDy«micR™ge
 + 1), ((((
I¡îmedüã_I¡
Ë* 8Ë+ 
rightShi·
Ë- 
sˇÀBôs
));

1396 c⁄° 
I¡îmedüã_I¡
 
öputMöimum
 = -(1 << (
èrgëI≈utBôDïth
 - 1));

1397 c⁄° 
I¡îmedüã_I¡
 
öputMaximum
 = (1 << (
èrgëI≈utBôDïth
 - 1)) - 1;

1399 i‡(
rightShi·
 > 0)

1401 c⁄° 
I¡îmedüã_I¡
 
iAdd
 = 1 << (
rightShi·
 - 1);

1403  
I¡
 
n
 = 0;Ç < 
numSam∂esInBlock
;Ç++ )

1405 c⁄° 
TC€ff
 
˛ùQC€f
 = 
	`TC€ff
(
Clù3
<
I¡îmedüã_I¡
>(
öputMöimum
, 
öputMaximum
, 
piQC€f
[
n
]));

1406 c⁄° 
I¡îmedüã_I¡
 
iC€ffQ
 = (
	`I¡îmedüã_I¡
(
˛ùQC€f
Ë* 
sˇÀ
 + 
iAdd
Ë>> 
rightShi·
;

1408 
piC€f
[
n
] = 
	`TC€ff
(
Clù3
<
I¡îmedüã_I¡
>(
å™sf‹mMöimum
,
å™sf‹mMaximum
,
iC€ffQ
));

1413 c⁄° 
I¡
 
À·Shi·
 = -
rightShi·
;

1415  
I¡
 
n
 = 0;Ç < 
numSam∂esInBlock
;Ç++ )

1417 c⁄° 
TC€ff
 
˛ùQC€f
 = 
	`TC€ff
(
Clù3
<
I¡îmedüã_I¡
>(
öputMöimum
, 
öputMaximum
, 
piQC€f
[
n
]));

1418 c⁄° 
I¡îmedüã_I¡
 
iC€ffQ
 = (
	`I¡îmedüã_I¡
(
˛ùQC€f
Ë* 
sˇÀ
Ë<< 
À·Shi·
;

1420 
piC€f
[
n
] = 
	`TC€ff
(
Clù3
<
I¡îmedüã_I¡
>(
å™sf‹mMöimum
,
å™sf‹mMaximum
,
iC€ffQ
));

1424 
	}
}

1427 
Void
 
	gTComTrQu™t
::
öô
–
UI¡
 
uiMaxTrSize
,

1428 
Boﬁ
 
bU£RDOQ
,

1429 
Boﬁ
 
bU£RDOQTS
,

1430 
Boﬁ
 
u£Sñe˘iveRDOQ
,

1431 
Boﬁ
 
bEnc
,

1432 
Boﬁ
 
u£Tønsf‹mSkùFa°


1433 #i‡
ADAPTIVE_QP_SELECTION


1434 , 
Boﬁ
 
bU£Ad≠tQpSñe˘


1438 
	gm_uiMaxTrSize
 = 
uiMaxTrSize
;

1439 
	gm_bEnc
 = 
bEnc
;

1440 
	gm_u£RDOQ
 = 
bU£RDOQ
;

1441 
	gm_u£RDOQTS
 = 
bU£RDOQTS
;

1442 
	gm_u£Sñe˘iveRDOQ
 = 
u£Sñe˘iveRDOQ
;

1443 #i‡
ADAPTIVE_QP_SELECTION


1444 
	gm_bU£Ad≠tQpSñe˘
 = 
bU£Ad≠tQpSñe˘
;

1446 
	gm_u£Tønsf‹mSkùFa°
 = 
u£Tønsf‹mSkùFa°
;

1450 
Void
 
	gTComTrQu™t
::
å™sf‹mNxN
–
TComTU
 & 
rTu
,

1451 c⁄° 
Comp⁄ítID
 
compID
,

1452 
Pñ
 * 
pcResiduÆ
,

1453 c⁄° 
UI¡
 
uiSåide
,

1454 
TC€ff
 * 
ΩcC€ff
,

1455 #i‡
ADAPTIVE_QP_SELECTION


1456 
TC€ff
 * 
pcAæC€ff
,

1458 
TC€ff
 & 
uiAbsSum
,

1459 c⁄° 
QpP¨am
 & 
cQP


1462 c⁄° 
	gTComRe˘™gÀ
 &
	gª˘
 = 
rTu
.
gëRe˘
(
compID
);

1463 c⁄° 
UI¡
 
	guiWidth
 = 
ª˘
.
width
;

1464 c⁄° 
UI¡
 
	guiHeight
 = 
ª˘
.
height
;

1465 
TComD©aCU
* 
	gpcCU
 = 
rTu
.
gëCU
();

1466 c⁄° 
UI¡
 
	guiAbsP¨tIdx
 = 
rTu
.
GëAbsP¨tIdxTU
();

1467 c⁄° 
UI¡
 
	guiOrgTrDïth
 = 
rTu
.
GëTønsf‹mDïthRñ
();

1469 
	guiAbsSum
=0;

1471 
RDPCMMode
 
	grdpcmMode
 = 
RDPCM_OFF
;

1472 
rdpcmNxN
–
rTu
, 
compID
, 
pcResiduÆ
, 
uiSåide
, 
cQP
, 
ΩcC€ff
, 
uiAbsSum
, 
rdpcmMode
 );

1474 i‡(
	grdpcmMode
 =
RDPCM_OFF
)

1476 
uiAbsSum
 = 0;

1478 if(
	gpcCU
->
gëCUTønsqu™tBy∑ss
(
uiAbsP¨tIdx
))

1480 c⁄° 
Boﬁ
 
	grŸ©eResiduÆ
 = 
rTu
.
isN⁄Tønsf‹medResiduÆRŸ©ed
(
compID
);

1481 c⁄° 
UI¡
 
	guiSizeMöus1
 = (
uiWidth
 * 
uiHeight
) - 1;

1483 
UI¡
 
	gy
 = 0, 
	gc€fficõ¡Index
 = 0; y<
	guiHeight
; y++)

1485 
UI¡
 
	gx
 = 0; x<
	guiWidth
; x++, 
	gc€fficõ¡Index
++)

1487 c⁄° 
Pñ
 
	gcuºítSam∂e
 = 
pcResiduÆ
[(
y
 * 
uiSåide
Ë+ 
x
];

1489 
	gΩcC€ff
[
rŸ©eResiduÆ
 ? (
uiSizeMöus1
 - 
c€fficõ¡Index
Ë: c€fficõ¡Index] = 
cuºítSam∂e
;

1490 
	guiAbsSum
 +
TC€ff
(
abs
(
cuºítSam∂e
));

1496 #i‡
DEBUG_TRANSFORM_AND_QUANTISE


1497 
	g°d
::
cout
 << 
g_debugCou¡î
 << ": " << 
uiWidth
 << "x" << 
uiHeight
 << " ch™√»" << 
compID
 << " TUát inputÅoÅransform\n";

1498 
¥ötBlock
(
pcResiduÆ
, 
uiWidth
, 
uiHeight
, 
uiSåide
);

1501 
as£π
–(
pcCU
->
gëSli˚
()->
gëSPS
()->
gëMaxTrSize
(Ë>
uiWidth
) );

1503 if(
	gpcCU
->
gëTønsf‹mSkù
(
uiAbsP¨tIdx
, 
compID
) != 0)

1505 
xTønsf‹mSkù
–
pcResiduÆ
, 
uiSåide
, 
m_∂TempC€ff
, 
rTu
, 
compID
 );

1509 c⁄° 
I¡
 
	gch™√lBôDïth
=
pcCU
->
gëSli˚
()->
gëSPS
()->
gëBôDïth
(
toCh™√lTy≥
(
compID
));

1510 
xT
–
ch™√lBôDïth
, 
rTu
.
u£DST
(
compID
), 
pcResiduÆ
, 
uiSåide
, 
m_∂TempC€ff
, 
uiWidth
, 
uiHeight
, 
pcCU
->
gëSli˚
()->
gëSPS
()->
gëMaxLog2TrDy«micR™ge
(
toCh™√lTy≥
(compID)) );

1513 #i‡
DEBUG_TRANSFORM_AND_QUANTISE


1514 
	g°d
::
cout
 << 
g_debugCou¡î
 << ": " << 
uiWidth
 << "x" << 
uiHeight
 << " ch™√»" << 
compID
 << " TU betweenÅransformánd quantiser\n";

1515 
¥ötBlock
(
m_∂TempC€ff
, 
uiWidth
, 
uiHeight
, uiWidth);

1518 
xQu™t
–
rTu
, 
m_∂TempC€ff
, 
ΩcC€ff
,

1520 #i‡
ADAPTIVE_QP_SELECTION


1521 
pcAæC€ff
,

1523 
uiAbsSum
, 
compID
, 
cQP
 );

1525 #i‡
DEBUG_TRANSFORM_AND_QUANTISE


1526 
	g°d
::
cout
 << 
g_debugCou¡î
 << ": " << 
uiWidth
 << "x" << 
uiHeight
 << " ch™√»" << 
compID
 << " TUát output of quantiser\n";

1527 
¥ötBlock
(
ΩcC€ff
, 
uiWidth
, 
uiHeight
, uiWidth);

1533 
	gpcCU
->
£tCbfP¨tR™ge
((((
uiAbsSum
 > 0Ë? 1 : 0Ë<< 
uiOrgTrDïth
), 
compID
, 
uiAbsP¨tIdx
, 
rTu
.
GëAbsP¨tIdxNumP¨ts
(compID));

1537 
Void
 
	gTComTrQu™t
::
övTønsf‹mNxN
–
TComTU
 &
rTu
,

1538 c⁄° 
Comp⁄ítID
 
compID
,

1539 
Pñ
 *
pcResiduÆ
,

1540 c⁄° 
UI¡
 
uiSåide
,

1541 
TC€ff
 * 
pcC€ff
,

1542 c⁄° 
QpP¨am
 &
cQP


1543 
	$DEBUG_STRING_FN_DECLAREP
(
psDebug
))

1545 
TComD©aCU
* 
pcCU
=
rTu
.
	`gëCU
();

1546 c⁄° 
UI¡
 
uiAbsP¨tIdx
 = 
rTu
.
	`GëAbsP¨tIdxTU
();

1547 c⁄° 
TComRe˘™gÀ
 &
ª˘
 = 
rTu
.
	`gëRe˘
(
compID
);

1548 c⁄° 
UI¡
 
uiWidth
 = 
ª˘
.
width
;

1549 c⁄° 
UI¡
 
uiHeight
 = 
ª˘
.
height
;

1551 i‡(
uiWidth
 !
uiHeight
)

1557 
TComTURecur£
 
	`subTURecur£
(
rTu
, 
Ál£
, 
TComTU
::
VERTICAL_SPLIT
, 
åue
, 
compID
);

1563 c⁄° 
UI¡
 
löeOff£t
 = 
subTURecur£
.
	`GëSe˘i⁄Numbî
(Ë* subTURecur£.
	`gëRe˘
(
compID
).
height
;

1565 
Pñ
 *
subTUResiduÆ
 = 
pcResiduÆ
 + (
löeOff£t
 * 
uiSåide
);

1566 
TC€ff
 *
subTUC€fficõ¡s
 = 
pcC€ff
 + (
löeOff£t
 * 
subTURecur£
.
	`gëRe˘
(
compID
).
width
);

1568 
	`övTønsf‹mNxN
(
subTURecur£
, 
compID
, 
subTUResiduÆ
, 
uiSåide
, 
subTUC€fficõ¡s
, 
cQP
 
	`DEBUG_STRING_PASS_INTO
(
psDebug
));

1572 } 
subTURecur£
.
	`√xtSe˘i⁄
(
rTu
));

1579 #i‡
DEBUG_STRING


1580 i‡(
psDebug
)

1582 
°d
::
°rög°ªam
 
	`ss
(°rög°ªam::
out
);

1583 
	`¥ötBlockToSåóm
(
ss
, (
compID
==0)?"###InvTø¿ù Ch0: " : ((compID==1)?"###InvTø¿ù Ch1: ":"###InvTø¿ù Ch2: "), 
pcC€ff
, 
uiWidth
, 
uiHeight
, uiWidth);

1584 
	`DEBUG_STRING_APPEND
((*
psDebug
), 
ss
.
	`°r
())

1588 if(
pcCU
->
	`gëCUTønsqu™tBy∑ss
(
uiAbsP¨tIdx
))

1590 c⁄° 
Boﬁ
 
rŸ©eResiduÆ
 = 
rTu
.
	`isN⁄Tønsf‹medResiduÆRŸ©ed
(
compID
);

1591 c⁄° 
UI¡
 
uiSizeMöus1
 = (
uiWidth
 * 
uiHeight
) - 1;

1593 
UI¡
 
y
 = 0, 
c€fficõ¡Index
 = 0; y<
uiHeight
; y++)

1595 
UI¡
 
x
 = 0; x<
uiWidth
; x++, 
c€fficõ¡Index
++)

1597 
pcResiduÆ
[(
y
 * 
uiSåide
Ë+ 
x
] = 
	`Pñ
(
pcC€ff
[
rŸ©eResiduÆ
 ? (
uiSizeMöus1
 - 
c€fficõ¡Index
) : coefficientIndex]);

1603 #i‡
DEBUG_TRANSFORM_AND_QUANTISE


1604 
°d
::
cout
 << 
g_debugCou¡î
 << ": " << 
uiWidth
 << "x" << 
uiHeight
 << " ch™√»" << 
compID
 << " TUát inputÅo dequantiser\n";

1605 
	`¥ötBlock
(
pcC€ff
, 
uiWidth
, 
uiHeight
, uiWidth);

1608 
	`xDeQu™t
(
rTu
, 
pcC€ff
, 
m_∂TempC€ff
, 
compID
, 
cQP
);

1610 #i‡
DEBUG_TRANSFORM_AND_QUANTISE


1611 
°d
::
cout
 << 
g_debugCou¡î
 << ": " << 
uiWidth
 << "x" << 
uiHeight
 << " ch™√»" << 
compID
 << " TU between dequantiseránd inverse-transform\n";

1612 
	`¥ötBlock
(
m_∂TempC€ff
, 
uiWidth
, 
uiHeight
, uiWidth);

1615 #i‡
DEBUG_STRING


1616 i‡(
psDebug
)

1618 
°d
::
°rög°ªam
 
	`ss
(°rög°ªam::
out
);

1619 
	`¥ötBlockToSåóm
(
ss
, "###InvTø¿deq: ", 
m_∂TempC€ff
, 
uiWidth
, 
uiHeight
, uiWidth);

1620 (*
psDebug
)+=
ss
.
	`°r
();

1624 if(
pcCU
->
	`gëTønsf‹mSkù
(
uiAbsP¨tIdx
, 
compID
))

1626 
	`xITønsf‹mSkù
–
m_∂TempC€ff
, 
pcResiduÆ
, 
uiSåide
, 
rTu
, 
compID
 );

1628 #i‡
DEBUG_STRING


1629 i‡(
psDebug
)

1631 
°d
::
°rög°ªam
 
	`ss
(°rög°ªam::
out
);

1632 
	`¥ötBlockToSåóm
(
ss
, "###InvTø¿ªsi: ", 
pcResiduÆ
, 
uiWidth
, 
uiHeight
, 
uiSåide
);

1633 (*
psDebug
)+=
ss
.
	`°r
();

1634 (*
psDebug
)+="(<- wasá Transform-skipped block)\n";

1640 #i‡
O0043_BEST_EFFORT_DECODING


1641 c⁄° 
I¡
 
ch™√lBôDïth
 = 
pcCU
->
	`gëSli˚
()->
	`gëSPS
()->
	`gëSåómBôDïth
(
	`toCh™√lTy≥
(
compID
));

1643 c⁄° 
I¡
 
ch™√lBôDïth
 = 
pcCU
->
	`gëSli˚
()->
	`gëSPS
()->
	`gëBôDïth
(
	`toCh™√lTy≥
(
compID
));

1645 
	`xIT
–
ch™√lBôDïth
, 
rTu
.
	`u£DST
(
compID
), 
m_∂TempC€ff
, 
pcResiduÆ
, 
uiSåide
, 
uiWidth
, 
uiHeight
, 
pcCU
->
	`gëSli˚
()->
	`gëSPS
()->
	`gëMaxLog2TrDy«micR™ge
(
	`toCh™√lTy≥
(compID)) );

1647 #i‡
DEBUG_STRING


1648 i‡(
psDebug
)

1650 
°d
::
°rög°ªam
 
	`ss
(°rög°ªam::
out
);

1651 
	`¥ötBlockToSåóm
(
ss
, "###InvTø¿ªsi: ", 
pcResiduÆ
, 
uiWidth
, 
uiHeight
, 
uiSåide
);

1652 (*
psDebug
)+=
ss
.
	`°r
();

1653 (*
psDebug
)+="(<- wasá Transformed block)\n";

1658 #i‡
DEBUG_TRANSFORM_AND_QUANTISE


1659 
°d
::
cout
 << 
g_debugCou¡î
 << ": " << 
uiWidth
 << "x" << 
uiHeight
 << " ch™√»" << 
compID
 << " TUát output of inverse-transform\n";

1660 
	`¥ötBlock
(
pcResiduÆ
, 
uiWidth
, 
uiHeight
, 
uiSåide
);

1661 
g_debugCou¡î
++;

1665 
	`övRdpcmNxN
–
rTu
, 
compID
, 
pcResiduÆ
, 
uiSåide
 );

1666 
	}
}

1668 
Void
 
	gTComTrQu™t
::
	$övRecurTønsf‹mNxN
–c⁄° 
Comp⁄ítID
 
compID
,

1669 
TComYuv
 *
pResiduÆ
,

1670 
TComTU
 &
rTu
)

1672 i‡(!
rTu
.
	`Pro˚ssComp⁄ítSe˘i⁄
(
compID
))

1677 
TComD©aCU
* 
pcCU
 = 
rTu
.
	`gëCU
();

1678 
UI¡
 
absP¨tIdxTU
 = 
rTu
.
	`GëAbsP¨tIdxTU
();

1679 
UI¡
 
uiTrMode
=
rTu
.
	`GëTønsf‹mDïthRñ
();

1680 if–(
pcCU
->
	`gëCbf
(
absP¨tIdxTU
, 
compID
, 
uiTrMode
Ë=0Ë&& (
	`isLuma
(compIDË|| !pcCU->
	`gëSli˚
()->
	`gëPPS
()->
	`gëPpsR™geExãnsi⁄
().
	`gëCrossComp⁄ítPªdi˘i⁄E«bÀdFœg
()) )

1685 if–
uiTrMode
 =
pcCU
->
	`gëTønsf‹mIdx
–
absP¨tIdxTU
 ) )

1687 c⁄° 
TComRe˘™gÀ
 &
tuRe˘
 = 
rTu
.
	`gëRe˘
(
compID
);

1688 c⁄° 
I¡
 
uiSåide
 = 
pResiduÆ
->
	`gëSåide
–
compID
 );

1689 
Pñ
 *
ΩcResiduÆ
 = 
pResiduÆ
->
	`gëAddr
–
compID
 );

1690 
UI¡
 
uiAddr
 = (
tuRe˘
.
x0
 + 
uiSåide
*tuRe˘.
y0
);

1691 
Pñ
 *
pResi
 = 
ΩcResiduÆ
 + 
uiAddr
;

1692 
TC€ff
 *
pcC€ff
 = 
pcCU
->
	`gëC€ff
(
compID
Ë+ 
rTu
.
	`gëC€fficõ¡Off£t
(compID);

1694 c⁄° 
QpP¨am
 
	`cQP
(*
pcCU
, 
compID
);

1696 if(
pcCU
->
	`gëCbf
(
absP¨tIdxTU
, 
compID
, 
uiTrMode
) != 0)

1698 
	`DEBUG_STRING_NEW
(
sTemp
)

1699 #i‡
DEBUG_STRING


1700 
°d
::
°rög
 *
psDebug
=((
DebugO±i⁄Li°
::
DebugSåög_InvTøn
.
	`gëI¡
()&(
pcCU
->
	`isI¡ø
(
absP¨tIdxTU
)?1:’cCU->
	`isI¡î
◊bsP¨tIdxTU)?2:4)))!=0Ë? &
sTemp
 : 0;

1703 
	`övTønsf‹mNxN
–
rTu
, 
compID
, 
pResi
, 
uiSåide
, 
pcC€ff
, 
cQP
 
	`DEBUG_STRING_PASS_INTO
(
psDebug
) );

1705 #i‡
DEBUG_STRING


1706 i‡(
psDebug
 != 0)

1708 
°d
::
cout
 << (*
psDebug
);

1713 i‡(
	`isChroma
(
compID
Ë&& (
pcCU
->
	`gëCrossComp⁄ítPªdi˘i⁄AÕha
(
absP¨tIdxTU
, compID) != 0))

1715 c⁄° 
Pñ
 *
piResiLuma
 = 
pResiduÆ
->
	`gëAddr
–
COMPONENT_Y
 );

1716 c⁄° 
I¡
 
°rideLuma
 = 
pResiduÆ
->
	`gëSåide
–
COMPONENT_Y
 );

1717 c⁄° 
I¡
 
tuWidth
 = 
rTu
.
	`gëRe˘
–
compID
 ).
width
;

1718 c⁄° 
I¡
 
tuHeight
 = 
rTu
.
	`gëRe˘
–
compID
 ).
height
;

1720 if(
pcCU
->
	`gëCbf
(
absP¨tIdxTU
, 
COMPONENT_Y
, 
uiTrMode
) != 0)

1722 
pResi
 = 
ΩcResiduÆ
 + 
uiAddr
;

1723 c⁄° 
Pñ
 *
pResiLuma
 = 
piResiLuma
 + 
uiAddr
;

1725 
	`¸ossComp⁄ítPªdi˘i⁄
–
rTu
, 
compID
, 
pResiLuma
, 
pResi
,ÖResi, 
tuWidth
, 
tuHeight
, 
°rideLuma
, 
uiSåide
, uiSåide, 
åue
 );

1731 
TComTURecur£
 
	`tuRecur£Chûd
(
rTu
, 
Ál£
);

1734 
	`övRecurTønsf‹mNxN
–
compID
, 
pResiduÆ
, 
tuRecur£Chûd
 );

1735 } 
tuRecur£Chûd
.
	`√xtSe˘i⁄
(
rTu
));

1737 
	}
}

1739 
Void
 
	gTComTrQu™t
::
	$≠∂yF‹w¨dRDPCM
–
TComTU
& 
rTu
, c⁄° 
Comp⁄ítID
 
compID
, 
Pñ
* 
pcResiduÆ
, c⁄° 
UI¡
 
uiSåide
, c⁄° 
QpP¨am
& 
cQP
, 
TC€ff
* 
pcC€ff
, TC€f‡&
uiAbsSum
, c⁄° 
RDPCMMode
 
mode
 )

1741 
TComD©aCU
 *
pcCU
=
rTu
.
	`gëCU
();

1742 c⁄° 
UI¡
 
uiAbsP¨tIdx
=
rTu
.
	`GëAbsP¨tIdxTU
();

1744 c⁄° 
Boﬁ
 
bLos¶ess
 = 
pcCU
->
	`gëCUTønsqu™tBy∑ss
–
uiAbsP¨tIdx
 );

1745 c⁄° 
UI¡
 
uiWidth
 = 
rTu
.
	`gëRe˘
(
compID
).
width
;

1746 c⁄° 
UI¡
 
uiHeight
 = 
rTu
.
	`gëRe˘
(
compID
).
height
;

1747 c⁄° 
Boﬁ
 
rŸ©eResiduÆ
 = 
rTu
.
	`isN⁄Tønsf‹medResiduÆRŸ©ed
(
compID
);

1748 c⁄° 
UI¡
 
uiSizeMöus1
 = (
uiWidth
 * 
uiHeight
) - 1;

1750 
UI¡
 
uiX
 = 0;

1751 
UI¡
 
uiY
 = 0;

1753 
UI¡
 &
maj‹Axis
 = (
mode
 =
RDPCM_VER
Ë? 
uiX
 : 
uiY
;

1754 
UI¡
 &
mö‹Axis
 = (
mode
 =
RDPCM_VER
Ë? 
uiY
 : 
uiX
;

1755 c⁄° 
UI¡
 
maj‹AxisLimô
 = (
mode
 =
RDPCM_VER
Ë? 
uiWidth
 : 
uiHeight
;

1756 c⁄° 
UI¡
 
mö‹AxisLimô
 = (
mode
 =
RDPCM_VER
Ë? 
uiHeight
 : 
uiWidth
;

1758 c⁄° 
Boﬁ
 
bU£HÆfRoundögPoöt
 = (
mode
 !
RDPCM_OFF
);

1760 
uiAbsSum
 = 0;

1762  
maj‹Axis
 = 0; maj‹Axi†< 
maj‹AxisLimô
; majorAxis++ )

1764 
TC€ff
 
accumuœt‹VÆue
 = 0;

1765  
mö‹Axis
 = 0; mö‹Axi†< 
mö‹AxisLimô
; minorAxis++ )

1767 c⁄° 
UI¡
 
ßm∂eIndex
 = (
uiY
 * 
uiWidth
Ë+ 
uiX
;

1768 c⁄° 
UI¡
 
c€fficõ¡Index
 = (
rŸ©eResiduÆ
 ? (
uiSizeMöus1
-
ßm∂eIndex
) : sampleIndex);

1769 c⁄° 
Pñ
 
cuºítSam∂e
 = 
pcResiduÆ
[(
uiY
 * 
uiSåide
Ë+ 
uiX
];

1770 c⁄° 
TC€ff
 
ícodîSideDñè
 = 
	`TC€ff
(
cuºítSam∂e
Ë- 
accumuœt‹VÆue
;

1772 
Pñ
 
ªc⁄°ru˘edDñè
;

1773 i‡–
bLos¶ess
 )

1775 
pcC€ff
[
c€fficõ¡Index
] = 
ícodîSideDñè
;

1776 
ªc⁄°ru˘edDñè
 = (
Pñ
Ë
ícodîSideDñè
;

1780 
	`å™sf‹mSkùQu™tO√Sam∂e
(
rTu
, 
compID
, 
ícodîSideDñè
, 
pcC€ff
, 
c€fficõ¡Index
, 
cQP
, 
bU£HÆfRoundögPoöt
);

1781 
	`övTrSkùDeQu™tO√Sam∂e
 (
rTu
, 
compID
, 
pcC€ff
[
c€fficõ¡Index
], 
ªc⁄°ru˘edDñè
, 
cQP
, coefficientIndex);

1784 
uiAbsSum
 +
	`abs
(
pcC€ff
[
c€fficõ¡Index
]);

1786 i‡(
mode
 !
RDPCM_OFF
)

1788 
accumuœt‹VÆue
 +
ªc⁄°ru˘edDñè
;

1792 
	}
}

1794 
Void
 
	gTComTrQu™t
::
	$rdpcmNxN
 ( 
TComTU
& 
rTu
, c⁄° 
Comp⁄ítID
 
compID
, 
Pñ
* 
pcResiduÆ
, c⁄° 
UI¡
 
uiSåide
, c⁄° 
QpP¨am
& 
cQP
, 
TC€ff
* 
pcC€ff
, TC€f‡&
uiAbsSum
, 
RDPCMMode
& 
rdpcmMode
 )

1796 
TComD©aCU
 *
pcCU
=
rTu
.
	`gëCU
();

1797 c⁄° 
UI¡
 
uiAbsP¨tIdx
=
rTu
.
	`GëAbsP¨tIdxTU
();

1799 i‡(!
pcCU
->
	`isRDPCME«bÀd
(
uiAbsP¨tIdx
Ë|| (’cCU->
	`gëTønsf‹mSkù
(uiAbsP¨tIdx, 
compID
Ë=0Ë&& !pcCU->
	`gëCUTønsqu™tBy∑ss
(uiAbsPartIdx)))

1801 
rdpcmMode
 = 
RDPCM_OFF
;

1803 i‡–
pcCU
->
	`isI¡ø
–
uiAbsP¨tIdx
 ) )

1805 c⁄° 
ChromaF‹m©
 
chFmt
 = 
pcCU
->
	`gëPic
()->
	`gëPicYuvOrg
()->
	`gëChromaF‹m©
();

1806 c⁄° 
Ch™√lTy≥
 
chTy≥
 = 
	`toCh™√lTy≥
(
compID
);

1807 c⁄° 
UI¡
 
uiChPªdMode
 = 
pcCU
->
	`gëI¡øDú
–
chTy≥
, 
uiAbsP¨tIdx
 );

1808 c⁄° 
TComSPS
 *
•s
=
pcCU
->
	`gëSli˚
()->
	`gëSPS
();

1809 c⁄° 
UI¡
 
∑πsPîMöCU
 = 1<<(2*(
•s
->
	`gëMaxTŸÆCUDïth
(Ë- sps->
	`gëLog2DiffMaxMöCodögBlockSize
()));

1810 c⁄° 
UI¡
 
uiChCodedMode
 = (
uiChPªdMode
==
DM_CHROMA_IDX
 && 
	`isChroma
(
compID
)Ë? 
pcCU
->
	`gëI¡øDú
(
CHANNEL_TYPE_LUMA
, 
	`gëChromasC‹ª•⁄dögPULumaIdx
(
uiAbsP¨tIdx
, 
chFmt
, 
∑πsPîMöCU
)) : uiChPredMode;

1811 c⁄° 
UI¡
 
uiChFöÆMode
 = ((
chFmt
 =
CHROMA_422
Ë&& 
	`isChroma
(
compID
)Ë? 
g_chroma422I¡øAngÀM≠pögTabÀ
[
uiChCodedMode
] : uiChCodedMode;

1813 i‡(
uiChFöÆMode
 =
VER_IDX
 || uiChFöÆModê=
HOR_IDX
)

1815 
rdpcmMode
 = (
uiChFöÆMode
 =
VER_IDX
Ë? 
RDPCM_VER
 : 
RDPCM_HOR
;

1816 
	`≠∂yF‹w¨dRDPCM
–
rTu
, 
compID
, 
pcResiduÆ
, 
uiSåide
, 
cQP
, 
pcC€ff
, 
uiAbsSum
, 
rdpcmMode
 );

1820 
rdpcmMode
 = 
RDPCM_OFF
;

1825 c⁄° 
UI¡
 
uiWidth
 = 
rTu
.
	`gëRe˘
(
compID
).
width
;

1826 c⁄° 
UI¡
 
uiHeight
 = 
rTu
.
	`gëRe˘
(
compID
).
height
;

1828 
RDPCMMode
 
be°Mode
 = 
NUMBER_OF_RDPCM_MODES
;

1829 
TC€ff
 
be°AbsSum
 = 
°d
::
numîic_limôs
<TC€ff>::
	`max
();

1830 
TC€ff
 
be°C€fficõ¡s
[
MAX_TU_SIZE
 * MAX_TU_SIZE];

1832 
UI¡
 
modeIndex
 = 0; modeIndex < 
NUMBER_OF_RDPCM_MODES
; modeIndex++)

1834 c⁄° 
RDPCMMode
 
mode
 = 
	`RDPCMMode
(
modeIndex
);

1836 
TC€ff
 
cuºAbsSum
 = 0;

1838 
	`≠∂yF‹w¨dRDPCM
–
rTu
, 
compID
, 
pcResiduÆ
, 
uiSåide
, 
cQP
, 
pcC€ff
, 
cuºAbsSum
, 
mode
 );

1840 i‡(
cuºAbsSum
 < 
be°AbsSum
)

1842 
be°Mode
 = 
mode
;

1843 
be°AbsSum
 = 
cuºAbsSum
;

1844 i‡(
mode
 !
RDPCM_OFF
)

1846 
	`mem˝y
(
be°C€fficõ¡s
, 
pcC€ff
, (
uiWidth
 * 
uiHeight
 * (
TC€ff
)));

1851 
rdpcmMode
 = 
be°Mode
;

1852 
uiAbsSum
 = 
be°AbsSum
;

1854 i‡(
rdpcmMode
 !
RDPCM_OFF
)

1856 
	`mem˝y
(
pcC€ff
, 
be°C€fficõ¡s
, (
uiWidth
 * 
uiHeight
 * (
TC€ff
)));

1860 
pcCU
->
	`£tEx∂icôRdpcmModeP¨tR™ge
(
rdpcmMode
, 
compID
, 
uiAbsP¨tIdx
, 
rTu
.
	`GëAbsP¨tIdxNumP¨ts
(compID));

1861 
	}
}

1863 
Void
 
	gTComTrQu™t
::
	$övRdpcmNxN
–
TComTU
& 
rTu
, c⁄° 
Comp⁄ítID
 
compID
, 
Pñ
* 
pcResiduÆ
, c⁄° 
UI¡
 
uiSåide
 )

1865 
TComD©aCU
 *
pcCU
=
rTu
.
	`gëCU
();

1866 c⁄° 
UI¡
 
uiAbsP¨tIdx
=
rTu
.
	`GëAbsP¨tIdxTU
();

1868 i‡(
pcCU
->
	`isRDPCME«bÀd
–
uiAbsP¨tIdx
 ) && (’cCU->
	`gëTønsf‹mSkù
(uiAbsP¨tIdx, 
compID
 ) !0Ë||ÖcCU->
	`gëCUTønsqu™tBy∑ss
(uiAbsPartIdx)))

1870 c⁄° 
UI¡
 
uiWidth
 = 
rTu
.
	`gëRe˘
(
compID
).
width
;

1871 c⁄° 
UI¡
 
uiHeight
 = 
rTu
.
	`gëRe˘
(
compID
).
height
;

1873 
RDPCMMode
 
rdpcmMode
 = 
RDPCM_OFF
;

1875 i‡–
pcCU
->
	`isI¡ø
–
uiAbsP¨tIdx
 ) )

1877 c⁄° 
ChromaF‹m©
 
chFmt
 = 
pcCU
->
	`gëPic
()->
	`gëPicYuvRec
()->
	`gëChromaF‹m©
();

1878 c⁄° 
Ch™√lTy≥
 
chTy≥
 = 
	`toCh™√lTy≥
(
compID
);

1879 c⁄° 
UI¡
 
uiChPªdMode
 = 
pcCU
->
	`gëI¡øDú
–
chTy≥
, 
uiAbsP¨tIdx
 );

1880 c⁄° 
TComSPS
 *
•s
=
pcCU
->
	`gëSli˚
()->
	`gëSPS
();

1881 c⁄° 
UI¡
 
∑πsPîMöCU
 = 1<<(2*(
•s
->
	`gëMaxTŸÆCUDïth
(Ë- sps->
	`gëLog2DiffMaxMöCodögBlockSize
()));

1882 c⁄° 
UI¡
 
uiChCodedMode
 = (
uiChPªdMode
==
DM_CHROMA_IDX
 && 
	`isChroma
(
compID
)Ë? 
pcCU
->
	`gëI¡øDú
(
CHANNEL_TYPE_LUMA
, 
	`gëChromasC‹ª•⁄dögPULumaIdx
(
uiAbsP¨tIdx
, 
chFmt
, 
∑πsPîMöCU
)) : uiChPredMode;

1883 c⁄° 
UI¡
 
uiChFöÆMode
 = ((
chFmt
 =
CHROMA_422
Ë&& 
	`isChroma
(
compID
)Ë? 
g_chroma422I¡øAngÀM≠pögTabÀ
[
uiChCodedMode
] : uiChCodedMode;

1885 i‡(
uiChFöÆMode
 =
VER_IDX
 || uiChFöÆModê=
HOR_IDX
)

1887 
rdpcmMode
 = (
uiChFöÆMode
 =
VER_IDX
Ë? 
RDPCM_VER
 : 
RDPCM_HOR
;

1892 
rdpcmMode
 = 
	`RDPCMMode
(
pcCU
->
	`gëEx∂icôRdpcmMode
–
compID
, 
uiAbsP¨tIdx
 ));

1895 c⁄° 
TC€ff
 
≥lMö
=(TC€ffË
°d
::
numîic_limôs
<
Pñ
>::
	`mö
();

1896 c⁄° 
TC€ff
 
≥lMax
=(TC€ffË
°d
::
numîic_limôs
<
Pñ
>::
	`max
();

1897 i‡(
rdpcmMode
 =
RDPCM_VER
)

1899  
UI¡
 
uiX
 = 0; uiX < 
uiWidth
; uiX++ )

1901 
Pñ
 *
pcCurResiduÆ
 = 
pcResiduÆ
+
uiX
;

1902 
TC€ff
 
accumuœt‹
 = *
pcCurResiduÆ
;

1903 
pcCurResiduÆ
+=
uiSåide
;

1904  
UI¡
 
uiY
 = 1; uiY < 
uiHeight
; uiY++, 
pcCurResiduÆ
+=
uiSåide
 )

1906 
accumuœt‹
 +*(
pcCurResiduÆ
);

1907 *
pcCurResiduÆ
 = (
Pñ
)
Clù3
<
TC€ff
>(
≥lMö
, 
≥lMax
, 
accumuœt‹
);

1911 i‡(
rdpcmMode
 =
RDPCM_HOR
)

1913  
UI¡
 
uiY
 = 0; uiY < 
uiHeight
; uiY++ )

1915 
Pñ
 *
pcCurResiduÆ
 = 
pcResiduÆ
+
uiY
*
uiSåide
;

1916 
TC€ff
 
accumuœt‹
 = *
pcCurResiduÆ
;

1917 
pcCurResiduÆ
++;

1918  
UI¡
 
uiX
 = 1; uiX < 
uiWidth
; uiX++, 
pcCurResiduÆ
++ )

1920 
accumuœt‹
 +*(
pcCurResiduÆ
);

1921 *
pcCurResiduÆ
 = (
Pñ
)
Clù3
<
TC€ff
>(
≥lMö
, 
≥lMax
, 
accumuœt‹
);

1926 
	}
}

1942 
Void
 
	gTComTrQu™t
::
	$xT
–c⁄° 
I¡
 
ch™√lBôDïth
, 
Boﬁ
 
u£DST
, 
Pñ
* 
piBlkResi
, 
UI¡
 
uiSåide
, 
TC€ff
* 
psC€ff
, I¡ 
iWidth
, I¡ 
iHeight
, c⁄° I¡ 
maxLog2TrDy«micR™ge
 )

1944 #i‡
MATRIX_MULT


1945 if–
iWidth
 =
iHeight
)

1947 
	`xTr
(
ch™√lBôDïth
, 
piBlkResi
, 
psC€ff
, 
uiSåide
, (
UI¡
)
iWidth
, 
u£DST
, 
maxLog2TrDy«micR™ge
);

1952 
TC€ff
 
block
[ 
MAX_TU_SIZE
 * MAX_TU_SIZE ];

1953 
TC€ff
 
c€ff
[ 
MAX_TU_SIZE
 * MAX_TU_SIZE ];

1955 
I¡
 
y
 = 0; y < 
iHeight
; y++)

1957 
I¡
 
x
 = 0; x < 
iWidth
; x++)

1959 
block
[(
y
 * 
iWidth
Ë+ 
x
] = 
piBlkResi
[(y * 
uiSåide
) + x];

1963 
	`xTrMxN
–
ch™√lBôDïth
, 
block
, 
c€ff
, 
iWidth
, 
iHeight
, 
u£DST
, 
maxLog2TrDy«micR™ge
 );

1965 
	`mem˝y
(
psC€ff
, 
c€ff
, (
iWidth
 * 
iHeight
 * (
TC€ff
)));

1966 
	}
}

1978 
Void
 
	gTComTrQu™t
::
	$xIT
–c⁄° 
I¡
 
ch™√lBôDïth
, 
Boﬁ
 
u£DST
, 
TC€ff
* 
∂C€f
, 
Pñ
* 
pResiduÆ
, 
UI¡
 
uiSåide
, I¡ 
iWidth
, I¡ 
iHeight
, c⁄° I¡ 
maxLog2TrDy«micR™ge
 )

1980 #i‡
MATRIX_MULT


1981 if–
iWidth
 =
iHeight
 )

1983 
	`xITr
(
ch™√lBôDïth
, 
∂C€f
, 
pResiduÆ
, 
uiSåide
, (
UI¡
)
iWidth
, 
u£DST
, 
maxLog2TrDy«micR™ge
);

1988 
TC€ff
 
block
[ 
MAX_TU_SIZE
 * MAX_TU_SIZE ];

1989 
TC€ff
 
c€ff
[ 
MAX_TU_SIZE
 * MAX_TU_SIZE ];

1991 
	`mem˝y
(
c€ff
, 
∂C€f
, (
iWidth
 * 
iHeight
 * (
TC€ff
)));

1993 
	`xITrMxN
–
ch™√lBôDïth
, 
c€ff
, 
block
, 
iWidth
, 
iHeight
, 
u£DST
, 
maxLog2TrDy«micR™ge
 );

1995 
I¡
 
y
 = 0; y < 
iHeight
; y++)

1997 
I¡
 
x
 = 0; x < 
iWidth
; x++)

1999 
pResiduÆ
[(
y
 * 
uiSåide
Ë+ 
x
] = 
	`Pñ
(
block
[(y * 
iWidth
) + x]);

2002 
	}
}

2011 
Void
 
	gTComTrQu™t
::
	$xTønsf‹mSkù
–
Pñ
* 
piBlkResi
, 
UI¡
 
uiSåide
, 
TC€ff
* 
psC€ff
, 
TComTU
 &
rTu
, c⁄° 
Comp⁄ítID
 
comp⁄ít
 )

2013 c⁄° 
TComRe˘™gÀ
 &
ª˘
 = 
rTu
.
	`gëRe˘
(
comp⁄ít
);

2014 c⁄° 
I¡
 
width
 = 
ª˘
.width;

2015 c⁄° 
I¡
 
height
 = 
ª˘
.height;

2016 c⁄° 
I¡
 
maxLog2TrDy«micR™ge
 = 
rTu
.
	`gëCU
()->
	`gëSli˚
()->
	`gëSPS
()->
	`gëMaxLog2TrDy«micR™ge
(
	`toCh™√lTy≥
(
comp⁄ít
));

2017 c⁄° 
I¡
 
ch™√lBôDïth
 = 
rTu
.
	`gëCU
()->
	`gëSli˚
()->
	`gëSPS
()->
	`gëBôDïth
(
	`toCh™√lTy≥
(
comp⁄ít
));

2019 
I¡
 
iTønsf‹mShi·
 = 
	`gëTønsf‹mShi·
(
ch™√lBôDïth
, 
rTu
.
	`GëEquivÆítLog2TrSize
(
comp⁄ít
), 
maxLog2TrDy«micR™ge
);

2020 i‡(
rTu
.
	`gëCU
()->
	`gëSli˚
()->
	`gëSPS
()->
	`gëSpsR™geExãnsi⁄
().
	`gëExãndedPªcisi⁄Pro˚ssögFœg
())

2022 
iTønsf‹mShi·
 = 
°d
::
max
<
I¡
>(0, iTransformShift);

2025 c⁄° 
Boﬁ
 
rŸ©eResiduÆ
 = 
rTu
.
	`isN⁄Tønsf‹medResiduÆRŸ©ed
(
comp⁄ít
);

2026 c⁄° 
UI¡
 
uiSizeMöus1
 = (
width
 * 
height
) - 1;

2028 i‡(
iTønsf‹mShi·
 >= 0)

2030 
UI¡
 
y
 = 0, 
c€fficõ¡Index
 = 0; y < 
height
; y++)

2032 
UI¡
 
x
 = 0; x < 
width
; x++, 
c€fficõ¡Index
++)

2034 
psC€ff
[
rŸ©eResiduÆ
 ? (
uiSizeMöus1
 - 
c€fficõ¡Index
Ë: c€fficõ¡Index] = 
	`TC€ff
(
piBlkResi
[(
y
 * 
uiSåide
Ë+ 
x
]Ë<< 
iTønsf‹mShi·
;

2040 
iTønsf‹mShi·
 = -iTransformShift;

2041 c⁄° 
TC€ff
 
off£t
 = 1 << (
iTønsf‹mShi·
 - 1);

2043 
UI¡
 
y
 = 0, 
c€fficõ¡Index
 = 0; y < 
height
; y++)

2045 
UI¡
 
x
 = 0; x < 
width
; x++, 
c€fficõ¡Index
++)

2047 
psC€ff
[
rŸ©eResiduÆ
 ? (
uiSizeMöus1
 - 
c€fficõ¡Index
Ë: c€fficõ¡Index] = (
	`TC€ff
(
piBlkResi
[(
y
 * 
uiSåide
Ë+ 
x
]Ë+ 
off£t
Ë>> 
iTønsf‹mShi·
;

2051 
	}
}

2060 
Void
 
	gTComTrQu™t
::
	$xITønsf‹mSkù
–
TC€ff
* 
∂C€f
, 
Pñ
* 
pResiduÆ
, 
UI¡
 
uiSåide
, 
TComTU
 &
rTu
, c⁄° 
Comp⁄ítID
 
comp⁄ít
 )

2062 c⁄° 
TComRe˘™gÀ
 &
ª˘
 = 
rTu
.
	`gëRe˘
(
comp⁄ít
);

2063 c⁄° 
I¡
 
width
 = 
ª˘
.width;

2064 c⁄° 
I¡
 
height
 = 
ª˘
.height;

2065 c⁄° 
I¡
 
maxLog2TrDy«micR™ge
 = 
rTu
.
	`gëCU
()->
	`gëSli˚
()->
	`gëSPS
()->
	`gëMaxLog2TrDy«micR™ge
(
	`toCh™√lTy≥
(
comp⁄ít
));

2066 #i‡
O0043_BEST_EFFORT_DECODING


2067 c⁄° 
I¡
 
ch™√lBôDïth
 = 
rTu
.
	`gëCU
()->
	`gëSli˚
()->
	`gëSPS
()->
	`gëSåómBôDïth
(
	`toCh™√lTy≥
(
comp⁄ít
));

2069 c⁄° 
I¡
 
ch™√lBôDïth
 = 
rTu
.
	`gëCU
()->
	`gëSli˚
()->
	`gëSPS
()->
	`gëBôDïth
(
	`toCh™√lTy≥
(
comp⁄ít
));

2072 
I¡
 
iTønsf‹mShi·
 = 
	`gëTønsf‹mShi·
(
ch™√lBôDïth
, 
rTu
.
	`GëEquivÆítLog2TrSize
(
comp⁄ít
), 
maxLog2TrDy«micR™ge
);

2073 i‡(
rTu
.
	`gëCU
()->
	`gëSli˚
()->
	`gëSPS
()->
	`gëSpsR™geExãnsi⁄
().
	`gëExãndedPªcisi⁄Pro˚ssögFœg
())

2075 
iTønsf‹mShi·
 = 
°d
::
max
<
I¡
>(0, iTransformShift);

2078 c⁄° 
Boﬁ
 
rŸ©eResiduÆ
 = 
rTu
.
	`isN⁄Tønsf‹medResiduÆRŸ©ed
(
comp⁄ít
);

2079 c⁄° 
UI¡
 
uiSizeMöus1
 = (
width
 * 
height
) - 1;

2081 i‡(
iTønsf‹mShi·
 >= 0)

2083 c⁄° 
TC€ff
 
off£t
 = 
iTønsf‹mShi·
==0 ? 0 : (1 << (iTransformShift - 1));

2085 
UI¡
 
y
 = 0, 
c€fficõ¡Index
 = 0; y < 
height
; y++)

2087 
UI¡
 
x
 = 0; x < 
width
; x++, 
c€fficõ¡Index
++)

2089 
pResiduÆ
[(
y
 * 
uiSåide
Ë+ 
x
] = 
	`Pñ
((
∂C€f
[
rŸ©eResiduÆ
 ? (
uiSizeMöus1
 - 
c€fficõ¡Index
Ë: c€fficõ¡Index] + 
off£t
Ë>> 
iTønsf‹mShi·
);

2095 
iTønsf‹mShi·
 = -iTransformShift;

2097 
UI¡
 
y
 = 0, 
c€fficõ¡Index
 = 0; y < 
height
; y++)

2099 
UI¡
 
x
 = 0; x < 
width
; x++, 
c€fficõ¡Index
++)

2101 
pResiduÆ
[(
y
 * 
uiSåide
Ë+ 
x
] = 
	`Pñ
(
∂C€f
[
rŸ©eResiduÆ
 ? (
uiSizeMöus1
 - 
c€fficõ¡Index
Ë: c€fficõ¡Index] << 
iTønsf‹mShi·
);

2105 
	}
}

2119 
Void
 
	gTComTrQu™t
::
xR©eDi°O±Qu™t
 ( 
TComTU
 &
rTu
,

2120 
TC€ff
 * 
∂SrcC€ff
,

2121 
TC€ff
 * 
piD°C€ff
,

2122 #i‡
ADAPTIVE_QP_SELECTION


2123 
TC€ff
 * 
piAæD°C€ff
,

2125 
TC€ff
 &
uiAbsSum
,

2126 c⁄° 
Comp⁄ítID
 
compID
,

2127 c⁄° 
QpP¨am
 &
cQP
 )

2129 c⁄° 
	gTComRe˘™gÀ
 & 
	gª˘
 = 
rTu
.
gëRe˘
(
compID
);

2130 c⁄° 
UI¡
 
	guiWidth
 = 
ª˘
.
width
;

2131 c⁄° 
UI¡
 
	guiHeight
 = 
ª˘
.
height
;

2132 
TComD©aCU
 * 
	gpcCU
 = 
rTu
.
gëCU
();

2133 c⁄° 
UI¡
 
	guiAbsP¨tIdx
 = 
rTu
.
GëAbsP¨tIdxTU
();

2134 c⁄° 
Ch™√lTy≥
 
	gch™√lTy≥
 = 
toCh™√lTy≥
(
compID
);

2135 c⁄° 
UI¡
 
	guiLog2TrSize
 = 
rTu
.
GëEquivÆítLog2TrSize
(
compID
);

2137 c⁄° 
Boﬁ
 
	gexãndedPªcisi⁄
 = 
pcCU
->
gëSli˚
()->
gëSPS
()->
gëSpsR™geExãnsi⁄
().
gëExãndedPªcisi⁄Pro˚ssögFœg
();

2138 c⁄° 
I¡
 
	gmaxLog2TrDy«micR™ge
 = 
pcCU
->
gëSli˚
()->
gëSPS
()->
gëMaxLog2TrDy«micR™ge
(
toCh™√lTy≥
(
compID
));

2139 c⁄° 
I¡
 
	gch™√lBôDïth
 = 
rTu
.
gëCU
()->
gëSli˚
()->
gëSPS
()->
gëBôDïth
(
ch™√lTy≥
);

2148 
I¡
 
	giTønsf‹mShi·
 = 
gëTønsf‹mShi·
(
ch™√lBôDïth
, 
uiLog2TrSize
, 
maxLog2TrDy«micR™ge
);

2149 i‡((
	gpcCU
->
gëTønsf‹mSkù
(
uiAbsP¨tIdx
, 
compID
Ë!0Ë&& 
exãndedPªcisi⁄
)

2151 
iTønsf‹mShi·
 = 
°d
::
max
<
I¡
>(0, 
	giTønsf‹mShi·
);

2154 c⁄° 
Boﬁ
 
	gbU£GﬁombRi˚P¨amëîAd≠èti⁄
 = 
pcCU
->
gëSli˚
()->
gëSPS
()->
gëSpsR™geExãnsi⁄
().
gëPîsi°ítRi˚Ad≠èti⁄E«bÀdFœg
();

2155 c⁄° 
UI¡
 
	göôülGﬁombRi˚P¨amëî
 = 
m_pcE°BôsSbac
->
gﬁombRi˚Ad≠èti⁄Sèti°ics
[
rTu
.
gëGﬁombRi˚Sèti°icsIndex
(
compID
)] / 
RExt__GOLOMB_RICE_INCREMENT_DIVISOR
;

2156 
UI¡
 
	guiGoRi˚P¨am
 = 
öôülGﬁombRi˚P¨amëî
;

2157 
DoubÀ
 
	gd64BlockUncodedCo°
 = 0;

2158 c⁄° 
UI¡
 
	guiLog2BlockWidth
 = 
g_aucC⁄vîtToBô
[ 
uiWidth
 ] + 2;

2159 c⁄° 
UI¡
 
	guiLog2BlockHeight
 = 
g_aucC⁄vîtToBô
[ 
uiHeight
 ] + 2;

2160 c⁄° 
UI¡
 
	guiMaxNumC€ff
 = 
uiWidth
 * 
uiHeight
;

2161 
as£π
(
compID
<
MAX_NUM_COMPONENT
);

2163 
I¡
 
	gsˇlögLi°Ty≥
 = 
gëSˇlögLi°Ty≥
(
pcCU
->
gëPªdi˘i⁄Mode
(
uiAbsP¨tIdx
), 
compID
);

2164 
as£π
(
sˇlögLi°Ty≥
 < 
SCALING_LIST_NUM
);

2166 #i‡
ADAPTIVE_QP_SELECTION


2167 
mem£t
(
piAæD°C€ff
, 0, (
TC€ff
Ë* 
uiMaxNumC€ff
);

2170 
DoubÀ
 
	gpdCo°C€ff
 [ 
MAX_TU_SIZE
 * MAX_TU_SIZE ];

2171 
DoubÀ
 
	gpdCo°Sig
 [ 
MAX_TU_SIZE
 * MAX_TU_SIZE ];

2172 
DoubÀ
 
	gpdCo°C€ff0
[ 
MAX_TU_SIZE
 * MAX_TU_SIZE ];

2173 
mem£t
–
pdCo°C€ff
, 0, (
DoubÀ
Ë* 
uiMaxNumC€ff
 );

2174 
mem£t
–
pdCo°Sig
, 0, (
DoubÀ
Ë* 
uiMaxNumC€ff
 );

2175 
I¡
 
	gøãIncUp
 [ 
MAX_TU_SIZE
 * MAX_TU_SIZE ];

2176 
I¡
 
	gøãIncDown
 [ 
MAX_TU_SIZE
 * MAX_TU_SIZE ];

2177 
I¡
 
	gsigR©eDñè
[ 
MAX_TU_SIZE
 * MAX_TU_SIZE ];

2178 
TC€ff
 
	gdñèU
 [ 
MAX_TU_SIZE
 * MAX_TU_SIZE ];

2179 
mem£t
–
øãIncUp
, 0, (
I¡
 ) * 
uiMaxNumC€ff
 );

2180 
mem£t
–
øãIncDown
, 0, (
I¡
 ) * 
uiMaxNumC€ff
 );

2181 
mem£t
–
sigR©eDñè
, 0, (
I¡
 ) * 
uiMaxNumC€ff
 );

2182 
mem£t
–
dñèU
, 0, (
TC€ff
Ë* 
uiMaxNumC€ff
 );

2184 c⁄° 
I¡
 
	giQBôs
 = 
QUANT_SHIFT
 + 
cQP
.
≥r
 + 
iTønsf‹mShi·
;

2185 c⁄° 
DoubÀ
 *c⁄° 
	gpdEºSˇÀ
 = 
gëEºSˇÀC€ff
(
sˇlögLi°Ty≥
, (
uiLog2TrSize
-2), 
cQP
.
ªm
);

2186 c⁄° 
I¡
 *c⁄° 
	gpiQC€f
 = 
gëQu™tC€ff
(
sˇlögLi°Ty≥
, 
cQP
.
ªm
, (
uiLog2TrSize
-2));

2188 c⁄° 
Boﬁ
 
	gíabÀSˇlögLi°s
 = 
gëU£SˇlögLi°
(
uiWidth
, 
uiHeight
, (
pcCU
->
gëTønsf‹mSkù
(
uiAbsP¨tIdx
, 
compID
) != 0));

2189 c⁄° 
I¡
 
	gdeÁu…Qu™tißti⁄C€fficõ¡
 = 
g_qu™tSˇÀs
[
cQP
.
ªm
];

2190 c⁄° 
DoubÀ
 
	gdeÁu…Eº‹SˇÀ
 = 
gëEºSˇÀC€ffNoSˇlögLi°
(
sˇlögLi°Ty≥
, (
uiLog2TrSize
-2), 
cQP
.
ªm
);

2192 c⁄° 
TC€ff
 
	gíå›yCodögMöimum
 = -(1 << 
maxLog2TrDy«micR™ge
);

2193 c⁄° 
TC€ff
 
	gíå›yCodögMaximum
 = (1 << 
maxLog2TrDy«micR™ge
) - 1;

2195 #i‡
ADAPTIVE_QP_SELECTION


2196 
I¡
 
	giQBôsC
 = 
iQBôs
 - 
ARL_C_PRECISION
;

2197 
I¡
 
	giAddC
 = 1 << (
iQBôsC
-1);

2200 
TUE¡r›yCodögP¨amëîs
 
	gcodögP¨amëîs
;

2201 
gëTUE¡r›yCodögP¨amëîs
(
codögP¨amëîs
, 
rTu
, 
compID
);

2202 c⁄° 
UI¡
 
	guiCGSize
 = (1 << 
MLS_CG_SIZE
);

2204 
DoubÀ
 
	gpdCo°C€ffGroupSig
[ 
MLS_GRP_NUM
 ];

2205 
UI¡
 
	guiSigC€ffGroupFœg
[ 
MLS_GRP_NUM
 ];

2206 
I¡
 
	giCGLa°SˇnPos
 = -1;

2208 
UI¡
 
	guiCtxSë
 = 0;

2209 
I¡
 
	gc1
 = 1;

2210 
I¡
 
	gc2
 = 0;

2211 
DoubÀ
 
	gd64Ba£Co°
 = 0;

2212 
I¡
 
	giLa°SˇnPos
 = -1;

2214 
UI¡
 
	gc1Idx
 = 0;

2215 
UI¡
 
	gc2Idx
 = 0;

2216 
I¡
 
	gba£Levñ
;

2218 
mem£t
–
pdCo°C€ffGroupSig
, 0, (
DoubÀ
Ë* 
MLS_GRP_NUM
 );

2219 
mem£t
–
uiSigC€ffGroupFœg
, 0, (
UI¡
Ë* 
MLS_GRP_NUM
 );

2221 
UI¡
 
	guiCGNum
 = 
uiWidth
 * 
uiHeight
 >> 
MLS_CG_SIZE
;

2222 
I¡
 
	giSˇnPos
;

2223 
c€ffGroupRDSèts
 
	grdSèts
;

2225 c⁄° 
UI¡
 
	gsignifiˇn˚M≠C⁄ãxtOff£t
 = 
gëSignifiˇn˚M≠C⁄ãxtOff£t
(
compID
);

2227 
I¡
 
	giCGSˇnPos
 = 
uiCGNum
-1; iCGScanPos >= 0; iCGScanPos--)

2229 
UI¡
 
	guiCGBlkPos
 = 
codögP¨amëîs
.
sˇnCG
[ 
iCGSˇnPos
 ];

2230 
UI¡
 
	guiCGPosY
 = 
uiCGBlkPos
 / 
codögP¨amëîs
.
widthInGroups
;

2231 
UI¡
 
	guiCGPosX
 = 
uiCGBlkPos
 - (
uiCGPosY
 * 
codögP¨amëîs
.
widthInGroups
);

2233 
mem£t
–&
rdSèts
, 0,  (
c€ffGroupRDSèts
));

2235 c⁄° 
I¡
 
	g∑âînSigCtx
 = 
TComTrQu™t
::
ˇlcP©ã∫SigCtx
(
uiSigC€ffGroupFœg
, 
uiCGPosX
, 
uiCGPosY
, 
codögP¨amëîs
.
widthInGroups
, codögP¨amëîs.
heightInGroups
);

2237 
I¡
 
	giSˇnPosöCG
 = 
uiCGSize
-1; iScanPosinCG >= 0; iScanPosinCG--)

2239 
	giSˇnPos
 = 
iCGSˇnPos
*
uiCGSize
 + 
iSˇnPosöCG
;

2241 
UI¡
 
	guiBlkPos
 = 
codögP¨amëîs
.
sˇn
[
iSˇnPos
];

2244 c⁄° 
I¡
 
	gqu™tißti⁄C€fficõ¡
 = (
íabÀSˇlögLi°s
Ë? 
piQC€f
 [
uiBlkPos
] : 
deÁu…Qu™tißti⁄C€fficõ¡
;

2245 c⁄° 
DoubÀ
 
	gîr‹SˇÀ
 = (
íabÀSˇlögLi°s
Ë? 
pdEºSˇÀ
[
uiBlkPos
] : 
deÁu…Eº‹SˇÀ
;

2247 c⁄° 
I¡64
 
	gtmpLevñ
 = I¡64(
abs
(
∂SrcC€ff
[ 
uiBlkPos
 ])Ë* 
qu™tißti⁄C€fficõ¡
;

2249 c⁄° 
I¡îmedüã_I¡
 
	glLevñDoubÀ
 = (I¡îmedüã_I¡)
mö
<
I¡64
>(
tmpLevñ
, 
	g°d
::
numîic_limôs
<I¡îmedüã_I¡>::
max
(Ë- (I¡îmedüã_I¡(1Ë<< (
iQBôs
 - 1)));

2251 #i‡
ADAPTIVE_QP_SELECTION


2252 if–
	gm_bU£Ad≠tQpSñe˘
 )

2254 
	gpiAæD°C€ff
[
uiBlkPos
] = (
TC€ff
)(–
lLevñDoubÀ
 + 
iAddC
Ë>> 
iQBôsC
 );

2257 c⁄° 
UI¡
 
	guiMaxAbsLevñ
 = 
°d
::
mö
<UI¡>(UI¡(
íå›yCodögMaximum
), UI¡((
lLevñDoubÀ
 + (
I¡îmedüã_I¡
(1Ë<< (
iQBôs
 - 1))) >> iQBits));

2259 c⁄° 
DoubÀ
 
	gdEº
 = DoubÀ–
lLevñDoubÀ
 );

2260 
	gpdCo°C€ff0
[ 
iSˇnPos
 ] = 
dEº
 * dEº * 
îr‹SˇÀ
;

2261 
	gd64BlockUncodedCo°
 +
pdCo°C€ff0
[ 
iSˇnPos
 ];

2262 
	gpiD°C€ff
[ 
uiBlkPos
 ] = 
uiMaxAbsLevñ
;

2264 i‡–
	guiMaxAbsLevñ
 > 0 && 
	giLa°SˇnPos
 < 0 )

2266 
	giLa°SˇnPos
 = 
iSˇnPos
;

2267 
	guiCtxSë
 = 
gëC⁄ãxtSëIndex
(
compID
, (
iSˇnPos
 >> 
MLS_CG_SIZE
), 0);

2268 
	giCGLa°SˇnPos
 = 
iCGSˇnPos
;

2271 i‡–
	giLa°SˇnPos
 >= 0 )

2274 
UI¡
 
uiLevñ
;

2275 
UI¡
 
	guiO√Ctx
 = (
NUM_ONE_FLAG_CTX_PER_SET
 * 
uiCtxSë
Ë+ 
c1
;

2276 
UI¡
 
	guiAbsCtx
 = (
NUM_ABS_FLAG_CTX_PER_SET
 * 
uiCtxSë
Ë+ 
c2
;

2278 if–
	giSˇnPos
 =
iLa°SˇnPos
 )

2280 
uiLevñ
 = 
xGëCodedLevñ
–
pdCo°C€ff
[ 
iSˇnPos
 ], 
pdCo°C€ff0
[ iSˇnPo†], 
pdCo°Sig
[ iScanPos ],

2281 
lLevñDoubÀ
, 
uiMaxAbsLevñ
, 
signifiˇn˚M≠C⁄ãxtOff£t
, 
uiO√Ctx
, 
uiAbsCtx
, 
uiGoRi˚P¨am
,

2282 
c1Idx
, 
c2Idx
, 
iQBôs
, 
îr‹SˇÀ
, 1, 
exãndedPªcisi⁄
, 
maxLog2TrDy«micR™ge


2287 
USh‹t
 
	guiCtxSig
 = 
signifiˇn˚M≠C⁄ãxtOff£t
 + 
gëSigCtxInc
–
∑âînSigCtx
, 
codögP¨amëîs
, 
iSˇnPos
, 
uiLog2BlockWidth
, 
uiLog2BlockHeight
, 
ch™√lTy≥
 );

2289 
	guiLevñ
 = 
xGëCodedLevñ
–
pdCo°C€ff
[ 
iSˇnPos
 ], 
pdCo°C€ff0
[ iSˇnPo†], 
pdCo°Sig
[ iScanPos ],

2290 
lLevñDoubÀ
, 
uiMaxAbsLevñ
, 
uiCtxSig
, 
uiO√Ctx
, 
uiAbsCtx
, 
uiGoRi˚P¨am
,

2291 
c1Idx
, 
c2Idx
, 
iQBôs
, 
îr‹SˇÀ
, 0, 
exãndedPªcisi⁄
, 
maxLog2TrDy«micR™ge


2294 
	gsigR©eDñè
[ 
uiBlkPos
 ] = 
m_pcE°BôsSbac
->
signifiˇ¡Bôs
[ 
uiCtxSig
 ][ 1 ] - m_pcEstBitsSbac->significantBits[ uiCtxSig ][ 0 ];

2297 
	gdñèU
[ 
uiBlkPos
 ] = 
TC€ff
((
lLevñDoubÀ
 - (
I¡îmedüã_I¡
(
uiLevñ
Ë<< 
iQBôs
)) >> (iQBits-8));

2299 if–
	guiLevñ
 > 0 )

2301 
I¡
 
	gøãNow
 = 
xGëICR©e
–
uiLevñ
, 
uiO√Ctx
, 
uiAbsCtx
, 
uiGoRi˚P¨am
, 
c1Idx
, 
c2Idx
, 
exãndedPªcisi⁄
, 
maxLog2TrDy«micR™ge
 );

2302 
	gøãIncUp
 [ 
uiBlkPos
 ] = 
xGëICR©e
–
uiLevñ
+1, 
uiO√Ctx
, 
uiAbsCtx
, 
uiGoRi˚P¨am
, 
c1Idx
, 
c2Idx
, 
exãndedPªcisi⁄
, 
maxLog2TrDy«micR™ge
 ) - 
	gøãNow
;

2303 
	gøãIncDown
 [ 
uiBlkPos
 ] = 
xGëICR©e
–
uiLevñ
-1, 
uiO√Ctx
, 
uiAbsCtx
, 
uiGoRi˚P¨am
, 
c1Idx
, 
c2Idx
, 
exãndedPªcisi⁄
, 
maxLog2TrDy«micR™ge
 ) - 
	gøãNow
;

2307 
	gøãIncUp
 [ 
uiBlkPos
 ] = 
m_pcE°BôsSbac
->
m_gª©îO√Bôs
[ 
uiO√Ctx
 ][ 0 ];

2309 
	gpiD°C€ff
[ 
uiBlkPos
 ] = 
uiLevñ
;

2310 
	gd64Ba£Co°
 +
pdCo°C€ff
 [ 
iSˇnPos
 ];

2312 
	gba£Levñ
 = (
c1Idx
 < 
C1FLAG_NUMBER
Ë? (2 + (
c2Idx
 < 
C2FLAG_NUMBER
)) : 1;

2313 if–
	guiLevñ
 >
ba£Levñ
 )

2315 i‡(
uiLevñ
 > 3*(1<<
uiGoRi˚P¨am
))

2317 
uiGoRi˚P¨am
 = 
bU£GﬁombRi˚P¨amëîAd≠èti⁄
 ? (uiGoRi˚P¨am + 1Ë: (
°d
::
mö
<
UI¡
>((uiGoRiceParam + 1), 4));

2320 i‡–
	guiLevñ
 >= 1)

2322 
c1Idx
 ++;

2326 if–
	guiLevñ
 > 1 )

2328 
	gc1
 = 0;

2329 
	gc2
 +(
c2
 < 2);

2330 
	gc2Idx
 ++;

2332 if–(
	gc1
 < 3Ë&& (c1 > 0Ë&& 
	guiLevñ
)

2334 
	gc1
++;

2338 if––
	giSˇnPos
 % 
	guiCGSize
 =0 ) && ( 
iSˇnPos
 > 0 ) )

2340 
uiCtxSë
 = 
gëC⁄ãxtSëIndex
(
compID
, ((
iSˇnPos
 - 1Ë>> 
MLS_CG_SIZE
), (
c1
 == 0));

2341 
	gc1
 = 1;

2342 
	gc2
 = 0;

2343 
	gc1Idx
 = 0;

2344 
	gc2Idx
 = 0;

2345 
	guiGoRi˚P¨am
 = 
öôülGﬁombRi˚P¨amëî
;

2350 
	gd64Ba£Co°
 +
pdCo°C€ff0
[ 
iSˇnPos
 ];

2352 
	grdSèts
.
	gd64SigCo°
 +
pdCo°Sig
[ 
iSˇnPos
 ];

2353 i‡(
	giSˇnPosöCG
 == 0 )

2355 
rdSèts
.
d64SigCo°_0
 = 
pdCo°Sig
[ 
iSˇnPos
 ];

2357 i‡(
	gpiD°C€ff
[ 
uiBlkPos
 ] )

2359 
	guiSigC€ffGroupFœg
[ 
uiCGBlkPos
 ] = 1;

2360 
	grdSèts
.
	gd64CodedLevñ™dDi°
 +
pdCo°C€ff
[ 
iSˇnPos
 ] - 
pdCo°Sig
[ iScanPos ];

2361 
	grdSèts
.
	gd64UncodedDi°
 +
pdCo°C€ff0
[ 
iSˇnPos
 ];

2362 i‡–
	giSˇnPosöCG
 != 0 )

2364 
rdSèts
.
iNNZbef‹ePos0
++;

2369 i‡(
	giCGLa°SˇnPos
 >= 0)

2371 if–
iCGSˇnPos
 )

2373 i‡(
uiSigC€ffGroupFœg
[ 
uiCGBlkPos
 ] == 0)

2375 
UI¡
 
uiCtxSig
 = 
gëSigC€ffGroupCtxInc
–
uiSigC€ffGroupFœg
, 
uiCGPosX
, 
uiCGPosY
, 
codögP¨amëîs
.
widthInGroups
, codögP¨amëîs.
heightInGroups
 );

2376 
	gd64Ba£Co°
 +
xGëR©eSigC€ffGroup
(0, 
uiCtxSig
Ë- 
	grdSèts
.
	gd64SigCo°
;;

2377 
	gpdCo°C€ffGroupSig
[ 
iCGSˇnPos
 ] = 
xGëR©eSigC€ffGroup
(0, 
uiCtxSig
);

2381 i‡(
	giCGSˇnPos
 < 
	giCGLa°SˇnPos
)

2383 i‡–
	grdSèts
.
	giNNZbef‹ePos0
 == 0 )

2385 
d64Ba£Co°
 -
rdSèts
.
d64SigCo°_0
;

2386 
	grdSèts
.
	gd64SigCo°
 -
rdSèts
.
d64SigCo°_0
;

2389 
DoubÀ
 
	gd64Co°ZîoCG
 = 
d64Ba£Co°
;

2392 
UI¡
 
	guiCtxSig
 = 
gëSigC€ffGroupCtxInc
–
uiSigC€ffGroupFœg
, 
uiCGPosX
, 
uiCGPosY
, 
codögP¨amëîs
.
widthInGroups
, codögP¨amëîs.
heightInGroups
 );

2394 i‡(
	giCGSˇnPos
 < 
	giCGLa°SˇnPos
)

2396 
	gd64Ba£Co°
 +
xGëR©eSigC€ffGroup
(1, 
uiCtxSig
);

2397 
	gd64Co°ZîoCG
 +
xGëR©eSigC€ffGroup
(0, 
uiCtxSig
);

2398 
	gpdCo°C€ffGroupSig
[ 
iCGSˇnPos
 ] = 
xGëR©eSigC€ffGroup
(1, 
uiCtxSig
);

2402 
	gd64Co°ZîoCG
 +
rdSèts
.
d64UncodedDi°
;

2403 
	gd64Co°ZîoCG
 -
rdSèts
.
d64CodedLevñ™dDi°
;

2404 
	gd64Co°ZîoCG
 -
rdSèts
.
d64SigCo°
;

2407 i‡–
	gd64Co°ZîoCG
 < 
	gd64Ba£Co°
 )

2409 
	guiSigC€ffGroupFœg
[ 
uiCGBlkPos
 ] = 0;

2410 
	gd64Ba£Co°
 = 
d64Co°ZîoCG
;

2411 i‡(
	giCGSˇnPos
 < 
	giCGLa°SˇnPos
)

2413 
	gpdCo°C€ffGroupSig
[ 
iCGSˇnPos
 ] = 
xGëR©eSigC€ffGroup
(0, 
uiCtxSig
);

2416 
I¡
 
	giSˇnPosöCG
 = 
uiCGSize
-1; iScanPosinCG >= 0; iScanPosinCG--)

2418 
	giSˇnPos
 = 
iCGSˇnPos
*
uiCGSize
 + 
iSˇnPosöCG
;

2419 
UI¡
 
	guiBlkPos
 = 
codögP¨amëîs
.
sˇn
[ 
iSˇnPos
 ];

2421 i‡(
	gpiD°C€ff
[ 
uiBlkPos
 ])

2423 
	gpiD°C€ff
 [ 
uiBlkPos
 ] = 0;

2424 
	gpdCo°C€ff
[ 
iSˇnPos
 ] = 
pdCo°C€ff0
[ iScanPos ];

2425 
	gpdCo°Sig
 [ 
iSˇnPos
 ] = 0;

2434 
	guiSigC€ffGroupFœg
[ 
uiCGBlkPos
 ] = 1;

2440 i‡–
	giLa°SˇnPos
 < 0 )

2445 
DoubÀ
 
	gd64Be°Co°
 = 0;

2446 
I¡
 
	gui16CtxCbf
 = 0;

2447 
I¡
 
	giBe°La°IdxP1
 = 0;

2448 if–!
	gpcCU
->
isI¡ø
–
uiAbsP¨tIdx
 ) && 
isLuma
(
compID
Ë&&ÖcCU->
gëTønsf‹mIdx
( uiAbsPartIdx ) == 0 )

2450 
ui16CtxCbf
 = 0;

2451 
	gd64Be°Co°
 = 
d64BlockUncodedCo°
 + 
xGëICo°
–
m_pcE°BôsSbac
->
blockRoŸCbpBôs
[ 
ui16CtxCbf
 ][ 0 ] );

2452 
	gd64Ba£Co°
 +
xGëICo°
–
m_pcE°BôsSbac
->
blockRoŸCbpBôs
[ 
ui16CtxCbf
 ][ 1 ] );

2456 
	gui16CtxCbf
 = 
pcCU
->
gëCtxQtCbf
–
rTu
, 
ch™√lTy≥
 );

2457 
	gui16CtxCbf
 +
gëCBFC⁄ãxtOff£t
(
compID
);

2458 
	gd64Be°Co°
 = 
d64BlockUncodedCo°
 + 
xGëICo°
–
m_pcE°BôsSbac
->
blockCbpBôs
[ 
ui16CtxCbf
 ][ 0 ] );

2459 
	gd64Ba£Co°
 +
xGëICo°
–
m_pcE°BôsSbac
->
blockCbpBôs
[ 
ui16CtxCbf
 ][ 1 ] );

2463 
Boﬁ
 
	gbFoundLa°
 = 
Ál£
;

2464 
I¡
 
	giCGSˇnPos
 = 
iCGLa°SˇnPos
; iCGScanPos >= 0; iCGScanPos--)

2466 
UI¡
 
	guiCGBlkPos
 = 
codögP¨amëîs
.
sˇnCG
[ 
iCGSˇnPos
 ];

2468 
	gd64Ba£Co°
 -
pdCo°C€ffGroupSig
 [ 
iCGSˇnPos
 ];

2469 i‡(
	guiSigC€ffGroupFœg
[ 
uiCGBlkPos
 ])

2471 
I¡
 
	giSˇnPosöCG
 = 
uiCGSize
-1; iScanPosinCG >= 0; iScanPosinCG--)

2473 
	giSˇnPos
 = 
iCGSˇnPos
*
uiCGSize
 + 
iSˇnPosöCG
;

2475 i‡(
	giSˇnPos
 > 
	giLa°SˇnPos
)

2479 
UI¡
 
	guiBlkPos
 = 
codögP¨amëîs
.
sˇn
[
iSˇnPos
];

2481 if–
	gpiD°C€ff
[ 
uiBlkPos
 ] )

2483 
UI¡
 
	guiPosY
 = 
uiBlkPos
 >> 
uiLog2BlockWidth
;

2484 
UI¡
 
	guiPosX
 = 
uiBlkPos
 - ( 
uiPosY
 << 
uiLog2BlockWidth
 );

2486 
DoubÀ
 
	gd64Co°La°

codögP¨amëîs
.
sˇnTy≥
 =
SCAN_VER
 ? 
xGëR©eLa°
–
uiPosY
, 
uiPosX
, 
compID
 ) : xGetRateLast( uiPosX, uiPosY, compID );

2487 
DoubÀ
 
	gtŸÆCo°
 = 
d64Ba£Co°
 + 
d64Co°La°
 - 
pdCo°Sig
[ 
iSˇnPos
 ];

2489 if–
	gtŸÆCo°
 < 
	gd64Be°Co°
 )

2491 
	giBe°La°IdxP1
 = 
iSˇnPos
 + 1;

2492 
	gd64Be°Co°
 = 
tŸÆCo°
;

2494 if–
	gpiD°C€ff
[ 
uiBlkPos
 ] > 1 )

2496 
	gbFoundLa°
 = 
åue
;

2499 
	gd64Ba£Co°
 -
pdCo°C€ff
[ 
iSˇnPos
 ];

2500 
	gd64Ba£Co°
 +
pdCo°C€ff0
[ 
iSˇnPos
 ];

2504 
	gd64Ba£Co°
 -
pdCo°Sig
[ 
iSˇnPos
 ];

2507 i‡(
	gbFoundLa°
)

2515  
I¡
 
	gsˇnPos
 = 0; sˇnPo†< 
	giBe°La°IdxP1
; scanPos++ )

2517 
I¡
 
	gblkPos
 = 
codögP¨amëîs
.
sˇn
[ 
sˇnPos
 ];

2518 
TC€ff
 
	gÀvñ
 = 
piD°C€ff
[ 
blkPos
 ];

2519 
	guiAbsSum
 +
Àvñ
;

2520 
	gpiD°C€ff
[ 
blkPos
 ] = ( 
∂SrcC€ff
[ blkPo†] < 0 ) ? -
Àvñ
 :Üevel;

2524  
I¡
 
	gsˇnPos
 = 
iBe°La°IdxP1
; sˇnPo†<
iLa°SˇnPos
; scanPos++ )

2526 
	gpiD°C€ff
[ 
codögP¨amëîs
.
sˇn
[ 
sˇnPos
 ] ] = 0;

2530 if–
	gpcCU
->
gëSli˚
()->
gëPPS
()->
gëSignD©aHidögE«bÀdFœg
(Ë&& 
	guiAbsSum
>=2)

2532 c⁄° 
DoubÀ
 
övî£Qu™tSˇÀ
 = DoubÀ(
g_övQu™tSˇÀs
[
cQP
.
ªm
]);

2533 
I¡64
 
	grdFa˘‹
 = (I¡64)(
övî£Qu™tSˇÀ
 * invî£Qu™tSˇÀ * (1 << (2 * 
cQP
.
≥r
))

2534 / 
m_dLambda
 / 16 / (1 << (2 * 
DISTORTION_PRECISION_ADJUSTMENT
(
ch™√lBôDïth
 - 8)))

2537 
I¡
 
	gœ°CG
 = -1;

2538 
I¡
 
	gabsSum
 = 0 ;

2539 
I¡
 
	gn
 ;

2541  
I¡
 
	gsubSë
 = (
uiWidth
*
uiHeight
-1Ë>> 
MLS_CG_SIZE
; subSet >= 0; subSet-- )

2543 
I¡
 
	gsubPos
 = 
subSë
 << 
MLS_CG_SIZE
;

2544 
I¡
 
	gfú°NZPosInCG
=
uiCGSize
 , 
	gœ°NZPosInCG
=-1 ;

2545 
	gabsSum
 = 0 ;

2547 
	gn
 = 
uiCGSize
-1;Ç >= 0; --n )

2549 if–
	gpiD°C€ff
[ 
codögP¨amëîs
.
sˇn
[ 
n
 + 
subPos
 ]] )

2551 
	gœ°NZPosInCG
 = 
n
;

2556 
	gn
 = 0;Ç <
	guiCGSize
;Ç++ )

2558 if–
	gpiD°C€ff
[ 
codögP¨amëîs
.
sˇn
[ 
n
 + 
subPos
 ]] )

2560 
	gfú°NZPosInCG
 = 
n
;

2565 
	gn
 = 
fú°NZPosInCG
;Ç <=
œ°NZPosInCG
;Ç++ )

2567 
	gabsSum
 +
I¡
(
piD°C€ff
[ 
codögP¨amëîs
.
sˇn
[ 
n
 + 
subPos
 ]]);

2570 if(
	gœ°NZPosInCG
>=0 && 
œ°CG
==-1)

2572 
œ°CG
 = 1;

2575 if–
	gœ°NZPosInCG
-
	gfú°NZPosInCG
>=
SBH_THRESHOLD
 )

2577 
UI¡
 
signbô
 = (
piD°C€ff
[
codögP¨amëîs
.
sˇn
[
subPos
+
fú°NZPosInCG
]]>0?0:1);

2578 if–
	gsignbô
!=(
absSum
&0x1) )

2581 
I¡64
 
möCo°Inc
 = 
°d
::
numîic_limôs
<I¡64>::
max
(), 
	gcurCo°
 = std::numeric_limits<Int64>::max();

2582 
I¡
 
	gmöPos
 = -1, 
	gföÆCh™ge
 = 0, 
	gcurCh™ge
 = 0;

2584  
	gn
 = (
œ°CG
==1?
œ°NZPosInCG
:
uiCGSize
-1) ;Ç >= 0; --n )

2586 
UI¡
 
	guiBlkPos
 = 
codögP¨amëîs
.
sˇn
[ 
n
 + 
subPos
 ];

2587 if(
	gpiD°C€ff
[ 
uiBlkPos
 ] != 0 )

2589 
I¡64
 
co°Up
 = 
rdFa˘‹
 * ( - 
dñèU
[
uiBlkPos
] ) + 
øãIncUp
[uiBlkPos];

2590 
I¡64
 
	gco°Down
 = 
rdFa˘‹
 * ( 
dñèU
[
uiBlkPos
] ) + 
øãIncDown
[uiBlkPos]

2591 - ((
abs
(
piD°C€ff
[
uiBlkPos
]Ë=1Ë? 
sigR©eDñè
[uiBlkPos] : 0);

2593 if(
	gœ°CG
==1 && 
œ°NZPosInCG
==
n
 && 
abs
(
piD°C€ff
[
uiBlkPos
])==1)

2595 
co°Down
 -= (4<<15);

2598 if(
	gco°Up
<
	gco°Down
)

2600 
	gcurCo°
 = 
co°Up
;

2601 
	gcurCh™ge
 = 1;

2605 
	gcurCh™ge
 = -1;

2606 if(
	gn
==
fú°NZPosInCG
 && 
abs
(
piD°C€ff
[
uiBlkPos
])==1)

2608 
curCo°
 = 
°d
::
numîic_limôs
<
I¡64
>::
max
();

2612 
	gcurCo°
 = 
co°Down
;

2618 
	gcurCo°
 = 
rdFa˘‹
 * ( - (
abs
(
dñèU
[
uiBlkPos
])ËË+ (1<<15Ë+ 
øãIncUp
[uiBlkPos] + 
sigR©eDñè
[uiBlkPos] ;

2619 
	gcurCh™ge
 = 1 ;

2621 if(
	gn
<
	gfú°NZPosInCG
)

2623 
UI¡
 
	gthissignbô
 = (
∂SrcC€ff
[
uiBlkPos
]>=0?0:1);

2624 if(
	gthissignbô
 !
signbô
 )

2626 
curCo°
 = 
°d
::
numîic_limôs
<
I¡64
>::
max
();

2631 if–
	gcurCo°
<
	gmöCo°Inc
)

2633 
	gmöCo°Inc
 = 
curCo°
;

2634 
	gföÆCh™ge
 = 
curCh™ge
;

2635 
	gmöPos
 = 
uiBlkPos
;

2639 if(
	gpiD°C€ff
[
möPos
] =
íå›yCodögMaximum
 || 
piD°C€ff
[möPos] =
íå›yCodögMöimum
)

2641 
föÆCh™ge
 = -1;

2644 if(
	g∂SrcC€ff
[
möPos
]>=0)

2646 
piD°C€ff
[
möPos
] +
föÆCh™ge
 ;

2650 
	gpiD°C€ff
[
möPos
] -
föÆCh™ge
 ;

2655 if(
	gœ°CG
==1)

2657 
œ°CG
=0 ;

2672 
I¡
 
	gTComTrQu™t
::
	$ˇlcP©ã∫SigCtx
–c⁄° 
UI¡
* 
sigC€ffGroupFœg
, UI¡ 
uiCGPosX
, UI¡ 
uiCGPosY
, UI¡ 
widthInGroups
, UI¡ 
heightInGroups
 )

2674 i‡((
widthInGroups
 <1Ë&& (
heightInGroups
 <= 1))

2679 c⁄° 
Boﬁ
 
rightAvaûabÀ
 = 
uiCGPosX
 < (
widthInGroups
 - 1);

2680 c⁄° 
Boﬁ
 
bñowAvaûabÀ
 = 
uiCGPosY
 < (
heightInGroups
 - 1);

2682 
UI¡
 
sigRight
 = 0;

2683 
UI¡
 
sigLowî
 = 0;

2685 i‡(
rightAvaûabÀ
)

2687 
sigRight
 = ((
sigC€ffGroupFœg
[ (
uiCGPosY
 * 
widthInGroups
Ë+ 
uiCGPosX
 + 1 ] != 0) ? 1 : 0);

2689 i‡(
bñowAvaûabÀ
)

2691 
sigLowî
 = ((
sigC€ffGroupFœg
[ (
uiCGPosY
 + 1Ë* 
widthInGroups
 + 
uiCGPosX
 ] != 0) ? 1 : 0);

2694  
sigRight
 + (
sigLowî
 << 1);

2695 
	}
}

2707 
I¡
 
	gTComTrQu™t
::
	$gëSigCtxInc
 ( 
I¡
 
∑âînSigCtx
,

2708 c⁄° 
TUE¡r›yCodögP¨amëîs
 &
codögP¨amëîs
,

2709 c⁄° 
I¡
 
sˇnPosôi⁄
,

2710 c⁄° 
I¡
 
log2BlockWidth
,

2711 c⁄° 
I¡
 
log2BlockHeight
,

2712 c⁄° 
Ch™√lTy≥
 
ch™Ty≥
)

2714 i‡(
codögP¨amëîs
.
fú°Signifiˇn˚M≠C⁄ãxt
 =
signifiˇn˚M≠C⁄ãxtSëSèπ
[
ch™Ty≥
][
CONTEXT_TYPE_SINGLE
])

2717  
signifiˇn˚M≠C⁄ãxtSëSèπ
[
ch™Ty≥
][
CONTEXT_TYPE_SINGLE
];

2720 c⁄° 
UI¡
 
ø°îPosôi⁄
 = 
codögP¨amëîs
.
sˇn
[
sˇnPosôi⁄
];

2721 c⁄° 
UI¡
 
posY
 = 
ø°îPosôi⁄
 >> 
log2BlockWidth
;

2722 c⁄° 
UI¡
 
posX
 = 
ø°îPosôi⁄
 - (
posY
 << 
log2BlockWidth
);

2724 i‡((
posX
 + 
posY
) == 0)

2729 
I¡
 
off£t
 = 
MAX_INT
;

2731 i‡((
log2BlockWidth
 =2Ë&& (
log2BlockHeight
 == 2))

2733 
off£t
 = 
˘xIndM≠4x4
[ (4 * 
posY
Ë+ 
posX
 ];

2737 
I¡
 
˙t
 = 0;

2739 
∑âînSigCtx
)

2745 c⁄° 
I¡
 
posXöSub£t
 = 
posX
 & ((1 << 
MLS_CG_LOG2_WIDTH
) - 1);

2746 c⁄° 
I¡
 
posYöSub£t
 = 
posY
 & ((1 << 
MLS_CG_LOG2_HEIGHT
) - 1);

2747 c⁄° 
I¡
 
posTŸÆInSub£t
 = 
posXöSub£t
 + 
posYöSub£t
;

2750 c⁄° 
UI¡
 
c⁄ãxt1Thªshﬁd
 = 
NEIGHBOURHOOD_00_CONTEXT_1_THRESHOLD_4x4
;

2751 c⁄° 
UI¡
 
c⁄ãxt2Thªshﬁd
 = 
NEIGHBOURHOOD_00_CONTEXT_2_THRESHOLD_4x4
;

2753 
˙t
 = (
posTŸÆInSub£t
 >
c⁄ãxt1Thªshﬁd
Ë? 0 : (’osTŸÆInSub£à>
c⁄ãxt2Thªshﬁd
) ? 1 : 2);

2761 c⁄° 
I¡
 
posYöSub£t
 = 
posY
 & ((1 << 
MLS_CG_LOG2_HEIGHT
) - 1);

2762 c⁄° 
I¡
 
groupHeight
 = 1 << 
MLS_CG_LOG2_HEIGHT
;

2764 
˙t
 = (
posYöSub£t
 >(
groupHeight
 >> 1)) ? 0 : ((posYinSubset >= (groupHeight >> 2)) ? 1 : 2);

2772 c⁄° 
I¡
 
posXöSub£t
 = 
posX
 & ((1 << 
MLS_CG_LOG2_WIDTH
) - 1);

2773 c⁄° 
I¡
 
groupWidth
 = 1 << 
MLS_CG_LOG2_WIDTH
;

2775 
˙t
 = (
posXöSub£t
 >(
groupWidth
 >> 1)) ? 0 : ((posXinSubset >= (groupWidth >> 2)) ? 1 : 2);

2783 
˙t
 = 2;

2790 
°d
::
˚º
 << "ERROR: InvÆidÖ©ã∫SigCtx \"" << 
	`I¡
(
∑âînSigCtx
Ë<< "\" i¿gëSigCtxInc" << std::
ídl
;

2791 
	`exô
(1);

2797 c⁄° 
Boﬁ
 
nŸFú°Group
 = ((
posX
 >> 
MLS_CG_LOG2_WIDTH
Ë+ (
posY
 >> 
MLS_CG_LOG2_HEIGHT
)) > 0;

2799 
off£t
 = (
nŸFú°Group
 ? 
nŸFú°GroupNeighbourhoodC⁄ãxtOff£t
[
ch™Ty≥
] : 0Ë+ 
˙t
;

2802  
codögP¨amëîs
.
fú°Signifiˇn˚M≠C⁄ãxt
 + 
off£t
;

2803 
	}
}

2812 
__ölöe
 
UI¡
 
	gTComTrQu™t
::
	$xGëCodedLevñ
 ( 
DoubÀ
& 
rd64CodedCo°
,

2813 
DoubÀ
& 
rd64CodedCo°0
,

2814 
DoubÀ
& 
rd64CodedCo°Sig
,

2815 
I¡îmedüã_I¡
 
lLevñDoubÀ
,

2816 
UI¡
 
uiMaxAbsLevñ
,

2817 
USh‹t
 
ui16CtxNumSig
,

2818 
USh‹t
 
ui16CtxNumO√
,

2819 
USh‹t
 
ui16CtxNumAbs
,

2820 
USh‹t
 
ui16AbsGoRi˚
,

2821 
UI¡
 
c1Idx
,

2822 
UI¡
 
c2Idx
,

2823 
I¡
 
iQBôs
,

2824 
DoubÀ
 
îr‹SˇÀ
,

2825 
Boﬁ
 
bLa°
,

2826 
Boﬁ
 
u£LimôedPªfixLígth
,

2827 c⁄° 
I¡
 
maxLog2TrDy«micR™ge


2830 
DoubÀ
 
dCuºCo°Sig
 = 0;

2831 
UI¡
 
uiBe°AbsLevñ
 = 0;

2833 if–!
bLa°
 && 
uiMaxAbsLevñ
 < 3 )

2835 
rd64CodedCo°Sig
 = 
	`xGëR©eSigC€f
–0, 
ui16CtxNumSig
 );

2836 
rd64CodedCo°
 = 
rd64CodedCo°0
 + 
rd64CodedCo°Sig
;

2837 if–
uiMaxAbsLevñ
 == 0 )

2839  
uiBe°AbsLevñ
;

2844 
rd64CodedCo°
 = 
MAX_DOUBLE
;

2847 if–!
bLa°
 )

2849 
dCuºCo°Sig
 = 
	`xGëR©eSigC€f
–1, 
ui16CtxNumSig
 );

2852 
UI¡
 
uiMöAbsLevñ
 = ( 
uiMaxAbsLevñ
 > 1 ? uiMaxAbsLevel - 1 : 1 );

2853  
I¡
 
uiAbsLevñ
 = 
uiMaxAbsLevñ
; uiAbsLevñ >
uiMöAbsLevñ
 ; uiAbsLevel-- )

2855 
DoubÀ
 
dEº
 = 
	`DoubÀ
–
lLevñDoubÀ
 - ( 
	`I¡îmedüã_I¡
(
uiAbsLevñ
Ë<< 
iQBôs
 ) );

2856 
DoubÀ
 
dCuºCo°
 = 
dEº
 * dEº * 
îr‹SˇÀ
 + 
	`xGëICo°
–
	`xGëICR©e
–
uiAbsLevñ
, 
ui16CtxNumO√
, 
ui16CtxNumAbs
, 
ui16AbsGoRi˚
, 
c1Idx
, 
c2Idx
, 
u£LimôedPªfixLígth
, 
maxLog2TrDy«micR™ge
 ) );

2857 
dCuºCo°
 +
dCuºCo°Sig
;

2859 if–
dCuºCo°
 < 
rd64CodedCo°
 )

2861 
uiBe°AbsLevñ
 = 
uiAbsLevñ
;

2862 
rd64CodedCo°
 = 
dCuºCo°
;

2863 
rd64CodedCo°Sig
 = 
dCuºCo°Sig
;

2867  
uiBe°AbsLevñ
;

2868 
	}
}

2881 
__ölöe
 
I¡
 
	gTComTrQu™t
::
	$xGëICR©e
 ( c⁄° 
UI¡
 
uiAbsLevñ
,

2882 c⁄° 
USh‹t
 
ui16CtxNumO√
,

2883 c⁄° 
USh‹t
 
ui16CtxNumAbs
,

2884 c⁄° 
USh‹t
 
ui16AbsGoRi˚
,

2885 c⁄° 
UI¡
 
c1Idx
,

2886 c⁄° 
UI¡
 
c2Idx
,

2887 c⁄° 
Boﬁ
 
u£LimôedPªfixLígth
,

2888 c⁄° 
I¡
 
maxLog2TrDy«micR™ge


2891 
I¡
 
iR©e
 = 
	`I¡
(
	`xGëIEPR©e
());

2892 
UI¡
 
ba£Levñ
 = (
c1Idx
 < 
C1FLAG_NUMBER
Ë? (2 + (
c2Idx
 < 
C2FLAG_NUMBER
)) : 1;

2894 i‡–
uiAbsLevñ
 >
ba£Levñ
 )

2896 
UI¡
 
symbﬁ
 = 
uiAbsLevñ
 - 
ba£Levñ
;

2897 
UI¡
 
Àngth
;

2898 i‡(
symbﬁ
 < (
COEF_REMAIN_BIN_REDUCTION
 << 
ui16AbsGoRi˚
))

2900 
Àngth
 = 
symbﬁ
>>
ui16AbsGoRi˚
;

2901 
iR©e
 +(
Àngth
+1+
ui16AbsGoRi˚
)<< 15;

2903 i‡(
u£LimôedPªfixLígth
)

2905 c⁄° 
UI¡
 
maximumPªfixLígth
 = (32 - (
COEF_REMAIN_BIN_REDUCTION
 + 
maxLog2TrDy«micR™ge
));

2907 
UI¡
 
¥efixLígth
 = 0;

2908 
UI¡
 
suffix
 = (
symbﬁ
 >> 
ui16AbsGoRi˚
Ë- 
COEF_REMAIN_BIN_REDUCTION
;

2910 (
¥efixLígth
 < 
maximumPªfixLígth
Ë&& (
suffix
 > ((2 <<ÖrefixLength) - 2)))

2912 
¥efixLígth
++;

2915 c⁄° 
UI¡
 
suffixLígth
 = (
¥efixLígth
 =
maximumPªfixLígth
Ë? (
maxLog2TrDy«micR™ge
 - 
ui16AbsGoRi˚
) : (prefixLength + 1 );

2917 
iR©e
 +(
COEF_REMAIN_BIN_REDUCTION
 + 
¥efixLígth
 + 
suffixLígth
 + 
ui16AbsGoRi˚
) << 15;

2921 
Àngth
 = 
ui16AbsGoRi˚
;

2922 
symbﬁ
 = symbﬁ - ( 
COEF_REMAIN_BIN_REDUCTION
 << 
ui16AbsGoRi˚
);

2923 
symbﬁ
 >(1<<
Àngth
))

2925 
symbﬁ
 -(1<<(
Àngth
++));

2927 
iR©e
 +(
COEF_REMAIN_BIN_REDUCTION
+
Àngth
+1-
ui16AbsGoRi˚
+length)<< 15;

2930 i‡(
c1Idx
 < 
C1FLAG_NUMBER
)

2932 
iR©e
 +
m_pcE°BôsSbac
->
m_gª©îO√Bôs
[ 
ui16CtxNumO√
 ][ 1 ];

2934 i‡(
c2Idx
 < 
C2FLAG_NUMBER
)

2936 
iR©e
 +
m_pcE°BôsSbac
->
m_ÀvñAbsBôs
[ 
ui16CtxNumAbs
 ][ 1 ];

2940 if–
uiAbsLevñ
 == 1 )

2942 
iR©e
 +
m_pcE°BôsSbac
->
m_gª©îO√Bôs
[ 
ui16CtxNumO√
 ][ 0 ];

2944 if–
uiAbsLevñ
 == 2 )

2946 
iR©e
 +
m_pcE°BôsSbac
->
m_gª©îO√Bôs
[ 
ui16CtxNumO√
 ][ 1 ];

2947 
iR©e
 +
m_pcE°BôsSbac
->
m_ÀvñAbsBôs
[ 
ui16CtxNumAbs
 ][ 0 ];

2951 
iR©e
 = 0;

2954  
iR©e
;

2955 
	}
}

2957 
__ölöe
 
DoubÀ
 
	gTComTrQu™t
::
	$xGëR©eSigC€ffGroup
 ( 
USh‹t
 
uiSignifiˇn˚C€ffGroup
,

2958 
USh‹t
 
ui16CtxNumSig
 ) const

2960  
	`xGëICo°
–
m_pcE°BôsSbac
->
signifiˇ¡C€ffGroupBôs
[ 
ui16CtxNumSig
 ][ 
uiSignifiˇn˚C€ffGroup
 ] );

2961 
	}
}

2972 
__ölöe
 
DoubÀ
 
	gTComTrQu™t
::
	$xGëR©eLa°
 ( c⁄° 
UI¡
 
uiPosX
,

2973 c⁄° 
UI¡
 
uiPosY
,

2974 c⁄° 
Comp⁄ítID
 
comp⁄ít
 ) const

2976 
UI¡
 
uiCtxX
 = 
g_uiGroupIdx
[
uiPosX
];

2977 
UI¡
 
uiCtxY
 = 
g_uiGroupIdx
[
uiPosY
];

2979 
DoubÀ
 
uiCo°
 = 
m_pcE°BôsSbac
->
œ°XBôs
[
	`toCh™√lTy≥
(
comp⁄ít
)][ 
uiCtxX
 ] + m_pcE°BôsSbac->
œ°YBôs
[toCh™√lTy≥(comp⁄ít)][ 
uiCtxY
 ];

2981 if–
uiCtxX
 > 3 )

2983 
uiCo°
 +
	`xGëIEPR©e
(Ë* ((
uiCtxX
-2)>>1);

2985 if–
uiCtxY
 > 3 )

2987 
uiCo°
 +
	`xGëIEPR©e
(Ë* ((
uiCtxY
-2)>>1);

2989  
	`xGëICo°
–
uiCo°
 );

2990 
	}
}

2992 
__ölöe
 
DoubÀ
 
	gTComTrQu™t
::
	$xGëR©eSigC€f
 ( 
USh‹t
 
uiSignifiˇn˚
,

2993 
USh‹t
 
ui16CtxNumSig
 ) const

2995  
	`xGëICo°
–
m_pcE°BôsSbac
->
signifiˇ¡Bôs
[ 
ui16CtxNumSig
 ][ 
uiSignifiˇn˚
 ] );

2996 
	}
}

3002 
__ölöe
 
DoubÀ
 
	gTComTrQu™t
::
	$xGëICo°
 ( 
DoubÀ
 
dR©e
 ) const

3004  
m_dLambda
 * 
dR©e
;

3005 
	}
}

3010 
__ölöe
 
DoubÀ
 
	gTComTrQu™t
::
	$xGëIEPR©e
 ( ) const

3013 
	}
}

3023 
UI¡
 
	gTComTrQu™t
::
	$gëSigC€ffGroupCtxInc
 (c⁄° 
UI¡
* 
uiSigC€ffGroupFœg
,

3024 c⁄° 
UI¡
 
uiCGPosX
,

3025 c⁄° 
UI¡
 
uiCGPosY
,

3026 c⁄° 
UI¡
 
widthInGroups
,

3027 c⁄° 
UI¡
 
heightInGroups
)

3029 
UI¡
 
sigRight
 = 0;

3030 
UI¡
 
sigLowî
 = 0;

3032 i‡(
uiCGPosX
 < (
widthInGroups
 - 1))

3034 
sigRight
 = ((
uiSigC€ffGroupFœg
[ (
uiCGPosY
 * 
widthInGroups
Ë+ 
uiCGPosX
 + 1 ] != 0) ? 1 : 0);

3036 i‡(
uiCGPosY
 < (
heightInGroups
 - 1))

3038 
sigLowî
 = ((
uiSigC€ffGroupFœg
[ (
uiCGPosY
 + 1Ë* 
widthInGroups
 + 
uiCGPosX
 ] != 0) ? 1 : 0);

3041  ((
sigRight
 + 
sigLowî
) != 0) ? 1 : 0;

3042 
	}
}

3051 
Void
 
	gTComTrQu™t
::
	$£tSˇlögLi°
(
TComSˇlögLi°
 *
sˇlögLi°
, c⁄° 
I¡
 
maxLog2TrDy«micR™ge
[
MAX_NUM_CHANNEL_TYPE
], c⁄° 
BôDïths
 &
bôDïths
)

3053 c⁄° 
I¡
 
möimumQp
 = 0;

3054 c⁄° 
I¡
 
maximumQp
 = 
SCALING_LIST_REM_NUM
;

3056 
UI¡
 
size
 = 0; sizê< 
SCALING_LIST_SIZE_NUM
; size++)

3058 
UI¡
 
li°
 = 0;Üi° < 
SCALING_LIST_NUM
;Üist++)

3060 
I¡
 
qp
 = 
möimumQp
; q∞< 
maximumQp
; qp++)

3062 
	`xSëSˇlögLi°Enc
(
sˇlögLi°
,
li°
,
size
,
qp
);

3063 
	`xSëSˇlögLi°Dec
(*
sˇlögLi°
,
li°
,
size
,
qp
);

3064 
	`£tEºSˇÀC€ff
(
li°
,
size
,
qp
,
maxLog2TrDy«micR™ge
, 
bôDïths
);

3068 
	}
}

3073 
Void
 
	gTComTrQu™t
::
	$£tSˇlögLi°Dec
(c⁄° 
TComSˇlögLi°
 &
sˇlögLi°
)

3075 c⁄° 
I¡
 
möimumQp
 = 0;

3076 c⁄° 
I¡
 
maximumQp
 = 
SCALING_LIST_REM_NUM
;

3078 
UI¡
 
size
 = 0; sizê< 
SCALING_LIST_SIZE_NUM
; size++)

3080 
UI¡
 
li°
 = 0;Üi° < 
SCALING_LIST_NUM
;Üist++)

3082 
I¡
 
qp
 = 
möimumQp
; q∞< 
maximumQp
; qp++)

3084 
	`xSëSˇlögLi°Dec
(
sˇlögLi°
,
li°
,
size
,
qp
);

3088 
	}
}

3096 
Void
 
	gTComTrQu™t
::
	$£tEºSˇÀC€ff
(
UI¡
 
li°
, UI¡ 
size
, 
I¡
 
qp
, c⁄° I¡ 
maxLog2TrDy«micR™ge
[
MAX_NUM_CHANNEL_TYPE
], c⁄° 
BôDïths
 &
bôDïths
)

3098 c⁄° 
UI¡
 
uiLog2TrSize
 = 
g_aucC⁄vîtToBô
[ 
g_sˇlögLi°SizeX
[
size
] ] + 2;

3099 c⁄° 
Ch™√lTy≥
 
ch™√lTy≥
 = ((
li°
 =0Ë|| (li° =
MAX_NUM_COMPONENT
)Ë? 
CHANNEL_TYPE_LUMA
 : 
CHANNEL_TYPE_CHROMA
;

3101 c⁄° 
I¡
 
ch™√lBôDïth
 = 
bôDïths
.
ªc⁄
[
ch™√lTy≥
];

3102 c⁄° 
I¡
 
iTønsf‹mShi·
 = 
	`gëTønsf‹mShi·
(
ch™√lBôDïth
, 
uiLog2TrSize
, 
maxLog2TrDy«micR™ge
[
ch™√lTy≥
]);

3104 
UI¡
 
i
,
uiMaxNumC€ff
 = 
g_sˇlögLi°Size
[
size
];

3105 
I¡
 *
piQu™tc€ff
;

3106 
DoubÀ
 *
pdEºSˇÀ
;

3107 
piQu™tc€ff
 = 
	`gëQu™tC€ff
(
li°
, 
qp
,
size
);

3108 
pdEºSˇÀ
 = 
	`gëEºSˇÀC€ff
(
li°
, 
size
, 
qp
);

3110 
DoubÀ
 
dEºSˇÀ
 = (DoubÀ)(1<<
SCALE_BITS
);

3111 
dEºSˇÀ
 = dEºSˇÀ*
	`pow
(2.0,(-2.0*
iTønsf‹mShi·
));

3113 
i
=0;i<
uiMaxNumC€ff
;i++)

3115 
pdEºSˇÀ
[
i
] = 
dEºSˇÀ
 / 
piQu™tc€ff
[i] /ÖiQu™tc€ff[i] / (1 << 
	`DISTORTION_PRECISION_ADJUSTMENT
(2 * (
bôDïths
.
ªc⁄
[
ch™√lTy≥
] - 8)));

3118 
	`gëEºSˇÀC€ffNoSˇlögLi°
(
li°
, 
size
, 
qp
Ë
dEºSˇÀ
 / 
g_qu™tSˇÀs
[qp] / g_qu™tSˇÀs[qp] / (1 << 
	`DISTORTION_PRECISION_ADJUSTMENT
(2 * (
bôDïths
.
ªc⁄
[
ch™√lTy≥
] - 8)));

3119 
	}
}

3128 
Void
 
	gTComTrQu™t
::
	$xSëSˇlögLi°Enc
(
TComSˇlögLi°
 *
sˇlögLi°
, 
UI¡
 
li°Id
, UI¡ 
sizeId
, 
I¡
 
qp
)

3130 
UI¡
 
width
 = 
g_sˇlögLi°SizeX
[
sizeId
];

3131 
UI¡
 
height
 = 
g_sˇlögLi°SizeX
[
sizeId
];

3132 
UI¡
 
øtio
 = 
g_sˇlögLi°SizeX
[
sizeId
]/
	`mö
(
MAX_MATRIX_SIZE_NUM
,(
I¡
)g_scalingListSizeX[sizeId]);

3133 
I¡
 *
qu™tc€ff
;

3134 
I¡
 *
c€ff
 = 
sˇlögLi°
->
	`gëSˇlögLi°Addªss
(
sizeId
,
li°Id
);

3135 
qu™tc€ff
 = 
	`gëQu™tC€ff
(
li°Id
, 
qp
, 
sizeId
);

3137 
I¡
 
qu™tSˇÀs
 = 
g_qu™tSˇÀs
[
qp
];

3139 
	`¥o˚ssSˇlögLi°Enc
(
c€ff
,

3140 
qu™tc€ff
,

3141 (
qu™tSˇÀs
 << 
LOG2_SCALING_LIST_NEUTRAL_VALUE
),

3142 
height
, 
width
, 
øtio
,

3143 
	`mö
(
MAX_MATRIX_SIZE_NUM
, (
I¡
)
g_sˇlögLi°SizeX
[
sizeId
]),

3144 
sˇlögLi°
->
	`gëSˇlögLi°DC
(
sizeId
,
li°Id
));

3145 
	}
}

3154 
Void
 
	gTComTrQu™t
::
	$xSëSˇlögLi°Dec
(c⁄° 
TComSˇlögLi°
 &
sˇlögLi°
, 
UI¡
 
li°Id
, UI¡ 
sizeId
, 
I¡
 
qp
)

3156 
UI¡
 
width
 = 
g_sˇlögLi°SizeX
[
sizeId
];

3157 
UI¡
 
height
 = 
g_sˇlögLi°SizeX
[
sizeId
];

3158 
UI¡
 
øtio
 = 
g_sˇlögLi°SizeX
[
sizeId
]/
	`mö
(
MAX_MATRIX_SIZE_NUM
,(
I¡
)g_scalingListSizeX[sizeId]);

3159 
I¡
 *
dequ™tc€ff
;

3160 c⁄° 
I¡
 *
c€ff
 = 
sˇlögLi°
.
	`gëSˇlögLi°Addªss
(
sizeId
,
li°Id
);

3162 
dequ™tc€ff
 = 
	`gëDequ™tC€ff
(
li°Id
, 
qp
, 
sizeId
);

3164 
I¡
 
övQu™tSˇÀ
 = 
g_övQu™tSˇÀs
[
qp
];

3166 
	`¥o˚ssSˇlögLi°Dec
(
c€ff
,

3167 
dequ™tc€ff
,

3168 
övQu™tSˇÀ
,

3169 
height
, 
width
, 
øtio
,

3170 
	`mö
(
MAX_MATRIX_SIZE_NUM
, (
I¡
)
g_sˇlögLi°SizeX
[
sizeId
]),

3171 
sˇlögLi°
.
	`gëSˇlögLi°DC
(
sizeId
,
li°Id
));

3172 
	}
}

3176 
Void
 
	gTComTrQu™t
::
	$£tFœtSˇlögLi°
(c⁄° 
I¡
 
maxLog2TrDy«micR™ge
[
MAX_NUM_CHANNEL_TYPE
], c⁄° 
BôDïths
 &
bôDïths
)

3178 c⁄° 
I¡
 
möimumQp
 = 0;

3179 c⁄° 
I¡
 
maximumQp
 = 
SCALING_LIST_REM_NUM
;

3181 
UI¡
 
size
 = 0; sizê< 
SCALING_LIST_SIZE_NUM
; size++)

3183 
UI¡
 
li°
 = 0;Üi° < 
SCALING_LIST_NUM
;Üist++)

3185 
I¡
 
qp
 = 
möimumQp
; q∞< 
maximumQp
; qp++)

3187 
	`x£tFœtSˇlögLi°
(
li°
,
size
,
qp
);

3188 
	`£tEºSˇÀC€ff
(
li°
,
size
,
qp
,
maxLog2TrDy«micR™ge
, 
bôDïths
);

3192 
	}
}

3200 
Void
 
	gTComTrQu™t
::
	$x£tFœtSˇlögLi°
(
UI¡
 
li°
, UI¡ 
size
, 
I¡
 
qp
)

3202 
UI¡
 
i
,
num
 = 
g_sˇlögLi°Size
[
size
];

3203 
I¡
 *
qu™tc€ff
;

3204 
I¡
 *
dequ™tc€ff
;

3206 
I¡
 
qu™tSˇÀs
 = 
g_qu™tSˇÀs
 [
qp
];

3207 
I¡
 
övQu™tSˇÀs
 = 
g_övQu™tSˇÀs
[
qp
] << 4;

3209 
qu™tc€ff
 = 
	`gëQu™tC€ff
(
li°
, 
qp
, 
size
);

3210 
dequ™tc€ff
 = 
	`gëDequ™tC€ff
(
li°
, 
qp
, 
size
);

3212 
i
=0;i<
num
;i++)

3214 *
qu™tc€ff
++ = 
qu™tSˇÀs
;

3215 *
dequ™tc€ff
++ = 
övQu™tSˇÀs
;

3217 
	}
}

3229 
Void
 
	gTComTrQu™t
::
	$¥o˚ssSˇlögLi°Enc
–
I¡
 *
c€ff
, I¡ *
qu™tc€ff
, I¡ 
qu™tSˇÀs
, 
UI¡
 
height
, UI¡ 
width
, UI¡ 
øtio
, I¡ 
sizuNum
, UI¡ 
dc
)

3231 
UI¡
 
j
=0;j<
height
;j++)

3233 
UI¡
 
i
=0;i<
width
;i++)

3235 
qu™tc€ff
[
j
*
width
 + 
i
] = 
qu™tSˇÀs
 / 
c€ff
[
sizuNum
 * (j / 
øtio
) + i /Ñatio];

3239 if(
øtio
 > 1)

3241 
qu™tc€ff
[0] = 
qu™tSˇÀs
 / 
dc
;

3243 
	}
}

3255 
Void
 
	gTComTrQu™t
::
	$¥o˚ssSˇlögLi°Dec
–c⁄° 
I¡
 *
c€ff
, I¡ *
dequ™tc€ff
, I¡ 
övQu™tSˇÀs
, 
UI¡
 
height
, UI¡ 
width
, UI¡ 
øtio
, I¡ 
sizuNum
, UI¡ 
dc
)

3257 
UI¡
 
j
=0;j<
height
;j++)

3259 
UI¡
 
i
=0;i<
width
;i++)

3261 
dequ™tc€ff
[
j
*
width
 + 
i
] = 
övQu™tSˇÀs
 * 
c€ff
[
sizuNum
 * (j / 
øtio
) + i /Ñatio];

3265 if(
øtio
 > 1)

3267 
dequ™tc€ff
[0] = 
övQu™tSˇÀs
 * 
dc
;

3269 
	}
}

3273 
Void
 
	gTComTrQu™t
::
	$öôSˇlögLi°
()

3275 
UI¡
 
sizeId
 = 0; sizeId < 
SCALING_LIST_SIZE_NUM
; sizeId++)

3277 
UI¡
 
qp
 = 0; q∞< 
SCALING_LIST_REM_NUM
; qp++)

3279 
UI¡
 
li°Id
 = 0;Üi°Id < 
SCALING_LIST_NUM
;ÜistId++)

3281 
m_qu™tC€f
 [
sizeId
][
li°Id
][
qp
] = 
√w
 
I¡
 [
g_sˇlögLi°Size
[sizeId]];

3282 
m_dequ™tC€f
 [
sizeId
][
li°Id
][
qp
] = 
√w
 
I¡
 [
g_sˇlögLi°Size
[sizeId]];

3283 
m_îrSˇÀ
 [
sizeId
][
li°Id
][
qp
] = 
√w
 
DoubÀ
 [
g_sˇlögLi°Size
[sizeId]];

3287 
	}
}

3291 
Void
 
	gTComTrQu™t
::
	$de°roySˇlögLi°
()

3293 
UI¡
 
sizeId
 = 0; sizeId < 
SCALING_LIST_SIZE_NUM
; sizeId++)

3295 
UI¡
 
li°Id
 = 0;Üi°Id < 
SCALING_LIST_NUM
;ÜistId++)

3297 
UI¡
 
qp
 = 0; q∞< 
SCALING_LIST_REM_NUM
; qp++)

3299 if(
m_qu™tC€f
[
sizeId
][
li°Id
][
qp
])

3301 
dñëe
 [] 
m_qu™tC€f
[
sizeId
][
li°Id
][
qp
];

3303 if(
m_dequ™tC€f
[
sizeId
][
li°Id
][
qp
])

3305 
dñëe
 [] 
m_dequ™tC€f
[
sizeId
][
li°Id
][
qp
];

3307 if(
m_îrSˇÀ
[
sizeId
][
li°Id
][
qp
])

3309 
dñëe
 [] 
m_îrSˇÀ
[
sizeId
][
li°Id
][
qp
];

3314 
	}
}

3316 
Void
 
	gTComTrQu™t
::
	$å™sf‹mSkùQu™tO√Sam∂e
(
TComTU
 &
rTu
, c⁄° 
Comp⁄ítID
 
compID
, c⁄° 
TC€ff
 
ªsiDiff
, TC€ff* 
pcC€ff
, c⁄° 
UI¡
 
uiPos
, c⁄° 
QpP¨am
 &
cQP
, c⁄° 
Boﬁ
 
bU£HÆfRoundögPoöt
)

3318 
TComD©aCU
 *
pcCU
 = 
rTu
.
	`gëCU
();

3319 c⁄° 
UI¡
 
uiAbsP¨tIdx
 = 
rTu
.
	`GëAbsP¨tIdxTU
();

3320 c⁄° 
TComRe˘™gÀ
 &
ª˘
 = 
rTu
.
	`gëRe˘
(
compID
);

3321 c⁄° 
UI¡
 
uiWidth
 = 
ª˘
.
width
;

3322 c⁄° 
UI¡
 
uiHeight
 = 
ª˘
.
height
;

3323 c⁄° 
I¡
 
maxLog2TrDy«micR™ge
 = 
pcCU
->
	`gëSli˚
()->
	`gëSPS
()->
	`gëMaxLog2TrDy«micR™ge
(
	`toCh™√lTy≥
(
compID
));

3324 c⁄° 
I¡
 
ch™√lBôDïth
 = 
pcCU
->
	`gëSli˚
()->
	`gëSPS
()->
	`gëBôDïth
(
	`toCh™√lTy≥
(
compID
));

3325 c⁄° 
I¡
 
iTønsf‹mShi·
 = 
	`gëTønsf‹mShi·
(
ch™√lBôDïth
, 
rTu
.
	`GëEquivÆítLog2TrSize
(
compID
), 
maxLog2TrDy«micR™ge
);

3326 c⁄° 
I¡
 
sˇlögLi°Ty≥
 = 
	`gëSˇlögLi°Ty≥
(
pcCU
->
	`gëPªdi˘i⁄Mode
(
uiAbsP¨tIdx
), 
compID
);

3327 c⁄° 
Boﬁ
 
íabÀSˇlögLi°s
 = 
	`gëU£SˇlögLi°
(
uiWidth
, 
uiHeight
, 
åue
);

3328 c⁄° 
I¡
 
deÁu…Qu™tißti⁄C€fficõ¡
 = 
g_qu™tSˇÀs
[
cQP
.
ªm
];

3330 
	`as£π
–
sˇlögLi°Ty≥
 < 
SCALING_LIST_NUM
 );

3331 c⁄° 
I¡
 *c⁄° 
piQu™tC€ff
 = 
	`gëQu™tC€ff
–
sˇlögLi°Ty≥
, 
cQP
.
ªm
, (
rTu
.
	`GëEquivÆítLog2TrSize
(
compID
)-2) );

3340 c⁄° 
I¡
 
iQBôs
 = 
QUANT_SHIFT
 + 
cQP
.
≥r
 + 
iTønsf‹mShi·
;

3343 c⁄° 
I¡
 
iAdd
 = ( 
bU£HÆfRoundögPoöt
 ? 256 : (
pcCU
->
	`gëSli˚
()->
	`gëSli˚Ty≥
(Ë=
I_SLICE
 ? 171 : 85ËË<< (
iQBôs
 - 9);

3345 
TC€ff
 
å™sf‹medC€fficõ¡
;

3348 i‡(
iTønsf‹mShi·
 >= 0)

3350 
å™sf‹medC€fficõ¡
 = 
ªsiDiff
 << 
iTønsf‹mShi·
;

3354 c⁄° 
I¡
 
iTrShi·Neg
 = -
iTønsf‹mShi·
;

3355 c⁄° 
I¡
 
off£t
 = 1 << (
iTrShi·Neg
 - 1);

3356 
å™sf‹medC€fficõ¡
 = ( 
ªsiDiff
 + 
off£t
 ) >> 
iTrShi·Neg
;

3360 c⁄° 
TC€ff
 
iSign
 = (
å™sf‹medC€fficõ¡
 < 0 ? -1: 1);

3362 c⁄° 
I¡
 
qu™tißti⁄C€fficõ¡
 = 
íabÀSˇlögLi°s
 ? 
piQu™tC€ff
[
uiPos
] : 
deÁu…Qu™tißti⁄C€fficõ¡
;

3364 c⁄° 
I¡64
 
tmpLevñ
 = (I¡64)
	`abs
(
å™sf‹medC€fficõ¡
Ë* 
qu™tißti⁄C€fficõ¡
;

3366 c⁄° 
TC€ff
 
qu™ti£dC€fficõ¡
 = (
	`TC€ff
((
tmpLevñ
 + 
iAdd
 ) >> 
iQBôs
)Ë* 
iSign
;

3368 c⁄° 
TC€ff
 
íå›yCodögMöimum
 = -(1 << 
maxLog2TrDy«micR™ge
);

3369 c⁄° 
TC€ff
 
íå›yCodögMaximum
 = (1 << 
maxLog2TrDy«micR™ge
) - 1;

3370 
pcC€ff
[ 
uiPos
 ] = 
Clù3
<
TC€ff
>–
íå›yCodögMöimum
, 
íå›yCodögMaximum
, 
qu™ti£dC€fficõ¡
 );

3371 
	}
}

3374 
Void
 
	gTComTrQu™t
::
	$övTrSkùDeQu™tO√Sam∂e
–
TComTU
 &
rTu
, 
Comp⁄ítID
 
compID
, 
TC€ff
 
öSam∂e
, 
Pñ
 &
ªc⁄Sam∂e
, c⁄° 
QpP¨am
 &
cQP
, 
UI¡
 
uiPos
 )

3376 
TComD©aCU
 *
pcCU
 = 
rTu
.
	`gëCU
();

3377 c⁄° 
UI¡
 
uiAbsP¨tIdx
 = 
rTu
.
	`GëAbsP¨tIdxTU
();

3378 c⁄° 
TComRe˘™gÀ
 &
ª˘
 = 
rTu
.
	`gëRe˘
(
compID
);

3379 c⁄° 
UI¡
 
uiWidth
 = 
ª˘
.
width
;

3380 c⁄° 
UI¡
 
uiHeight
 = 
ª˘
.
height
;

3381 c⁄° 
I¡
 
QP_≥r
 = 
cQP
.
≥r
;

3382 c⁄° 
I¡
 
QP_ªm
 = 
cQP
.
ªm
;

3383 c⁄° 
I¡
 
maxLog2TrDy«micR™ge
 = 
pcCU
->
	`gëSli˚
()->
	`gëSPS
()->
	`gëMaxLog2TrDy«micR™ge
(
	`toCh™√lTy≥
(
compID
));

3384 #i‡
O0043_BEST_EFFORT_DECODING


3385 c⁄° 
I¡
 
ch™√lBôDïth
 = 
pcCU
->
	`gëSli˚
()->
	`gëSPS
()->
	`gëSåómBôDïth
(
	`toCh™√lTy≥
(
compID
));

3387 c⁄° 
I¡
 
ch™√lBôDïth
 = 
pcCU
->
	`gëSli˚
()->
	`gëSPS
()->
	`gëBôDïth
(
	`toCh™√lTy≥
(
compID
));

3389 c⁄° 
I¡
 
iTønsf‹mShi·
 = 
	`gëTønsf‹mShi·
(
ch™√lBôDïth
, 
rTu
.
	`GëEquivÆítLog2TrSize
(
compID
), 
maxLog2TrDy«micR™ge
);

3390 c⁄° 
I¡
 
sˇlögLi°Ty≥
 = 
	`gëSˇlögLi°Ty≥
(
pcCU
->
	`gëPªdi˘i⁄Mode
(
uiAbsP¨tIdx
), 
compID
);

3391 c⁄° 
Boﬁ
 
íabÀSˇlögLi°s
 = 
	`gëU£SˇlögLi°
(
uiWidth
, 
uiHeight
, 
åue
);

3392 c⁄° 
UI¡
 
uiLog2TrSize
 = 
rTu
.
	`GëEquivÆítLog2TrSize
(
compID
);

3394 
	`as£π
–
sˇlögLi°Ty≥
 < 
SCALING_LIST_NUM
 );

3396 c⁄° 
I¡
 
rightShi·
 = (
IQUANT_SHIFT
 - (
iTønsf‹mShi·
 + 
QP_≥r
)Ë+ (
íabÀSˇlögLi°s
 ? 
LOG2_SCALING_LIST_NEUTRAL_VALUE
 : 0);

3398 c⁄° 
TC€ff
 
å™sf‹mMöimum
 = -(1 << 
maxLog2TrDy«micR™ge
);

3399 c⁄° 
TC€ff
 
å™sf‹mMaximum
 = (1 << 
maxLog2TrDy«micR™ge
) - 1;

3403 
TC€ff
 
dequ™ti£dSam∂e
;

3405 if(
íabÀSˇlögLi°s
)

3407 c⁄° 
UI¡
 
dequ™tC€fBôs
 = 1 + 
IQUANT_SHIFT
 + 
SCALING_LIST_BITS
;

3408 c⁄° 
UI¡
 
èrgëI≈utBôDïth
 = 
°d
::
mö
<UI¡>((
maxLog2TrDy«micR™ge
 + 1), ((((
I¡îmedüã_I¡
Ë* 8Ë+ 
rightShi·
Ë- 
dequ™tC€fBôs
));

3410 c⁄° 
I¡îmedüã_I¡
 
öputMöimum
 = -(1 << (
èrgëI≈utBôDïth
 - 1));

3411 c⁄° 
I¡îmedüã_I¡
 
öputMaximum
 = (1 << (
èrgëI≈utBôDïth
 - 1)) - 1;

3413 
I¡
 *
piDequ™tC€f
 = 
	`gëDequ™tC€ff
(
sˇlögLi°Ty≥
,
QP_ªm
,
uiLog2TrSize
-2);

3415 if(
rightShi·
 > 0)

3417 c⁄° 
I¡îmedüã_I¡
 
iAdd
 = 1 << (
rightShi·
 - 1);

3418 c⁄° 
TC€ff
 
˛ùQC€f
 = 
	`TC€ff
(
Clù3
<
I¡îmedüã_I¡
>(
öputMöimum
, 
öputMaximum
, 
öSam∂e
));

3419 c⁄° 
I¡îmedüã_I¡
 
iC€ffQ
 = ((
	`I¡îmedüã_I¡
(
˛ùQC€f
Ë* 
piDequ™tC€f
[
uiPos
]Ë+ 
iAdd
 ) >> 
rightShi·
;

3421 
dequ™ti£dSam∂e
 = 
	`TC€ff
(
Clù3
<
I¡îmedüã_I¡
>(
å™sf‹mMöimum
,
å™sf‹mMaximum
,
iC€ffQ
));

3425 c⁄° 
I¡
 
À·Shi·
 = -
rightShi·
;

3426 c⁄° 
TC€ff
 
˛ùQC€f
 = 
	`TC€ff
(
Clù3
<
I¡îmedüã_I¡
>(
öputMöimum
, 
öputMaximum
, 
öSam∂e
));

3427 c⁄° 
I¡îmedüã_I¡
 
iC€ffQ
 = (
	`I¡îmedüã_I¡
(
˛ùQC€f
Ë* 
piDequ™tC€f
[
uiPos
]Ë<< 
À·Shi·
;

3429 
dequ™ti£dSam∂e
 = 
	`TC€ff
(
Clù3
<
I¡îmedüã_I¡
>(
å™sf‹mMöimum
,
å™sf‹mMaximum
,
iC€ffQ
));

3434 c⁄° 
I¡
 
sˇÀ
 = 
g_övQu™tSˇÀs
[
QP_ªm
];

3435 c⁄° 
I¡
 
sˇÀBôs
 = (
IQUANT_SHIFT
 + 1) ;

3437 c⁄° 
UI¡
 
èrgëI≈utBôDïth
 = 
°d
::
mö
<UI¡>((
maxLog2TrDy«micR™ge
 + 1), ((((
I¡îmedüã_I¡
Ë* 8Ë+ 
rightShi·
Ë- 
sˇÀBôs
));

3438 c⁄° 
I¡îmedüã_I¡
 
öputMöimum
 = -(1 << (
èrgëI≈utBôDïth
 - 1));

3439 c⁄° 
I¡îmedüã_I¡
 
öputMaximum
 = (1 << (
èrgëI≈utBôDïth
 - 1)) - 1;

3441 i‡(
rightShi·
 > 0)

3443 c⁄° 
I¡îmedüã_I¡
 
iAdd
 = 1 << (
rightShi·
 - 1);

3444 c⁄° 
TC€ff
 
˛ùQC€f
 = 
	`TC€ff
(
Clù3
<
I¡îmedüã_I¡
>(
öputMöimum
, 
öputMaximum
, 
öSam∂e
));

3445 c⁄° 
I¡îmedüã_I¡
 
iC€ffQ
 = (
	`I¡îmedüã_I¡
(
˛ùQC€f
Ë* 
sˇÀ
 + 
iAdd
Ë>> 
rightShi·
;

3447 
dequ™ti£dSam∂e
 = 
	`TC€ff
(
Clù3
<
I¡îmedüã_I¡
>(
å™sf‹mMöimum
,
å™sf‹mMaximum
,
iC€ffQ
));

3451 c⁄° 
I¡
 
À·Shi·
 = -
rightShi·
;

3452 c⁄° 
TC€ff
 
˛ùQC€f
 = 
	`TC€ff
(
Clù3
<
I¡îmedüã_I¡
>(
öputMöimum
, 
öputMaximum
, 
öSam∂e
));

3453 c⁄° 
I¡îmedüã_I¡
 
iC€ffQ
 = (
	`I¡îmedüã_I¡
(
˛ùQC€f
Ë* 
sˇÀ
Ë<< 
À·Shi·
;

3455 
dequ™ti£dSam∂e
 = 
	`TC€ff
(
Clù3
<
I¡îmedüã_I¡
>(
å™sf‹mMöimum
,
å™sf‹mMaximum
,
iC€ffQ
));

3461 i‡(
iTønsf‹mShi·
 >= 0)

3463 c⁄° 
TC€ff
 
off£t
 = 
iTønsf‹mShi·
==0 ? 0 : (1 << (iTransformShift - 1));

3464 
ªc⁄Sam∂e
 = 
	`Pñ
(–
dequ™ti£dSam∂e
 + 
off£t
 ) >> 
iTønsf‹mShi·
);

3468 c⁄° 
I¡
 
iTrShi·Neg
 = -
iTønsf‹mShi·
;

3469 
ªc⁄Sam∂e
 = 
	`Pñ
(
dequ™ti£dSam∂e
 << 
iTrShi·Neg
);

3471 
	}
}

3474 
Void
 
	gTComTrQu™t
::
	$¸ossComp⁄ítPªdi˘i⁄
–
TComTU
 & 
rTu
,

3475 c⁄° 
Comp⁄ítID
 
compID
,

3476 c⁄° 
Pñ
 * 
piResiL
,

3477 c⁄° 
Pñ
 * 
piResiC
,

3478 
Pñ
 * 
piResiT
,

3479 c⁄° 
I¡
 
width
,

3480 c⁄° 
I¡
 
height
,

3481 c⁄° 
I¡
 
°rideL
,

3482 c⁄° 
I¡
 
°rideC
,

3483 c⁄° 
I¡
 
°rideT
,

3484 c⁄° 
Boﬁ
 
ªvî£
 )

3486 c⁄° 
Pñ
 *
pResiL
 = 
piResiL
;

3487 c⁄° 
Pñ
 *
pResiC
 = 
piResiC
;

3488 
Pñ
 *
pResiT
 = 
piResiT
;

3490 
TComD©aCU
 *
pCU
 = 
rTu
.
	`gëCU
();

3491 c⁄° 
I¡
 
Æpha
 = 
pCU
->
	`gëCrossComp⁄ítPªdi˘i⁄AÕha
–
rTu
.
	`GëAbsP¨tIdxTU
–
compID
 ), compID );

3492 c⁄° 
I¡
 
diffBôDïth
 = 
pCU
->
	`gëSli˚
()->
	`gëSPS
()->
	`gëDif„ª¡ülLumaChromaBôDïth
();

3494  
I¡
 
y
 = 0; y < 
height
; y++ )

3496 i‡(
ªvî£
)

3503 #i‡
RExt__HIGH_BIT_DEPTH_SUPPORT


3504  
I¡
 
x
 = 0; x < 
width
; x++ )

3506 
pResiT
[
x
] = 
pResiC
[x] + (–
Æpha
 * 
	`rightShi·
–
pResiL
[x], 
diffBôDïth
) ) >> 3);

3509 c⁄° 
I¡
 
möPñ
=
°d
::
numîic_limôs
<
Pñ
>::
	`mö
();

3510 c⁄° 
I¡
 
maxPñ
=
°d
::
numîic_limôs
<
Pñ
>::
	`max
();

3511  
I¡
 
x
 = 0; x < 
width
; x++ )

3513 
pResiT
[
x
] = 
Clù3
<
I¡
>(
möPñ
, 
maxPñ
, 
pResiC
[x] + (–
Æpha
 * 
rightShi·
<I¡>(
	`I¡
(
pResiL
[x]), 
diffBôDïth
) ) >> 3));

3520  
I¡
 
x
 = 0; x < 
width
; x++ )

3522 
pResiT
[
x
] = 
pResiC
[x] - (–
Æpha
 * 
rightShi·
<
I¡
>(
	`I¡
(
pResiL
[x]), 
diffBôDïth
) ) >> 3);

3526 
pResiL
 +
°rideL
;

3527 
pResiC
 +
°rideC
;

3528 
pResiT
 +
°rideT
;

3530 
	}
}

	@TComTrQuant.h

38 #i‚de‡
__TCOMTRQUANT__


39 
	#__TCOMTRQUANT__


	)

41 
	~"Comm⁄Def.h
"

42 
	~"TComYuv.h
"

43 
	~"TComD©aCU.h
"

44 
	~"TComChromaF‹m©.h
"

45 
	~"C⁄ãxtTabÀs.h
"

54 
	#QP_BITS
 15

	)

62 
I¡
 
	msignifiˇ¡C€ffGroupBôs
[
NUM_SIG_CG_FLAG_CTX
][2 ];

63 
I¡
 
	msignifiˇ¡Bôs
[
NUM_SIG_FLAG_CTX
][2 ];

64 
I¡
 
	mœ°XBôs
[
MAX_NUM_CHANNEL_TYPE
][
LAST_SIGNIFICANT_GROUPS
];

65 
I¡
 
	mœ°YBôs
[
MAX_NUM_CHANNEL_TYPE
][
LAST_SIGNIFICANT_GROUPS
];

66 
I¡
 
	mm_gª©îO√Bôs
[
NUM_ONE_FLAG_CTX
][2 ];

67 
I¡
 
	mm_ÀvñAbsBôs
[
NUM_ABS_FLAG_CTX
][2 ];

69 
I¡
 
	mblockCbpBôs
[
NUM_QT_CBF_CTX_SETS
 * 
NUM_QT_CBF_CTX_PER_SET
][2 ];

70 
I¡
 
	mblockRoŸCbpBôs
[4][2 ];

72 
I¡
 
	mgﬁombRi˚Ad≠èti⁄Sèti°ics
[
RExt__GOLOMB_RICE_ADAPTATION_STATISTICS_SETS
];

73 } 
	te°BôsSbacSåu˘
;

80 
	sQpP¨am


82 
I¡
 
	mQp
;

83 
I¡
 
	m≥r
;

84 
I¡
 
	mªm
;

86 
QpP¨am
(c⁄° 
I¡
 
qpy
,

87 c⁄° 
Ch™√lTy≥
 
chTy≥
,

88 c⁄° 
I¡
 
qpBdOff£t
,

89 c⁄° 
I¡
 
chromaQPOff£t
,

90 c⁄° 
ChromaF‹m©
 
chFmt
 );

92 
QpP¨am
(c⁄° 
TComD©aCU
 &
cu
, c⁄° 
Comp⁄ítID
 
compID
);

98 ˛as†
	cTComTrQu™t


100 
	mpublic
:

101 
TComTrQu™t
();

102 ~
TComTrQu™t
();

105 
Void
 
öô
 ( 
UI¡
 
uiMaxTrSize
,

106 
Boﬁ
 
u£RDOQ
 = 
Ál£
,

107 
Boﬁ
 
u£RDOQTS
 = 
Ál£
,

108 
Boﬁ
 
u£Sñe˘iveRDOQ
 = 
Ál£
,

109 
Boﬁ
 
bEnc
 = 
Ál£
,

110 
Boﬁ
 
u£Tønsf‹mSkùFa°
 = 
Ál£


111 #i‡
ADAPTIVE_QP_SELECTION


112 , 
Boﬁ
 
bU£Ad≠tQpSñe˘
 = 
Ál£


117 
Void
 
å™sf‹mNxN
–
TComTU
 & 
rTu
,

118 c⁄° 
Comp⁄ítID
 
compID
,

119 
Pñ
 * 
pcResiduÆ
,

120 c⁄° 
UI¡
 
uiSåide
,

121 
TC€ff
 * 
ΩcC€ff
,

122 #i‡
ADAPTIVE_QP_SELECTION


123 
TC€ff
 * 
ΩcAæC€ff
,

125 
TC€ff
 & 
uiAbsSum
,

126 c⁄° 
QpP¨am
 & 
cQP


130 
Void
 
övTønsf‹mNxN
–
TComTU
 & 
rTu
,

131 c⁄° 
Comp⁄ítID
 
compID
,

132 
Pñ
 *
pcResiduÆ
,

133 c⁄° 
UI¡
 
uiSåide
,

134 
TC€ff
 * 
pcC€ff
,

135 c⁄° 
QpP¨am
 & 
cQP


136 
DEBUG_STRING_FN_DECLAREP
(
psDebug
));

138 
Void
 
övRecurTønsf‹mNxN
 ( c⁄° 
Comp⁄ítID
 
compID
, 
TComYuv
 *
pResiduÆ
, 
TComTU
 &
rTu
 );

140 
Void
 
rdpcmNxN
 ( 
TComTU
& 
rTu
, c⁄° 
Comp⁄ítID
 
compID
, 
Pñ
* 
pcResiduÆ
, c⁄° 
UI¡
 
uiSåide
, c⁄° 
QpP¨am
& 
cQP
, 
TC€ff
* 
pcC€ff
, TC€f‡&
uiAbsSum
, 
RDPCMMode
& 
rdpcmMode
 );

141 
Void
 
övRdpcmNxN
–
TComTU
& 
rTu
, c⁄° 
Comp⁄ítID
 
compID
, 
Pñ
* 
pcResiduÆ
, c⁄° 
UI¡
 
uiSåide
 );

143 
Void
 
≠∂yF‹w¨dRDPCM
–
TComTU
& 
rTu
, c⁄° 
Comp⁄ítID
 
compID
, 
Pñ
* 
pcResiduÆ
, c⁄° 
UI¡
 
uiSåide
, c⁄° 
QpP¨am
& 
cQP
, 
TC€ff
* 
pcC€ff
, TC€f‡&
uiAbsSum
, c⁄° 
RDPCMMode
 
mode
 );

147 #i‡
RDOQ_CHROMA_LAMBDA


148 
Void
 
	$£tLambdas
(c⁄° 
DoubÀ
 
œmbdas
[
MAX_NUM_COMPONENT
]Ë{ 
UI¡
 
comp⁄ít
 = 0; comp⁄íà< MAX_NUM_COMPONENT; comp⁄ít++Ë
m_œmbdas
[component] =Üambdas[component]; }

149 
Void
 
	$£À˘Lambda
(c⁄° 
Comp⁄ítID
 
compIdx
Ë{ 
m_dLambda
 = 
m_œmbdas
[compIdx]; 
	}
}

151 
Void
 
	$£tLambda
(
DoubÀ
 
dLambda
Ë{ 
m_dLambda
 = dLambda;
	}
}

153 
Void
 
	$£tRDOQOff£t
–
UI¡
 
uiRDOQOff£t
 ) { 
m_uiRDOQOff£t
 = uiRDOQOff£t; 
	}
}

155 
e°BôsSbacSåu˘
* 
	gm_pcE°BôsSbac
;

157 
I¡
 
ˇlcP©ã∫SigCtx
–c⁄° 
UI¡
* 
sigC€ffGroupFœg
, UI¡ 
uiCGPosX
, UI¡ 
uiCGPosY
, UI¡ 
widthInGroups
, UI¡ 
heightInGroups
 );

159 
I¡
 
gëSigCtxInc
 ( I¡ 
∑âînSigCtx
,

160 c⁄° 
TUE¡r›yCodögP¨amëîs
 &
codögP¨amëîs
,

161 c⁄° 
I¡
 
sˇnPosôi⁄
,

162 c⁄° 
I¡
 
log2BlockWidth
,

163 c⁄° 
I¡
 
log2BlockHeight
,

164 c⁄° 
Ch™√lTy≥
 
ch™Ty≥


167 
UI¡
 
gëSigC€ffGroupCtxInc
 (c⁄° UI¡* 
uiSigC€ffGroupFœg
,

168 c⁄° 
UI¡
 
uiCGPosX
,

169 c⁄° 
UI¡
 
uiCGPosY
,

170 c⁄° 
UI¡
 
widthInGroups
,

171 c⁄° 
UI¡
 
heightInGroups
);

173 
Void
 
öôSˇlögLi°
 ();

174 
Void
 
de°roySˇlögLi°
 ();

175 
Void
 
£tEºSˇÀC€ff
 ( 
UI¡
 
li°
, UI¡ 
size
, 
I¡
 
qp
, c⁄° I¡ 
maxLog2TrDy«micR™ge
[
MAX_NUM_CHANNEL_TYPE
], c⁄° 
BôDïths
 &
bôDïths
 );

176 
DoubÀ
* 
	$gëEºSˇÀC€ff
 ( 
UI¡
 
li°
, UI¡ 
size
, 
I¡
 
qp
 ) {  
m_îrSˇÀ
 [size][li°][qp]; 
	}
};

177 
	gDoubÀ
& 
	$gëEºSˇÀC€ffNoSˇlögLi°
 ( 
UI¡
 
li°
, UI¡ 
size
, 
I¡
 
qp
 ) {  
m_îrSˇÀNoSˇlögLi°
[size][li°][qp]; 
	}
};

178 
I¡
* 
	$gëQu™tC€ff
 ( 
UI¡
 
li°
, 
I¡
 
qp
, UI¡ 
size
 ) {  
m_qu™tC€f
 [size][li°][qp]; 
	}
};

179 
I¡
* 
	$gëDequ™tC€ff
 ( 
UI¡
 
li°
, 
I¡
 
qp
, UI¡ 
size
 ) {  
m_dequ™tC€f
 [size][li°][qp]; 
	}
};

180 
Void
 
	$£tU£SˇlögLi°
 ( 
Boﬁ
 
bU£SˇlögLi°
){ 
m_sˇlögLi°E«bÀdFœg
 = bU£SˇlögLi°; 
	}
};

181 
Boﬁ
 
	$gëU£SˇlögLi°
 (c⁄° 
UI¡
 
width
, c⁄° UI¡ 
height
, c⁄° 
Boﬁ
 
isTønsf‹mSkù
){  
m_sˇlögLi°E«bÀdFœg
 && (!isTønsf‹mSkù || ((width =4Ë&& (heighà=4))); 
	}
};

182 
Void
 
£tFœtSˇlögLi°
 (c⁄° 
I¡
 
maxLog2TrDy«micR™ge
[
MAX_NUM_CHANNEL_TYPE
], c⁄° 
BôDïths
 &
bôDïths
);

183 
Void
 
x£tFœtSˇlögLi°
 ( 
UI¡
 
li°
, UI¡ 
size
, 
I¡
 
qp
);

184 
Void
 
xSëSˇlögLi°Enc
 ( 
TComSˇlögLi°
 *
sˇlögLi°
, 
UI¡
 
li°
, UI¡ 
size
, 
I¡
 
qp
);

185 
Void
 
xSëSˇlögLi°Dec
 ( c⁄° 
TComSˇlögLi°
 &
sˇlögLi°
, 
UI¡
 
li°
, UI¡ 
size
, 
I¡
 
qp
);

186 
Void
 
£tSˇlögLi°
 ( 
TComSˇlögLi°
 *
sˇlögLi°
, c⁄° 
I¡
 
maxLog2TrDy«micR™ge
[
MAX_NUM_CHANNEL_TYPE
], c⁄° 
BôDïths
 &
bôDïths
);

187 
Void
 
£tSˇlögLi°Dec
 ( c⁄° 
TComSˇlögLi°
 &
sˇlögLi°
);

188 
Void
 
¥o˚ssSˇlögLi°Enc
–
I¡
 *
c€ff
, I¡ *
qu™tc€ff
, I¡ 
qu™tSˇÀs
, 
UI¡
 
height
, UI¡ 
width
, UI¡ 
øtio
, I¡ 
sizuNum
, UI¡ 
dc
);

189 
Void
 
¥o˚ssSˇlögLi°Dec
–c⁄° 
I¡
 *
c€ff
, I¡ *
dequ™tc€ff
, I¡ 
övQu™tSˇÀs
, 
UI¡
 
height
, UI¡ 
width
, UI¡ 
øtio
, I¡ 
sizuNum
, UI¡ 
dc
);

190 #i‡
ADAPTIVE_QP_SELECTION


191 
Void
 
öôSli˚QpDñè
() ;

192 
Void
 
°‹eSli˚QpNext
(
TComSli˚
* 
pcSli˚
);

193 
Void
 
˛órSli˚ARLC¡
();

194 
I¡
 
	$gëQpDñè
(
I¡
 
qp
Ë{  
m_qpDñè
[qp]; 
	}
}

195 
I¡
* 
	$gëSli˚NSam∂es
(){  
m_¶i˚Nßm∂es
 ;
	}
}

196 
DoubÀ
* 
	$gëSli˚SumC
(Ë{  
m_¶i˚SumC
; 
	}
}

198 
Void
 
å™sf‹mSkùQu™tO√Sam∂e
(
TComTU
 &
rTu
, c⁄° 
Comp⁄ítID
 
compID
, c⁄° 
TC€ff
 
ªsiDiff
, TC€ff* 
pcC€ff
, c⁄° 
UI¡
 
uiPos
, c⁄° 
QpP¨am
 &
cQP
, c⁄° 
Boﬁ
 
bU£HÆfRoundögPoöt
);

199 
Void
 
övTrSkùDeQu™tO√Sam∂e
(
TComTU
 &
rTu
, 
Comp⁄ítID
 
compID
, 
TC€ff
 
pcC€ff
, 
Pñ
 &
ªc⁄Sam∂e
, c⁄° 
QpP¨am
 &
cQP
, 
UI¡
 
uiPos
 );

201 
	g¥Ÿe˘ed
:

202 #i‡
ADAPTIVE_QP_SELECTION


203 
I¡
 
m_qpDñè
[
MAX_QP
+1];

204 
I¡
 
	gm_¶i˚Nßm∂es
[
LEVEL_RANGE
+1];

205 
DoubÀ
 
	gm_¶i˚SumC
[
LEVEL_RANGE
+1] ;

207 
TC€ff
* 
	gm_∂TempC€ff
;

210 #i‡
RDOQ_CHROMA_LAMBDA


211 
DoubÀ
 
	gm_œmbdas
[
MAX_NUM_COMPONENT
];

213 
DoubÀ
 
	gm_dLambda
;

214 
UI¡
 
	gm_uiRDOQOff£t
;

215 
UI¡
 
	gm_uiMaxTrSize
;

216 
Boﬁ
 
	gm_bEnc
;

217 
Boﬁ
 
	gm_u£RDOQ
;

218 
Boﬁ
 
	gm_u£RDOQTS
;

219 
Boﬁ
 
	gm_u£Sñe˘iveRDOQ
;

220 #i‡
ADAPTIVE_QP_SELECTION


221 
Boﬁ
 
	gm_bU£Ad≠tQpSñe˘
;

223 
Boﬁ
 
	gm_u£Tønsf‹mSkùFa°
;

225 
Boﬁ
 
	gm_sˇlögLi°E«bÀdFœg
;

227 
I¡
 *
	gm_qu™tC€f
 [
SCALING_LIST_SIZE_NUM
][
SCALING_LIST_NUM
][
SCALING_LIST_REM_NUM
];

228 
I¡
 *
	gm_dequ™tC€f
 [
SCALING_LIST_SIZE_NUM
][
SCALING_LIST_NUM
][
SCALING_LIST_REM_NUM
];

229 
DoubÀ
 *
	gm_îrSˇÀ
 [
SCALING_LIST_SIZE_NUM
][
SCALING_LIST_NUM
][
SCALING_LIST_REM_NUM
];

230 
DoubÀ
 
	gm_îrSˇÀNoSˇlögLi°
[
SCALING_LIST_SIZE_NUM
][
SCALING_LIST_NUM
][
SCALING_LIST_REM_NUM
];

232 
	g¥iv©e
:

234 
Void
 
xT
 ( c⁄° 
I¡
 
ch™√lBôDïth
, 
Boﬁ
 
u£DST
, 
Pñ
* 
piBlkResi
, 
UI¡
 
uiSåide
, 
TC€ff
* 
psC€ff
, I¡ 
iWidth
, I¡ 
iHeight
, c⁄° I¡ 
maxLog2TrDy«micR™ge
 );

237 
Void
 
xTønsf‹mSkù
 ( 
Pñ
* 
piBlkResi
, 
UI¡
 
uiSåide
, 
TC€ff
* 
psC€ff
, 
TComTU
 &
rTu
, c⁄° 
Comp⁄ítID
 
comp⁄ít
 );

239 
Void
 
signBôHidögHDQ
–
TC€ff
* 
pQC€f
, TC€ff* 
pC€f
, TC€ff* 
dñèU
, c⁄° 
TUE¡r›yCodögP¨amëîs
 &
codögP¨amëîs
, c⁄° 
I¡
 
maxLog2TrDy«micR™ge
 );

242 
Void
 
xQu™t
–
TComTU
 &
rTu
,

243 
TC€ff
 * 
pSrc
,

244 
TC€ff
 * 
pDes
,

245 #i‡
ADAPTIVE_QP_SELECTION


246 
TC€ff
 *
pAæDes
,

248 
TC€ff
 &
uiAbsSum
,

249 c⁄° 
Comp⁄ítID
 
compID
,

250 c⁄° 
QpP¨am
 &
cQP
 );

252 
Boﬁ
 
xNìdRDOQ
–
TComTU
 &
rTu
,

253 
TC€ff
 * 
pSrc
,

254 c⁄° 
Comp⁄ítID
 
compID
,

255 c⁄° 
QpP¨am
 &
cQP
 );

259 
Void
 
xR©eDi°O±Qu™t
 ( 
TComTU
 &
rTu
,

260 
TC€ff
 * 
∂SrcC€ff
,

261 
TC€ff
 * 
piD°C€ff
,

262 #i‡
ADAPTIVE_QP_SELECTION


263 
TC€ff
 *
piAæD°C€ff
,

265 
TC€ff
 &
uiAbsSum
,

266 c⁄° 
Comp⁄ítID
 
compID
,

267 c⁄° 
QpP¨am
 &
cQP
 );

269 
__ölöe
 
UI¡
 
	$xGëCodedLevñ
 ( 
DoubÀ
& 
rd64CodedCo°
,

270 
DoubÀ
& 
rd64CodedCo°0
,

271 
DoubÀ
& 
rd64CodedCo°Sig
,

272 
I¡îmedüã_I¡
 
lLevñDoubÀ
,

273 
UI¡
 
uiMaxAbsLevñ
,

274 
USh‹t
 
ui16CtxNumSig
,

275 
USh‹t
 
ui16CtxNumO√
,

276 
USh‹t
 
ui16CtxNumAbs
,

277 
USh‹t
 
ui16AbsGoRi˚
,

278 
UI¡
 
c1Idx
,

279 
UI¡
 
c2Idx
,

280 
I¡
 
iQBôs
,

281 
DoubÀ
 
îr‹SˇÀ
,

282 
Boﬁ
 
bLa°
,

283 
Boﬁ
 
u£LimôedPªfixLígth
,

284 c⁄° 
I¡
 
maxLog2TrDy«micR™ge


288 
__ölöe
 
I¡
 
	$xGëICR©e
 ( c⁄° 
UI¡
 
uiAbsLevñ
,

289 c⁄° 
USh‹t
 
ui16CtxNumO√
,

290 c⁄° 
USh‹t
 
ui16CtxNumAbs
,

291 c⁄° 
USh‹t
 
ui16AbsGoRi˚
,

292 c⁄° 
UI¡
 
c1Idx
,

293 c⁄° 
UI¡
 
c2Idx
,

294 c⁄° 
Boﬁ
 
u£LimôedPªfixLígth
,

295 c⁄° 
I¡
 
maxLog2TrDy«micR™ge


298 
__ölöe
 
DoubÀ
 
	$xGëR©eLa°
 ( c⁄° 
UI¡
 
uiPosX
, c⁄° UI¡ 
uiPosY
, c⁄° 
Comp⁄ítID
 
comp⁄ít
 ) const;

299 
__ölöe
 
DoubÀ
 
	$xGëR©eSigC€ffGroup
–
USh‹t
 
uiSignifiˇn˚C€ffGroup
, USh‹à
ui16CtxNumSig
 ) const;

300 
__ölöe
 
DoubÀ
 
	$xGëR©eSigC€f
 ( 
USh‹t
 
uiSignifiˇn˚
, USh‹à
ui16CtxNumSig
 ) const;

301 
__ölöe
 
DoubÀ
 
	$xGëICo°
 ( 
DoubÀ
 
dR©e
 ) const;

302 
__ölöe
 
DoubÀ
 
	$xGëIEPR©e
 ( ) const;

306 
Void
 
	`xDeQu™t
–
TComTU
 &
rTu
,

307 c⁄° 
TC€ff
 * 
pSrc
,

308 
TC€ff
 * 
pDes
,

309 c⁄° 
Comp⁄ítID
 
compID
,

310 c⁄° 
QpP¨am
 &
cQP
 );

313 
Void
 
	`xIT
 ( c⁄° 
I¡
 
ch™√lBôDïth
, 
Boﬁ
 
u£DST
, 
TC€ff
* 
∂C€f
, 
Pñ
* 
pResiduÆ
, 
UI¡
 
uiSåide
, I¡ 
iWidth
, I¡ 
iHeight
, c⁄° I¡ 
maxLog2TrDy«micR™ge
 );

316 
Void
 
	`xITønsf‹mSkù
 ( 
TC€ff
* 
∂C€f
, 
Pñ
* 
pResiduÆ
, 
UI¡
 
uiSåide
, 
TComTU
 &
rTu
, c⁄° 
Comp⁄ítID
 
comp⁄ít
 );

318 
public
:

319 
Void
 
	`¸ossComp⁄ítPªdi˘i⁄
–
TComTU
 &
rTu
,

320 c⁄° 
Comp⁄ítID
 
compID
,

321 c⁄° 
Pñ
 *
piResiL
,

322 c⁄° 
Pñ
 *
piResiC
,

323 
Pñ
 *
piResiT
,

324 c⁄° 
I¡
 
width
,

325 c⁄° 
I¡
 
height
,

326 c⁄° 
I¡
 
°rideL
,

327 c⁄° 
I¡
 
°rideC
,

328 c⁄° 
I¡
 
°rideT
,

329 c⁄° 
Boﬁ
 
ªvî£
);

331 
	}
};

	@TComWeightPrediction.cpp

39 
	~"Comm⁄Def.h
"

40 
	~"TComYuv.h
"

41 
	~"TComPic.h
"

42 
	~"TComI¡îpﬁ©i⁄Fûãr.h
"

43 
	~"TComWeightPªdi˘i⁄.h
"

46 
ölöe
 
Pñ
 
	$weightBidú
–
I¡
 
w0
, 
Pñ
 
P0
, I¡ 
w1
, Pñ 
P1
, I¡ 
round
, I¡ 
shi·
, I¡ 
off£t
, I¡ 
˛ùBD
)

48  
	`ClùBD
––(
w0
*(
P0
 + 
IF_INTERNAL_OFFS
Ë+ 
w1
*(
P1
 + IF_INTERNAL_OFFSË+ 
round
 + (
off£t
 << (
shi·
-1))Ë>> shi· ), 
˛ùBD
 );

49 
	}
}

52 
ölöe
 
Pñ
 
	$weightUnidú
–
I¡
 
w0
, 
Pñ
 
P0
, I¡ 
round
, I¡ 
shi·
, I¡ 
off£t
, I¡ 
˛ùBD
)

54  
	`ClùBD
––(
w0
*(
P0
 + 
IF_INTERNAL_OFFS
Ë+ 
round
Ë>> 
shi·
 ) + 
off£t
, 
˛ùBD
 );

55 
	}
}

57 
ölöe
 
Pñ
 
	$noWeightUnidú
–
Pñ
 
P0
, 
I¡
 
round
, I¡ 
shi·
, I¡ 
off£t
, I¡ 
˛ùBD
)

59  
	`ClùBD
––((
P0
 + 
IF_INTERNAL_OFFS
Ë+ 
round
Ë>> 
shi·
 ) + 
off£t
, 
˛ùBD
 );

60 
	}
}

62 
ölöe
 
Pñ
 
	$noWeightOff£tUnidú
–
Pñ
 
P0
, 
I¡
 
round
, I¡ 
shi·
, I¡ 
˛ùBD
)

64  
	`ClùBD
––((
P0
 + 
IF_INTERNAL_OFFS
Ë+ 
round
Ë>> 
shi·
 ), 
˛ùBD
 );

65 
	}
}

72 
	gTComWeightPªdi˘i⁄
::
	$TComWeightPªdi˘i⁄
()

74 
	}
}

78 
Void
 
TComWeightPªdi˘i⁄
::
	$addWeightBi
–c⁄° 
TComYuv
 *
pcYuvSrc0
,

79 c⁄° 
TComYuv
 *
pcYuvSrc1
,

80 c⁄° 
BôDïths
 &
bôDïths
,

81 c⁄° 
UI¡
 
iP¨tUnôIdx
,

82 c⁄° 
UI¡
 
uiWidth
,

83 c⁄° 
UI¡
 
uiHeight
,

84 c⁄° 
WPSˇlögP¨am
 *c⁄° 
wp0
,

85 c⁄° 
WPSˇlögP¨am
 *c⁄° 
wp1
,

86 
TComYuv
 *c⁄° 
ΩcYuvD°
,

87 c⁄° 
Boﬁ
 
bRoundLuma
)

90 c⁄° 
Boﬁ
 
íabÀRoundög
[
MAX_NUM_COMPONENT
]={ 
bRoundLuma
, 
åue
,Årue };

92 c⁄° 
UI¡
 
numVÆidComp⁄ít
 = 
pcYuvSrc0
->
	`gëNumbîVÆidComp⁄íts
();

94 
I¡
 
comp⁄ítIndex
=0; comp⁄ítIndex<
numVÆidComp⁄ít
; componentIndex++)

96 c⁄° 
Comp⁄ítID
 
compID
=
	`Comp⁄ítID
(
comp⁄ítIndex
);

98 c⁄° 
Pñ
* 
pSrc0
 = 
pcYuvSrc0
->
	`gëAddr
–
compID
, 
iP¨tUnôIdx
 );

99 c⁄° 
Pñ
* 
pSrc1
 = 
pcYuvSrc1
->
	`gëAddr
–
compID
, 
iP¨tUnôIdx
 );

100 
Pñ
* 
pD°
 = 
ΩcYuvD°
->
	`gëAddr
–
compID
, 
iP¨tUnôIdx
 );

103 c⁄° 
I¡
 
w0
 = 
wp0
[
compID
].
w
;

104 c⁄° 
I¡
 
off£t
 = 
wp0
[
compID
].offset;

105 c⁄° 
I¡
 
˛ùBD
 = 
bôDïths
.
ªc⁄
[
	`toCh™√lTy≥
(
compID
)];

106 c⁄° 
I¡
 
shi·Num
 = 
°d
::
max
<I¡>(2, (
IF_INTERNAL_PREC
 - 
˛ùBD
));

107 c⁄° 
I¡
 
shi·
 = 
wp0
[
compID
].shi· + 
shi·Num
;

108 c⁄° 
I¡
 
round
 = (
íabÀRoundög
[
compID
] && (
shi·
 > 0)) ? (1<<(shift-1)) : 0;

109 c⁄° 
I¡
 
w1
 = 
wp1
[
compID
].
w
;

110 c⁄° 
UI¡
 
csx
 = 
pcYuvSrc0
->
	`gëComp⁄ítSˇÀX
(
compID
);

111 c⁄° 
UI¡
 
csy
 = 
pcYuvSrc0
->
	`gëComp⁄ítSˇÀY
(
compID
);

112 c⁄° 
I¡
 
iHeight
 = 
uiHeight
>>
csy
;

113 c⁄° 
I¡
 
iWidth
 = 
uiWidth
>>
csx
;

115 c⁄° 
UI¡
 
iSrc0Såide
 = 
pcYuvSrc0
->
	`gëSåide
(
compID
);

116 c⁄° 
UI¡
 
iSrc1Såide
 = 
pcYuvSrc1
->
	`gëSåide
(
compID
);

117 c⁄° 
UI¡
 
iD°Såide
 = 
ΩcYuvD°
->
	`gëSåide
(
compID
);

119  
I¡
 
y
 = 
iHeight
-1; y >= 0; y-- )

122 
I¡
 
x
 = 
iWidth
-1;

123  ; 
x
 >= 3; )

125 
pD°
[
x
] = 
	`weightBidú
(
w0
,
pSrc0
[x], 
w1
,
pSrc1
[x], 
round
, 
shi·
, 
off£t
, 
˛ùBD
); x--;

126 
pD°
[
x
] = 
	`weightBidú
(
w0
,
pSrc0
[x], 
w1
,
pSrc1
[x], 
round
, 
shi·
, 
off£t
, 
˛ùBD
); x--;

127 
pD°
[
x
] = 
	`weightBidú
(
w0
,
pSrc0
[x], 
w1
,
pSrc1
[x], 
round
, 
shi·
, 
off£t
, 
˛ùBD
); x--;

128 
pD°
[
x
] = 
	`weightBidú
(
w0
,
pSrc0
[x], 
w1
,
pSrc1
[x], 
round
, 
shi·
, 
off£t
, 
˛ùBD
); x--;

130  ; 
x
 >= 0; x-- )

132 
pD°
[
x
] = 
	`weightBidú
(
w0
,
pSrc0
[x], 
w1
,
pSrc1
[x], 
round
, 
shi·
, 
off£t
, 
˛ùBD
);

135 
pSrc0
 +
iSrc0Såide
;

136 
pSrc1
 +
iSrc1Såide
;

137 
pD°
 +
iD°Såide
;

140 
	}
}

144 
Void
 
	gTComWeightPªdi˘i⁄
::
	$addWeightUni
–c⁄° 
TComYuv
 *c⁄° 
pcYuvSrc0
,

145 c⁄° 
BôDïths
 &
bôDïths
,

146 c⁄° 
UI¡
 
iP¨tUnôIdx
,

147 c⁄° 
UI¡
 
uiWidth
,

148 c⁄° 
UI¡
 
uiHeight
,

149 c⁄° 
WPSˇlögP¨am
 *c⁄° 
wp0
,

150 
TComYuv
 *c⁄° 
pcYuvD°
 )

152 c⁄° 
UI¡
 
numVÆidComp⁄ít
 = 
pcYuvSrc0
->
	`gëNumbîVÆidComp⁄íts
();

154 
I¡
 
comp⁄ítIndex
=0; comp⁄ítIndex<
numVÆidComp⁄ít
; componentIndex++)

156 c⁄° 
Comp⁄ítID
 
compID
=
	`Comp⁄ítID
(
comp⁄ítIndex
);

158 c⁄° 
Pñ
* 
pSrc0
 = 
pcYuvSrc0
->
	`gëAddr
–
compID
, 
iP¨tUnôIdx
 );

159 
Pñ
* 
pD°
 = 
pcYuvD°
->
	`gëAddr
–
compID
, 
iP¨tUnôIdx
 );

162 c⁄° 
I¡
 
w0
 = 
wp0
[
compID
].
w
;

163 c⁄° 
I¡
 
off£t
 = 
wp0
[
compID
].offset;

164 c⁄° 
I¡
 
˛ùBD
 = 
bôDïths
.
ªc⁄
[
	`toCh™√lTy≥
(
compID
)];

165 c⁄° 
I¡
 
shi·Num
 = 
°d
::
max
<I¡>(2, (
IF_INTERNAL_PREC
 - 
˛ùBD
));

166 c⁄° 
I¡
 
shi·
 = 
wp0
[
compID
].shi· + 
shi·Num
;

167 c⁄° 
UI¡
 
iSrc0Såide
 = 
pcYuvSrc0
->
	`gëSåide
(
compID
);

168 c⁄° 
UI¡
 
iD°Såide
 = 
pcYuvD°
->
	`gëSåide
(
compID
);

169 c⁄° 
UI¡
 
csx
 = 
pcYuvSrc0
->
	`gëComp⁄ítSˇÀX
(
compID
);

170 c⁄° 
UI¡
 
csy
 = 
pcYuvSrc0
->
	`gëComp⁄ítSˇÀY
(
compID
);

171 c⁄° 
I¡
 
iHeight
 = 
uiHeight
>>
csy
;

172 c⁄° 
I¡
 
iWidth
 = 
uiWidth
>>
csx
;

174 i‡(
w0
 !1 << 
wp0
[
compID
].
shi·
)

176 c⁄° 
I¡
 
round
 = (
shi·
 > 0) ? (1<<(shift-1)) : 0;

177 
I¡
 
y
 = 
iHeight
-1; y >= 0; y-- )

179 
I¡
 
x
 = 
iWidth
-1;

180  ; 
x
 >= 3; )

182 
pD°
[
x
] = 
	`weightUnidú
(
w0
, 
pSrc0
[x], 
round
, 
shi·
, 
off£t
, 
˛ùBD
); x--;

183 
pD°
[
x
] = 
	`weightUnidú
(
w0
, 
pSrc0
[x], 
round
, 
shi·
, 
off£t
, 
˛ùBD
); x--;

184 
pD°
[
x
] = 
	`weightUnidú
(
w0
, 
pSrc0
[x], 
round
, 
shi·
, 
off£t
, 
˛ùBD
); x--;

185 
pD°
[
x
] = 
	`weightUnidú
(
w0
, 
pSrc0
[x], 
round
, 
shi·
, 
off£t
, 
˛ùBD
); x--;

187  ; 
x
 >= 0; x--)

189 
pD°
[
x
] = 
	`weightUnidú
(
w0
, 
pSrc0
[x], 
round
, 
shi·
, 
off£t
, 
˛ùBD
);

191 
pSrc0
 +
iSrc0Såide
;

192 
pD°
 +
iD°Såide
;

197 c⁄° 
I¡
 
round
 = (
shi·Num
 > 0) ? (1<<(shiftNum-1)) : 0;

198 i‡(
off£t
 == 0)

200 
I¡
 
y
 = 
iHeight
-1; y >= 0; y-- )

202 
I¡
 
x
 = 
iWidth
-1;

203  ; 
x
 >= 3; )

205 
pD°
[
x
] = 
	`noWeightOff£tUnidú
(
pSrc0
[x], 
round
, 
shi·Num
, 
˛ùBD
); x--;

206 
pD°
[
x
] = 
	`noWeightOff£tUnidú
(
pSrc0
[x], 
round
, 
shi·Num
, 
˛ùBD
); x--;

207 
pD°
[
x
] = 
	`noWeightOff£tUnidú
(
pSrc0
[x], 
round
, 
shi·Num
, 
˛ùBD
); x--;

208 
pD°
[
x
] = 
	`noWeightOff£tUnidú
(
pSrc0
[x], 
round
, 
shi·Num
, 
˛ùBD
); x--;

210  ; 
x
 >= 0; x--)

212 
pD°
[
x
] = 
	`noWeightOff£tUnidú
(
pSrc0
[x], 
round
, 
shi·Num
, 
˛ùBD
);

214 
pSrc0
 +
iSrc0Såide
;

215 
pD°
 +
iD°Såide
;

220 
I¡
 
y
 = 
iHeight
-1; y >= 0; y-- )

222 
I¡
 
x
 = 
iWidth
-1;

223  ; 
x
 >= 3; )

225 
pD°
[
x
] = 
	`noWeightUnidú
(
pSrc0
[x], 
round
, 
shi·Num
, 
off£t
, 
˛ùBD
); x--;

226 
pD°
[
x
] = 
	`noWeightUnidú
(
pSrc0
[x], 
round
, 
shi·Num
, 
off£t
, 
˛ùBD
); x--;

227 
pD°
[
x
] = 
	`noWeightUnidú
(
pSrc0
[x], 
round
, 
shi·Num
, 
off£t
, 
˛ùBD
); x--;

228 
pD°
[
x
] = 
	`noWeightUnidú
(
pSrc0
[x], 
round
, 
shi·Num
, 
off£t
, 
˛ùBD
); x--;

230  ; 
x
 >= 0; x--)

232 
pD°
[
x
] = 
	`noWeightUnidú
(
pSrc0
[x], 
round
, 
shi·Num
, 
off£t
, 
˛ùBD
);

234 
pSrc0
 +
iSrc0Såide
;

235 
pD°
 +
iD°Såide
;

240 
	}
}

247 
Void
 
	gTComWeightPªdi˘i⁄
::
	$gëWpSˇlög
–
TComD©aCU
 *c⁄° 
pcCU
,

248 c⁄° 
I¡
 
iRefIdx0
,

249 c⁄° 
I¡
 
iRefIdx1
,

250 
WPSˇlögP¨am
 *&
wp0
,

251 
WPSˇlögP¨am
 *&
wp1
)

253 
	`as£π
(
iRefIdx0
 >0 || 
iRefIdx1
 >= 0);

255 
TComSli˚
 *c⁄° 
pcSli˚
 = 
pcCU
->
	`gëSli˚
();

256 c⁄° 
Boﬁ
 
wpBiPªd
 = 
pcCU
->
	`gëSli˚
()->
	`gëPPS
()->
	`gëWPBiPªd
();

257 c⁄° 
Boﬁ
 
bBiPªd
 = (
iRefIdx0
>=0 && 
iRefIdx1
>=0);

258 c⁄° 
Boﬁ
 
bUniPªd
 = !
bBiPªd
;

260 i‡–
bUniPªd
 || 
wpBiPªd
 )

262 i‡–
iRefIdx0
 >= 0 )

264 
pcSli˚
->
	`gëWpSˇlög
(
REF_PIC_LIST_0
, 
iRefIdx0
, 
wp0
);

266 i‡–
iRefIdx1
 >= 0 )

268 
pcSli˚
->
	`gëWpSˇlög
(
REF_PIC_LIST_1
, 
iRefIdx1
, 
wp1
);

273 
	`as£π
(0);

276 i‡–
iRefIdx0
 < 0 )

278 
wp0
 = 
NULL
;

280 i‡–
iRefIdx1
 < 0 )

282 
wp1
 = 
NULL
;

285 c⁄° 
UI¡
 
numVÆidComp⁄ít
 = 
pcCU
->
	`gëPic
()->
	`gëNumbîVÆidComp⁄íts
();

286 c⁄° 
Boﬁ
 
bU£HighPªcisi⁄Pªdi˘i⁄Weightög
 = 
pcSli˚
->
	`gëSPS
()->
	`gëSpsR™geExãnsi⁄
().
	`gëHighPªcisi⁄Off£tsE«bÀdFœg
();

288 i‡–
bBiPªd
 )

290  
I¡
 
yuv
=0 ; yuv<
numVÆidComp⁄ít
 ; yuv++ )

292 c⁄° 
I¡
 
bôDïth
 = 
pcSli˚
->
	`gëSPS
()->
	`gëBôDïth
(
	`toCh™√lTy≥
(
	`Comp⁄ítID
(
yuv
)));

293 c⁄° 
I¡
 
off£tSˇlögFa˘‹
 = 
bU£HighPªcisi⁄Pªdi˘i⁄Weightög
 ? 1 : (1 << (
bôDïth
-8));

295 
wp0
[
yuv
].
w
 = wp0[yuv].
iWeight
;

296 
wp1
[
yuv
].
w
 = wp1[yuv].
iWeight
;

297 
wp0
[
yuv
].
o
 = wp0[yuv].
iOff£t
 * 
off£tSˇlögFa˘‹
;

298 
wp1
[
yuv
].
o
 = wp1[yuv].
iOff£t
 * 
off£tSˇlögFa˘‹
;

299 
wp0
[
yuv
].
off£t
 = wp0[yuv].
o
 + 
wp1
[yuv].o;

300 
wp0
[
yuv
].
shi·
 = wp0[yuv].
uiLog2WeightDíom
 + 1;

301 
wp0
[
yuv
].
round
 = (1 << wp0[yuv].
uiLog2WeightDíom
);

302 
wp1
[
yuv
].
off£t
 = 
wp0
[yuv].offset;

303 
wp1
[
yuv
].
shi·
 = 
wp0
[yuv].shift;

304 
wp1
[
yuv
].
round
 = 
wp0
[yuv].round;

309 
WPSˇlögP¨am
 *c⁄° 
pwp
 = (
iRefIdx0
>=0Ë? 
wp0
 : 
wp1
 ;

311  
I¡
 
yuv
=0 ; yuv<
numVÆidComp⁄ít
 ; yuv++ )

313 c⁄° 
I¡
 
bôDïth
 = 
pcSli˚
->
	`gëSPS
()->
	`gëBôDïth
(
	`toCh™√lTy≥
(
	`Comp⁄ítID
(
yuv
)));

314 c⁄° 
I¡
 
off£tSˇlögFa˘‹
 = 
bU£HighPªcisi⁄Pªdi˘i⁄Weightög
 ? 1 : (1 << (
bôDïth
-8));

316 
pwp
[
yuv
].
w
 =Öwp[yuv].
iWeight
;

317 
pwp
[
yuv
].
off£t
 =Öwp[yuv].
iOff£t
 * 
off£tSˇlögFa˘‹
;

318 
pwp
[
yuv
].
shi·
 =Öwp[yuv].
uiLog2WeightDíom
;

319 
pwp
[
yuv
].
round
 = (pwp[yuv].
uiLog2WeightDíom
>=1) ? (1 << (pwp[yuv].uiLog2WeightDenom-1)) : (0);

322 
	}
}

326 
Void
 
	gTComWeightPªdi˘i⁄
::
	$xWeighãdPªdi˘i⁄Bi
–
TComD©aCU
 *c⁄° 
pcCU
,

327 c⁄° 
TComYuv
 *c⁄° 
pcYuvSrc0
,

328 c⁄° 
TComYuv
 *c⁄° 
pcYuvSrc1
,

329 c⁄° 
I¡
 
iRefIdx0
,

330 c⁄° 
I¡
 
iRefIdx1
,

331 c⁄° 
UI¡
 
uiP¨tIdx
,

332 c⁄° 
I¡
 
iWidth
,

333 c⁄° 
I¡
 
iHeight
,

334 
TComYuv
 *
ΩcYuvD°
 )

336 
WPSˇlögP¨am
 *
pwp0
;

337 
WPSˇlögP¨am
 *
pwp1
;

339 
	`as£π
(
pcCU
->
	`gëSli˚
()->
	`gëPPS
()->
	`gëWPBiPªd
());

341 
	`gëWpSˇlög
(
pcCU
, 
iRefIdx0
, 
iRefIdx1
, 
pwp0
, 
pwp1
);

343 if–
iRefIdx0
 >0 && 
iRefIdx1
 >= 0 )

345 
	`addWeightBi
(
pcYuvSrc0
, 
pcYuvSrc1
, 
pcCU
->
	`gëSli˚
()->
	`gëSPS
()->
	`gëBôDïths
(), 
uiP¨tIdx
, 
iWidth
, 
iHeight
, 
pwp0
, 
pwp1
, 
ΩcYuvD°
 );

347 i‡–
iRefIdx0
 >0 && 
iRefIdx1
 < 0 )

349 
	`addWeightUni
–
pcYuvSrc0
, 
pcCU
->
	`gëSli˚
()->
	`gëSPS
()->
	`gëBôDïths
(), 
uiP¨tIdx
, 
iWidth
, 
iHeight
, 
pwp0
, 
ΩcYuvD°
 );

351 i‡–
iRefIdx0
 < 0 && 
iRefIdx1
 >= 0 )

353 
	`addWeightUni
–
pcYuvSrc1
, 
pcCU
->
	`gëSli˚
()->
	`gëSPS
()->
	`gëBôDïths
(), 
uiP¨tIdx
, 
iWidth
, 
iHeight
, 
pwp1
, 
ΩcYuvD°
 );

357 
	`as£π
 (0);

359 
	}
}

363 
Void
 
	gTComWeightPªdi˘i⁄
::
	$xWeighãdPªdi˘i⁄Uni
–
TComD©aCU
 *c⁄° 
pcCU
,

364 c⁄° 
TComYuv
 *c⁄° 
pcYuvSrc
,

365 c⁄° 
UI¡
 
uiP¨tAddr
,

366 c⁄° 
I¡
 
iWidth
,

367 c⁄° 
I¡
 
iHeight
,

368 c⁄° 
RefPicLi°
 
eRefPicLi°
,

369 
TComYuv
 *
pcYuvPªd
,

370 c⁄° 
I¡
 
iRefIdx_öput
)

372 
WPSˇlögP¨am
 *
pwp
, *
pwpTmp
;

374 
I¡
 
iRefIdx
=
iRefIdx_öput
;

375 i‡–
iRefIdx
 < 0 )

377 
iRefIdx
 = 
pcCU
->
	`gëCUMvFõld
–
eRefPicLi°
 )->
	`gëRefIdx
–
uiP¨tAddr
 );

379 
	`as£π
 (
iRefIdx
 >= 0);

381 i‡–
eRefPicLi°
 =
REF_PIC_LIST_0
 )

383 
	`gëWpSˇlög
(
pcCU
, 
iRefIdx
, -1, 
pwp
, 
pwpTmp
);

387 
	`gëWpSˇlög
(
pcCU
, -1, 
iRefIdx
, 
pwpTmp
, 
pwp
);

389 
	`addWeightUni
–
pcYuvSrc
, 
pcCU
->
	`gëSli˚
()->
	`gëSPS
()->
	`gëBôDïths
(), 
uiP¨tAddr
, 
iWidth
, 
iHeight
, 
pwp
, 
pcYuvPªd
 );

390 
	}
}

	@TComWeightPrediction.h

38 #i‚de‡
__TCOMWEIGHTPREDICTION__


39 
	#__TCOMWEIGHTPREDICTION__


	)

41 
	~"Comm⁄Def.h
"

44 
˛ass
 
	gTComD©aCU
;

45 
˛ass
 
	gTComYuv
;

46 
	gWPSˇlögP¨am
;

52 ˛as†
	cTComWeightPªdi˘i⁄


54 
	mpublic
:

55 
TComWeightPªdi˘i⁄
();

57 
Void
 
gëWpSˇlög
–
TComD©aCU
 *c⁄° 
pcCU
,

58 c⁄° 
I¡
 
iRefIdx0
,

59 c⁄° 
I¡
 
iRefIdx1
,

60 
WPSˇlögP¨am
 *&
wp0
,

61 
WPSˇlögP¨am
 *&
wp1
);

63 
Void
 
addWeightBi
–c⁄° 
TComYuv
 *
pcYuvSrc0
,

64 c⁄° 
TComYuv
 *
pcYuvSrc1
,

65 c⁄° 
BôDïths
 &
bôDïths
,

66 c⁄° 
UI¡
 
iP¨tUnôIdx
,

67 c⁄° 
UI¡
 
uiWidth
,

68 c⁄° 
UI¡
 
uiHeight
,

69 c⁄° 
WPSˇlögP¨am
 *c⁄° 
wp0
,

70 c⁄° 
WPSˇlögP¨am
 *c⁄° 
wp1
,

71 
TComYuv
 *c⁄° 
ΩcYuvD°
,

72 c⁄° 
Boﬁ
 
bRoundLuma
=
åue
 );

74 
Void
 
addWeightUni
–c⁄° 
TComYuv
 *c⁄° 
pcYuvSrc0
,

75 c⁄° 
BôDïths
 &
bôDïths
,

76 c⁄° 
UI¡
 
iP¨tUnôIdx
,

77 c⁄° 
UI¡
 
uiWidth
,

78 c⁄° 
UI¡
 
uiHeight
,

79 c⁄° 
WPSˇlögP¨am
 *c⁄° 
wp0
,

80 
TComYuv
 *c⁄° 
ΩcYuvD°
 );

82 
Void
 
xWeighãdPªdi˘i⁄Uni
–
TComD©aCU
 *c⁄° 
pcCU
,

83 c⁄° 
TComYuv
 *c⁄° 
pcYuvSrc
,

84 c⁄° 
UI¡
 
uiP¨tAddr
,

85 c⁄° 
I¡
 
iWidth
,

86 c⁄° 
I¡
 
iHeight
,

87 c⁄° 
RefPicLi°
 
eRefPicLi°
,

88 
TComYuv
 *
pcYuvPªd
,

89 c⁄° 
I¡
 
iRefIdx
=-1 );

91 
Void
 
xWeighãdPªdi˘i⁄Bi
–
TComD©aCU
 *c⁄° 
pcCU
,

92 c⁄° 
TComYuv
 *c⁄° 
pcYuvSrc0
,

93 c⁄° 
TComYuv
 *c⁄° 
pcYuvSrc1
,

94 c⁄° 
I¡
 
iRefIdx0
,

95 c⁄° 
I¡
 
iRefIdx1
,

96 c⁄° 
UI¡
 
uiP¨tIdx
,

97 c⁄° 
I¡
 
iWidth
,

98 c⁄° 
I¡
 
iHeight
,

99 
TComYuv
 *
pcYuvD°
 );

	@TComYuv.cpp

39 
	~<°dlib.h
>

40 
	~<mem‹y.h
>

41 
	~<as£π.h
>

42 
	~<m©h.h
>

44 
	~"Comm⁄Def.h
"

45 
	~"TComYuv.h
"

46 
	~"TComI¡îpﬁ©i⁄Fûãr.h
"

51 
	gTComYuv
::
	$TComYuv
()

53 
I¡
 
comp
=0; comp<
MAX_NUM_COMPONENT
; comp++)

55 
m_≠iBuf
[
comp
] = 
NULL
;

57 
	}
}

59 
	gTComYuv
::~
	$TComYuv
()

61 
	`de°roy
();

62 
	}
}

64 
Void
 
	gTComYuv
::
	$¸óã
–
UI¡
 
iWidth
, UI¡ 
iHeight
, 
ChromaF‹m©
 
chromaF‹m©IDC
 )

66 
	`de°roy
();

68 
m_iWidth
 = 
iWidth
;

69 
m_iHeight
 = 
iHeight
;

70 
m_chromaF‹m©IDC
 = 
chromaF‹m©IDC
;

72 
I¡
 
comp
=0; comp<
MAX_NUM_COMPONENT
; comp++)

75 
m_≠iBuf
[
comp
] = (
Pñ
*)
	`xMÆloc
–Pñ, 
	`gëWidth
(
	`Comp⁄ítID
(comp))*
	`gëHeight
(ComponentID(comp)) );

77 
	}
}

79 
Void
 
	gTComYuv
::
	$de°roy
()

82 
I¡
 
comp
=0; comp<
MAX_NUM_COMPONENT
; comp++)

84 i‡(
m_≠iBuf
[
comp
]!=
NULL
)

86 
	`xFªe
–
m_≠iBuf
[
comp
] );

87 
m_≠iBuf
[
comp
] = 
NULL
;

90 
	}
}

92 
Void
 
	gTComYuv
::
	$˛ór
()

94 
I¡
 
comp
=0; comp<
MAX_NUM_COMPONENT
; comp++)

96 i‡(
m_≠iBuf
[
comp
]!=
NULL
)

98 ::
	`mem£t
–
m_≠iBuf
[
comp
], 0, ( 
	`gëWidth
(
	`Comp⁄ítID
(comp)Ë* 
	`gëHeight
(Comp⁄ítID(comp)Ë)*(
Pñ
) );

101 
	}
}

106 
Void
 
	gTComYuv
::
	$c›yToPicYuv
 ( 
TComPicYuv
* 
pcPicYuvD°
, c⁄° 
UI¡
 
˘uRsAddr
, c⁄° UI¡ 
uiAbsZ‹dîIdx
, c⁄° UI¡ 
uiP¨tDïth
, c⁄° UI¡ 
uiP¨tIdx
 ) const

108 
I¡
 
comp
=0; comp<
	`gëNumbîVÆidComp⁄íts
(); comp++)

110 
	`c›yToPicComp⁄ít
 ( 
	`Comp⁄ítID
(
comp
), 
pcPicYuvD°
, 
˘uRsAddr
, 
uiAbsZ‹dîIdx
, 
uiP¨tDïth
, 
uiP¨tIdx
 );

112 
	}
}

114 
Void
 
	gTComYuv
::
	$c›yToPicComp⁄ít
 ( c⁄° 
Comp⁄ítID
 
compID
, 
TComPicYuv
* 
pcPicYuvD°
, c⁄° 
UI¡
 
˘uRsAddr
, c⁄° UI¡ 
uiAbsZ‹dîIdx
, c⁄° UI¡ 
uiP¨tDïth
, c⁄° UI¡ 
uiP¨tIdx
 ) const

116 c⁄° 
I¡
 
iWidth
 = 
	`gëWidth
(
compID
Ë>>
uiP¨tDïth
;

117 c⁄° 
I¡
 
iHeight
 = 
	`gëHeight
(
compID
)>>
uiP¨tDïth
;

119 c⁄° 
Pñ
* 
pSrc
 = 
	`gëAddr
(
compID
, 
uiP¨tIdx
, 
iWidth
);

120 
Pñ
* 
pD°
 = 
pcPicYuvD°
->
	`gëAddr
 ( 
compID
, 
˘uRsAddr
, 
uiAbsZ‹dîIdx
 );

122 c⁄° 
UI¡
 
iSrcSåide
 = 
	`gëSåide
(
compID
);

123 c⁄° 
UI¡
 
iD°Såide
 = 
pcPicYuvD°
->
	`gëSåide
(
compID
);

125  
I¡
 
y
 = 
iHeight
; y != 0; y-- )

127 ::
	`mem˝y
–
pD°
, 
pSrc
, (
Pñ
)*
iWidth
);

128 
pD°
 +
iD°Såide
;

129 
pSrc
 +
iSrcSåide
;

131 
	}
}

136 
Void
 
	gTComYuv
::
	$c›yFromPicYuv
 ( c⁄° 
TComPicYuv
* 
pcPicYuvSrc
, c⁄° 
UI¡
 
˘uRsAddr
, c⁄° UI¡ 
uiAbsZ‹dîIdx
 )

138 
I¡
 
comp
=0; comp<
	`gëNumbîVÆidComp⁄íts
(); comp++)

140 
	`c›yFromPicComp⁄ít
 ( 
	`Comp⁄ítID
(
comp
), 
pcPicYuvSrc
, 
˘uRsAddr
, 
uiAbsZ‹dîIdx
 );

142 
	}
}

144 
Void
 
	gTComYuv
::
	$c›yFromPicComp⁄ít
 ( c⁄° 
Comp⁄ítID
 
compID
, c⁄° 
TComPicYuv
* 
pcPicYuvSrc
, c⁄° 
UI¡
 
˘uRsAddr
, c⁄° UI¡ 
uiAbsZ‹dîIdx
 )

146 
Pñ
* 
pD°
 = 
	`gëAddr
(
compID
);

147 c⁄° 
Pñ
* 
pSrc
 = 
pcPicYuvSrc
->
	`gëAddr
 ( 
compID
, 
˘uRsAddr
, 
uiAbsZ‹dîIdx
 );

149 c⁄° 
UI¡
 
iD°Såide
 = 
	`gëSåide
(
compID
);

150 c⁄° 
UI¡
 
iSrcSåide
 = 
pcPicYuvSrc
->
	`gëSåide
(
compID
);

151 c⁄° 
I¡
 
iWidth
=
	`gëWidth
(
compID
);

152 c⁄° 
I¡
 
iHeight
=
	`gëHeight
(
compID
);

154 
I¡
 
y
 = 
iHeight
; y != 0; y-- )

156 ::
	`mem˝y
–
pD°
, 
pSrc
, (
Pñ
)*
iWidth
);

157 
pD°
 +
iD°Såide
;

158 
pSrc
 +
iSrcSåide
;

160 
	}
}

165 
Void
 
	gTComYuv
::
	$c›yToP¨tYuv
–
TComYuv
* 
pcYuvD°
, c⁄° 
UI¡
 
uiD°P¨tIdx
 ) const

167 
I¡
 
comp
=0; comp<
	`gëNumbîVÆidComp⁄íts
(); comp++)

169 
	`c›yToP¨tComp⁄ít
 ( 
	`Comp⁄ítID
(
comp
), 
pcYuvD°
, 
uiD°P¨tIdx
 );

171 
	}
}

173 
Void
 
	gTComYuv
::
	$c›yToP¨tComp⁄ít
–c⁄° 
Comp⁄ítID
 
compID
, 
TComYuv
* 
pcYuvD°
, c⁄° 
UI¡
 
uiD°P¨tIdx
 ) const

175 c⁄° 
Pñ
* 
pSrc
 = 
	`gëAddr
(
compID
);

176 
Pñ
* 
pD°
 = 
pcYuvD°
->
	`gëAddr
–
compID
, 
uiD°P¨tIdx
 );

178 c⁄° 
UI¡
 
iSrcSåide
 = 
	`gëSåide
(
compID
);

179 c⁄° 
UI¡
 
iD°Såide
 = 
pcYuvD°
->
	`gëSåide
(
compID
);

180 c⁄° 
I¡
 
iWidth
=
	`gëWidth
(
compID
);

181 c⁄° 
I¡
 
iHeight
=
	`gëHeight
(
compID
);

183 
I¡
 
y
 = 
iHeight
; y != 0; y-- )

185 ::
	`mem˝y
–
pD°
, 
pSrc
, (
Pñ
)*
iWidth
);

186 
pD°
 +
iD°Såide
;

187 
pSrc
 +
iSrcSåide
;

189 
	}
}

194 
Void
 
	gTComYuv
::
	$c›yP¨tToYuv
–
TComYuv
* 
pcYuvD°
, c⁄° 
UI¡
 
uiSrcP¨tIdx
 ) const

196 
I¡
 
comp
=0; comp<
	`gëNumbîVÆidComp⁄íts
(); comp++)

198 
	`c›yP¨tToComp⁄ít
 ( 
	`Comp⁄ítID
(
comp
), 
pcYuvD°
, 
uiSrcP¨tIdx
 );

200 
	}
}

202 
Void
 
	gTComYuv
::
	$c›yP¨tToComp⁄ít
–c⁄° 
Comp⁄ítID
 
compID
, 
TComYuv
* 
pcYuvD°
, c⁄° 
UI¡
 
uiSrcP¨tIdx
 ) const

204 c⁄° 
Pñ
* 
pSrc
 = 
	`gëAddr
(
compID
, 
uiSrcP¨tIdx
);

205 
Pñ
* 
pD°
 = 
pcYuvD°
->
	`gëAddr
(
compID
, 0 );

207 c⁄° 
UI¡
 
iSrcSåide
 = 
	`gëSåide
(
compID
);

208 c⁄° 
UI¡
 
iD°Såide
 = 
pcYuvD°
->
	`gëSåide
(
compID
);

210 c⁄° 
UI¡
 
uiHeight
 = 
pcYuvD°
->
	`gëHeight
(
compID
);

211 c⁄° 
UI¡
 
uiWidth
 = 
pcYuvD°
->
	`gëWidth
(
compID
);

213  
UI¡
 
y
 = 
uiHeight
; y != 0; y-- )

215 ::
	`mem˝y
–
pD°
, 
pSrc
, (
Pñ
)*
uiWidth
);

216 
pD°
 +
iD°Såide
;

217 
pSrc
 +
iSrcSåide
;

219 
	}
}

224 
Void
 
	gTComYuv
::
	$c›yP¨tToP¨tYuv
 ( 
TComYuv
* 
pcYuvD°
, c⁄° 
UI¡
 
uiP¨tIdx
, c⁄° UI¡ 
iWidth
, c⁄° UI¡ 
iHeight
 ) const

226 
I¡
 
comp
=0; comp<
	`gëNumbîVÆidComp⁄íts
(); comp++)

228 
	`c›yP¨tToP¨tComp⁄ít
 (
	`Comp⁄ítID
(
comp
), 
pcYuvD°
, 
uiP¨tIdx
, 
iWidth
>>
	`gëComp⁄ítSˇÀX
(Comp⁄ítID(comp)), 
iHeight
>>
	`gëComp⁄ítSˇÀY
(ComponentID(comp)) );

230 
	}
}

232 
Void
 
	gTComYuv
::
	$c›yP¨tToP¨tComp⁄ít
 ( c⁄° 
Comp⁄ítID
 
compID
, 
TComYuv
* 
pcYuvD°
, c⁄° 
UI¡
 
uiP¨tIdx
, c⁄° UI¡ 
iWidthComp⁄ít
, c⁄° UI¡ 
iHeightComp⁄ít
 ) const

234 c⁄° 
Pñ
* 
pSrc
 = 
	`gëAddr
(
compID
, 
uiP¨tIdx
);

235 
Pñ
* 
pD°
 = 
pcYuvD°
->
	`gëAddr
(
compID
, 
uiP¨tIdx
);

236 if–
pSrc
 =
pD°
 )

243 c⁄° 
UI¡
 
iSrcSåide
 = 
	`gëSåide
(
compID
);

244 c⁄° 
UI¡
 
iD°Såide
 = 
pcYuvD°
->
	`gëSåide
(
compID
);

245  
UI¡
 
y
 = 
iHeightComp⁄ít
; y != 0; y-- )

247 ::
	`mem˝y
–
pD°
, 
pSrc
, 
iWidthComp⁄ít
 * (
Pñ
) );

248 
pSrc
 +
iSrcSåide
;

249 
pD°
 +
iD°Såide
;

251 
	}
}

256 
Void
 
	gTComYuv
::
	$c›yP¨tToP¨tComp⁄ítMxN
 ( c⁄° 
Comp⁄ítID
 
compID
, 
TComYuv
* 
pcYuvD°
, c⁄° 
TComRe˘™gÀ
 &
ª˘
) const

258 c⁄° 
Pñ
* 
pSrc
 = 
	`gëAddrPix
–
compID
, 
ª˘
.
x0
,Ñe˘.
y0
 );

259 
Pñ
* 
pD°
 = 
pcYuvD°
->
	`gëAddrPix
–
compID
, 
ª˘
.
x0
,Ñe˘.
y0
 );

260 if–
pSrc
 =
pD°
 )

267 c⁄° 
UI¡
 
iSrcSåide
 = 
	`gëSåide
(
compID
);

268 c⁄° 
UI¡
 
iD°Såide
 = 
pcYuvD°
->
	`gëSåide
(
compID
);

269 c⁄° 
UI¡
 
uiHeightComp⁄ít
=
ª˘
.
height
;

270 c⁄° 
UI¡
 
uiWidthComp⁄ít
=
ª˘
.
width
;

271  
UI¡
 
y
 = 
uiHeightComp⁄ít
; y != 0; y-- )

273 ::
	`mem˝y
–
pD°
, 
pSrc
, 
uiWidthComp⁄ít
 * –
Pñ
 ) );

274 
pSrc
 +
iSrcSåide
;

275 
pD°
 +
iD°Såide
;

277 
	}
}

282 
Void
 
	gTComYuv
::
	$addClù
–c⁄° 
TComYuv
* 
pcYuvSrc0
, c⁄° TComYuv* 
pcYuvSrc1
, c⁄° 
UI¡
 
uiTrUnôIdx
, c⁄° UI¡ 
uiP¨tSize
, c⁄° 
BôDïths
 &
˛ùBôDïths
 )

284 
I¡
 
comp
=0; comp<
	`gëNumbîVÆidComp⁄íts
(); comp++)

286 c⁄° 
Comp⁄ítID
 
compID
=
	`Comp⁄ítID
(
comp
);

287 c⁄° 
I¡
 
uiP¨tWidth
 =
uiP¨tSize
>>
	`gëComp⁄ítSˇÀX
(
compID
);

288 c⁄° 
I¡
 
uiP¨tHeight
=
uiP¨tSize
>>
	`gëComp⁄ítSˇÀY
(
compID
);

290 c⁄° 
Pñ
* 
pSrc0
 = 
pcYuvSrc0
->
	`gëAddr
(
compID
, 
uiTrUnôIdx
, 
uiP¨tWidth
 );

291 c⁄° 
Pñ
* 
pSrc1
 = 
pcYuvSrc1
->
	`gëAddr
(
compID
, 
uiTrUnôIdx
, 
uiP¨tWidth
 );

292 
Pñ
* 
pD°
 = 
	`gëAddr
(
compID
, 
uiTrUnôIdx
, 
uiP¨tWidth
 );

294 c⁄° 
UI¡
 
iSrc0Såide
 = 
pcYuvSrc0
->
	`gëSåide
(
compID
);

295 c⁄° 
UI¡
 
iSrc1Såide
 = 
pcYuvSrc1
->
	`gëSåide
(
compID
);

296 c⁄° 
UI¡
 
iD°Såide
 = 
	`gëSåide
(
compID
);

297 c⁄° 
I¡
 
˛ùbd
 = 
˛ùBôDïths
.
ªc⁄
[
	`toCh™√lTy≥
(
compID
)];

298 #i‡
O0043_BEST_EFFORT_DECODING


299 c⁄° 
I¡
 
bôDïthDñè
 = 
˛ùBôDïths
.
°ªam
[
	`toCh™√lTy≥
(
compID
)] - 
˛ùbd
;

302  
I¡
 
y
 = 
uiP¨tHeight
-1; y >= 0; y-- )

304  
I¡
 
x
 = 
uiP¨tWidth
-1; x >= 0; x-- )

306 #i‡
O0043_BEST_EFFORT_DECODING


307 
pD°
[
x
] = 
	`Pñ
(
ClùBD
<
I¡
>–
	`I¡
(
pSrc0
[x]Ë+ 
rightShi·EvíRoundög
<
Pñ
>(
pSrc1
[x], 
bôDïthDñè
), 
˛ùbd
));

309 
pD°
[
x
] = 
	`Pñ
(
ClùBD
<
I¡
>–
	`I¡
(
pSrc0
[x]Ë+ I¡(
pSrc1
[x]), 
˛ùbd
));

312 
pSrc0
 +
iSrc0Såide
;

313 
pSrc1
 +
iSrc1Såide
;

314 
pD°
 +
iD°Såide
;

317 
	}
}

322 
Void
 
	gTComYuv
::
	$subåa˘
–c⁄° 
TComYuv
* 
pcYuvSrc0
, c⁄° TComYuv* 
pcYuvSrc1
, c⁄° 
UI¡
 
uiTrUnôIdx
, c⁄° UI¡ 
uiP¨tSize
 )

324 
I¡
 
comp
=0; comp<
	`gëNumbîVÆidComp⁄íts
(); comp++)

326 c⁄° 
Comp⁄ítID
 
compID
=
	`Comp⁄ítID
(
comp
);

327 c⁄° 
I¡
 
uiP¨tWidth
 =
uiP¨tSize
>>
	`gëComp⁄ítSˇÀX
(
compID
);

328 c⁄° 
I¡
 
uiP¨tHeight
=
uiP¨tSize
>>
	`gëComp⁄ítSˇÀY
(
compID
);

330 c⁄° 
Pñ
* 
pSrc0
 = 
pcYuvSrc0
->
	`gëAddr
–
compID
, 
uiTrUnôIdx
, 
uiP¨tWidth
 );

331 c⁄° 
Pñ
* 
pSrc1
 = 
pcYuvSrc1
->
	`gëAddr
–
compID
, 
uiTrUnôIdx
, 
uiP¨tWidth
 );

332 
Pñ
* 
pD°
 = 
	`gëAddr
–
compID
, 
uiTrUnôIdx
, 
uiP¨tWidth
 );

334 c⁄° 
I¡
 
iSrc0Såide
 = 
pcYuvSrc0
->
	`gëSåide
(
compID
);

335 c⁄° 
I¡
 
iSrc1Såide
 = 
pcYuvSrc1
->
	`gëSåide
(
compID
);

336 c⁄° 
I¡
 
iD°Såide
 = 
	`gëSåide
(
compID
);

338 
I¡
 
y
 = 
uiP¨tHeight
-1; y >= 0; y-- )

340 
I¡
 
x
 = 
uiP¨tWidth
-1; x >= 0; x-- )

342 
pD°
[
x
] = 
pSrc0
[x] - 
pSrc1
[x];

344 
pSrc0
 +
iSrc0Såide
;

345 
pSrc1
 +
iSrc1Såide
;

346 
pD°
 +
iD°Såide
;

349 
	}
}

354 
Void
 
	gTComYuv
::
	$addAvg
–c⁄° 
TComYuv
* 
pcYuvSrc0
, c⁄° TComYuv* 
pcYuvSrc1
, c⁄° 
UI¡
 
iP¨tUnôIdx
, c⁄° UI¡ 
uiWidth
, c⁄° UI¡ 
uiHeight
, c⁄° 
BôDïths
 &
˛ùBôDïths
 )

356 
I¡
 
comp
=0; comp<
	`gëNumbîVÆidComp⁄íts
(); comp++)

358 c⁄° 
Comp⁄ítID
 
compID
=
	`Comp⁄ítID
(
comp
);

359 c⁄° 
Pñ
* 
pSrc0
 = 
pcYuvSrc0
->
	`gëAddr
–
compID
, 
iP¨tUnôIdx
 );

360 c⁄° 
Pñ
* 
pSrc1
 = 
pcYuvSrc1
->
	`gëAddr
–
compID
, 
iP¨tUnôIdx
 );

361 
Pñ
* 
pD°
 = 
	`gëAddr
–
compID
, 
iP¨tUnôIdx
 );

363 c⁄° 
UI¡
 
iSrc0Såide
 = 
pcYuvSrc0
->
	`gëSåide
(
compID
);

364 c⁄° 
UI¡
 
iSrc1Såide
 = 
pcYuvSrc1
->
	`gëSåide
(
compID
);

365 c⁄° 
UI¡
 
iD°Såide
 = 
	`gëSåide
(
compID
);

366 c⁄° 
I¡
 
˛ùbd
 = 
˛ùBôDïths
.
ªc⁄
[
	`toCh™√lTy≥
(
compID
)];

367 c⁄° 
I¡
 
shi·Num
 = 
°d
::
max
<I¡>(2, (
IF_INTERNAL_PREC
 - 
˛ùbd
)) + 1;

368 c⁄° 
I¡
 
off£t
 = ( 1 << ( 
shi·Num
 - 1 ) ) + 2 * 
IF_INTERNAL_OFFS
;

370 c⁄° 
I¡
 
iWidth
 = 
uiWidth
 >> 
	`gëComp⁄ítSˇÀX
(
compID
);

371 c⁄° 
I¡
 
iHeight
 = 
uiHeight
 >> 
	`gëComp⁄ítSˇÀY
(
compID
);

373 i‡(
iWidth
&1)

375 
	`as£π
(0);

376 
	`exô
(-1);

378 i‡(
iWidth
&2)

380  
I¡
 
y
 = 0; y < 
iHeight
; y++ )

382 
I¡
 
x
=0 ; x < 
iWidth
; x+=2 )

384 
pD°
[ 
x
 + 0 ] = 
	`ClùBD
–
	`rightShi·
(–
pSrc0
[ x + 0 ] + 
pSrc1
[ x + 0 ] + 
off£t
 ), 
shi·Num
), 
˛ùbd
 );

385 
pD°
[ 
x
 + 1 ] = 
	`ClùBD
–
	`rightShi·
(–
pSrc0
[ x + 1 ] + 
pSrc1
[ x + 1 ] + 
off£t
 ), 
shi·Num
), 
˛ùbd
 );

387 
pSrc0
 +
iSrc0Såide
;

388 
pSrc1
 +
iSrc1Såide
;

389 
pD°
 +
iD°Såide
;

394  
I¡
 
y
 = 0; y < 
iHeight
; y++ )

396 
I¡
 
x
=0 ; x < 
iWidth
; x+=4 )

398 
pD°
[ 
x
 + 0 ] = 
	`ClùBD
–
	`rightShi·
(–
pSrc0
[ x + 0 ] + 
pSrc1
[ x + 0 ] + 
off£t
 ), 
shi·Num
), 
˛ùbd
 );

399 
pD°
[ 
x
 + 1 ] = 
	`ClùBD
–
	`rightShi·
(–
pSrc0
[ x + 1 ] + 
pSrc1
[ x + 1 ] + 
off£t
 ), 
shi·Num
), 
˛ùbd
 );

400 
pD°
[ 
x
 + 2 ] = 
	`ClùBD
–
	`rightShi·
(–
pSrc0
[ x + 2 ] + 
pSrc1
[ x + 2 ] + 
off£t
 ), 
shi·Num
), 
˛ùbd
 );

401 
pD°
[ 
x
 + 3 ] = 
	`ClùBD
–
	`rightShi·
(–
pSrc0
[ x + 3 ] + 
pSrc1
[ x + 3 ] + 
off£t
 ), 
shi·Num
), 
˛ùbd
 );

403 
pSrc0
 +
iSrc0Såide
;

404 
pSrc1
 +
iSrc1Såide
;

405 
pD°
 +
iD°Såide
;

409 
	}
}

411 
Void
 
	gTComYuv
::
	$ªmoveHighFªq
–c⁄° 
TComYuv
* 
pcYuvSrc
,

412 c⁄° 
UI¡
 
uiP¨tIdx
,

413 c⁄° 
UI¡
 
uiWidth
,

414 c⁄° 
UI¡
 
uiHeight
,

415 c⁄° 
I¡
 
bôDïths
[
MAX_NUM_CHANNEL_TYPE
],

416 c⁄° 
Boﬁ
 
bClùToBôDïths


419 
I¡
 
comp
=0; comp<
	`gëNumbîVÆidComp⁄íts
(); comp++)

421 c⁄° 
Comp⁄ítID
 
compID
=
	`Comp⁄ítID
(
comp
);

422 c⁄° 
Pñ
* 
pSrc
 = 
pcYuvSrc
->
	`gëAddr
(
compID
, 
uiP¨tIdx
);

423 
Pñ
* 
pD°
 = 
	`gëAddr
(
compID
, 
uiP¨tIdx
);

425 c⁄° 
I¡
 
iSrcSåide
 = 
pcYuvSrc
->
	`gëSåide
(
compID
);

426 c⁄° 
I¡
 
iD°Såide
 = 
	`gëSåide
(
compID
);

427 c⁄° 
I¡
 
iWidth
 = 
uiWidth
 >>
	`gëComp⁄ítSˇÀX
(
compID
);

428 c⁄° 
I¡
 
iHeight
 = 
uiHeight
>>
	`gëComp⁄ítSˇÀY
(
compID
);

429 i‡(
bClùToBôDïths
)

431 c⁄° 
I¡
 
˛ùBd
=
bôDïths
[
	`toCh™√lTy≥
(
compID
)];

432  
I¡
 
y
 = 
iHeight
-1; y >= 0; y-- )

434  
I¡
 
x
 = 
iWidth
-1; x >= 0; x-- )

436 
pD°
[
x
 ] = 
	`ClùBD
((2 *ÖD°[x]Ë- 
pSrc
[x], 
˛ùBd
);

438 
pSrc
 +
iSrcSåide
;

439 
pD°
 +
iD°Såide
;

444  
I¡
 
y
 = 
iHeight
-1; y >= 0; y-- )

446  
I¡
 
x
 = 
iWidth
-1; x >= 0; x-- )

448 
pD°
[
x
 ] = (2 *ÖD°[x]Ë- 
pSrc
[x];

450 
pSrc
 +
iSrcSåide
;

451 
pD°
 +
iD°Såide
;

455 
	}
}

	@TComYuv.h

40 #i‚de‡
__TCOMYUV__


41 
	#__TCOMYUV__


	)

42 
	~"Comm⁄Def.h
"

43 
	~"TComPicYuv.h
"

44 
	~"TComRe˘™gÀ.h
"

54 ˛as†
	cTComYuv


56 
	m¥iv©e
:

62 
Pñ
* 
m_≠iBuf
[
MAX_NUM_COMPONENT
];

68 
UI¡
 
	mm_iWidth
;

69 
UI¡
 
	mm_iHeight
;

70 
ChromaF‹m©
 
	mm_chromaF‹m©IDC
;

88 
	mpublic
:

90 
TComYuv
 ();

91 
	mvútuÆ
 ~
TComYuv
 ();

97 
Void
 
¸óã
 ( c⁄° 
UI¡
 
iWidth
, c⁄° UI¡ 
iHeight
, c⁄° 
ChromaF‹m©
 
chromaF‹m©IDC
 );

98 
Void
 
de°roy
 ();

99 
Void
 
˛ór
 ();

106 
Void
 
	$c›yToPicYuv
 ( 
TComPicYuv
* 
pcPicYuvD°
, c⁄° 
UI¡
 
˘uRsAddr
, c⁄° UI¡ 
uiAbsZ‹dîIdx
, c⁄° UI¡ 
uiP¨tDïth
 = 0, c⁄° UI¡ 
uiP¨tIdx
 = 0 ) const ;

107 
Void
 
	$c›yToPicComp⁄ít
 ( c⁄° 
Comp⁄ítID
 
id
, 
TComPicYuv
* 
pcPicYuvD°
, c⁄° 
UI¡
 
iCtuRsAddr
, c⁄° UI¡ 
uiAbsZ‹dîIdx
, c⁄° UI¡ 
uiP¨tDïth
 = 0, c⁄° UI¡ 
uiP¨tIdx
 = 0 ) const ;

110 
Void
 
	`c›yFromPicYuv
 ( c⁄° 
TComPicYuv
* 
pcPicYuvSrc
, c⁄° 
UI¡
 
˘uRsAddr
, c⁄° UI¡ 
uiAbsZ‹dîIdx
 );

111 
Void
 
	`c›yFromPicComp⁄ít
 ( c⁄° 
Comp⁄ítID
 
id
, c⁄° 
TComPicYuv
* 
pcPicYuvSrc
, c⁄° 
UI¡
 
iCtuRsAddr
, c⁄° UI¡ 
uiAbsZ‹dîIdx
 );

114 
Void
 
	$c›yToP¨tYuv
 ( 
TComYuv
* 
pcYuvD°
, c⁄° 
UI¡
 
uiD°P¨tIdx
 ) const ;

115 
Void
 
	$c›yToP¨tComp⁄ít
 ( c⁄° 
Comp⁄ítID
 
id
, 
TComYuv
* 
pcYuvD°
, c⁄° 
UI¡
 
uiD°P¨tIdx
 ) const ;

118 
Void
 
	$c›yP¨tToYuv
 ( 
TComYuv
* 
pcYuvD°
, c⁄° 
UI¡
 
uiSrcP¨tIdx
 ) const;

119 
Void
 
	$c›yP¨tToComp⁄ít
 ( c⁄° 
Comp⁄ítID
 
id
, 
TComYuv
* 
pcYuvD°
, c⁄° 
UI¡
 
uiSrcP¨tIdx
 ) const;

122 
Void
 
	$c›yP¨tToP¨tYuv
 ( 
TComYuv
* 
pcYuvD°
, c⁄° 
UI¡
 
uiP¨tIdx
, c⁄° UI¡ 
uiWidth
, c⁄° UI¡ 
uiHeight
 ) const;

123 
Void
 
	$c›yP¨tToP¨tComp⁄ít
 ( c⁄° 
Comp⁄ítID
 
id
, 
TComYuv
* 
pcYuvD°
, c⁄° 
UI¡
 
uiP¨tIdx
, c⁄° UI¡ 
uiWidthComp⁄ít
, c⁄° UI¡ 
uiHeightComp⁄ít
 ) const;

126 
Void
 
	$c›yP¨tToP¨tComp⁄ítMxN
 ( c⁄° 
Comp⁄ítID
 
id
, 
TComYuv
* 
pcYuvD°
, c⁄° 
TComRe˘™gÀ
 &
ª˘
 ) const;

133 
Void
 
	`addClù
 ( c⁄° 
TComYuv
* 
pcYuvSrc0
, c⁄° TComYuv* 
pcYuvSrc1
, c⁄° 
UI¡
 
uiTrUnôIdx
, c⁄° UI¡ 
uiP¨tSize
, c⁄° 
BôDïths
 &
˛ùBôDïths
 );

136 
Void
 
	`subåa˘
 ( c⁄° 
TComYuv
* 
pcYuvSrc0
, c⁄° TComYuv* 
pcYuvSrc1
, c⁄° 
UI¡
 
uiTrUnôIdx
, c⁄° UI¡ 
uiP¨tSize
 );

139 
Void
 
	`addAvg
 ( c⁄° 
TComYuv
* 
pcYuvSrc0
, c⁄° TComYuv* 
pcYuvSrc1
, c⁄° 
UI¡
 
iP¨tUnôIdx
, c⁄° UI¡ 
iWidth
, c⁄° UI¡ 
iHeight
, c⁄° 
BôDïths
 &
˛ùBôDïths
 );

141 
Void
 
	`ªmoveHighFªq
 ( c⁄° 
TComYuv
* 
pcYuvSrc
, c⁄° 
UI¡
 
uiP¨tIdx
, c⁄° UI¡ 
uiWidth
, c⁄° UI¡ 
uiHeight


142 , c⁄° 
I¡
 
bôDïths
[
MAX_NUM_CHANNEL_TYPE
], c⁄° 
Boﬁ
 
bClùToBôDïths


150 
Pñ
* 
	$gëAddr
 (c⁄° 
Comp⁄ítID
 
id
Ë{  
m_≠iBuf
[id]; }

151 c⁄° 
Pñ
* 
	$gëAddr
 (c⁄° 
Comp⁄ítID
 
id
Ëc⁄° {  
m_≠iBuf
[id]; 
	}
}

154 
Pñ
* 
	$gëAddr
 (c⁄° 
Comp⁄ítID
 
id
, c⁄° 
UI¡
 
uiP¨tUnôIdx
)

156 
I¡
 
blkX
 = 
g_auiRa°îToPñX
[ 
g_auiZsˇnToRa°î
[ 
uiP¨tUnôIdx
 ] ] >> 
	`gëComp⁄ítSˇÀX
(
id
);

157 
I¡
 
blkY
 = 
g_auiRa°îToPñY
[ 
g_auiZsˇnToRa°î
[ 
uiP¨tUnôIdx
 ] ] >> 
	`gëComp⁄ítSˇÀY
(
id
);

158 
	`as£π
((
blkX
<
	`gëWidth
(
id
Ë&& 
blkY
<
	`gëHeight
(id)));

159  
m_≠iBuf
[
id
] + 
blkX
 + 
blkY
 * 
	`gëSåide
(id);

160 
	}
}

161 c⁄° 
Pñ
* 
	$gëAddr
 (c⁄° 
Comp⁄ítID
 
id
, c⁄° 
UI¡
 
uiP¨tUnôIdx
) const

163 
I¡
 
blkX
 = 
g_auiRa°îToPñX
[ 
g_auiZsˇnToRa°î
[ 
uiP¨tUnôIdx
 ] ] >> 
	`gëComp⁄ítSˇÀX
(
id
);

164 
I¡
 
blkY
 = 
g_auiRa°îToPñY
[ 
g_auiZsˇnToRa°î
[ 
uiP¨tUnôIdx
 ] ] >> 
	`gëComp⁄ítSˇÀY
(
id
);

165 
	`as£π
((
blkX
<
	`gëWidth
(
id
Ë&& 
blkY
<
	`gëHeight
(id)));

166  
m_≠iBuf
[
id
] + 
blkX
 + 
blkY
 * 
	`gëSåide
(id);

167 
	}
}

170 
Pñ
* 
	$gëAddr
 (c⁄° 
Comp⁄ítID
 
id
, c⁄° 
UI¡
 
iTønsUnôIdx
, c⁄° UI¡ 
iBlkSizeF‹Comp⁄ít
)

172 
UI¡
 
width
=
	`gëWidth
(
id
);

173 
I¡
 
blkX
 = ( 
iTønsUnôIdx
 * 
iBlkSizeF‹Comp⁄ít
 ) & ( 
width
 - 1 );

174 
I¡
 
blkY
 = ( 
iTønsUnôIdx
 * 
iBlkSizeF‹Comp⁄ít
 ) &~ ( 
width
 - 1 );

175 i‡(
m_chromaF‹m©IDC
==
CHROMA_422
 && 
id
!=
COMPONENT_Y
)

177 
blkY
<<=1;

179  
m_≠iBuf
[
id
] + 
blkX
 + 
blkY
 * 
iBlkSizeF‹Comp⁄ít
;

180 
	}
}

182 c⁄° 
Pñ
* 
	$gëAddr
 (c⁄° 
Comp⁄ítID
 
id
, c⁄° 
UI¡
 
iTønsUnôIdx
, c⁄° UI¡ 
iBlkSizeF‹Comp⁄ít
) const

184 
UI¡
 
width
=
	`gëWidth
(
id
);

185 
I¡
 
blkX
 = ( 
iTønsUnôIdx
 * 
iBlkSizeF‹Comp⁄ít
 ) & ( 
width
 - 1 );

186 
I¡
 
blkY
 = ( 
iTønsUnôIdx
 * 
iBlkSizeF‹Comp⁄ít
 ) &~ ( 
width
 - 1 );

187 i‡(
m_chromaF‹m©IDC
==
CHROMA_422
 && 
id
!=
COMPONENT_Y
)

189 
blkY
<<=1;

191  
m_≠iBuf
[
id
] + 
blkX
 + 
blkY
 * 
iBlkSizeF‹Comp⁄ít
;

192 
	}
}

195 
Pñ
* 
	$gëAddrPix
 (c⁄° 
Comp⁄ítID
 
id
, c⁄° 
UI¡
 
iPixX
, c⁄° UI¡ 
iPixY
 ) {  
m_≠iBuf
[id] + iPixY * 
	`gëSåide
(idË+ iPixX; 
	}
}

196 c⁄° 
Pñ
* 
	$gëAddrPix
 (c⁄° 
Comp⁄ítID
 
id
, c⁄° 
UI¡
 
iPixX
, c⁄° UI¡ 
iPixY
 ) c⁄° {  
m_≠iBuf
[id] + iPixY * 
	`gëSåide
(idË+ iPixX; 
	}
}

199 
UI¡
 
	$gëSåide
 (c⁄° 
Comp⁄ítID
 
id
Ëc⁄° {  
m_iWidth
 >> 
	`gëComp⁄ítSˇÀX
(id); 
	}
}

200 
UI¡
 
	$gëHeight
 (c⁄° 
Comp⁄ítID
 
id
Ëc⁄° {  
m_iHeight
 >> 
	`gëComp⁄ítSˇÀY
(id); 
	}
}

201 
UI¡
 
	$gëWidth
 (c⁄° 
Comp⁄ítID
 
id
Ëc⁄° {  
m_iWidth
 >> 
	`gëComp⁄ítSˇÀX
(id); 
	}
}

202 
ChromaF‹m©
 
	$gëChromaF‹m©
 (Ëc⁄° {  
m_chromaF‹m©IDC
; 
	}
}

203 
UI¡
 
	$gëNumbîVÆidComp⁄íts
 (Ëc⁄° {  ::
	`gëNumbîVÆidComp⁄íts
(
m_chromaF‹m©IDC
); 
	}
}

204 
UI¡
 
	$gëComp⁄ítSˇÀX
 (c⁄° 
Comp⁄ítID
 
id
Ëc⁄° {  ::
	`gëComp⁄ítSˇÀX
(id, 
m_chromaF‹m©IDC
); 
	}
}

205 
UI¡
 
	$gëComp⁄ítSˇÀY
 (c⁄° 
Comp⁄ítID
 
id
Ëc⁄° {  ::
	`gëComp⁄ítSˇÀY
(id, 
m_chromaF‹m©IDC
); 
	}
}

	@TypeDef.h

38 #i‚de‡
__TYPEDEF__


39 
	#__TYPEDEF__


	)

41 #i‚de‡
__COMMONDEF__


42 #îr‹ 
In˛ude
 
Comm⁄Def
.
h
 
nŸ
 
Ty≥Def
.h

45 
	~<ve˘‹
>

46 
	~<utûôy
>

47 
	~<io°ªam
>

56 
	#DEBUG_STRING
 0

57 
	#DEBUG_ENCODER_SEARCH_BINS
 0

58 
	#DEBUG_CABAC_BINS
 0

59 
	#DEBUG_INTRA_SEARCH_COSTS
 0

60 
	#DEBUG_TRANSFORM_AND_QUANTISE
 0

61 

	)

62 
	#ENVIRONMENT_VARIABLE_DEBUG_AND_TEST
 0

63 
	#PRINT_MACRO_VALUES
 1

64 

	)

67 #i‚de‡
RExt__DECODER_DEBUG_BIT_STATISTICS


68 
	#RExt__DECODER_DEBUG_BIT_STATISTICS
 0

70 

	)

72 #i‚de‡
ENC_DEC_TRACE


73 
	#ENC_DEC_TRACE
 0

	)

75 
	#DEC_NUH_TRACE
 0

76 

	)

77 
	#PRINT_RPS_INFO
 0

78 

	)

79 
	#MCTS_EXTRACTION
 1

80 

	)

85 
	#JVET_K0390_RATE_CTRL
 1

	)

86 #i‡
JVET_K0390_RATE_CTRL


87 
	#JVET_M0600_RATE_CTRL
 1

	)

89 
	#DECODER_CHECK_SUBSTREAM_AND_SLICE_TRAILING_BYTES
 1

90 
	#MCTS_ENC_CHECK
 1

91 
	#SHUTTER_INTERVAL_SEI_MESSAGE
 1

92 
	#SEI_ENCODER_CONTROL
 1

93 
	#DPB_ENCODER_USAGE_CHECK
 1

94 
	#FGS_RDD5_ENABLE
 1

95 

	)

102 #i‚de‡
EXTENSION_360_VIDEO


103 
	#EXTENSION_360_VIDEO
 0

105 

	)

106 
	#REDUCED_ENCODER_MEMORY
 1

107 

	)

108 
	#ADAPTIVE_QP_SELECTION
 1

109 

	)

110 
	#AMP_ENC_SPEEDUP
 1

111 #i‡
AMP_ENC_SPEEDUP


	)

112 
	#AMP_MRG
 1

114 

	)

115 
	#FAST_BIT_EST
 1

116 

	)

117 
	#HHI_RQT_INTRA_SPEEDUP
 1

118 
	#HHI_RQT_INTRA_SPEEDUP_MOD
 0

119 

	)

120 #i‡
HHI_RQT_INTRA_SPEEDUP_MOD
 && !
HHI_RQT_INTRA_SPEEDUP


124 
	#MATRIX_MULT
 0

125 

	)

126 
	#O0043_BEST_EFFORT_DECODING
 0

127 

	)

128 
	#ME_ENABLE_ROUNDING_OF_MVS
 1

129 

	)

130 
	#RDOQ_CHROMA_LAMBDA
 1

131 

	)

133 #i‚de‡
RExt__HIGH_BIT_DEPTH_SUPPORT


134 
	#RExt__HIGH_BIT_DEPTH_SUPPORT
 0

136 

	)

137 #i‡
deföed
 
__SSE2__
 || deföed 
__AVX2__
 || deföed 
__AVX__
 || deföed 
_M_AMD64
 || deföed 
_M_X64


138 
	#VECTOR_CODING__INTERPOLATION_FILTER
 1

139 
	#VECTOR_CODING__DISTORTION_CALCULATIONS
 1

140 #ñ£

	)

141 
	#VECTOR_CODING__INTERPOLATION_FILTER
 0

142 
	#VECTOR_CODING__DISTORTION_CALCULATIONS
 0

144 

	)

149 #i‡
RExt__HIGH_BIT_DEPTH_SUPPORT


150 
	#FULL_NBIT
 1

151 
	#RExt__HIGH_PRECISION_FORWARD_TRANSFORM
 1

152 #ñ£

	)

153 
	#FULL_NBIT
 1

154 
	#RExt__HIGH_PRECISION_FORWARD_TRANSFORM
 0

156 

	)

157 #i‡
FULL_NBIT


158 
	#DISTORTION_PRECISION_ADJUSTMENT
(
x
Ë0

	)

160 
	#DISTORTION_PRECISION_ADJUSTMENT
(
x
Ë(x)

	)

163 #i‡
DEBUG_STRING


164 
	#DEBUG_STRING_PASS_INTO
(
«me
Ë, 
	)
name

165 
	#DEBUG_STRING_PASS_INTO_OPTIONAL
(
«me
, 
exp
Ë, (exp==0)?0:
	)
name

166 
	#DEBUG_STRING_FN_DECLARE
(
«me
Ë, 
°d
::
°rög
 &
	)
name

167 
	#DEBUG_STRING_FN_DECLAREP
(
«me
Ë, 
°d
::
°rög
 *
	)
name

168 
	#DEBUG_STRING_NEW
(
«me
Ë
°d
::
°rög
Çame;

	)

169 
	#DEBUG_STRING_OUTPUT
(
os
, 
«me
Ëo†<<Çame;

	)

170 
	#DEBUG_STRING_APPEND
(
°r1
, 
°r2
Ë°r1+=°r2;

	)

171 
	#DEBUG_STRING_SWAP
(
°r1
, 
°r2
Ë°r1.
	`sw≠
(°r2);

	)

172 
	#DEBUG_STRING_CHANNEL_CONDITION
(
compID
Ë(
åue
)

	)

173 
	~<s°ªam
>

174 
	~<iom™ù
>

176 
	#DEBUG_STRING_PASS_INTO
(
«me
)

	)

177 
	#DEBUG_STRING_PASS_INTO_OPTIONAL
(
«me
, 
exp
)

	)

178 
	#DEBUG_STRING_FN_DECLARE
(
«me
)

	)

179 
	#DEBUG_STRING_FN_DECLAREP
(
«me
)

	)

180 
	#DEBUG_STRING_NEW
(
«me
)

	)

181 
	#DEBUG_STRING_OUTPUT
(
os
, 
«me
)

	)

182 
	#DEBUG_STRING_APPEND
(
°r1
, 
°r2
)

	)

183 
	#DEBUG_STRING_SWAP
(
§t1
, 
°r2
)

	)

184 
	#DEBUG_STRING_CHANNEL_CONDITION
(
compID
)

	)

191 #i‡((
RExt__HIGH_PRECISION_FORWARD_TRANSFORM
 !0Ë&& (
RExt__HIGH_BIT_DEPTH_SUPPORT
 == 0))

192 #îr‹ 
ERROR
: 
ˇ¬Ÿ
 
íabÀ
 
RExt__HIGH_PRECISION_FORWARD_TRANSFORM
 
wôhout
 
RExt__HIGH_BIT_DEPTH_SUPPORT


199 
	tVoid
;

200 
boﬁ
 
	tBoﬁ
;

202 
	tTCh¨
;

203 sig√d 
	tSCh¨
;

204 
	tUCh¨
;

205 
	tSh‹t
;

206 
	tUSh‹t
;

207 
	tI¡
;

208 
	tUI¡
;

209 
	tDoubÀ
;

210 
	tFlﬂt
;

217 #ifde‡
_MSC_VER


218 
__öt64
 
	tI¡64
;

220 #i‡
_MSC_VER
 <= 1200

221 
__öt64
 
	tUI¡64
;

223 
	t__öt64
 
	tUI¡64
;

228 
	tI¡64
;

229 
	tUI¡64
;

237 #i‡
RExt__HIGH_BIT_DEPTH_SUPPORT


238 
I¡
 
	tPñ
;

239 
I¡64
 
	tTC€ff
;

240 
I¡
 
	tTM©rixC€ff
;

241 
Sh‹t
 
	tTFûãrC€ff
;

242 
I¡64
 
	tI¡îmedüã_I¡
;

243 
UI¡64
 
	tI¡îmedüã_UI¡
;

245 
Sh‹t
 
	tPñ
;

246 
I¡
 
	tTC€ff
;

247 
Sh‹t
 
	tTM©rixC€ff
;

248 
Sh‹t
 
	tTFûãrC€ff
;

249 
I¡
 
	tI¡îmedüã_I¡
;

250 
UI¡
 
	tI¡îmedüã_UI¡
;

253 #i‡
FULL_NBIT


254 
UI¡64
 
	tDi°‹ti⁄
;

256 
UI¡
 
	tDi°‹ti⁄
;

263 
	eRDPCMMode


265 
	mRDPCM_OFF
 = 0,

266 
	mRDPCM_HOR
 = 1,

267 
	mRDPCM_VER
 = 2,

268 
	mNUMBER_OF_RDPCM_MODES
 = 3

271 
	eRDPCMSig«ŒögMode


273 
	mRDPCM_SIGNAL_IMPLICIT
 = 0,

274 
	mRDPCM_SIGNAL_EXPLICIT
 = 1,

275 
	mNUMBER_OF_RDPCM_SIGNALLING_MODES
 = 2

279 
	eSli˚Ty≥


281 
	mB_SLICE
 = 0,

282 
	mP_SLICE
 = 1,

283 
	mI_SLICE
 = 2,

284 
	mNUMBER_OF_SLICE_TYPES
 = 3

288 
	eChromaF‹m©


290 
	mCHROMA_400
 = 0,

291 
	mCHROMA_420
 = 1,

292 
	mCHROMA_422
 = 2,

293 
	mCHROMA_444
 = 3,

294 
	mNUM_CHROMA_FORMAT
 = 4

297 
	eCh™√lTy≥


299 
	mCHANNEL_TYPE_LUMA
 = 0,

300 
	mCHANNEL_TYPE_CHROMA
 = 1,

301 
	mMAX_NUM_CHANNEL_TYPE
 = 2

304 
	eComp⁄ítID


306 
	mCOMPONENT_Y
 = 0,

307 
	mCOMPONENT_Cb
 = 1,

308 
	mCOMPONENT_Cr
 = 2,

309 
	mMAX_NUM_COMPONENT
 = 3

312 
	eI≈utCﬁourS∑˚C⁄vîsi⁄


314 
	mIPCOLOURSPACE_UNCHANGED
 = 0,

315 
	mIPCOLOURSPACE_YCbCπoYCrCb
 = 1,

316 
	mIPCOLOURSPACE_YCbCπoYYY
 = 2,

317 
	mIPCOLOURSPACE_RGBtoGBR
 = 3,

318 
	mNUMBER_INPUT_COLOUR_SPACE_CONVERSIONS
 = 4

321 
	eMATRIX_COEFFICIENTS


323 
	mMATRIX_COEFFICIENTS_RGB
 = 0,

324 
	mMATRIX_COEFFICIENTS_BT709
 = 1,

325 
	mMATRIX_COEFFICIENTS_UNSPECIFIED
 = 2,

326 
	mMATRIX_COEFFICIENTS_RESERVED_BY_ITUISOIEC
 = 3,

327 
	mMATRIX_COEFFICIENTS_USFCCT47
 = 4,

328 
	mMATRIX_COEFFICIENTS_BT601_625
 = 5,

329 
	mMATRIX_COEFFICIENTS_BT601_525
 = 6,

330 
	mMATRIX_COEFFICIENTS_SMPTE240
 = 7,

331 
	mMATRIX_COEFFICIENTS_YCGCO
 = 8,

332 
	mMATRIX_COEFFICIENTS_BT2020_NON_CONSTANT_LUMINANCE
 = 9,

333 
	mMATRIX_COEFFICIENTS_BT2020_CONSTANT_LUMINANCE
 = 10,

336 
	eDeblockEdgeDú


338 
	mEDGE_VER
 = 0,

339 
	mEDGE_HOR
 = 1,

340 
	mNUM_EDGE_DIR
 = 2

344 
	eP¨tSize


346 
	mSIZE_2Nx2N
 = 0,

347 
	mSIZE_2NxN
 = 1,

348 
	mSIZE_Nx2N
 = 2,

349 
	mSIZE_NxN
 = 3,

350 
	mSIZE_2NxnU
 = 4,

351 
	mSIZE_2NxnD
 = 5,

352 
	mSIZE_nLx2N
 = 6,

353 
	mSIZE_nRx2N
 = 7,

354 
	mNUMBER_OF_PART_SIZES
 = 8

358 
	ePªdMode


360 
	mMODE_INTER
 = 0,

361 
	mMODE_INTRA
 = 1,

362 
	mNUMBER_OF_PREDICTION_MODES
 = 2,

366 
	eRefPicLi°


368 
	mREF_PIC_LIST_0
 = 0,

369 
	mREF_PIC_LIST_1
 = 1,

370 
	mNUM_REF_PIC_LIST_01
 = 2,

371 
	mREF_PIC_LIST_X
 = 100

375 
	eDFunc


377 
	mDF_DEFAULT
 = 0,

378 
	mDF_SSE
 = 1,

379 
	mDF_SSE4
 = 2,

380 
	mDF_SSE8
 = 3,

381 
	mDF_SSE16
 = 4,

382 
	mDF_SSE32
 = 5,

383 
	mDF_SSE64
 = 6,

384 
	mDF_SSE16N
 = 7,

386 
	mDF_SAD
 = 8,

387 
	mDF_SAD4
 = 9,

388 
	mDF_SAD8
 = 10,

389 
	mDF_SAD16
 = 11,

390 
	mDF_SAD32
 = 12,

391 
	mDF_SAD64
 = 13,

392 
	mDF_SAD16N
 = 14,

394 
	mDF_SADS
 = 15,

395 
	mDF_SADS4
 = 16,

396 
	mDF_SADS8
 = 17,

397 
	mDF_SADS16
 = 18,

398 
	mDF_SADS32
 = 19,

399 
	mDF_SADS64
 = 20,

400 
	mDF_SADS16N
 = 21,

402 
	mDF_HADS
 = 22,

403 
	mDF_HADS4
 = 23,

404 
	mDF_HADS8
 = 24,

405 
	mDF_HADS16
 = 25,

406 
	mDF_HADS32
 = 26,

407 
	mDF_HADS64
 = 27,

408 
	mDF_HADS16N
 = 28,

410 
	mDF_SAD12
 = 43,

411 
	mDF_SAD24
 = 44,

412 
	mDF_SAD48
 = 45,

414 
	mDF_SADS12
 = 46,

415 
	mDF_SADS24
 = 47,

416 
	mDF_SADS48
 = 48,

418 
	mDF_SSE_FRAME
 = 50,

419 
	mDF_TOTAL_FUNCTIONS
 = 64

423 
	eCI_IDX


425 
	mCI_CURR_BEST
 = 0,

426 
	mCI_NEXT_BEST
,

427 
	mCI_TEMP_BEST
,

428 
	mCI_CHROMA_INTRA
,

429 
	mCI_QT_TRAFO_TEST
,

430 
	mCI_QT_TRAFO_ROOT
,

431 
	mCI_NUM
,

435 
	eMVP_DIR


437 
	mMD_LEFT
 = 0,

438 
	mMD_ABOVE
,

439 
	mMD_ABOVE_RIGHT
,

440 
	mMD_BELOW_LEFT
,

441 
	mMD_ABOVE_LEFT


444 
	eSt‹edResiduÆTy≥


446 
	mRESIDUAL_RECONSTRUCTED
 = 0,

447 
	mRESIDUAL_ENCODER_SIDE
 = 1,

448 
	mNUMBER_OF_STORED_RESIDUAL_TYPES
 = 2

451 
	eTønsf‹mDúe˘i⁄


453 
	mTRANSFORM_FORWARD
 = 0,

454 
	mTRANSFORM_INVERSE
 = 1,

455 
	mTRANSFORM_NUMBER_OF_DIRECTIONS
 = 2

459 
	eMESórchMëhod


461 
	mMESEARCH_FULL
 = 0,

462 
	mMESEARCH_DIAMOND
 = 1,

463 
	mMESEARCH_SELECTIVE
 = 2,

464 
	mMESEARCH_DIAMOND_ENHANCED
 = 3,

465 
	mMESEARCH_NUMBER_OF_METHODS
 = 4

469 
	eCOEFF_SCAN_TYPE


471 
	mSCAN_DIAG
 = 0,

472 
	mSCAN_HOR
 = 1,

473 
	mSCAN_VER
 = 2,

474 
	mSCAN_NUMBER_OF_TYPES
 = 3

477 
	eCOEFF_SCAN_GROUP_TYPE


479 
	mSCAN_UNGROUPED
 = 0,

480 
	mSCAN_GROUPED_4x4
 = 1,

481 
	mSCAN_NUMBER_OF_GROUP_TYPES
 = 2

484 
	eSignifiˇn˚M≠C⁄ãxtTy≥


486 
	mCONTEXT_TYPE_4x4
 = 0,

487 
	mCONTEXT_TYPE_8x8
 = 1,

488 
	mCONTEXT_TYPE_NxN
 = 2,

489 
	mCONTEXT_TYPE_SINGLE
 = 3,

490 
	mCONTEXT_NUMBER_OF_TYPES
 = 4

493 
	eSˇlögLi°Mode


495 
	mSCALING_LIST_OFF
,

496 
	mSCALING_LIST_DEFAULT
,

497 
	mSCALING_LIST_FILE_READ


500 
	eSˇlögLi°Size


502 
	mSCALING_LIST_4x4
 = 0,

503 
	mSCALING_LIST_8x8
,

504 
	mSCALING_LIST_16x16
,

505 
	mSCALING_LIST_32x32
,

506 
	mSCALING_LIST_SIZE_NUM


510 
	eSli˚C⁄°øöt


512 
	mNO_SLICES
 = 0,

513 
	mFIXED_NUMBER_OF_CTU
 = 1,

514 
	mFIXED_NUMBER_OF_BYTES
 = 2,

515 
	mFIXED_NUMBER_OF_TILES
 = 3,

516 
	mNUMBER_OF_SLICE_CONSTRAINT_MODES
 = 4

520 
	eHashTy≥


522 
	mHASHTYPE_MD5
 = 0,

523 
	mHASHTYPE_CRC
 = 1,

524 
	mHASHTYPE_CHECKSUM
 = 2,

525 
	mHASHTYPE_NONE
 = 3,

526 
	mNUMBER_OF_HASHTYPES
 = 4

529 
	eSAOMode


531 
	mSAO_MODE_OFF
 = 0,

532 
	mSAO_MODE_NEW
,

533 
	mSAO_MODE_MERGE
,

534 
	mNUM_SAO_MODES


537 
	eSAOModeMîgeTy≥s


539 
	mSAO_MERGE_LEFT
 =0,

540 
	mSAO_MERGE_ABOVE
,

541 
	mNUM_SAO_MERGE_TYPES


545 
	eSAOModeNewTy≥s


547 
	mSAO_TYPE_START_EO
 =0,

548 
	mSAO_TYPE_EO_0
 = 
SAO_TYPE_START_EO
,

549 
	mSAO_TYPE_EO_90
,

550 
	mSAO_TYPE_EO_135
,

551 
	mSAO_TYPE_EO_45
,

553 
	mSAO_TYPE_START_BO
,

554 
	mSAO_TYPE_BO
 = 
SAO_TYPE_START_BO
,

556 
	mNUM_SAO_NEW_TYPES


558 
	#NUM_SAO_EO_TYPES_LOG2
 2

	)

560 
	eSAOEOCœs£s


562 
	mSAO_CLASS_EO_FULL_VALLEY
 = 0,

563 
	mSAO_CLASS_EO_HALF_VALLEY
 = 1,

564 
	mSAO_CLASS_EO_PLAIN
 = 2,

565 
	mSAO_CLASS_EO_HALF_PEAK
 = 3,

566 
	mSAO_CLASS_EO_FULL_PEAK
 = 4,

567 
	mNUM_SAO_EO_CLASSES
,

570 
	#NUM_SAO_BO_CLASSES_LOG2
 5

	)

571 
	#NUM_SAO_BO_CLASSES
 (1<<
NUM_SAO_BO_CLASSES_LOG2
)

	)

573 
«me•a˚
 
	gProfûe


575 
	eName


577 
	gNONE
 = 0,

578 
	gMAIN
 = 1,

579 
	gMAIN10
 = 2,

580 
	gMAINSTILLPICTURE
 = 3,

581 
	gMAINREXT
 = 4,

582 
	gHIGHTHROUGHPUTREXT
 = 5

586 
«me•a˚
 
	gLevñ


588 
	eTõr


590 
	gMAIN
 = 0,

591 
	gHIGH
 = 1,

592 
	gNUMBER_OF_TIERS
 = 2

595 
	eName


598 
	gNONE
 = 0,

599 
	gLEVEL1
 = 30,

600 
	gLEVEL2
 = 60,

601 
	gLEVEL2_1
 = 63,

602 
	gLEVEL3
 = 90,

603 
	gLEVEL3_1
 = 93,

604 
	gLEVEL4
 = 120,

605 
	gLEVEL4_1
 = 123,

606 
	gLEVEL5
 = 150,

607 
	gLEVEL5_1
 = 153,

608 
	gLEVEL5_2
 = 156,

609 
	gLEVEL6
 = 180,

610 
	gLEVEL6_1
 = 183,

611 
	gLEVEL6_2
 = 186,

612 
	gLEVEL8_5
 = 255,

616 
	eCo°Mode


618 
	mCOST_STANDARD_LOSSY
 = 0,

619 
	mCOST_SEQUENCE_LEVEL_LOSSLESS
 = 1,

620 
	mCOST_LOSSLESS_CODING
 = 2,

621 
	mCOST_MIXED_LOSSLESS_LOSSY_CODING
 = 3

624 
	eWeighãdPªdi˘i⁄Mëhod


626 
	mWP_PER_PICTURE_WITH_SIMPLE_DC_COMBINED_COMPONENT
 =0,

627 
	mWP_PER_PICTURE_WITH_SIMPLE_DC_PER_COMPONENT
 =1,

628 
	mWP_PER_PICTURE_WITH_HISTOGRAM_AND_PER_COMPONENT
 =2,

629 
	mWP_PER_PICTURE_WITH_HISTOGRAM_AND_PER_COMPONENT_AND_CLIPPING
 =3,

630 
	mWP_PER_PICTURE_WITH_HISTOGRAM_AND_PER_COMPONENT_AND_CLIPPING_AND_EXTENSION
=4

633 
	eFa°I¡îSórchMode


635 
	mFASTINTERSEARCH_DISABLED
 = 0,

636 
	mFASTINTERSEARCH_MODE1
 = 1,

637 
	mFASTINTERSEARCH_MODE2
 = 2,

638 
	mFASTINTERSEARCH_MODE3
 = 3

641 
	eSPSExãnsi⁄FœgIndex


643 
	mSPS_EXT__REXT
 = 0,

646 
	mNUM_SPS_EXTENSION_FLAGS
 = 8

649 
	ePPSExãnsi⁄FœgIndex


651 
	mPPS_EXT__REXT
 = 0,

654 
	mNUM_PPS_EXTENSION_FLAGS
 = 8

660 
	eNÆUnôTy≥


662 
	mNAL_UNIT_CODED_SLICE_TRAIL_N
 = 0,

663 
	mNAL_UNIT_CODED_SLICE_TRAIL_R
,

665 
	mNAL_UNIT_CODED_SLICE_TSA_N
,

666 
	mNAL_UNIT_CODED_SLICE_TSA_R
,

668 
	mNAL_UNIT_CODED_SLICE_STSA_N
,

669 
	mNAL_UNIT_CODED_SLICE_STSA_R
,

671 
	mNAL_UNIT_CODED_SLICE_RADL_N
,

672 
	mNAL_UNIT_CODED_SLICE_RADL_R
,

674 
	mNAL_UNIT_CODED_SLICE_RASL_N
,

675 
	mNAL_UNIT_CODED_SLICE_RASL_R
,

677 
	mNAL_UNIT_RESERVED_VCL_N10
,

678 
	mNAL_UNIT_RESERVED_VCL_R11
,

679 
	mNAL_UNIT_RESERVED_VCL_N12
,

680 
	mNAL_UNIT_RESERVED_VCL_R13
,

681 
	mNAL_UNIT_RESERVED_VCL_N14
,

682 
	mNAL_UNIT_RESERVED_VCL_R15
,

684 
	mNAL_UNIT_CODED_SLICE_BLA_W_LP
,

685 
	mNAL_UNIT_CODED_SLICE_BLA_W_RADL
,

686 
	mNAL_UNIT_CODED_SLICE_BLA_N_LP
,

687 
	mNAL_UNIT_CODED_SLICE_IDR_W_RADL
,

688 
	mNAL_UNIT_CODED_SLICE_IDR_N_LP
,

689 
	mNAL_UNIT_CODED_SLICE_CRA
,

690 
	mNAL_UNIT_RESERVED_IRAP_VCL22
,

691 
	mNAL_UNIT_RESERVED_IRAP_VCL23
,

693 
	mNAL_UNIT_RESERVED_VCL24
,

694 
	mNAL_UNIT_RESERVED_VCL25
,

695 
	mNAL_UNIT_RESERVED_VCL26
,

696 
	mNAL_UNIT_RESERVED_VCL27
,

697 
	mNAL_UNIT_RESERVED_VCL28
,

698 
	mNAL_UNIT_RESERVED_VCL29
,

699 
	mNAL_UNIT_RESERVED_VCL30
,

700 
	mNAL_UNIT_RESERVED_VCL31
,

702 
	mNAL_UNIT_VPS
,

703 
	mNAL_UNIT_SPS
,

704 
	mNAL_UNIT_PPS
,

705 
	mNAL_UNIT_ACCESS_UNIT_DELIMITER
,

706 
	mNAL_UNIT_EOS
,

707 
	mNAL_UNIT_EOB
,

708 
	mNAL_UNIT_FILLER_DATA
,

709 
	mNAL_UNIT_PREFIX_SEI
,

710 
	mNAL_UNIT_SUFFIX_SEI
,

712 
	mNAL_UNIT_RESERVED_NVCL41
,

713 
	mNAL_UNIT_RESERVED_NVCL42
,

714 
	mNAL_UNIT_RESERVED_NVCL43
,

715 
	mNAL_UNIT_RESERVED_NVCL44
,

716 
	mNAL_UNIT_RESERVED_NVCL45
,

717 
	mNAL_UNIT_RESERVED_NVCL46
,

718 
	mNAL_UNIT_RESERVED_NVCL47
,

719 
	mNAL_UNIT_UNSPECIFIED_48
,

720 
	mNAL_UNIT_UNSPECIFIED_49
,

721 
	mNAL_UNIT_UNSPECIFIED_50
,

722 
	mNAL_UNIT_UNSPECIFIED_51
,

723 
	mNAL_UNIT_UNSPECIFIED_52
,

724 
	mNAL_UNIT_UNSPECIFIED_53
,

725 
	mNAL_UNIT_UNSPECIFIED_54
,

726 
	mNAL_UNIT_UNSPECIFIED_55
,

727 
	mNAL_UNIT_UNSPECIFIED_56
,

728 
	mNAL_UNIT_UNSPECIFIED_57
,

729 
	mNAL_UNIT_UNSPECIFIED_58
,

730 
	mNAL_UNIT_UNSPECIFIED_59
,

731 
	mNAL_UNIT_UNSPECIFIED_60
,

732 
	mNAL_UNIT_UNSPECIFIED_61
,

733 
	mNAL_UNIT_UNSPECIFIED_62
,

734 
	mNAL_UNIT_UNSPECIFIED_63
,

735 
	mNAL_UNIT_INVALID
,

738 
	eLumaLevñToDQPMode


740 
	mLUMALVL_TO_DQP_DISABLED
 = 0,

741 
	mLUMALVL_TO_DQP_AVG_METHOD
 = 1,

742 
	mLUMALVL_TO_DQP_MAX_METHOD
 = 2,

743 
	mLUMALVL_TO_DQP_NUM_MODES
 = 3

751 
˛ass
 
	gTComPicSym
;

753 
	#MAX_NUM_SAO_CLASSES
 32

754 

	)

755 
	sSAOOff£t


757 
SAOMode
 
	mmodeIdc
;

758 
I¡
 
	mty≥Idc
;

759 
I¡
 
	mty≥AuxInfo
;

760 
I¡
 
	moff£t
[
MAX_NUM_SAO_CLASSES
];

762 
SAOOff£t
();

763 ~
SAOOff£t
();

764 
Void
 
ª£t
();

766 c⁄° 
	mSAOOff£t
& 
	m›î©‹
(c⁄° 
SAOOff£t
& 
§c
);

769 
	sSAOBlkP¨am


772 
SAOBlkP¨am
();

773 ~
SAOBlkP¨am
();

774 
Void
 
ª£t
();

775 c⁄° 
	mSAOBlkP¨am
& 
	m›î©‹
(c⁄° 
SAOBlkP¨am
& 
§c
);

776 
	mSAOOff£t
& 
	m›î©‹
[](
I¡
 
	mcompIdx
){  
	moff£tP¨am
[
compIdx
];}

777 
	m¥iv©e
:

778 
SAOOff£t
 
off£tP¨am
[
MAX_NUM_COMPONENT
];

783 
	sBôDïths


785 #i‡
O0043_BEST_EFFORT_DECODING


786 
I¡
 
	mªc⁄
[
MAX_NUM_CHANNEL_TYPE
];

787 
I¡
 
	m°ªam
[
MAX_NUM_CHANNEL_TYPE
];

789 
I¡
 
	mªc⁄
[
MAX_NUM_CHANNEL_TYPE
];

794 
	s_LFCUP¨am


796 
Boﬁ
 
	mbI¡î«lEdge
;

797 
Boﬁ
 
	mbLe·Edge
;

798 
Boﬁ
 
	mbT›Edge
;

799 } 
	tLFCUP¨am
;

804 
	sTUE¡r›yCodögP¨amëîs


806 c⁄° 
UI¡
 *
	msˇn
;

807 c⁄° 
UI¡
 *
	msˇnCG
;

808 
COEFF_SCAN_TYPE
 
	msˇnTy≥
;

809 
UI¡
 
	mwidthInGroups
;

810 
UI¡
 
	mheightInGroups
;

811 
UI¡
 
	mfú°Signifiˇn˚M≠C⁄ãxt
;

815 
	sTComPi˘uªHash


817 
	m°d
::
ve˘‹
<
UCh¨
> 
hash
;

819 
Boﬁ
 
	m›î©‹
==(c⁄° 
TComPi˘uªHash
 &
Ÿhî
) const

821 i‡(
Ÿhî
.
hash
.
size
() != hash.size())

823  
Ál£
;

825 
UI¡
 
	mi
=0; i<UI¡(
hash
.
size
()); i++)

827 i‡(
	mŸhî
.
	mhash
[
i
] !
hash
[i])

829  
Ál£
;

832  
	måue
;

835 
Boﬁ
 
	m›î©‹
!=(c⁄° 
TComPi˘uªHash
 &
Ÿhî
) const

837  !(*
this
 =
Ÿhî
);

841 
	sTComSEITimeSë


843 
TComSEITimeSë
(Ë: 
˛ockTimeSèmpFœg
(
Ál£
),

844 
numUnôFõldBa£dFœg
(
Ál£
),

845 
cou¡ögTy≥
(0),

846 
fuŒTimeSèmpFœg
(
Ál£
),

847 
disc⁄töuôyFœg
(
Ál£
),

848 
˙tDr›≥dFœg
(
Ál£
),

849 
numbîOfFømes
(0),

850 
£c⁄dsVÆue
(0),

851 
möuãsVÆue
(0),

852 
hoursVÆue
(0),

853 
£c⁄dsFœg
(
Ál£
),

854 
möuãsFœg
(
Ál£
),

855 
hoursFœg
(
Ál£
),

856 
timeOff£tLígth
(0),

857 
timeOff£tVÆue
(0)

859 
Boﬁ
 
	m˛ockTimeSèmpFœg
;

860 
Boﬁ
 
	mnumUnôFõldBa£dFœg
;

861 
I¡
 
	mcou¡ögTy≥
;

862 
Boﬁ
 
	mfuŒTimeSèmpFœg
;

863 
Boﬁ
 
	mdisc⁄töuôyFœg
;

864 
Boﬁ
 
	m˙tDr›≥dFœg
;

865 
I¡
 
	mnumbîOfFømes
;

866 
I¡
 
	m£c⁄dsVÆue
;

867 
I¡
 
	mmöuãsVÆue
;

868 
I¡
 
	mhoursVÆue
;

869 
Boﬁ
 
	m£c⁄dsFœg
;

870 
Boﬁ
 
	mmöuãsFœg
;

871 
Boﬁ
 
	mhoursFœg
;

872 
I¡
 
	mtimeOff£tLígth
;

873 
I¡
 
	mtimeOff£tVÆue
;

876 
	sTComSEIMa°îögDi•œy


878 
Boﬁ
 
	mcﬁourVﬁumeSEIE«bÀd
;

879 
UI¡
 
	mmaxLumö™˚
;

880 
UI¡
 
	mmöLumö™˚
;

881 
USh‹t
 
	m¥im¨õs
[3][2];

882 
USh‹t
 
	mwhôePoöt
[2];

885 
	sLumaLevñToDñèQPM≠pög


887 
LumaLevñToDQPMode
 
	mmode
;

888 
DoubÀ
 
	mmaxMëhodWeight
;

889 
	m°d
::
ve˘‹
< 
°d
::
∑ú
<
I¡
, 
	mI¡
> > 
	mm≠pög
;

890 
Boﬁ
 
isE«bÀd
(Ëc⁄° {  
	mmode
!=
LUMALVL_TO_DQP_DISABLED
; }

893 
	sWCGChromaQPC⁄åﬁ


895 
Boﬁ
 
isE«bÀd
(Ëc⁄° {  
	míabÀd
; }

896 
Boﬁ
 
	míabÀd
;

897 
DoubÀ
 
	mchromaCbQpSˇÀ
;

898 
DoubÀ
 
	mchromaCrQpSˇÀ
;

899 
DoubÀ
 
	mchromaQpSˇÀ
;

900 
DoubÀ
 
	mchromaQpOff£t
;

903 
	sTComSEIFisheyeVideoInfo


905 
	sA˘iveAªaInfo


907 
UI¡
 
	mm_fisheyeCúcuœrRegi⁄CíåeX
;

908 
UI¡
 
	mm_fisheyeCúcuœrRegi⁄CíåeY
;

909 
UI¡
 
	mm_fisheyeRe˘Regi⁄T›
;

910 
UI¡
 
	mm_fisheyeRe˘Regi⁄Le·
;

911 
UI¡
 
	mm_fisheyeRe˘Regi⁄Width
;

912 
UI¡
 
	mm_fisheyeRe˘Regi⁄Height
;

913 
UI¡
 
	mm_fisheyeCúcuœrRegi⁄Radius
;

914 
UI¡
 
	mm_fisheyeS˚√Radius
;

916 
I¡
 
	mm_fisheyeCamîaCíåeAzimuth
;

917 
I¡
 
	mm_fisheyeCamîaCíåeEÀv©i⁄
;

918 
I¡
 
	mm_fisheyeCamîaCíåeTût
;

919 
UI¡
 
	mm_fisheyeCamîaCíåeOff£tX
;

920 
UI¡
 
	mm_fisheyeCamîaCíåeOff£tY
;

921 
UI¡
 
	mm_fisheyeCamîaCíåeOff£tZ
;

922 
UI¡
 
	mm_fisheyeFõldOfVõw
;

923 
	m°d
::
ve˘‹
<
I¡
> 
m_fisheyePﬁynomülC€ff
;

926 
Boﬁ
 
	mm_fisheyeC™˚lFœg
;

927 
Boﬁ
 
	mm_fisheyePîsi°í˚Fœg
;

928 
UI¡
 
	mm_fisheyeVõwDimísi⁄Idc
;

929 
	m°d
::
ve˘‹
<
A˘iveAªaInfo
> 
m_fisheyeA˘iveAªas
;

930 
TComSEIFisheyeVideoInfo
(Ë: 
m_fisheyeC™˚lFœg
(
Ál£
), 
m_fisheyePîsi°í˚Fœg
(Ál£), 
m_fisheyeVõwDimísi⁄Idc
(0), 
m_fisheyeA˘iveAªas
() { }

933 ˛as†
	cWödow


935 
	m¥iv©e
:

936 
Boﬁ
 
m_íabÀdFœg
;

937 
I¡
 
	mm_wöLe·Off£t
;

938 
I¡
 
	mm_wöRightOff£t
;

939 
I¡
 
	mm_wöT›Off£t
;

940 
I¡
 
	mm_wöBŸtomOff£t
;

941 
	mpublic
:

942 
	$Wödow
()

943 : 
	`m_íabÀdFœg
 (
Ál£
)

944 , 
	`m_wöLe·Off£t
 (0)

945 , 
	`m_wöRightOff£t
 (0)

946 , 
	`m_wöT›Off£t
 (0)

947 , 
	$m_wöBŸtomOff£t
(0)

950 
Boﬁ
 
	$gëWödowE«bÀdFœg
(Ëc⁄° {  
m_íabÀdFœg
; 
	}
}

951 
I¡
 
	$gëWödowLe·Off£t
(Ëc⁄° {  
m_íabÀdFœg
 ? 
m_wöLe·Off£t
 : 0; 
	}
}

952 
Void
 
	$£tWödowLe·Off£t
(
I¡
 
vÆ
Ë{ 
m_wöLe·Off£t
 = vÆ; 
m_íabÀdFœg
 = 
åue
; 
	}
}

953 
I¡
 
	$gëWödowRightOff£t
(Ëc⁄° {  
m_íabÀdFœg
 ? 
m_wöRightOff£t
 : 0; 
	}
}

954 
Void
 
	$£tWödowRightOff£t
(
I¡
 
vÆ
Ë{ 
m_wöRightOff£t
 = vÆ; 
m_íabÀdFœg
 = 
åue
; 
	}
}

955 
I¡
 
	$gëWödowT›Off£t
(Ëc⁄° {  
m_íabÀdFœg
 ? 
m_wöT›Off£t
 : 0; 
	}
}

956 
Void
 
	$£tWödowT›Off£t
(
I¡
 
vÆ
Ë{ 
m_wöT›Off£t
 = vÆ; 
m_íabÀdFœg
 = 
åue
; 
	}
}

957 
I¡
 
	$gëWödowBŸtomOff£t
(Ëc⁄° {  
m_íabÀdFœg
 ? 
m_wöBŸtomOff£t
: 0; 
	}
}

958 
Void
 
	$£tWödowBŸtomOff£t
(
I¡
 
vÆ
Ë{ 
m_wöBŸtomOff£t
 = vÆ; 
m_íabÀdFœg
 = 
åue
; 
	}
}

960 
Void
 
	$£tWödow
(
I¡
 
off£tLe·
, I¡ 
off£tLRight
, I¡ 
off£tLT›
, I¡ 
off£tLBŸtom
)

962 
m_íabÀdFœg
 = 
åue
;

963 
m_wöLe·Off£t
 = 
off£tLe·
;

964 
m_wöRightOff£t
 = 
off£tLRight
;

965 
m_wöT›Off£t
 = 
off£tLT›
;

966 
m_wöBŸtomOff£t
 = 
off£tLBŸtom
;

967 
	}
}

968 
Boﬁ
 
	g›î©‹
 =(c⁄° 
Wödow
 &
rhs
) const

970  ( 
m_íabÀdFœg
 && 
rhs
.m_enabledFlag &&

971 
m_wöLe·Off£t
 =
rhs
.m_winLeftOffset &&

972 
m_wöRightOff£t
 =
rhs
.m_winRightOffset &&

973 
m_wöT›Off£t
 =
rhs
.m_winTopOffset &&

974 
m_wöBŸtomOff£t
 =
rhs
.m_winBottomOffset

979 ˛as†
	cRNSEIWödow
 : 
public
 
Wödow


981 
¥iv©e
:

982 
UI¡
 
m_ªgi⁄Id
;

983 
	mpublic
:

984 
	$RNSEIWödow
(Ë: 
	`Wödow
(), 
	$m_ªgi⁄Id
(0) {}

985 
I¡
 
	$gëRegi⁄Id
(Ëc⁄° {  
	`gëWödowE«bÀdFœg
(Ë? 
m_ªgi⁄Id
 : 0; 
	}
}

986 
Void
 
	$£tRegi⁄Id
(
UI¡
 c⁄° 
vÆ
Ë{ 
m_ªgi⁄Id
 = vÆ; 
	}
}

988 
Boﬁ
 
	g›î©‹
 =(
RNSEIWödow
 c⁄° &
rhs
) const

990  ( (
m_ªgi⁄Id
 =
rhs
.m_regionId) &&

991 
Wödow
(*
this
Ë=Wödow(
rhs
) );

994 
Boﬁ
 
	$checkSameRegi⁄
(
RNSEIWödow
 c⁄° &
rhs
) const

996  ( 
	`Wödow
(*
this
Ë=Wödow(
rhs
) );

997 
	}
}

998 
Boﬁ
 
	$checkSameID
(
RNSEIWödow
 c⁄° &
rhs
) const

1000  ( 
m_ªgi⁄Id
 =
rhs
.m_regionId );

1001 
	}
}

1002 
‰õnd
 
	g°d
::
o°ªam
& 
›î©‹
<<(
°d
::o°ªam &
os
, 
RNSEIWödow
 c⁄° &
	gªgi⁄
);

1004 
	g°d
::
	tve˘‹
<
	tRNSEIWödow
> 
	tRNSEIWödowVec
;

	@/usr/include/assert.h

23 #ifdef 
_ASSERT_H


25 #unde‡
_ASSERT_H


26 #unde‡
as£π


27 #unde‡
__ASSERT_VOID_CAST


29 #ifdef 
__USE_GNU


30 #unde‡
as£π_≥º‹


35 
	#_ASSERT_H
 1

	)

36 
	~<„©uªs.h
>

38 #i‡
deföed
 
__˝lu•lus
 && 
__GNUC_PREREQ
 (2,95)

39 
	#__ASSERT_VOID_CAST
 
°©ic_ˇ°
<>

	)

41 
	#__ASSERT_VOID_CAST
 ()

	)

49 #ifdef 
NDEBUG


51 
	#as£π
(
ex¥
Ë(
	`__ASSERT_VOID_CAST
 (0))

	)

59 #ifdef 
__USE_GNU


60 
	#as£π_≥º‹
(
î∫um
Ë(
	`__ASSERT_VOID_CAST
 (0))

	)

65 
__BEGIN_DECLS


68 
	$__as£π_Áû
 (c⁄° *
__as£πi⁄
, c⁄° *
__fûe
,

69 
__löe
, c⁄° *
__fun˘i⁄
)

70 
__THROW
 
	`__©åibuã__
 ((
__n‹ëu∫__
));

73 
	$__as£π_≥º‹_Áû
 (
__î∫um
, c⁄° *
__fûe
,

74 
__löe
, c⁄° *
__fun˘i⁄
)

75 
__THROW
 
	`__©åibuã__
 ((
__n‹ëu∫__
));

80 
	$__as£π
 (c⁄° *
__as£πi⁄
, c⁄° *
__fûe
, 
__löe
)

81 
__THROW
 
	`__©åibuã__
 ((
__n‹ëu∫__
));

84 
__END_DECLS


86 
	#as£π
(
ex¥
) \

87 ((
ex¥
) \

88 ? 
	`__ASSERT_VOID_CAST
 (0) \

89 : 
	`__as£π_Áû
 (
	`__STRING
(
ex¥
), 
__FILE__
, 
__LINE__
, 
__ASSERT_FUNCTION
))

	)

91 #ifdef 
__USE_GNU


92 
	#as£π_≥º‹
(
î∫um
) \

93 (!(
î∫um
) \

94 ? 
	`__ASSERT_VOID_CAST
 (0) \

95 : 
	`__as£π_≥º‹_Áû
 ((
î∫um
), 
__FILE__
, 
__LINE__
, 
__ASSERT_FUNCTION
))

	)

103 #i‡
deföed
 
__˝lu•lus
 ? 
	`__GNUC_PREREQ
 (2, 6) : __GNUC_PREREQ (2, 4)

104 
	#__ASSERT_FUNCTION
 
__PRETTY_FUNCTION__


	)

106 #i‡
deföed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L

107 
	#__ASSERT_FUNCTION
 
__func__


	)

109 
	#__ASSERT_FUNCTION
 ((c⁄° *Ë0)

	)

116 #i‡
deföed
 
__USE_ISOC11
 && !deföed 
__˝lu•lus


118 #unde‡
°©ic_as£π


119 
	#°©ic_as£π
 
_Sètic_as£π


	)

	@/usr/include/malloc.h

20 #i‚de‡
_MALLOC_H


21 
	#_MALLOC_H
 1

	)

23 
	~<„©uªs.h
>

24 
	~<°ddef.h
>

25 
	~<°dio.h
>

26 
	#__mÆloc_±r_t
 *

	)

29 
	#__mÆloc_size_t
 
size_t


	)

30 
	#__mÆloc_±rdiff_t
 
±rdiff_t


	)

32 #ifde‡
__GNUC__


34 
	#__MALLOC_P
(
¨gs
Ë¨g†
__THROW


	)

37 
	#__MALLOC_PMT
(
¨gs
Ë
	)
args

39 #ifde‡
_LIBC


40 
	#__MALLOC_HOOK_VOLATILE


	)

41 
	#__MALLOC_DEPRECATED


	)

43 
	#__MALLOC_HOOK_VOLATILE
 vﬁ©ûe

	)

44 
	#__MALLOC_DEPRECATED
 
__©åibuã_dïªˇãd__


	)

49 
	#__MALLOC_P
(
¨gs
Ë
	)
args

50 
	#__MALLOC_PMT
(
¨gs
Ë
	)
args

51 
	#__MALLOC_HOOK_VOLATILE


	)

52 
	#__MALLOC_DEPRECATED
 
__©åibuã_dïªˇãd__


	)

57 
__BEGIN_DECLS


60 *
	$mÆloc
 (
size_t
 
__size
Ë
__THROW
 
__©åibuã_mÆloc__
 
__wur
;

63 *
	$ˇŒoc
 (
size_t
 
__nmemb
, size_à
__size
)

64 
__THROW
 
__©åibuã_mÆloc__
 
__wur
;

71 *
	$ªÆloc
 (*
__±r
, 
size_t
 
__size
)

72 
__THROW
 
__©åibuã_w¨n_unu£d_ªsu…__
;

75 
	$‰ì
 (*
__±r
Ë
__THROW
;

78 
	$c‰ì
 (*
__±r
Ë
__THROW
;

81 *
	$memÆign
 (
size_t
 
__Æignmít
, size_à
__size
)

82 
__THROW
 
__©åibuã_mÆloc__
 
__wur
;

85 *
	$vÆloc
 (
size_t
 
__size
Ë
__THROW
 
__©åibuã_mÆloc__
 
__wur
;

89 * 
	$pvÆloc
 (
size_t
 
__size
Ë
__THROW
 
__©åibuã_mÆloc__
 
__wur
;

93 *(*
__m‹ec‹e
Ë(
±rdiff_t
 
__size
);

96 *
	$__deÁu…_m‹ec‹e
 (
±rdiff_t
 
__size
)

97 
__THROW
 
__©åibuã_mÆloc__
;

101 
	smÆlöfo


103 
¨ía
;

104 
‹dblks
;

105 
smblks
;

106 
hblks
;

107 
hblkhd
;

108 
usmblks
;

109 
fsmblks
;

110 
u‹dblks
;

111 
f‹dblks
;

112 
kìpco°
;

116 
mÆlöfo
 
	$mÆlöfo
 (Ë
__THROW
;

119 #i‚de‡
M_MXFAST


120 
	#M_MXFAST
 1

	)

122 #i‚de‡
M_NLBLKS


123 
	#M_NLBLKS
 2

	)

125 #i‚de‡
M_GRAIN


126 
	#M_GRAIN
 3

	)

128 #i‚de‡
M_KEEP


129 
	#M_KEEP
 4

	)

133 
	#M_TRIM_THRESHOLD
 -1

	)

134 
	#M_TOP_PAD
 -2

	)

135 
	#M_MMAP_THRESHOLD
 -3

	)

136 
	#M_MMAP_MAX
 -4

	)

137 
	#M_CHECK_ACTION
 -5

	)

138 
	#M_PERTURB
 -6

	)

139 
	#M_ARENA_TEST
 -7

	)

140 
	#M_ARENA_MAX
 -8

	)

143 
	$mÆl›t
 (
__∑øm
, 
__vÆ
Ë
__THROW
;

147 
	$mÆloc_åim
 (
size_t
 
__∑d
Ë
__THROW
;

151 
size_t
 
	$mÆloc_ußbÀ_size
 (*
__±r
Ë
__THROW
;

154 
	$mÆloc_°©s
 (Ë
__THROW
;

157 
	$mÆloc_öfo
 (
__›ti⁄s
, 
FILE
 *
__Â
Ë
__THROW
;

160 *
	$mÆloc_gë_°©e
 (Ë
__THROW
;

164 
	$mÆloc_£t_°©e
 (*
__±r
Ë
__THROW
;

169 (*
__MALLOC_HOOK_VOLATILE
 
__mÆloc_öôülize_hook
) ()

170 
__MALLOC_DEPRECATED
;

172 (*
__MALLOC_HOOK_VOLATILE
 
__‰ì_hook
Ë(*
__±r
,

173 c⁄° 
__mÆloc_±r_t
)

174 
__MALLOC_DEPRECATED
;

175 *(*
__MALLOC_HOOK_VOLATILE
 
__mÆloc_hook
Ë(
size_t
 
__size
,

176 c⁄° 
__mÆloc_±r_t
)

177 
__MALLOC_DEPRECATED
;

178 *(*
__MALLOC_HOOK_VOLATILE
 
__ªÆloc_hook
Ë(*
__±r
,

179 
size_t
 
__size
,

180 c⁄° 
__mÆloc_±r_t
)

181 
__MALLOC_DEPRECATED
;

182 *(*
__MALLOC_HOOK_VOLATILE
 
__memÆign_hook
Ë(
size_t
 
__Æignmít
,

183 
size_t
 
__size
,

184 c⁄° 
__mÆloc_±r_t
)

185 
__MALLOC_DEPRECATED
;

186 (*
__MALLOC_HOOK_VOLATILE
 
__a·î_m‹ec‹e_hook
) ();

189 
	$__mÆloc_check_öô
 (Ë
__THROW
 
__MALLOC_DEPRECATED
;

192 
__END_DECLS


	@/usr/include/math.h

24 #i‚def 
_MATH_H


25 
	#_MATH_H
 1

	)

27 
	~<„©uªs.h
>

29 
	g__BEGIN_DECLS


33 
	~<bôs/huge_vÆ.h
>

34 #ifde‡
__USE_ISOC99


35 
	~<bôs/huge_vÆf.h
>

36 
	~<bôs/huge_vÆl.h
>

39 
	~<bôs/öf.h
>

42 
	~<bôs/«n.h
>

46 
	~<bôs/m©hdef.h
>

53 
	#__MATHCALL
(
fun˘i⁄
,
suffix
, 
¨gs
) \

54 
	`__MATHDECL
 (
_MdoubÀ_
,
fun˘i⁄
,
suffix
, 
¨gs
)

	)

55 
	#__MATHDECL
(
ty≥
, 
fun˘i⁄
,
suffix
, 
¨gs
) \

56 
	`__MATHDECL_1
(
ty≥
, 
fun˘i⁄
,
suffix
, 
¨gs
); \

57 
	`__MATHDECL_1
(
ty≥
, 
	`__CONCAT
(
__
,
fun˘i⁄
),
suffix
, 
¨gs
)

	)

58 
	#__MATHCALLX
(
fun˘i⁄
,
suffix
, 
¨gs
, 
©åib
) \

59 
	`__MATHDECLX
 (
_MdoubÀ_
,
fun˘i⁄
,
suffix
, 
¨gs
, 
©åib
)

	)

60 
	#__MATHDECLX
(
ty≥
, 
fun˘i⁄
,
suffix
, 
¨gs
, 
©åib
) \

61 
	`__MATHDECL_1
(
ty≥
, 
fun˘i⁄
,
suffix
, 
¨gs
Ë
	`__©åibuã__
 (
©åib
); \

62 
	`__MATHDECL_1
(
ty≥
, 
	`__CONCAT
(
__
,
fun˘i⁄
),
suffix
, 
¨gs
Ë
	`__©åibuã__
 (
©åib
)

	)

63 
	#__MATHDECL_1
(
ty≥
, 
fun˘i⁄
,
suffix
, 
¨gs
) \

64 
ty≥
 
	`__MATH_PRECNAME
(
fun˘i⁄
,
suffix
Ë
¨gs
 
__THROW


	)

66 
	#_MdoubÀ_
 

	)

67 
	#__MATH_PRECNAME
(
«me
,
r
Ë
	`__CONCAT
“ame,r)

	)

68 
	#_MdoubÀ_BEGIN_NAMESPACE
 
__BEGIN_NAMESPACE_STD


	)

69 
	#_MdoubÀ_END_NAMESPACE
 
__END_NAMESPACE_STD


	)

70 
	~<bôs/m©hˇŒs.h
>

71 #unde‡
_MdoubÀ_


72 #unde‡
_MdoubÀ_BEGIN_NAMESPACE


73 #unde‡
_MdoubÀ_END_NAMESPACE


74 #unde‡
__MATH_PRECNAME


76 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_ISOC99


82 #i‚de‡
_MÊﬂt_


83 
	#_MÊﬂt_
 

	)

85 
	#_MdoubÀ_
 
_MÊﬂt_


	)

86 
	#__MATH_PRECNAME
(
«me
,
r
Ë«me##
f
##
	)
r

87 
	#_MdoubÀ_BEGIN_NAMESPACE
 
__BEGIN_NAMESPACE_C99


	)

88 
	#_MdoubÀ_END_NAMESPACE
 
__END_NAMESPACE_C99


	)

89 
	~<bôs/m©hˇŒs.h
>

90 #unde‡
_MdoubÀ_


91 #unde‡
_MdoubÀ_BEGIN_NAMESPACE


92 #unde‡
_MdoubÀ_END_NAMESPACE


93 #unde‡
__MATH_PRECNAME


95 #i‡!(
deföed
 
__NO_LONG_DOUBLE_MATH
 && deföed 
_LIBC
) \

96 || 
deföed
 
__LDBL_COMPAT


97 #ifde‡
__LDBL_COMPAT


99 #ifde‡
__USE_ISOC99


100 
	$__∆dbl_√xâow¨df
 (
__x
, 
__y
)

101 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

102 #ifde‡
__REDIRECT_NTH


103 
	`__REDIRECT_NTH
 (
√xâow¨df
, (
__x
, 
__y
),

104 
__∆dbl_√xâow¨df
)

105 
	`__©åibuã__
 ((
__c⁄°__
));

106 
	`__REDIRECT_NTH
 (
√xâow¨d
, (
__x
, 
__y
),

107 
√xè·î
Ë
	`__©åibuã__
 ((
__c⁄°__
));

108 
	`__REDIRECT_NTH
 (
√xâow¨dl
,

109 (
__x
, 
__y
),

110 
√xè·î
Ë
	`__©åibuã__
 ((
__c⁄°__
));

114 #unde‡
__MATHDECL_1


115 
	#__MATHDECL_2
(
ty≥
, 
fun˘i⁄
,
suffix
, 
¨gs
, 
Æüs
) \

116 
ty≥
 
	`__REDIRECT_NTH
(
	`__MATH_PRECNAME
(
fun˘i⁄
,
suffix
), \

117 
¨gs
, 
Æüs
)

	)

118 
	#__MATHDECL_1
(
ty≥
, 
fun˘i⁄
,
suffix
, 
¨gs
) \

119 
	`__MATHDECL_2
(
ty≥
, 
fun˘i⁄
,
suffix
, 
¨gs
, 
	`__CONCAT
(fun˘i⁄,suffix))

	)

125 #i‚de‡
_Ml⁄g_doubÀ_


126 
	#_Ml⁄g_doubÀ_
 

	)

128 
	#_MdoubÀ_
 
_Ml⁄g_doubÀ_


	)

129 
	#__MATH_PRECNAME
(
«me
,
r
Ë«me##
l
##
	)
r

130 
	#_MdoubÀ_BEGIN_NAMESPACE
 
__BEGIN_NAMESPACE_C99


	)

131 
	#_MdoubÀ_END_NAMESPACE
 
__END_NAMESPACE_C99


	)

132 
	#__MATH_DECLARE_LDOUBLE
 1

	)

133 
	~<bôs/m©hˇŒs.h
>

134 #unde‡
_MdoubÀ_


135 #unde‡
_MdoubÀ_BEGIN_NAMESPACE


136 #unde‡
_MdoubÀ_END_NAMESPACE


137 #unde‡
__MATH_PRECNAME


142 #unde‡
__MATHDECL_1


143 #unde‡
__MATHDECL


144 #unde‡
__MATHCALL


147 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN


149 
signgam
;

154 #ifde‡
__USE_ISOC99


192 
FP_NAN
 =

193 
	#FP_NAN
 0

	)

194 
FP_NAN
,

195 
FP_INFINITE
 =

196 
	#FP_INFINITE
 1

	)

197 
FP_INFINITE
,

198 
FP_ZERO
 =

199 
	#FP_ZERO
 2

	)

200 
FP_ZERO
,

201 
FP_SUBNORMAL
 =

202 
	#FP_SUBNORMAL
 3

	)

203 
FP_SUBNORMAL
,

204 
FP_NORMAL
 =

205 
	#FP_NORMAL
 4

	)

206 
FP_NORMAL


210 #ifde‡
__NO_LONG_DOUBLE_MATH


211 
	#Â˛assify
(
x
) \

212 ( (
x
Ë= (Ë? 
	`__Â˛assifyf
 (xË: 
	`__Â˛assify
 (x))

	)

214 
	#Â˛assify
(
x
) \

215 ( (
x
) ==  () \

216 ? 
	`__Â˛assifyf
 (
x
) \

217 :  (
x
) ==  () \

218 ? 
	`__Â˛assify
 (
x
Ë: 
	`__Â˛assifyl
 (x))

	)

222 #ifde‡
__NO_LONG_DOUBLE_MATH


223 
	#signbô
(
x
) \

224 ( (
x
Ë= (Ë? 
	`__signbôf
 (xË: 
	`__signbô
 (x))

	)

226 
	#signbô
(
x
) \

227 ( (
x
) ==  () \

228 ? 
	`__signbôf
 (
x
) \

229 :  (
x
) ==  () \

230 ? 
	`__signbô
 (
x
Ë: 
	`__signbôl
 (x))

	)

234 #ifde‡
__NO_LONG_DOUBLE_MATH


235 
	#isföôe
(
x
) \

236 ( (
x
Ë= (Ë? 
	`__föôef
 (xË: 
	`__föôe
 (x))

	)

238 
	#isföôe
(
x
) \

239 ( (
x
) ==  () \

240 ? 
	`__föôef
 (
x
) \

241 :  (
x
) ==  () \

242 ? 
	`__föôe
 (
x
Ë: 
	`__föôñ
 (x))

	)

246 
	#i¢‹mÆ
(
x
Ë(
	`Â˛assify
 (xË=
FP_NORMAL
)

	)

250 #ifde‡
__NO_LONG_DOUBLE_MATH


251 
	#i¢™
(
x
) \

252 ( (
x
Ë= (Ë? 
	`__i¢™f
 (xË: 
	`__i¢™
 (x))

	)

254 
	#i¢™
(
x
) \

255 ( (
x
) ==  () \

256 ? 
	`__i¢™f
 (
x
) \

257 :  (
x
) ==  () \

258 ? 
	`__i¢™
 (
x
Ë: 
	`__i¢™l
 (x))

	)

262 #ifde‡
__NO_LONG_DOUBLE_MATH


263 
	#isöf
(
x
) \

264 ( (
x
Ë= (Ë? 
	`__isöff
 (xË: 
	`__isöf
 (x))

	)

266 
	#isöf
(
x
) \

267 ( (
x
) ==  () \

268 ? 
	`__isöff
 (
x
) \

269 :  (
x
) ==  () \

270 ? 
	`__isöf
 (
x
Ë: 
	`__isöÊ
 (x))

	)

274 
	#MATH_ERRNO
 1

	)

275 
	#MATH_ERREXCEPT
 2

	)

280 #i‚de‡
__FAST_MATH__


281 
	#m©h_îrh™dlög
 (
MATH_ERRNO
 | 
MATH_ERREXCEPT
)

	)

286 #ifdef 
__USE_MISC


290 
_IEEE_
 = -1,

291 
_SVID_
,

292 
_XOPEN_
,

293 
_POSIX_
,

294 
_ISOC_


295 } 
	t_LIB_VERSION_TYPE
;

300 
_LIB_VERSION_TYPE
 
_LIB_VERSION
;

304 #ifde‡
__USE_SVID


310 #ifde‡
__˝lu•lus


311 
__ex˚±i⁄


313 
ex˚±i⁄


316 
ty≥
;

317 *
«me
;

318 
¨g1
;

319 
¨g2
;

320 
ªtvÆ
;

321 
	}
};

323 #ifde‡
__˝lu•lus


324 
	$m©hîr
 (
__ex˚±i⁄
 *
__exc
Ë
	`throw
 ();

326 
	`m©hîr
 (
ex˚±i⁄
 *
__exc
);

329 
	#X_TLOSS
 1.41484755040568800000e+16

	)

332 
	#DOMAIN
 1

	)

333 
	#SING
 2

	)

334 
	#OVERFLOW
 3

	)

335 
	#UNDERFLOW
 4

	)

336 
	#TLOSS
 5

	)

337 
	#PLOSS
 6

	)

340 
	#HUGE
 3.40282347e+38F

	)

344 #ifde‡
__USE_XOPEN


346 
	#MAXFLOAT
 3.40282347e+38F

	)

353 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN


354 
	#M_E
 2.7182818284590452354

	)

355 
	#M_LOG2E
 1.4426950408889634074

	)

356 
	#M_LOG10E
 0.43429448190325182765

	)

357 
	#M_LN2
 0.69314718055994530942

	)

358 
	#M_LN10
 2.30258509299404568402

	)

359 
	#M_PI
 3.14159265358979323846

	)

360 
	#M_PI_2
 1.57079632679489661923

	)

361 
	#M_PI_4
 0.78539816339744830962

	)

362 
	#M_1_PI
 0.31830988618379067154

	)

363 
	#M_2_PI
 0.63661977236758134308

	)

364 
	#M_2_SQRTPI
 1.12837916709551257390

	)

365 
	#M_SQRT2
 1.41421356237309504880

	)

366 
	#M_SQRT1_2
 0.70710678118654752440

	)

372 #ifde‡
__USE_GNU


373 
	#M_El
 2.718281828459045235360287471352662498L

	)

374 
	#M_LOG2El
 1.442695040888963407359924681001892137L

	)

375 
	#M_LOG10El
 0.434294481903251827651128918916605082L

	)

376 
	#M_LN2l
 0.693147180559945309417232121458176568L

	)

377 
	#M_LN10l
 2.302585092994045684017991454684364208L

	)

378 
	#M_PIl
 3.141592653589793238462643383279502884L

	)

379 
	#M_PI_2l
 1.570796326794896619231321691639751442L

	)

380 
	#M_PI_4l
 0.785398163397448309615660845819875721L

	)

381 
	#M_1_PIl
 0.318309886183790671537767526745028724L

	)

382 
	#M_2_PIl
 0.636619772367581343075535053490057448L

	)

383 
	#M_2_SQRTPIl
 1.128379167095512573896158903121545172L

	)

384 
	#M_SQRT2l
 1.414213562373095048801688724209698079L

	)

385 
	#M_SQRT1_2l
 0.707106781186547524400844362104849039L

	)

392 #i‡
deföed
 
__STRICT_ANSI__
 && !deföed 
__NO_MATH_INLINES


393 
	#__NO_MATH_INLINES
 1

	)

396 #i‡
deföed
 
__USE_ISOC99
 && 
	`__GNUC_PREREQ
(2,97)

403 
	#isgª©î
(
x
, 
y
Ë
	`__buûtö_isgª©î
(x, y)

	)

404 
	#isgª©îequÆ
(
x
, 
y
Ë
	`__buûtö_isgª©îequÆ
(x, y)

	)

405 
	#i¶ess
(
x
, 
y
Ë
	`__buûtö_i¶ess
(x, y)

	)

406 
	#i¶es£quÆ
(
x
, 
y
Ë
	`__buûtö_i¶es£quÆ
(x, y)

	)

407 
	#i¶essgª©î
(
x
, 
y
Ë
	`__buûtö_i¶essgª©î
(x, y)

	)

408 
	#isun‹dîed
(
u
, 
v
Ë
	`__buûtö_isun‹dîed
(u, v)

	)

412 #ifde‡
__USE_EXTERN_INLINES


413 
	~<bôs/m©hölöe.h
>

418 #i‡
deföed
 
__FINITE_MATH_ONLY__
 && __FINITE_MATH_ONLY__ > 0

419 
	~<bôs/m©h-föôe.h
>

422 #ifde‡
__USE_ISOC99


426 #i‚de‡
isgª©î


427 
	#isgª©î
(
x
, 
y
) \

428 (
__exãnsi⁄__
 \

429 ({ 
	`__ty≥of__
(
x
Ë
__x
 = (x); __ty≥of__(
y
Ë
__y
 = (y); \

430 !
	`isun‹dîed
 (
__x
, 
__y
Ë&& __x > __y; 
	}
}))

	)

434 #i‚de‡
isgª©îequÆ


435 
	#isgª©îequÆ
(
x
, 
y
) \

436 (
__exãnsi⁄__
 \

437 ({ 
	`__ty≥of__
(
x
Ë
__x
 = (x); __ty≥of__(
y
Ë
__y
 = (y); \

438 !
	`isun‹dîed
 (
__x
, 
__y
Ë&& __x >__y; }))

	)

442 #i‚de‡
i¶ess


443 
	#i¶ess
(
x
, 
y
) \

444 (
__exãnsi⁄__
 \

445 ({ 
	`__ty≥of__
(
x
Ë
__x
 = (x); __ty≥of__(
y
Ë
__y
 = (y); \

446 !
	`isun‹dîed
 (
__x
, 
__y
Ë&& __x < __y; }))

	)

450 #i‚de‡
i¶es£quÆ


451 
	#i¶es£quÆ
(
x
, 
y
) \

452 (
__exãnsi⁄__
 \

453 ({ 
	`__ty≥of__
(
x
Ë
__x
 = (x); __ty≥of__(
y
Ë
__y
 = (y); \

454 !
	`isun‹dîed
 (
__x
, 
__y
Ë&& __x <__y; }))

	)

458 #i‚de‡
i¶essgª©î


459 
	#i¶essgª©î
(
x
, 
y
) \

460 (
__exãnsi⁄__
 \

461 ({ 
	`__ty≥of__
(
x
Ë
__x
 = (x); __ty≥of__(
y
Ë
__y
 = (y); \

462 !
	`isun‹dîed
 (
__x
, 
__y
Ë&& (__x < __y || __y < __x); }))

	)

466 #i‚de‡
isun‹dîed


467 
	#isun‹dîed
(
u
, 
v
) \

468 (
__exãnsi⁄__
 \

469 ({ 
	`__ty≥of__
(
u
Ë
__u
 = (u); __ty≥of__(
v
Ë
__v
 = (v); \

470 
	`Â˛assify
 (
__u
Ë=
FP_NAN
 || fp˛assify (
__v
Ë=FP_NAN; }))

	)

475 
	g__END_DECLS


	@/usr/include/memory.h

22 #i‚def 
_MEMORY_H


23 
	#_MEMORY_H
 1

	)

25 
	~<„©uªs.h
>

28 #i‚def 
_STRING_H


29 
	~<°rög.h
>

	@/usr/include/stdint.h

22 #i‚de‡
_STDINT_H


23 
	#_STDINT_H
 1

	)

25 
	~<„©uªs.h
>

26 
	~<bôs/wch¨.h
>

27 
	~<bôs/w‹dsize.h
>

34 #i‚de‡
__öt8_t_deföed


35 
	#__öt8_t_deföed


	)

36 sig√d 
	töt8_t
;

37 
	töt16_t
;

38 
	töt32_t
;

39 #i‡
__WORDSIZE
 == 64

40 
	töt64_t
;

42 
__exãnsi⁄__


43 
	töt64_t
;

48 
	tuöt8_t
;

49 
	tuöt16_t
;

50 #i‚de‡
__uöt32_t_deföed


51 
	tuöt32_t
;

52 
	#__uöt32_t_deföed


	)

54 #i‡
__WORDSIZE
 == 64

55 
	tuöt64_t
;

57 
__exãnsi⁄__


58 
	tuöt64_t
;

65 sig√d 
	töt_Àa°8_t
;

66 
	töt_Àa°16_t
;

67 
	töt_Àa°32_t
;

68 #i‡
__WORDSIZE
 == 64

69 
	töt_Àa°64_t
;

71 
__exãnsi⁄__


72 
	töt_Àa°64_t
;

76 
	tuöt_Àa°8_t
;

77 
	tuöt_Àa°16_t
;

78 
	tuöt_Àa°32_t
;

79 #i‡
__WORDSIZE
 == 64

80 
	tuöt_Àa°64_t
;

82 
__exãnsi⁄__


83 
	tuöt_Àa°64_t
;

90 sig√d 
	töt_Á°8_t
;

91 #i‡
__WORDSIZE
 == 64

92 
	töt_Á°16_t
;

93 
	töt_Á°32_t
;

94 
	töt_Á°64_t
;

96 
	töt_Á°16_t
;

97 
	töt_Á°32_t
;

98 
__exãnsi⁄__


99 
	töt_Á°64_t
;

103 
	tuöt_Á°8_t
;

104 #i‡
__WORDSIZE
 == 64

105 
	tuöt_Á°16_t
;

106 
	tuöt_Á°32_t
;

107 
	tuöt_Á°64_t
;

109 
	tuöt_Á°16_t
;

110 
	tuöt_Á°32_t
;

111 
__exãnsi⁄__


112 
	tuöt_Á°64_t
;

117 #i‡
__WORDSIZE
 == 64

118 #i‚de‡
__öçå_t_deföed


119 
	töçå_t
;

120 
	#__öçå_t_deföed


	)

122 
	tuöçå_t
;

124 #i‚de‡
__öçå_t_deföed


125 
	töçå_t
;

126 
	#__öçå_t_deföed


	)

128 
	tuöçå_t
;

133 #i‡
__WORDSIZE
 == 64

134 
	tötmax_t
;

135 
	tuötmax_t
;

137 
__exãnsi⁄__


138 
	tötmax_t
;

139 
__exãnsi⁄__


140 
	tuötmax_t
;

144 #i‡
__WORDSIZE
 == 64

145 
	#__INT64_C
(
c
Ë¯## 
L


	)

146 
	#__UINT64_C
(
c
Ë¯## 
UL


	)

148 
	#__INT64_C
(
c
Ë¯## 
LL


	)

149 
	#__UINT64_C
(
c
Ë¯## 
ULL


	)

155 
	#INT8_MIN
 (-128)

	)

156 
	#INT16_MIN
 (-32767-1)

	)

157 
	#INT32_MIN
 (-2147483647-1)

	)

158 
	#INT64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

160 
	#INT8_MAX
 (127)

	)

161 
	#INT16_MAX
 (32767)

	)

162 
	#INT32_MAX
 (2147483647)

	)

163 
	#INT64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

166 
	#UINT8_MAX
 (255)

	)

167 
	#UINT16_MAX
 (65535)

	)

168 
	#UINT32_MAX
 (4294967295U)

	)

169 
	#UINT64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

173 
	#INT_LEAST8_MIN
 (-128)

	)

174 
	#INT_LEAST16_MIN
 (-32767-1)

	)

175 
	#INT_LEAST32_MIN
 (-2147483647-1)

	)

176 
	#INT_LEAST64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

178 
	#INT_LEAST8_MAX
 (127)

	)

179 
	#INT_LEAST16_MAX
 (32767)

	)

180 
	#INT_LEAST32_MAX
 (2147483647)

	)

181 
	#INT_LEAST64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

184 
	#UINT_LEAST8_MAX
 (255)

	)

185 
	#UINT_LEAST16_MAX
 (65535)

	)

186 
	#UINT_LEAST32_MAX
 (4294967295U)

	)

187 
	#UINT_LEAST64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

191 
	#INT_FAST8_MIN
 (-128)

	)

192 #i‡
__WORDSIZE
 == 64

193 
	#INT_FAST16_MIN
 (-9223372036854775807L-1)

	)

194 
	#INT_FAST32_MIN
 (-9223372036854775807L-1)

	)

196 
	#INT_FAST16_MIN
 (-2147483647-1)

	)

197 
	#INT_FAST32_MIN
 (-2147483647-1)

	)

199 
	#INT_FAST64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

201 
	#INT_FAST8_MAX
 (127)

	)

202 #i‡
__WORDSIZE
 == 64

203 
	#INT_FAST16_MAX
 (9223372036854775807L)

	)

204 
	#INT_FAST32_MAX
 (9223372036854775807L)

	)

206 
	#INT_FAST16_MAX
 (2147483647)

	)

207 
	#INT_FAST32_MAX
 (2147483647)

	)

209 
	#INT_FAST64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

212 
	#UINT_FAST8_MAX
 (255)

	)

213 #i‡
__WORDSIZE
 == 64

214 
	#UINT_FAST16_MAX
 (18446744073709551615UL)

	)

215 
	#UINT_FAST32_MAX
 (18446744073709551615UL)

	)

217 
	#UINT_FAST16_MAX
 (4294967295U)

	)

218 
	#UINT_FAST32_MAX
 (4294967295U)

	)

220 
	#UINT_FAST64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

224 #i‡
__WORDSIZE
 == 64

225 
	#INTPTR_MIN
 (-9223372036854775807L-1)

	)

226 
	#INTPTR_MAX
 (9223372036854775807L)

	)

227 
	#UINTPTR_MAX
 (18446744073709551615UL)

	)

229 
	#INTPTR_MIN
 (-2147483647-1)

	)

230 
	#INTPTR_MAX
 (2147483647)

	)

231 
	#UINTPTR_MAX
 (4294967295U)

	)

236 
	#INTMAX_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

238 
	#INTMAX_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

241 
	#UINTMAX_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

247 #i‡
__WORDSIZE
 == 64

248 
	#PTRDIFF_MIN
 (-9223372036854775807L-1)

	)

249 
	#PTRDIFF_MAX
 (9223372036854775807L)

	)

251 
	#PTRDIFF_MIN
 (-2147483647-1)

	)

252 
	#PTRDIFF_MAX
 (2147483647)

	)

256 
	#SIG_ATOMIC_MIN
 (-2147483647-1)

	)

257 
	#SIG_ATOMIC_MAX
 (2147483647)

	)

260 #i‡
__WORDSIZE
 == 64

261 
	#SIZE_MAX
 (18446744073709551615UL)

	)

263 #ifde‡
__WORDSIZE32_SIZE_ULONG


264 
	#SIZE_MAX
 (4294967295UL)

	)

266 
	#SIZE_MAX
 (4294967295U)

	)

271 #i‚de‡
WCHAR_MIN


273 
	#WCHAR_MIN
 
__WCHAR_MIN


	)

274 
	#WCHAR_MAX
 
__WCHAR_MAX


	)

278 
	#WINT_MIN
 (0u)

	)

279 
	#WINT_MAX
 (4294967295u)

	)

283 
	#INT8_C
(
c
Ë
	)
c

284 
	#INT16_C
(
c
Ë
	)
c

285 
	#INT32_C
(
c
Ë
	)
c

286 #i‡
__WORDSIZE
 == 64

287 
	#INT64_C
(
c
Ë¯## 
L


	)

289 
	#INT64_C
(
c
Ë¯## 
LL


	)

293 
	#UINT8_C
(
c
Ë
	)
c

294 
	#UINT16_C
(
c
Ë
	)
c

295 
	#UINT32_C
(
c
Ë¯## 
U


	)

296 #i‡
__WORDSIZE
 == 64

297 
	#UINT64_C
(
c
Ë¯## 
UL


	)

299 
	#UINT64_C
(
c
Ë¯## 
ULL


	)

303 #i‡
__WORDSIZE
 == 64

304 
	#INTMAX_C
(
c
Ë¯## 
L


	)

305 
	#UINTMAX_C
(
c
Ë¯## 
UL


	)

307 
	#INTMAX_C
(
c
Ë¯## 
LL


	)

308 
	#UINTMAX_C
(
c
Ë¯## 
ULL


	)

	@/usr/include/stdio.h

23 #i‚de‡
_STDIO_H


25 #i‡!
deföed
 
__√ed_FILE
 && !deföed 
__√ed___FILE


26 
	#_STDIO_H
 1

	)

27 
	~<„©uªs.h
>

29 
	g__BEGIN_DECLS


31 
	#__√ed_size_t


	)

32 
	#__√ed_NULL


	)

33 
	~<°ddef.h
>

35 
	~<bôs/ty≥s.h
>

36 
	#__√ed_FILE


	)

37 
	#__√ed___FILE


	)

41 #i‡!
deföed
 
__FILE_deföed
 && deföed 
__√ed_FILE


44 
	g_IO_FILE
;

46 
__BEGIN_NAMESPACE_STD


48 
_IO_FILE
 
	tFILE
;

49 
	g__END_NAMESPACE_STD


50 #i‡
deföed
 
__USE_LARGEFILE64
 || deföed 
__USE_SVID
 || deföed 
__USE_POSIX
 \

51 || 
deföed
 
	g__USE_BSD
 || deföed 
	g__USE_ISOC99
 || deföed 
	g__USE_XOPEN
 \

52 || 
deföed
 
__USE_POSIX2


53 
	$__USING_NAMESPACE_STD
(
FILE
)

56 
	#__FILE_deföed
 1

	)

58 #unde‡
__√ed_FILE


61 #i‡!
deföed
 
____FILE_deföed
 && deföed 
__√ed___FILE


64 
_IO_FILE
 
	t__FILE
;

66 
	#____FILE_deföed
 1

	)

68 #unde‡
__√ed___FILE


71 #ifdef 
_STDIO_H


72 
	#_STDIO_USES_IOSTREAM


	)

74 
	~<libio.h
>

76 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K8


77 #ifde‡
__GNUC__


78 #i‚de‡
_VA_LIST_DEFINED


79 
_G_va_li°
 
	tva_li°
;

80 
	#_VA_LIST_DEFINED


	)

83 
	~<°d¨g.h
>

87 #ifde‡
__USE_XOPEN2K8


88 #i‚de‡
__off_t_deföed


89 #i‚de‡
__USE_FILE_OFFSET64


90 
__off_t
 
	toff_t
;

92 
__off64_t
 
	toff_t
;

94 
	#__off_t_deföed


	)

96 #i‡
deföed
 
__USE_LARGEFILE64
 && !deföed 
__off64_t_deföed


97 
__off64_t
 
	toff64_t
;

98 
	#__off64_t_deföed


	)

101 #i‚de‡
__ssize_t_deföed


102 
__ssize_t
 
	tssize_t
;

103 
	#__ssize_t_deföed


	)

108 
__BEGIN_NAMESPACE_STD


109 #i‚de‡
__USE_FILE_OFFSET64


110 
_G_Âos_t
 
	tÂos_t
;

112 
_G_Âos64_t
 
	tÂos_t
;

114 
__END_NAMESPACE_STD


115 #ifde‡
__USE_LARGEFILE64


116 
_G_Âos64_t
 
	tÂos64_t
;

120 
	#_IOFBF
 0

	)

121 
	#_IOLBF
 1

	)

122 
	#_IONBF
 2

	)

126 #i‚de‡
BUFSIZ


127 
	#BUFSIZ
 
_IO_BUFSIZ


	)

133 #i‚de‡
EOF


134 
	#EOF
 (-1)

	)

140 
	#SEEK_SET
 0

	)

141 
	#SEEK_CUR
 1

	)

142 
	#SEEK_END
 2

	)

143 #ifde‡
__USE_GNU


144 
	#SEEK_DATA
 3

	)

145 
	#SEEK_HOLE
 4

	)

149 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_XOPEN


151 
	#P_tmpdú
 "/tmp"

	)

164 
	~<bôs/°dio_lim.h
>

168 
_IO_FILE
 *
°dö
;

169 
_IO_FILE
 *
°dout
;

170 
_IO_FILE
 *
°dîr
;

172 
	#°dö
 
°dö


	)

173 
	#°dout
 
°dout


	)

174 
	#°dîr
 
°dîr


	)

176 
__BEGIN_NAMESPACE_STD


178 
	$ªmove
 (c⁄° *
__fûíame
Ë
__THROW
;

180 
	$ª«me
 (c⁄° *
__ﬁd
, c⁄° *
__√w
Ë
__THROW
;

181 
__END_NAMESPACE_STD


183 #ifde‡
__USE_ATFILE


185 
	$ª«mót
 (
__ﬁdfd
, c⁄° *
__ﬁd
, 
__√wfd
,

186 c⁄° *
__√w
Ë
__THROW
;

189 
__BEGIN_NAMESPACE_STD


194 #i‚de‡
__USE_FILE_OFFSET64


195 
FILE
 *
	$tmpfûe
 (Ë
__wur
;

197 #ifde‡
__REDIRECT


198 
FILE
 *
	`__REDIRECT
 (
tmpfûe
, (), 
tmpfûe64
Ë
__wur
;

200 
	#tmpfûe
 
tmpfûe64


	)

204 #ifde‡
__USE_LARGEFILE64


205 
FILE
 *
	$tmpfûe64
 (Ë
__wur
;

209 *
	$tm≤am
 (*
__s
Ë
__THROW
 
__wur
;

210 
__END_NAMESPACE_STD


212 #ifde‡
__USE_MISC


215 *
	$tm≤am_r
 (*
__s
Ë
__THROW
 
__wur
;

219 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_XOPEN


227 *
	$ãm≤am
 (c⁄° *
__dú
, c⁄° *
__pfx
)

228 
__THROW
 
__©åibuã_mÆloc__
 
__wur
;

232 
__BEGIN_NAMESPACE_STD


237 
	`f˛o£
 (
FILE
 *
__°ªam
);

242 
	`fÊush
 (
FILE
 *
__°ªam
);

243 
__END_NAMESPACE_STD


245 #ifde‡
__USE_MISC


252 
	`fÊush_u∆ocked
 (
FILE
 *
__°ªam
);

255 #ifde‡
__USE_GNU


262 
	`f˛o£Æl
 ();

266 
__BEGIN_NAMESPACE_STD


267 #i‚de‡
__USE_FILE_OFFSET64


272 
FILE
 *
	$f›í
 (c⁄° *
__ª°ri˘
 
__fûíame
,

273 c⁄° *
__ª°ri˘
 
__modes
Ë
__wur
;

278 
FILE
 *
	$‰e›í
 (c⁄° *
__ª°ri˘
 
__fûíame
,

279 c⁄° *
__ª°ri˘
 
__modes
,

280 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

282 #ifde‡
__REDIRECT


283 
FILE
 *
	`__REDIRECT
 (
f›í
, (c⁄° *
__ª°ri˘
 
__fûíame
,

284 c⁄° *
__ª°ri˘
 
__modes
), 
f›í64
)

285 
__wur
;

286 
FILE
 *
	`__REDIRECT
 (
‰e›í
, (c⁄° *
__ª°ri˘
 
__fûíame
,

287 c⁄° *
__ª°ri˘
 
__modes
,

288 
FILE
 *
__ª°ri˘
 
__°ªam
), 
‰e›í64
)

289 
__wur
;

291 
	#f›í
 
f›í64


	)

292 
	#‰e›í
 
‰e›í64


	)

295 
__END_NAMESPACE_STD


296 #ifde‡
__USE_LARGEFILE64


297 
FILE
 *
	$f›í64
 (c⁄° *
__ª°ri˘
 
__fûíame
,

298 c⁄° *
__ª°ri˘
 
__modes
Ë
__wur
;

299 
FILE
 *
	$‰e›í64
 (c⁄° *
__ª°ri˘
 
__fûíame
,

300 c⁄° *
__ª°ri˘
 
__modes
,

301 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

304 #ifdef 
__USE_POSIX


306 
FILE
 *
	$fd›í
 (
__fd
, c⁄° *
__modes
Ë
__THROW
 
__wur
;

309 #ifdef 
__USE_GNU


312 
FILE
 *
	$f›ícookõ
 (*
__ª°ri˘
 
__magic_cookõ
,

313 c⁄° *
__ª°ri˘
 
__modes
,

314 
_IO_cookõ_io_fun˘i⁄s_t
 
__io_funcs
Ë
__THROW
 
__wur
;

317 #ifde‡
__USE_XOPEN2K8


319 
FILE
 *
	$fmem›í
 (*
__s
, 
size_t
 
__Àn
, c⁄° *
__modes
)

320 
__THROW
 
__wur
;

325 
FILE
 *
	$›í_mem°ªam
 (**
__buÊoc
, 
size_t
 *
__sizñoc
Ë
__THROW
 
__wur
;

329 
__BEGIN_NAMESPACE_STD


332 
	$£tbuf
 (
FILE
 *
__ª°ri˘
 
__°ªam
, *__ª°ri˘ 
__buf
Ë
__THROW
;

336 
	$£tvbuf
 (
FILE
 *
__ª°ri˘
 
__°ªam
, *__ª°ri˘ 
__buf
,

337 
__modes
, 
size_t
 
__n
Ë
__THROW
;

338 
__END_NAMESPACE_STD


340 #ifdef 
__USE_BSD


343 
	$£tbuf„r
 (
FILE
 *
__ª°ri˘
 
__°ªam
, *__ª°ri˘ 
__buf
,

344 
size_t
 
__size
Ë
__THROW
;

347 
	$£éöebuf
 (
FILE
 *
__°ªam
Ë
__THROW
;

351 
__BEGIN_NAMESPACE_STD


356 
	`Ârötf
 (
FILE
 *
__ª°ri˘
 
__°ªam
,

357 c⁄° *
__ª°ri˘
 
__f‹m©
, ...);

362 
	`¥ötf
 (c⁄° *
__ª°ri˘
 
__f‹m©
, ...);

364 
	$•rötf
 (*
__ª°ri˘
 
__s
,

365 c⁄° *
__ª°ri˘
 
__f‹m©
, ...Ë
__THROWNL
;

371 
	`vÂrötf
 (
FILE
 *
__ª°ri˘
 
__s
, c⁄° *__ª°ri˘ 
__f‹m©
,

372 
_G_va_li°
 
__¨g
);

377 
	`v¥ötf
 (c⁄° *
__ª°ri˘
 
__f‹m©
, 
_G_va_li°
 
__¨g
);

379 
	$v•rötf
 (*
__ª°ri˘
 
__s
, c⁄° *__ª°ri˘ 
__f‹m©
,

380 
_G_va_li°
 
__¨g
Ë
__THROWNL
;

381 
__END_NAMESPACE_STD


383 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_ISOC99
 || deföed 
__USE_UNIX98


384 
__BEGIN_NAMESPACE_C99


386 
	$¢¥ötf
 (*
__ª°ri˘
 
__s
, 
size_t
 
__maxÀn
,

387 c⁄° *
__ª°ri˘
 
__f‹m©
, ...)

388 
__THROWNL
 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 3, 4)));

390 
	$v¢¥ötf
 (*
__ª°ri˘
 
__s
, 
size_t
 
__maxÀn
,

391 c⁄° *
__ª°ri˘
 
__f‹m©
, 
_G_va_li°
 
__¨g
)

392 
__THROWNL
 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 3, 0)));

393 
__END_NAMESPACE_C99


396 #ifde‡
__USE_GNU


399 
	$va•rötf
 (**
__ª°ri˘
 
__±r
, c⁄° *__ª°ri˘ 
__f
,

400 
_G_va_li°
 
__¨g
)

401 
__THROWNL
 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__¥ötf__
, 2, 0))Ë
__wur
;

402 
	$__a•rötf
 (**
__ª°ri˘
 
__±r
,

403 c⁄° *
__ª°ri˘
 
__fmt
, ...)

404 
__THROWNL
 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__¥ötf__
, 2, 3))Ë
__wur
;

405 
	$a•rötf
 (**
__ª°ri˘
 
__±r
,

406 c⁄° *
__ª°ri˘
 
__fmt
, ...)

407 
__THROWNL
 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__¥ötf__
, 2, 3))Ë
__wur
;

410 #ifde‡
__USE_XOPEN2K8


412 
	$vd¥ötf
 (
__fd
, c⁄° *
__ª°ri˘
 
__fmt
,

413 
_G_va_li°
 
__¨g
)

414 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 2, 0)));

415 
	$d¥ötf
 (
__fd
, c⁄° *
__ª°ri˘
 
__fmt
, ...)

416 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 2, 3)));

420 
__BEGIN_NAMESPACE_STD


425 
	$fsˇnf
 (
FILE
 *
__ª°ri˘
 
__°ªam
,

426 c⁄° *
__ª°ri˘
 
__f‹m©
, ...Ë
__wur
;

431 
	$sˇnf
 (c⁄° *
__ª°ri˘
 
__f‹m©
, ...Ë
__wur
;

433 
	$ssˇnf
 (c⁄° *
__ª°ri˘
 
__s
,

434 c⁄° *
__ª°ri˘
 
__f‹m©
, ...Ë
__THROW
;

436 #i‡
deföed
 
__USE_ISOC99
 && !deföed 
__USE_GNU
 \

437 && (!
deföed
 
__LDBL_COMPAT
 || !deföed 
__REDIRECT
) \

438 && (
deföed
 
__STRICT_ANSI__
 || deföed 
__USE_XOPEN2K
)

439 #ifde‡
__REDIRECT


443 
	`__REDIRECT
 (
fsˇnf
, (
FILE
 *
__ª°ri˘
 
__°ªam
,

444 c⁄° *
__ª°ri˘
 
__f‹m©
, ...),

445 
__isoc99_fsˇnf
Ë
__wur
;

446 
	`__REDIRECT
 (
sˇnf
, (c⁄° *
__ª°ri˘
 
__f‹m©
, ...),

447 
__isoc99_sˇnf
Ë
__wur
;

448 
	`__REDIRECT_NTH
 (
ssˇnf
, (c⁄° *
__ª°ri˘
 
__s
,

449 c⁄° *
__ª°ri˘
 
__f‹m©
, ...),

450 
__isoc99_ssˇnf
);

452 
	$__isoc99_fsˇnf
 (
FILE
 *
__ª°ri˘
 
__°ªam
,

453 c⁄° *
__ª°ri˘
 
__f‹m©
, ...Ë
__wur
;

454 
	$__isoc99_sˇnf
 (c⁄° *
__ª°ri˘
 
__f‹m©
, ...Ë
__wur
;

455 
	$__isoc99_ssˇnf
 (c⁄° *
__ª°ri˘
 
__s
,

456 c⁄° *
__ª°ri˘
 
__f‹m©
, ...Ë
__THROW
;

457 
	#fsˇnf
 
__isoc99_fsˇnf


	)

458 
	#sˇnf
 
__isoc99_sˇnf


	)

459 
	#ssˇnf
 
__isoc99_ssˇnf


	)

463 
__END_NAMESPACE_STD


465 #ifdef 
__USE_ISOC99


466 
__BEGIN_NAMESPACE_C99


471 
	$vfsˇnf
 (
FILE
 *
__ª°ri˘
 
__s
, c⁄° *__ª°ri˘ 
__f‹m©
,

472 
_G_va_li°
 
__¨g
)

473 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__sˇnf__
, 2, 0))Ë
__wur
;

479 
	$vsˇnf
 (c⁄° *
__ª°ri˘
 
__f‹m©
, 
_G_va_li°
 
__¨g
)

480 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__sˇnf__
, 1, 0))Ë
__wur
;

483 
	$vssˇnf
 (c⁄° *
__ª°ri˘
 
__s
,

484 c⁄° *
__ª°ri˘
 
__f‹m©
, 
_G_va_li°
 
__¨g
)

485 
__THROW
 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__sˇnf__
, 2, 0)));

487 #i‡!
deföed
 
__USE_GNU
 \

488 && (!
deföed
 
__LDBL_COMPAT
 || !deföed 
__REDIRECT
) \

489 && (
deföed
 
__STRICT_ANSI__
 || deföed 
__USE_XOPEN2K
)

490 #ifde‡
__REDIRECT


494 
	`__REDIRECT
 (
vfsˇnf
,

495 (
FILE
 *
__ª°ri˘
 
__s
,

496 c⁄° *
__ª°ri˘
 
__f‹m©
, 
_G_va_li°
 
__¨g
),

497 
__isoc99_vfsˇnf
)

498 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__sˇnf__
, 2, 0))Ë
__wur
;

499 
	`__REDIRECT
 (
vsˇnf
, (c⁄° *
__ª°ri˘
 
__f‹m©
,

500 
_G_va_li°
 
__¨g
), 
__isoc99_vsˇnf
)

501 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__sˇnf__
, 1, 0))Ë
__wur
;

502 
	`__REDIRECT_NTH
 (
vssˇnf
,

503 (c⁄° *
__ª°ri˘
 
__s
,

504 c⁄° *
__ª°ri˘
 
__f‹m©
,

505 
_G_va_li°
 
__¨g
), 
__isoc99_vssˇnf
)

506 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__sˇnf__
, 2, 0)));

508 
	$__isoc99_vfsˇnf
 (
FILE
 *
__ª°ri˘
 
__s
,

509 c⁄° *
__ª°ri˘
 
__f‹m©
,

510 
_G_va_li°
 
__¨g
Ë
__wur
;

511 
	$__isoc99_vsˇnf
 (c⁄° *
__ª°ri˘
 
__f‹m©
,

512 
_G_va_li°
 
__¨g
Ë
__wur
;

513 
	$__isoc99_vssˇnf
 (c⁄° *
__ª°ri˘
 
__s
,

514 c⁄° *
__ª°ri˘
 
__f‹m©
,

515 
_G_va_li°
 
__¨g
Ë
__THROW
;

516 
	#vfsˇnf
 
__isoc99_vfsˇnf


	)

517 
	#vsˇnf
 
__isoc99_vsˇnf


	)

518 
	#vssˇnf
 
__isoc99_vssˇnf


	)

522 
__END_NAMESPACE_C99


526 
__BEGIN_NAMESPACE_STD


531 
	`fgëc
 (
FILE
 *
__°ªam
);

532 
	`gëc
 (
FILE
 *
__°ªam
);

538 
	`gëch¨
 ();

539 
__END_NAMESPACE_STD


543 
	#gëc
(
_Â
Ë
	`_IO_gëc
 (_Â)

	)

545 #i‡
deföed
 
__USE_POSIX
 || deföed 
__USE_MISC


550 
	`gëc_u∆ocked
 (
FILE
 *
__°ªam
);

551 
	`gëch¨_u∆ocked
 ();

554 #ifde‡
__USE_MISC


561 
	`fgëc_u∆ocked
 (
FILE
 *
__°ªam
);

565 
__BEGIN_NAMESPACE_STD


573 
	`Âutc
 (
__c
, 
FILE
 *
__°ªam
);

574 
	`putc
 (
__c
, 
FILE
 *
__°ªam
);

580 
	`putch¨
 (
__c
);

581 
__END_NAMESPACE_STD


585 
	#putc
(
_ch
, 
_Â
Ë
	`_IO_putc
 (_ch, _Â)

	)

587 #ifde‡
__USE_MISC


594 
	`Âutc_u∆ocked
 (
__c
, 
FILE
 *
__°ªam
);

597 #i‡
deföed
 
__USE_POSIX
 || deföed 
__USE_MISC


602 
	`putc_u∆ocked
 (
__c
, 
FILE
 *
__°ªam
);

603 
	`putch¨_u∆ocked
 (
__c
);

607 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_MISC
 \

608 || (
deföed
 
__USE_XOPEN
 && !deföed 
__USE_XOPEN2K
)

610 
	`gëw
 (
FILE
 *
__°ªam
);

613 
	`putw
 (
__w
, 
FILE
 *
__°ªam
);

617 
__BEGIN_NAMESPACE_STD


622 *
	$fgës
 (*
__ª°ri˘
 
__s
, 
__n
, 
FILE
 *__ª°ri˘ 
__°ªam
)

623 
__wur
;

625 #i‡!
deföed
 
__USE_ISOC11
 \

626 || (
deföed
 
__˝lu•lus
 && __cplusplus <= 201103L)

638 *
	$gës
 (*
__s
Ë
__wur
 
__©åibuã_dïªˇãd__
;

640 
__END_NAMESPACE_STD


642 #ifde‡
__USE_GNU


649 *
	$fgës_u∆ocked
 (*
__ª°ri˘
 
__s
, 
__n
,

650 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

654 #ifdef 
__USE_XOPEN2K8


665 
_IO_ssize_t
 
	$__gëdñim
 (**
__ª°ri˘
 
__löïå
,

666 
size_t
 *
__ª°ri˘
 
__n
, 
__dñimôî
,

667 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

668 
_IO_ssize_t
 
	$gëdñim
 (**
__ª°ri˘
 
__löïå
,

669 
size_t
 *
__ª°ri˘
 
__n
, 
__dñimôî
,

670 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

678 
_IO_ssize_t
 
	$gëlöe
 (**
__ª°ri˘
 
__löïå
,

679 
size_t
 *
__ª°ri˘
 
__n
,

680 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

684 
__BEGIN_NAMESPACE_STD


689 
	`Âuts
 (c⁄° *
__ª°ri˘
 
__s
, 
FILE
 *__ª°ri˘ 
__°ªam
);

695 
	`puts
 (c⁄° *
__s
);

702 
	`ungëc
 (
__c
, 
FILE
 *
__°ªam
);

709 
size_t
 
	$‰ód
 (*
__ª°ri˘
 
__±r
, 
size_t
 
__size
,

710 
size_t
 
__n
, 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

715 
size_t
 
	`fwrôe
 (c⁄° *
__ª°ri˘
 
__±r
, size_à
__size
,

716 
size_t
 
__n
, 
FILE
 *
__ª°ri˘
 
__s
);

717 
__END_NAMESPACE_STD


719 #ifde‡
__USE_GNU


726 
	`Âuts_u∆ocked
 (c⁄° *
__ª°ri˘
 
__s
,

727 
FILE
 *
__ª°ri˘
 
__°ªam
);

730 #ifde‡
__USE_MISC


737 
size_t
 
	$‰ód_u∆ocked
 (*
__ª°ri˘
 
__±r
, 
size_t
 
__size
,

738 
size_t
 
__n
, 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

739 
size_t
 
	`fwrôe_u∆ocked
 (c⁄° *
__ª°ri˘
 
__±r
, size_à
__size
,

740 
size_t
 
__n
, 
FILE
 *
__ª°ri˘
 
__°ªam
);

744 
__BEGIN_NAMESPACE_STD


749 
	`f£ek
 (
FILE
 *
__°ªam
, 
__off
, 
__whí˚
);

754 
	$·ñl
 (
FILE
 *
__°ªam
Ë
__wur
;

759 
	`ªwöd
 (
FILE
 *
__°ªam
);

760 
__END_NAMESPACE_STD


767 #i‡
deföed
 
__USE_LARGEFILE
 || deföed 
__USE_XOPEN2K


768 #i‚de‡
__USE_FILE_OFFSET64


773 
	`f£eko
 (
FILE
 *
__°ªam
, 
__off_t
 
__off
, 
__whí˚
);

778 
__off_t
 
	$·ñlo
 (
FILE
 *
__°ªam
Ë
__wur
;

780 #ifde‡
__REDIRECT


781 
	`__REDIRECT
 (
f£eko
,

782 (
FILE
 *
__°ªam
, 
__off64_t
 
__off
, 
__whí˚
),

783 
f£eko64
);

784 
__off64_t
 
	`__REDIRECT
 (
·ñlo
, (
FILE
 *
__°ªam
), 
·ñlo64
);

786 
	#f£eko
 
f£eko64


	)

787 
	#·ñlo
 
·ñlo64


	)

792 
__BEGIN_NAMESPACE_STD


793 #i‚de‡
__USE_FILE_OFFSET64


798 
	`fgëpos
 (
FILE
 *
__ª°ri˘
 
__°ªam
, 
Âos_t
 *__ª°ri˘ 
__pos
);

803 
	`f£ços
 (
FILE
 *
__°ªam
, c⁄° 
Âos_t
 *
__pos
);

805 #ifde‡
__REDIRECT


806 
	`__REDIRECT
 (
fgëpos
, (
FILE
 *
__ª°ri˘
 
__°ªam
,

807 
Âos_t
 *
__ª°ri˘
 
__pos
), 
fgëpos64
);

808 
	`__REDIRECT
 (
f£ços
,

809 (
FILE
 *
__°ªam
, c⁄° 
Âos_t
 *
__pos
), 
f£ços64
);

811 
	#fgëpos
 
fgëpos64


	)

812 
	#f£ços
 
f£ços64


	)

815 
__END_NAMESPACE_STD


817 #ifde‡
__USE_LARGEFILE64


818 
	`f£eko64
 (
FILE
 *
__°ªam
, 
__off64_t
 
__off
, 
__whí˚
);

819 
__off64_t
 
	$·ñlo64
 (
FILE
 *
__°ªam
Ë
__wur
;

820 
	`fgëpos64
 (
FILE
 *
__ª°ri˘
 
__°ªam
, 
Âos64_t
 *__ª°ri˘ 
__pos
);

821 
	`f£ços64
 (
FILE
 *
__°ªam
, c⁄° 
Âos64_t
 *
__pos
);

824 
__BEGIN_NAMESPACE_STD


826 
	$˛óªº
 (
FILE
 *
__°ªam
Ë
__THROW
;

828 
	$„of
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

830 
	$„º‹
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

831 
__END_NAMESPACE_STD


833 #ifde‡
__USE_MISC


835 
	$˛óªº_u∆ocked
 (
FILE
 *
__°ªam
Ë
__THROW
;

836 
	$„of_u∆ocked
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

837 
	$„º‹_u∆ocked
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

841 
__BEGIN_NAMESPACE_STD


846 
	`≥º‹
 (c⁄° *
__s
);

847 
__END_NAMESPACE_STD


853 
	~<bôs/sys_îæi°.h
>

856 #ifdef 
__USE_POSIX


858 
	$fûío
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

861 #ifde‡
__USE_MISC


863 
	$fûío_u∆ocked
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

867 #i‡(
deföed
 
__USE_POSIX2
 || deföed 
__USE_SVID
 || deföed 
__USE_BSD
 || \

868 
deföed
 
__USE_MISC
)

873 
FILE
 *
	$p›í
 (c⁄° *
__comm™d
, c⁄° *
__modes
Ë
__wur
;

879 
	`p˛o£
 (
FILE
 *
__°ªam
);

883 #ifdef 
__USE_POSIX


885 *
	$˘îmid
 (*
__s
Ë
__THROW
;

889 #ifde‡
__USE_XOPEN


891 *
	`cu£rid
 (*
__s
);

895 #ifdef 
__USE_GNU


896 
ob°ack
;

899 
	$ob°ack_¥ötf
 (
ob°ack
 *
__ª°ri˘
 
__ob°ack
,

900 c⁄° *
__ª°ri˘
 
__f‹m©
, ...)

901 
__THROWNL
 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 2, 3)));

902 
	$ob°ack_v¥ötf
 (
ob°ack
 *
__ª°ri˘
 
__ob°ack
,

903 c⁄° *
__ª°ri˘
 
__f‹m©
,

904 
_G_va_li°
 
__¨gs
)

905 
__THROWNL
 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 2, 0)));

909 #i‡
deföed
 
__USE_POSIX
 || deföed 
__USE_MISC


913 
	$Êockfûe
 (
FILE
 *
__°ªam
Ë
__THROW
;

917 
	$·rylockfûe
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

920 
	$fu∆ockfûe
 (
FILE
 *
__°ªam
Ë
__THROW
;

923 #i‡
deföed
 
__USE_XOPEN
 && !deföed 
__USE_XOPEN2K
 && !deföed 
__USE_GNU


927 
	#__√ed_gë›t


	)

928 
	~<gë›t.h
>

933 #ifde‡
__USE_EXTERN_INLINES


934 
	~<bôs/°dio.h
>

936 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__f‹tify_fun˘i⁄


937 
	~<bôs/°dio2.h
>

939 #ifde‡
__LDBL_COMPAT


940 
	~<bôs/°dio-ldbl.h
>

943 
__END_DECLS


	@/usr/include/stdlib.h

22 #i‚def 
_STDLIB_H


24 
	~<„©uªs.h
>

27 
	#__√ed_size_t


	)

28 #i‚de‡
__√ed_mÆloc_™d_ˇŒoc


29 
	#__√ed_wch¨_t


	)

30 
	#__√ed_NULL


	)

32 
	~<°ddef.h
>

34 
	g__BEGIN_DECLS


36 #i‚de‡
__√ed_mÆloc_™d_ˇŒoc


37 
	#_STDLIB_H
 1

	)

39 #i‡(
deföed
 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K8
Ë&& !deföed 
_SYS_WAIT_H


41 
	~<bôs/waôÊags.h
>

42 
	~<bôs/waô°©us.h
>

44 #ifde‡
__USE_BSD


49 #i‡
deföed
 
__GNUC__
 && !deföed 
__˝lu•lus


50 
	#__WAIT_INT
(
°©us
) \

51 (
	`__exãnsi⁄__
 (((uni⁄ { 
	`__ty≥of
(
°©us
Ë
__ö
; 
__i
; }) \

52 { .
__ö
 = (
°©us
Ë}).
__i
))

	)

54 
	#__WAIT_INT
(
°©us
Ë(*(*Ë&(°©us))

	)

62 #i‡!
deföed
 
__GNUC__
 || __GNUC__ < 2 || deföed 
__˝lu•lus


63 
	#__WAIT_STATUS
 *

	)

64 
	#__WAIT_STATUS_DEFN
 *

	)

69 
waô
 *
	m__u±r
;

70 *
	m__ùå
;

71 } 
	t__WAIT_STATUS
 
	t__©åibuã__
 ((
	t__å™•¨ít_uni⁄__
));

72 
	#__WAIT_STATUS_DEFN
 *

	)

77 
	#__WAIT_INT
(
°©us
Ë(°©us)

	)

78 
	#__WAIT_STATUS
 *

	)

79 
	#__WAIT_STATUS_DEFN
 *

	)

84 
	#WEXITSTATUS
(
°©us
Ë
	`__WEXITSTATUS
 (
	`__WAIT_INT
 (°©us))

	)

85 
	#WTERMSIG
(
°©us
Ë
	`__WTERMSIG
 (
	`__WAIT_INT
 (°©us))

	)

86 
	#WSTOPSIG
(
°©us
Ë
	`__WSTOPSIG
 (
	`__WAIT_INT
 (°©us))

	)

87 
	#WIFEXITED
(
°©us
Ë
	`__WIFEXITED
 (
	`__WAIT_INT
 (°©us))

	)

88 
	#WIFSIGNALED
(
°©us
Ë
	`__WIFSIGNALED
 (
	`__WAIT_INT
 (°©us))

	)

89 
	#WIFSTOPPED
(
°©us
Ë
	`__WIFSTOPPED
 (
	`__WAIT_INT
 (°©us))

	)

90 #ifde‡
__WIFCONTINUED


91 
	#WIFCONTINUED
(
°©us
Ë
	`__WIFCONTINUED
 (
	`__WAIT_INT
 (°©us))

	)

95 
__BEGIN_NAMESPACE_STD


99 
	mquŸ
;

100 
	mªm
;

101 } 
	tdiv_t
;

104 #i‚de‡
__ldiv_t_deföed


107 
	mquŸ
;

108 
	mªm
;

109 } 
	tldiv_t
;

110 
	#__ldiv_t_deföed
 1

	)

112 
	g__END_NAMESPACE_STD


114 #i‡
deföed
 
__USE_ISOC99
 && !deföed 
__Œdiv_t_deföed


115 
__BEGIN_NAMESPACE_C99


117 
__exãnsi⁄__
 struct

119 
	mquŸ
;

120 
	mªm
;

121 } 
	tŒdiv_t
;

122 
	#__Œdiv_t_deföed
 1

	)

123 
	g__END_NAMESPACE_C99


128 
	#RAND_MAX
 2147483647

	)

133 
	#EXIT_FAILURE
 1

	)

134 
	#EXIT_SUCCESS
 0

	)

138 
	#MB_CUR_MAX
 (
	`__˘y≥_gë_mb_cur_max
 ())

	)

139 
size_t
 
	$__˘y≥_gë_mb_cur_max
 (Ë
__THROW
 
__wur
;

142 
__BEGIN_NAMESPACE_STD


144 
	$©of
 (c⁄° *
__≈å
)

145 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

147 
	$©oi
 (c⁄° *
__≈å
)

148 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

150 
	$©ﬁ
 (c⁄° *
__≈å
)

151 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

152 
__END_NAMESPACE_STD


154 #i‡
deföed
 
__USE_ISOC99
 || (deföed 
__GLIBC_HAVE_LONG_LONG
 && deföed 
__USE_MISC
)

155 
__BEGIN_NAMESPACE_C99


157 
__exãnsi⁄__
 
	$©ﬁl
 (c⁄° *
__≈å
)

158 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

159 
__END_NAMESPACE_C99


162 
__BEGIN_NAMESPACE_STD


164 
	$°πod
 (c⁄° *
__ª°ri˘
 
__≈å
,

165 **
__ª°ri˘
 
__íd±r
)

166 
__THROW
 
	`__n⁄nuŒ
 ((1));

167 
__END_NAMESPACE_STD


169 #ifdef 
__USE_ISOC99


170 
__BEGIN_NAMESPACE_C99


172 
	$°πof
 (c⁄° *
__ª°ri˘
 
__≈å
,

173 **
__ª°ri˘
 
__íd±r
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

175 
	$°πﬁd
 (c⁄° *
__ª°ri˘
 
__≈å
,

176 **
__ª°ri˘
 
__íd±r
)

177 
__THROW
 
	`__n⁄nuŒ
 ((1));

178 
__END_NAMESPACE_C99


181 
__BEGIN_NAMESPACE_STD


183 
	$°πﬁ
 (c⁄° *
__ª°ri˘
 
__≈å
,

184 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

185 
__THROW
 
	`__n⁄nuŒ
 ((1));

187 
	$°πoul
 (c⁄° *
__ª°ri˘
 
__≈å
,

188 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

189 
__THROW
 
	`__n⁄nuŒ
 ((1));

190 
__END_NAMESPACE_STD


192 #i‡
deföed
 
__GLIBC_HAVE_LONG_LONG
 && deföed 
__USE_BSD


194 
__exãnsi⁄__


195 
	$°πoq
 (c⁄° *
__ª°ri˘
 
__≈å
,

196 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

197 
__THROW
 
	`__n⁄nuŒ
 ((1));

199 
__exãnsi⁄__


200 
	$°πouq
 (c⁄° *
__ª°ri˘
 
__≈å
,

201 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

202 
__THROW
 
	`__n⁄nuŒ
 ((1));

205 #i‡
deföed
 
__USE_ISOC99
 || (deföed 
__GLIBC_HAVE_LONG_LONG
 && deföed 
__USE_MISC
)

206 
__BEGIN_NAMESPACE_C99


208 
__exãnsi⁄__


209 
	$°πﬁl
 (c⁄° *
__ª°ri˘
 
__≈å
,

210 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

211 
__THROW
 
	`__n⁄nuŒ
 ((1));

213 
__exãnsi⁄__


214 
	$°πouŒ
 (c⁄° *
__ª°ri˘
 
__≈å
,

215 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

216 
__THROW
 
	`__n⁄nuŒ
 ((1));

217 
__END_NAMESPACE_C99


221 #ifde‡
__USE_GNU


235 
	~<xloˇÀ.h
>

239 
	$°πﬁ_l
 (c⁄° *
__ª°ri˘
 
__≈å
,

240 **
__ª°ri˘
 
__íd±r
, 
__ba£
,

241 
__loˇÀ_t
 
__loc
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 4));

243 
	$°πoul_l
 (c⁄° *
__ª°ri˘
 
__≈å
,

244 **
__ª°ri˘
 
__íd±r
,

245 
__ba£
, 
__loˇÀ_t
 
__loc
)

246 
__THROW
 
	`__n⁄nuŒ
 ((1, 4));

248 
__exãnsi⁄__


249 
	$°πﬁl_l
 (c⁄° *
__ª°ri˘
 
__≈å
,

250 **
__ª°ri˘
 
__íd±r
, 
__ba£
,

251 
__loˇÀ_t
 
__loc
)

252 
__THROW
 
	`__n⁄nuŒ
 ((1, 4));

254 
__exãnsi⁄__


255 
	$°πouŒ_l
 (c⁄° *
__ª°ri˘
 
__≈å
,

256 **
__ª°ri˘
 
__íd±r
,

257 
__ba£
, 
__loˇÀ_t
 
__loc
)

258 
__THROW
 
	`__n⁄nuŒ
 ((1, 4));

260 
	$°πod_l
 (c⁄° *
__ª°ri˘
 
__≈å
,

261 **
__ª°ri˘
 
__íd±r
, 
__loˇÀ_t
 
__loc
)

262 
__THROW
 
	`__n⁄nuŒ
 ((1, 3));

264 
	$°πof_l
 (c⁄° *
__ª°ri˘
 
__≈å
,

265 **
__ª°ri˘
 
__íd±r
, 
__loˇÀ_t
 
__loc
)

266 
__THROW
 
	`__n⁄nuŒ
 ((1, 3));

268 
	$°πﬁd_l
 (c⁄° *
__ª°ri˘
 
__≈å
,

269 **
__ª°ri˘
 
__íd±r
,

270 
__loˇÀ_t
 
__loc
)

271 
__THROW
 
	`__n⁄nuŒ
 ((1, 3));

275 #ifde‡
__USE_EXTERN_INLINES


276 
__BEGIN_NAMESPACE_STD


277 
__exã∫_ölöe
 

278 
	`__NTH
 (
	$©oi
 (c⁄° *
__≈å
))

280  (Ë
	`°πﬁ
 (
__≈å
, (**Ë
NULL
, 10);

281 
	}
}

282 
__exã∫_ölöe
 

283 
__NTH
 (
	$©ﬁ
 (c⁄° *
__≈å
))

285  
	`°πﬁ
 (
__≈å
, (**Ë
NULL
, 10);

286 
	}
}

287 
	g__END_NAMESPACE_STD


289 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_ISOC99


290 
__BEGIN_NAMESPACE_C99


291 
__exãnsi⁄__
 
__exã∫_ölöe
 

292 
__NTH
 (
	$©ﬁl
 (c⁄° *
__≈å
))

294  
	`°πﬁl
 (
__≈å
, (**Ë
NULL
, 10);

295 
	}
}

296 
	g__END_NAMESPACE_C99


301 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_XOPEN_EXTENDED


305 *
	$l64a
 (
__n
Ë
__THROW
 
__wur
;

308 
	$a64l
 (c⁄° *
__s
)

309 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

313 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_BSD


314 
	~<sys/ty≥s.h
>

321 
	$øndom
 (Ë
__THROW
;

324 
	$§™dom
 (
__£ed
Ë
__THROW
;

330 *
	$öô°©e
 (
__£ed
, *
__°©ebuf
,

331 
size_t
 
__°©ñí
Ë
__THROW
 
	`__n⁄nuŒ
 ((2));

335 *
	$£t°©e
 (*
__°©ebuf
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

338 #ifde‡
__USE_MISC


343 
	søndom_d©a


345 
öt32_t
 *
Âå
;

346 
öt32_t
 *
Ωå
;

347 
öt32_t
 *
°©e
;

348 
ønd_ty≥
;

349 
ønd_deg
;

350 
ønd_£p
;

351 
öt32_t
 *
íd_±r
;

354 
	$øndom_r
 (
øndom_d©a
 *
__ª°ri˘
 
__buf
,

355 
öt32_t
 *
__ª°ri˘
 
__ªsu…
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

357 
	$§™dom_r
 (
__£ed
, 
øndom_d©a
 *
__buf
)

358 
__THROW
 
	`__n⁄nuŒ
 ((2));

360 
	$öô°©e_r
 (
__£ed
, *
__ª°ri˘
 
__°©ebuf
,

361 
size_t
 
__°©ñí
,

362 
øndom_d©a
 *
__ª°ri˘
 
__buf
)

363 
__THROW
 
	`__n⁄nuŒ
 ((2, 4));

365 
	$£t°©e_r
 (*
__ª°ri˘
 
__°©ebuf
,

366 
øndom_d©a
 *
__ª°ri˘
 
__buf
)

367 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

372 
__BEGIN_NAMESPACE_STD


374 
	$ønd
 (Ë
__THROW
;

376 
	$§™d
 (
__£ed
Ë
__THROW
;

377 
__END_NAMESPACE_STD


379 #ifde‡
__USE_POSIX


381 
	$ønd_r
 (*
__£ed
Ë
__THROW
;

385 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_XOPEN


389 
	$dønd48
 (Ë
__THROW
;

390 
	$î™d48
 (
__xsubi
[3]Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

393 
	$Ã™d48
 (Ë
__THROW
;

394 
	$ƒ™d48
 (
__xsubi
[3])

395 
__THROW
 
	`__n⁄nuŒ
 ((1));

398 
	$mønd48
 (Ë
__THROW
;

399 
	$jønd48
 (
__xsubi
[3])

400 
__THROW
 
	`__n⁄nuŒ
 ((1));

403 
	$§™d48
 (
__£edvÆ
Ë
__THROW
;

404 *
	$£ed48
 (
__£ed16v
[3])

405 
__THROW
 
	`__n⁄nuŒ
 ((1));

406 
	$lc⁄g48
 (
__∑øm
[7]Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

408 #ifde‡
__USE_MISC


412 
	sdønd48_d©a


414 
__x
[3];

415 
__ﬁd_x
[3];

416 
__c
;

417 
__öô
;

418 
__a
;

422 
	$dønd48_r
 (
dønd48_d©a
 *
__ª°ri˘
 
__buf„r
,

423 *
__ª°ri˘
 
__ªsu…
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

424 
	$î™d48_r
 (
__xsubi
[3],

425 
dønd48_d©a
 *
__ª°ri˘
 
__buf„r
,

426 *
__ª°ri˘
 
__ªsu…
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

429 
	$Ã™d48_r
 (
dønd48_d©a
 *
__ª°ri˘
 
__buf„r
,

430 *
__ª°ri˘
 
__ªsu…
)

431 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

432 
	$ƒ™d48_r
 (
__xsubi
[3],

433 
dønd48_d©a
 *
__ª°ri˘
 
__buf„r
,

434 *
__ª°ri˘
 
__ªsu…
)

435 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

438 
	$mønd48_r
 (
dønd48_d©a
 *
__ª°ri˘
 
__buf„r
,

439 *
__ª°ri˘
 
__ªsu…
)

440 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

441 
	$jønd48_r
 (
__xsubi
[3],

442 
dønd48_d©a
 *
__ª°ri˘
 
__buf„r
,

443 *
__ª°ri˘
 
__ªsu…
)

444 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

447 
	$§™d48_r
 (
__£edvÆ
, 
dønd48_d©a
 *
__buf„r
)

448 
__THROW
 
	`__n⁄nuŒ
 ((2));

450 
	$£ed48_r
 (
__£ed16v
[3],

451 
dønd48_d©a
 *
__buf„r
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

453 
	$lc⁄g48_r
 (
__∑øm
[7],

454 
dønd48_d©a
 *
__buf„r
)

455 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

461 #i‚de‡
__mÆloc_™d_ˇŒoc_deföed


462 
	#__mÆloc_™d_ˇŒoc_deföed


	)

463 
__BEGIN_NAMESPACE_STD


465 *
	$mÆloc
 (
size_t
 
__size
Ë
__THROW
 
__©åibuã_mÆloc__
 
__wur
;

467 *
	$ˇŒoc
 (
size_t
 
__nmemb
, size_à
__size
)

468 
__THROW
 
__©åibuã_mÆloc__
 
__wur
;

469 
__END_NAMESPACE_STD


472 #i‚de‡
__√ed_mÆloc_™d_ˇŒoc


473 
__BEGIN_NAMESPACE_STD


479 *
	$ªÆloc
 (*
__±r
, 
size_t
 
__size
)

480 
__THROW
 
__©åibuã_w¨n_unu£d_ªsu…__
;

482 
	$‰ì
 (*
__±r
Ë
__THROW
;

483 
__END_NAMESPACE_STD


485 #ifdef 
__USE_MISC


487 
	$c‰ì
 (*
__±r
Ë
__THROW
;

490 #i‡
deföed
 
__USE_GNU
 || deföed 
__USE_BSD
 || deföed 
__USE_MISC


491 
	~<Æloˇ.h
>

494 #i‡(
deföed
 
__USE_XOPEN_EXTENDED
 && !deföed 
__USE_XOPEN2K
) \

495 || 
deföed
 
__USE_BSD


497 *
	$vÆloc
 (
size_t
 
__size
Ë
__THROW
 
__©åibuã_mÆloc__
 
__wur
;

500 #ifde‡
__USE_XOPEN2K


502 
	$posix_memÆign
 (**
__mem±r
, 
size_t
 
__Æignmít
, size_à
__size
)

503 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

506 #ifde‡
__USE_ISOC11


508 *
	$Æig√d_Æloc
 (
size_t
 
__Æignmít
, size_à
__size
)

509 
__THROW
 
__wur
 
	`__©åibuã__
 ((
__mÆloc__
, 
	`__Æloc_size__
 (2)));

512 
__BEGIN_NAMESPACE_STD


514 
	$ab‹t
 (Ë
__THROW
 
	`__©åibuã__
 ((
__n‹ëu∫__
));

518 
	`©exô
 ((*
__func
Ë()Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

520 #i‡
deföed
 
__USE_ISOC11
 || deföed 
__USE_ISOCXX11


522 #ifde‡
__˝lu•lus


523 "C++" 
	`©_quick_exô
 ((*
__func
) ())

524 
__THROW
 
	`__asm
 ("©_quick_exô"Ë
	`__n⁄nuŒ
 ((1));

526 
	`©_quick_exô
 ((*
__func
Ë()Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

529 
__END_NAMESPACE_STD


531 #ifdef 
__USE_MISC


534 
	`⁄_exô
 ((*
__func
Ë(
__°©us
, *
__¨g
), *__arg)

535 
__THROW
 
	`__n⁄nuŒ
 ((1));

538 
__BEGIN_NAMESPACE_STD


542 
	$exô
 (
__°©us
Ë
__THROW
 
	`__©åibuã__
 ((
__n‹ëu∫__
));

544 #i‡
deföed
 
__USE_ISOC11
 || deföed 
__USE_ISOCXX11


548 
	$quick_exô
 (
__°©us
Ë
__THROW
 
	`__©åibuã__
 ((
__n‹ëu∫__
));

550 
__END_NAMESPACE_STD


552 #ifde‡
__USE_ISOC99


553 
__BEGIN_NAMESPACE_C99


556 
	$_Exô
 (
__°©us
Ë
__THROW
 
	`__©åibuã__
 ((
__n‹ëu∫__
));

557 
__END_NAMESPACE_C99


561 
__BEGIN_NAMESPACE_STD


563 *
	$gëív
 (c⁄° *
__«me
Ë
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

564 
__END_NAMESPACE_STD


566 #ifde‡
__USE_GNU


569 *
	$£cuª_gëív
 (c⁄° *
__«me
)

570 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

573 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_XOPEN


577 
	$puãnv
 (*
__°rög
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

580 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN2K


583 
	$£ãnv
 (c⁄° *
__«me
, c⁄° *
__vÆue
, 
__ª∂a˚
)

584 
__THROW
 
	`__n⁄nuŒ
 ((2));

587 
	$un£ãnv
 (c⁄° *
__«me
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

590 #ifdef 
__USE_MISC


594 
	$˛óªnv
 (Ë
__THROW
;

598 #i‡
deföed
 
__USE_MISC
 \

599 || (
deföed
 
__USE_XOPEN_EXTENDED
 && !deföed 
__USE_XOPEN2K8
)

605 *
	$mkãmp
 (*
__ãm∂©e
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

608 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN_EXTENDED
 \

609 || 
deföed
 
__USE_XOPEN2K8


618 #i‚de‡
__USE_FILE_OFFSET64


619 
	$mk°emp
 (*
__ãm∂©e
Ë
	`__n⁄nuŒ
 ((1)Ë
__wur
;

621 #ifde‡
__REDIRECT


622 
	`__REDIRECT
 (
mk°emp
, (*
__ãm∂©e
), 
mk°emp64
)

623 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

625 
	#mk°emp
 
mk°emp64


	)

628 #ifde‡
__USE_LARGEFILE64


629 
	$mk°emp64
 (*
__ãm∂©e
Ë
	`__n⁄nuŒ
 ((1)Ë
__wur
;

633 #ifde‡
__USE_MISC


640 #i‚de‡
__USE_FILE_OFFSET64


641 
	$mk°emps
 (*
__ãm∂©e
, 
__suffixÀn
Ë
	`__n⁄nuŒ
 ((1)Ë
__wur
;

643 #ifde‡
__REDIRECT


644 
	`__REDIRECT
 (
mk°emps
, (*
__ãm∂©e
, 
__suffixÀn
),

645 
mk°emps64
Ë
	`__n⁄nuŒ
 ((1)Ë
__wur
;

647 
	#mk°emps
 
mk°emps64


	)

650 #ifde‡
__USE_LARGEFILE64


651 
	$mk°emps64
 (*
__ãm∂©e
, 
__suffixÀn
)

652 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

656 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN2K8


662 *
	$mkdãmp
 (*
__ãm∂©e
Ë
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

665 #ifde‡
__USE_GNU


672 #i‚de‡
__USE_FILE_OFFSET64


673 
	$mko°emp
 (*
__ãm∂©e
, 
__Êags
Ë
	`__n⁄nuŒ
 ((1)Ë
__wur
;

675 #ifde‡
__REDIRECT


676 
	`__REDIRECT
 (
mko°emp
, (*
__ãm∂©e
, 
__Êags
), 
mko°emp64
)

677 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

679 
	#mko°emp
 
mko°emp64


	)

682 #ifde‡
__USE_LARGEFILE64


683 
	$mko°emp64
 (*
__ãm∂©e
, 
__Êags
Ë
	`__n⁄nuŒ
 ((1)Ë
__wur
;

692 #i‚de‡
__USE_FILE_OFFSET64


693 
	$mko°emps
 (*
__ãm∂©e
, 
__suffixÀn
, 
__Êags
)

694 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

696 #ifde‡
__REDIRECT


697 
	`__REDIRECT
 (
mko°emps
, (*
__ãm∂©e
, 
__suffixÀn
,

698 
__Êags
), 
mko°emps64
)

699 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

701 
	#mko°emps
 
mko°emps64


	)

704 #ifde‡
__USE_LARGEFILE64


705 
	$mko°emps64
 (*
__ãm∂©e
, 
__suffixÀn
, 
__Êags
)

706 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

711 
__BEGIN_NAMESPACE_STD


716 
	$sy°em
 (c⁄° *
__comm™d
Ë
__wur
;

717 
__END_NAMESPACE_STD


720 #ifdef 
__USE_GNU


723 *
	$ˇn⁄iˇlize_fûe_«me
 (c⁄° *
__«me
)

724 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

727 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED


733 *
	$ªÆ∑th
 (c⁄° *
__ª°ri˘
 
__«me
,

734 *
__ª°ri˘
 
__ªsﬁved
Ë
__THROW
 
__wur
;

739 #i‚de‡
__COMPAR_FN_T


740 
	#__COMPAR_FN_T


	)

741 (*
	t__com∑r_‚_t
) (const *, const *);

743 #ifdef 
__USE_GNU


744 
__com∑r_‚_t
 
	tcom∑ris⁄_‚_t
;

747 #ifde‡
__USE_GNU


748 (*
	t__com∑r_d_‚_t
) (const *, const *, *);

751 
__BEGIN_NAMESPACE_STD


754 *
	$b£¨ch
 (c⁄° *
__key
, c⁄° *
__ba£
,

755 
size_t
 
__nmemb
, size_à
__size
, 
__com∑r_‚_t
 
__com∑r
)

756 
	`__n⁄nuŒ
 ((1, 2, 5)Ë
__wur
;

760 
	$qs‹t
 (*
__ba£
, 
size_t
 
__nmemb
, size_à
__size
,

761 
__com∑r_‚_t
 
__com∑r
Ë
	`__n⁄nuŒ
 ((1, 4));

762 #ifde‡
__USE_GNU


763 
	$qs‹t_r
 (*
__ba£
, 
size_t
 
__nmemb
, size_à
__size
,

764 
__com∑r_d_‚_t
 
__com∑r
, *
__¨g
)

765 
	`__n⁄nuŒ
 ((1, 4));

770 
	$abs
 (
__x
Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
)Ë
__wur
;

771 
	$œbs
 (
__x
Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
)Ë
__wur
;

772 
__END_NAMESPACE_STD


774 #ifde‡
__USE_ISOC99


775 
__exãnsi⁄__
 
	$Œabs
 (
__x
)

776 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
)Ë
__wur
;

780 
__BEGIN_NAMESPACE_STD


784 
div_t
 
	$div
 (
__numî
, 
__díom
)

785 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
)Ë
__wur
;

786 
ldiv_t
 
	$ldiv
 (
__numî
, 
__díom
)

787 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
)Ë
__wur
;

788 
__END_NAMESPACE_STD


790 #ifde‡
__USE_ISOC99


791 
__BEGIN_NAMESPACE_C99


792 
__exãnsi⁄__
 
Œdiv_t
 
	$Œdiv
 (
__numî
,

793 
__díom
)

794 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
)Ë
__wur
;

795 
__END_NAMESPACE_C99


799 #i‡(
deföed
 
__USE_XOPEN_EXTENDED
 && !deföed 
__USE_XOPEN2K8
) \

800 || 
deföed
 
__USE_SVID


807 *
	$ecvt
 (
__vÆue
, 
__ndigô
, *
__ª°ri˘
 
__de˝t
,

808 *
__ª°ri˘
 
__sign
Ë
__THROW
 
	`__n⁄nuŒ
 ((3, 4)Ë
__wur
;

813 *
	$fcvt
 (
__vÆue
, 
__ndigô
, *
__ª°ri˘
 
__de˝t
,

814 *
__ª°ri˘
 
__sign
Ë
__THROW
 
	`__n⁄nuŒ
 ((3, 4)Ë
__wur
;

819 *
	$gcvt
 (
__vÆue
, 
__ndigô
, *
__buf
)

820 
__THROW
 
	`__n⁄nuŒ
 ((3)Ë
__wur
;

823 #ifde‡
__USE_MISC


825 *
	$qecvt
 (
__vÆue
, 
__ndigô
,

826 *
__ª°ri˘
 
__de˝t
, *__ª°ri˘ 
__sign
)

827 
__THROW
 
	`__n⁄nuŒ
 ((3, 4)Ë
__wur
;

828 *
	$qfcvt
 (
__vÆue
, 
__ndigô
,

829 *
__ª°ri˘
 
__de˝t
, *__ª°ri˘ 
__sign
)

830 
__THROW
 
	`__n⁄nuŒ
 ((3, 4)Ë
__wur
;

831 *
	$qgcvt
 (
__vÆue
, 
__ndigô
, *
__buf
)

832 
__THROW
 
	`__n⁄nuŒ
 ((3)Ë
__wur
;

837 
	$ecvt_r
 (
__vÆue
, 
__ndigô
, *
__ª°ri˘
 
__de˝t
,

838 *
__ª°ri˘
 
__sign
, *__ª°ri˘ 
__buf
,

839 
size_t
 
__Àn
Ë
__THROW
 
	`__n⁄nuŒ
 ((3, 4, 5));

840 
	$fcvt_r
 (
__vÆue
, 
__ndigô
, *
__ª°ri˘
 
__de˝t
,

841 *
__ª°ri˘
 
__sign
, *__ª°ri˘ 
__buf
,

842 
size_t
 
__Àn
Ë
__THROW
 
	`__n⁄nuŒ
 ((3, 4, 5));

844 
	$qecvt_r
 (
__vÆue
, 
__ndigô
,

845 *
__ª°ri˘
 
__de˝t
, *__ª°ri˘ 
__sign
,

846 *
__ª°ri˘
 
__buf
, 
size_t
 
__Àn
)

847 
__THROW
 
	`__n⁄nuŒ
 ((3, 4, 5));

848 
	$qfcvt_r
 (
__vÆue
, 
__ndigô
,

849 *
__ª°ri˘
 
__de˝t
, *__ª°ri˘ 
__sign
,

850 *
__ª°ri˘
 
__buf
, 
size_t
 
__Àn
)

851 
__THROW
 
	`__n⁄nuŒ
 ((3, 4, 5));

856 
__BEGIN_NAMESPACE_STD


859 
	$mbÀn
 (c⁄° *
__s
, 
size_t
 
__n
Ë
__THROW
 
__wur
;

862 
	$mbtowc
 (
wch¨_t
 *
__ª°ri˘
 
__pwc
,

863 c⁄° *
__ª°ri˘
 
__s
, 
size_t
 
__n
Ë
__THROW
 
__wur
;

866 
	$w˘omb
 (*
__s
, 
wch¨_t
 
__wch¨
Ë
__THROW
 
__wur
;

870 
size_t
 
	$mb°owcs
 (
wch¨_t
 *
__ª°ri˘
 
__pwcs
,

871 c⁄° *
__ª°ri˘
 
__s
, 
size_t
 
__n
Ë
__THROW
;

873 
size_t
 
	$wc°ombs
 (*
__ª°ri˘
 
__s
,

874 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__pwcs
, 
size_t
 
__n
)

875 
__THROW
;

876 
__END_NAMESPACE_STD


879 #ifde‡
__USE_SVID


884 
	$Ωm©ch
 (c⁄° *
__ª•⁄£
Ë
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

888 #i‡
deföed
 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K8


895 
	$gësub›t
 (**
__ª°ri˘
 
__›ti⁄p
,

896 *c⁄° *
__ª°ri˘
 
__tokís
,

897 **
__ª°ri˘
 
__vÆuï
)

898 
__THROW
 
	`__n⁄nuŒ
 ((1, 2, 3)Ë
__wur
;

902 #ifde‡
__USE_XOPEN


904 
	$£tkey
 (c⁄° *
__key
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

910 #ifde‡
__USE_XOPEN2KXSI


912 
	$posix_›í±
 (
__oÊag
Ë
__wur
;

915 #ifde‡
__USE_XOPEN


920 
	$gø¡±
 (
__fd
Ë
__THROW
;

924 
	$u∆ock±
 (
__fd
Ë
__THROW
;

929 *
	$±¢ame
 (
__fd
Ë
__THROW
 
__wur
;

932 #ifde‡
__USE_GNU


936 
	$±¢ame_r
 (
__fd
, *
__buf
, 
size_t
 
__buÊí
)

937 
__THROW
 
	`__n⁄nuŒ
 ((2));

940 
	`gë±
 ();

943 #ifde‡
__USE_BSD


947 
	$gëlﬂdavg
 (
__lﬂdavg
[], 
__√Àm
)

948 
__THROW
 
	`__n⁄nuŒ
 ((1));

951 
	~<bôs/°dlib-Êﬂt.h
>

954 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__f‹tify_fun˘i⁄


955 
	~<bôs/°dlib.h
>

957 #ifde‡
__LDBL_COMPAT


958 
	~<bôs/°dlib-ldbl.h
>

962 #unde‡
__√ed_mÆloc_™d_ˇŒoc


964 
__END_DECLS


	@/usr/include/string.h

22 #i‚def 
_STRING_H


23 
	#_STRING_H
 1

	)

25 
	~<„©uªs.h
>

27 
	g__BEGIN_DECLS


30 
	#__√ed_size_t


	)

31 
	#__√ed_NULL


	)

32 
	~<°ddef.h
>

35 #i‡
deföed
 
__˝lu•lus
 && 
__GNUC_PREREQ
 (4, 4)

36 
	#__CORRECT_ISO_CPP_STRING_H_PROTO


	)

40 
__BEGIN_NAMESPACE_STD


42 *
	$mem˝y
 (*
__ª°ri˘
 
__de°
, c⁄° *__ª°ri˘ 
__§c
,

43 
size_t
 
__n
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

46 *
	$memmove
 (*
__de°
, c⁄° *
__§c
, 
size_t
 
__n
)

47 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

48 
__END_NAMESPACE_STD


53 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_BSD
 || deföed 
__USE_XOPEN


54 *
	$memc˝y
 (*
__ª°ri˘
 
__de°
, c⁄° *__ª°ri˘ 
__§c
,

55 
__c
, 
size_t
 
__n
)

56 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

60 
__BEGIN_NAMESPACE_STD


62 *
	$mem£t
 (*
__s
, 
__c
, 
size_t
 
__n
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

65 
	$memcmp
 (c⁄° *
__s1
, c⁄° *
__s2
, 
size_t
 
__n
)

66 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

69 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


72 *
	`memchr
 (*
__s
, 
__c
, 
size_t
 
__n
)

73 
__THROW
 
	`__asm
 ("memchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

74 c⁄° *
	`memchr
 (c⁄° *
__s
, 
__c
, 
size_t
 
__n
)

75 
__THROW
 
	`__asm
 ("memchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

77 #ifde‡
__OPTIMIZE__


78 
__exã∫_Æways_ölöe
 *

79 
	`memchr
 (*
__s
, 
__c
, 
size_t
 
__n
Ë
__THROW


81  
	`__buûtö_memchr
 (
__s
, 
__c
, 
__n
);

84 
__exã∫_Æways_ölöe
 const *

85 
	`memchr
 (c⁄° *
__s
, 
__c
, 
size_t
 
__n
Ë
__THROW


87  
	`__buûtö_memchr
 (
__s
, 
__c
, 
__n
);

90 
	}
}

92 *
	$memchr
 (c⁄° *
__s
, 
__c
, 
size_t
 
__n
)

93 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

95 
__END_NAMESPACE_STD


97 #ifde‡
__USE_GNU


100 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


101 "C++" *
	$øwmemchr
 (*
__s
, 
__c
)

102 
__THROW
 
	`__asm
 ("øwmemchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

103 "C++" c⁄° *
	$øwmemchr
 (c⁄° *
__s
, 
__c
)

104 
__THROW
 
	`__asm
 ("øwmemchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

106 *
	$øwmemchr
 (c⁄° *
__s
, 
__c
)

107 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

111 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


112 "C++" *
	$memrchr
 (*
__s
, 
__c
, 
size_t
 
__n
)

113 
__THROW
 
	`__asm
 ("memrchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

114 "C++" c⁄° *
	$memrchr
 (c⁄° *
__s
, 
__c
, 
size_t
 
__n
)

115 
__THROW
 
	`__asm
 ("memrchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

117 *
	$memrchr
 (c⁄° *
__s
, 
__c
, 
size_t
 
__n
)

118 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

123 
__BEGIN_NAMESPACE_STD


125 *
	$°r˝y
 (*
__ª°ri˘
 
__de°
, c⁄° *__ª°ri˘ 
__§c
)

126 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

128 *
	$°∫˝y
 (*
__ª°ri˘
 
__de°
,

129 c⁄° *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

130 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

133 *
	$°rˇt
 (*
__ª°ri˘
 
__de°
, c⁄° *__ª°ri˘ 
__§c
)

134 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

136 *
	$°∫ˇt
 (*
__ª°ri˘
 
__de°
, c⁄° *__ª°ri˘ 
__§c
,

137 
size_t
 
__n
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

140 
	$°rcmp
 (c⁄° *
__s1
, c⁄° *
__s2
)

141 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

143 
	$°∫cmp
 (c⁄° *
__s1
, c⁄° *
__s2
, 
size_t
 
__n
)

144 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

147 
	$°rcﬁl
 (c⁄° *
__s1
, c⁄° *
__s2
)

148 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

150 
size_t
 
	$°rx‰m
 (*
__ª°ri˘
 
__de°
,

151 c⁄° *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

152 
__THROW
 
	`__n⁄nuŒ
 ((2));

153 
__END_NAMESPACE_STD


155 #ifde‡
__USE_XOPEN2K8


159 
	~<xloˇÀ.h
>

162 
	$°rcﬁl_l
 (c⁄° *
__s1
, c⁄° *
__s2
, 
__loˇÀ_t
 
__l
)

163 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2, 3));

165 
size_t
 
	$°rx‰m_l
 (*
__de°
, c⁄° *
__§c
, 
size_t
 
__n
,

166 
__loˇÀ_t
 
__l
Ë
__THROW
 
	`__n⁄nuŒ
 ((2, 4));

169 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED
 \

170 || 
deföed
 
__USE_XOPEN2K8


172 *
	$°rdup
 (c⁄° *
__s
)

173 
__THROW
 
__©åibuã_mÆloc__
 
	`__n⁄nuŒ
 ((1));

179 #i‡
deföed
 
__USE_XOPEN2K8


180 *
	$°∫dup
 (c⁄° *
__°rög
, 
size_t
 
__n
)

181 
__THROW
 
__©åibuã_mÆloc__
 
	`__n⁄nuŒ
 ((1));

184 #i‡
deföed
 
__USE_GNU
 && deföed 
__GNUC__


186 
	#°rdu∑
(
s
) \

187 (
__exãnsi⁄__
 \

189 c⁄° *
__ﬁd
 = (
s
); \

190 
size_t
 
__Àn
 = 
	`°æí
 (
__ﬁd
) + 1; \

191 *
__√w
 = (*Ë
	`__buûtö_Æloˇ
 (
__Àn
); \

192 (*Ë
	`mem˝y
 (
__√w
, 
__ﬁd
, 
__Àn
); \

193 
	}
}))

	)

196 
	#°∫du∑
(
s
, 
n
) \

197 (
__exãnsi⁄__
 \

199 c⁄° *
__ﬁd
 = (
s
); \

200 
size_t
 
__Àn
 = 
	`°∫Àn
 (
__ﬁd
, (
n
)); \

201 *
__√w
 = (*Ë
	`__buûtö_Æloˇ
 (
__Àn
 + 1); \

202 
__√w
[
__Àn
] = '\0'; \

203 (*Ë
	`mem˝y
 (
__√w
, 
__ﬁd
, 
__Àn
); \

204 }))

	)

207 
	g__BEGIN_NAMESPACE_STD


209 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


212 *
°rchr
 (*
__s
, 
__c
)

213 
__THROW
 
__asm
 ("°rchr"Ë
__©åibuã_puª__
 
__n⁄nuŒ
 ((1));

214 c⁄° *
°rchr
 (c⁄° *
__s
, 
__c
)

215 
__THROW
 
__asm
 ("°rchr"Ë
__©åibuã_puª__
 
__n⁄nuŒ
 ((1));

217 #ifde‡
__OPTIMIZE__


218 
__exã∫_Æways_ölöe
 *

219 
°rchr
 (*
__s
, 
__c
Ë
	g__THROW


221  
__buûtö_°rchr
 (
__s
, 
__c
);

224 
__exã∫_Æways_ölöe
 const *

225 
°rchr
 (c⁄° *
__s
, 
__c
Ë
	g__THROW


227  
__buûtö_°rchr
 (
__s
, 
__c
);

232 *
	$°rchr
 (c⁄° *
__s
, 
__c
)

233 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

236 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


239 *
	`°ºchr
 (*
__s
, 
__c
)

240 
__THROW
 
	`__asm
 ("°ºchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

241 c⁄° *
	`°ºchr
 (c⁄° *
__s
, 
__c
)

242 
__THROW
 
	`__asm
 ("°ºchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

244 #ifde‡
__OPTIMIZE__


245 
__exã∫_Æways_ölöe
 *

246 
	`°ºchr
 (*
__s
, 
__c
Ë
__THROW


248  
	`__buûtö_°ºchr
 (
__s
, 
__c
);

251 
__exã∫_Æways_ölöe
 const *

252 
	`°ºchr
 (c⁄° *
__s
, 
__c
Ë
__THROW


254  
	`__buûtö_°ºchr
 (
__s
, 
__c
);

257 
	}
}

259 *
	$°ºchr
 (c⁄° *
__s
, 
__c
)

260 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

262 
__END_NAMESPACE_STD


264 #ifde‡
__USE_GNU


267 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


268 "C++" *
	$°rch∫ul
 (*
__s
, 
__c
)

269 
__THROW
 
	`__asm
 ("°rch∫ul"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

270 "C++" c⁄° *
	$°rch∫ul
 (c⁄° *
__s
, 
__c
)

271 
__THROW
 
	`__asm
 ("°rch∫ul"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

273 *
	$°rch∫ul
 (c⁄° *
__s
, 
__c
)

274 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

278 
__BEGIN_NAMESPACE_STD


281 
size_t
 
	$°rc•n
 (c⁄° *
__s
, c⁄° *
__ªje˘
)

282 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

285 
size_t
 
	$°r•n
 (c⁄° *
__s
, c⁄° *
__ac˚±
)

286 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

288 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


291 *
	`°Ωbrk
 (*
__s
, c⁄° *
__ac˚±
)

292 
__THROW
 
	`__asm
 ("°Ωbrk"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

293 c⁄° *
	`°Ωbrk
 (c⁄° *
__s
, c⁄° *
__ac˚±
)

294 
__THROW
 
	`__asm
 ("°Ωbrk"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

296 #ifde‡
__OPTIMIZE__


297 
__exã∫_Æways_ölöe
 *

298 
	`°Ωbrk
 (*
__s
, c⁄° *
__ac˚±
Ë
__THROW


300  
	`__buûtö_°Ωbrk
 (
__s
, 
__ac˚±
);

303 
__exã∫_Æways_ölöe
 const *

304 
	`°Ωbrk
 (c⁄° *
__s
, c⁄° *
__ac˚±
Ë
__THROW


306  
	`__buûtö_°Ωbrk
 (
__s
, 
__ac˚±
);

309 
	}
}

311 *
	$°Ωbrk
 (c⁄° *
__s
, c⁄° *
__ac˚±
)

312 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

315 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


318 *
	`°r°r
 (*
__hay°ack
, c⁄° *
__√edÀ
)

319 
__THROW
 
	`__asm
 ("°r°r"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

320 c⁄° *
	`°r°r
 (c⁄° *
__hay°ack
, c⁄° *
__√edÀ
)

321 
__THROW
 
	`__asm
 ("°r°r"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

323 #ifde‡
__OPTIMIZE__


324 
__exã∫_Æways_ölöe
 *

325 
	`°r°r
 (*
__hay°ack
, c⁄° *
__√edÀ
Ë
__THROW


327  
	`__buûtö_°r°r
 (
__hay°ack
, 
__√edÀ
);

330 
__exã∫_Æways_ölöe
 const *

331 
	`°r°r
 (c⁄° *
__hay°ack
, c⁄° *
__√edÀ
Ë
__THROW


333  
	`__buûtö_°r°r
 (
__hay°ack
, 
__√edÀ
);

336 
	}
}

338 *
	$°r°r
 (c⁄° *
__hay°ack
, c⁄° *
__√edÀ
)

339 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

344 *
	$°πok
 (*
__ª°ri˘
 
__s
, c⁄° *__ª°ri˘ 
__dñim
)

345 
__THROW
 
	`__n⁄nuŒ
 ((2));

346 
__END_NAMESPACE_STD


350 *
	$__°πok_r
 (*
__ª°ri˘
 
__s
,

351 c⁄° *
__ª°ri˘
 
__dñim
,

352 **
__ª°ri˘
 
__ßve_±r
)

353 
__THROW
 
	`__n⁄nuŒ
 ((2, 3));

354 #i‡
deföed
 
__USE_POSIX
 || deföed 
__USE_MISC


355 *
	$°πok_r
 (*
__ª°ri˘
 
__s
, c⁄° *__ª°ri˘ 
__dñim
,

356 **
__ª°ri˘
 
__ßve_±r
)

357 
__THROW
 
	`__n⁄nuŒ
 ((2, 3));

360 #ifde‡
__USE_GNU


362 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


363 "C++" *
	$°rˇ£°r
 (*
__hay°ack
, c⁄° *
__√edÀ
)

364 
__THROW
 
	`__asm
 ("°rˇ£°r"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

365 "C++" c⁄° *
	$°rˇ£°r
 (c⁄° *
__hay°ack
,

366 c⁄° *
__√edÀ
)

367 
__THROW
 
	`__asm
 ("°rˇ£°r"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

369 *
	$°rˇ£°r
 (c⁄° *
__hay°ack
, c⁄° *
__√edÀ
)

370 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

374 #ifde‡
__USE_GNU


378 *
	$memmem
 (c⁄° *
__hay°ack
, 
size_t
 
__hay°ackÀn
,

379 c⁄° *
__√edÀ
, 
size_t
 
__√edÀÀn
)

380 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 3));

384 *
	$__memp˝y
 (*
__ª°ri˘
 
__de°
,

385 c⁄° *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

386 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

387 *
	$memp˝y
 (*
__ª°ri˘
 
__de°
,

388 c⁄° *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

389 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

393 
__BEGIN_NAMESPACE_STD


395 
size_t
 
	$°æí
 (c⁄° *
__s
)

396 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

397 
__END_NAMESPACE_STD


399 #ifdef 
__USE_XOPEN2K8


402 
size_t
 
	$°∫Àn
 (c⁄° *
__°rög
, 
size_t
 
__maxÀn
)

403 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

407 
__BEGIN_NAMESPACE_STD


409 *
	$°ªº‹
 (
__î∫um
Ë
__THROW
;

410 
__END_NAMESPACE_STD


411 #i‡
deföed
 
__USE_XOPEN2K
 || deföed 
__USE_MISC


419 #i‡
deföed
 
__USE_XOPEN2K
 && !deföed 
__USE_GNU


422 #ifde‡
__REDIRECT_NTH


423 
	`__REDIRECT_NTH
 (
°ªº‹_r
,

424 (
__î∫um
, *
__buf
, 
size_t
 
__buÊí
),

425 
__xpg_°ªº‹_r
Ë
	`__n⁄nuŒ
 ((2));

427 
	$__xpg_°ªº‹_r
 (
__î∫um
, *
__buf
, 
size_t
 
__buÊí
)

428 
__THROW
 
	`__n⁄nuŒ
 ((2));

429 
	#°ªº‹_r
 
__xpg_°ªº‹_r


	)

434 *
	$°ªº‹_r
 (
__î∫um
, *
__buf
, 
size_t
 
__buÊí
)

435 
__THROW
 
	`__n⁄nuŒ
 ((2)Ë
__wur
;

439 #ifde‡
__USE_XOPEN2K8


441 *
	$°ªº‹_l
 (
__î∫um
, 
__loˇÀ_t
 
__l
Ë
__THROW
;

447 
	$__bzîo
 (*
__s
, 
size_t
 
__n
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

449 #ifde‡
__USE_BSD


451 
	$bc›y
 (c⁄° *
__§c
, *
__de°
, 
size_t
 
__n
)

452 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

455 
	$bzîo
 (*
__s
, 
size_t
 
__n
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

458 
	$bcmp
 (c⁄° *
__s1
, c⁄° *
__s2
, 
size_t
 
__n
)

459 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

462 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


465 *
	`ödex
 (*
__s
, 
__c
)

466 
__THROW
 
	`__asm
 ("ödex"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

467 c⁄° *
	`ödex
 (c⁄° *
__s
, 
__c
)

468 
__THROW
 
	`__asm
 ("ödex"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

470 #i‡
deföed
 
__OPTIMIZE__
 && !deföed 
__CORRECT_ISO_CPP_STRINGS_H_PROTO


471 
__exã∫_Æways_ölöe
 *

472 
	`ödex
 (*
__s
, 
__c
Ë
__THROW


474  
	`__buûtö_ödex
 (
__s
, 
__c
);

477 
__exã∫_Æways_ölöe
 const *

478 
	`ödex
 (c⁄° *
__s
, 
__c
Ë
__THROW


480  
	`__buûtö_ödex
 (
__s
, 
__c
);

483 
	}
}

485 *
	$ödex
 (c⁄° *
__s
, 
__c
)

486 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

490 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


493 *
	`rödex
 (*
__s
, 
__c
)

494 
__THROW
 
	`__asm
 ("rödex"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

495 c⁄° *
	`rödex
 (c⁄° *
__s
, 
__c
)

496 
__THROW
 
	`__asm
 ("rödex"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

498 #i‡
deföed
 
__OPTIMIZE__
 && !deföed 
__CORRECT_ISO_CPP_STRINGS_H_PROTO


499 
__exã∫_Æways_ölöe
 *

500 
	`rödex
 (*
__s
, 
__c
Ë
__THROW


502  
	`__buûtö_rödex
 (
__s
, 
__c
);

505 
__exã∫_Æways_ölöe
 const *

506 
	`rödex
 (c⁄° *
__s
, 
__c
Ë
__THROW


508  
	`__buûtö_rödex
 (
__s
, 
__c
);

511 
	}
}

513 *
	$rödex
 (c⁄° *
__s
, 
__c
)

514 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

519 
	$ffs
 (
__i
Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

523 #ifdef 
__USE_GNU


524 
	$ff¶
 (
__l
Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

525 #ifde‡
__GNUC__


526 
__exãnsi⁄__
 
	$ff¶l
 (
__Œ
)

527 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

532 
	$°rˇ£cmp
 (c⁄° *
__s1
, c⁄° *
__s2
)

533 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

536 
	$°∫ˇ£cmp
 (c⁄° *
__s1
, c⁄° *
__s2
, 
size_t
 
__n
)

537 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

540 #ifdef 
__USE_GNU


543 
	$°rˇ£cmp_l
 (c⁄° *
__s1
, c⁄° *
__s2
,

544 
__loˇÀ_t
 
__loc
)

545 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2, 3));

547 
	$°∫ˇ£cmp_l
 (c⁄° *
__s1
, c⁄° *
__s2
,

548 
size_t
 
__n
, 
__loˇÀ_t
 
__loc
)

549 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2, 4));

552 #ifdef 
__USE_BSD


555 *
	$°r£p
 (**
__ª°ri˘
 
__°rögp
,

556 c⁄° *
__ª°ri˘
 
__dñim
)

557 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

560 #ifdef 
__USE_XOPEN2K8


562 *
	$°rsig«l
 (
__sig
Ë
__THROW
;

565 *
	$__°p˝y
 (*
__ª°ri˘
 
__de°
, c⁄° *__ª°ri˘ 
__§c
)

566 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

567 *
	$°p˝y
 (*
__ª°ri˘
 
__de°
, c⁄° *__ª°ri˘ 
__§c
)

568 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

572 *
	$__°≤˝y
 (*
__ª°ri˘
 
__de°
,

573 c⁄° *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

574 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

575 *
	$°≤˝y
 (*
__ª°ri˘
 
__de°
,

576 c⁄° *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

577 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

580 #ifdef 
__USE_GNU


582 
	$°rvîscmp
 (c⁄° *
__s1
, c⁄° *
__s2
)

583 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

586 *
	$°r‰y
 (*
__°rög
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

589 *
	$mem‰ob
 (*
__s
, 
size_t
 
__n
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

591 #i‚de‡
ba£«me


596 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


597 "C++" *
	$ba£«me
 (*
__fûíame
)

598 
__THROW
 
	`__asm
 ("ba£«me"Ë
	`__n⁄nuŒ
 ((1));

599 "C++" c⁄° *
	$ba£«me
 (c⁄° *
__fûíame
)

600 
__THROW
 
	`__asm
 ("ba£«me"Ë
	`__n⁄nuŒ
 ((1));

602 *
	$ba£«me
 (c⁄° *
__fûíame
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

608 #i‡
deföed
 
__GNUC__
 && __GNUC__ >= 2

609 #i‡
deföed
 
__OPTIMIZE__
 && !deföed 
__OPTIMIZE_SIZE__
 \

610 && !
deföed
 
__NO_INLINE__
 && !deföed 
__˝lu•lus


630 
	~<bôs/°rög.h
>

633 
	~<bôs/°rög2.h
>

636 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__f‹tify_fun˘i⁄


638 
	~<bôs/°rög3.h
>

642 
__END_DECLS


	@/usr/include/alloca.h

18 #i‚def 
_ALLOCA_H


19 
	#_ALLOCA_H
 1

	)

21 
	~<„©uªs.h
>

23 
	#__√ed_size_t


	)

24 
	~<°ddef.h
>

26 
	g__BEGIN_DECLS


29 #unde‡
Æloˇ


32 *
	$Æloˇ
 (
size_t
 
__size
Ë
__THROW
;

34 #ifdef 
__GNUC__


35 
	#Æloˇ
(
size
Ë
	`__buûtö_Æloˇ
 (size)

	)

38 
__END_DECLS


	@/usr/include/bits/huge_val.h

21 #i‚de‡
_MATH_H


27 #i‡
__GNUC_PREREQ
(3,3)

28 
	#HUGE_VAL
 (
	`__buûtö_huge_vÆ
())

	)

29 #ñi‡
__GNUC_PREREQ
(2,96)

30 
	#HUGE_VAL
 (
__exãnsi⁄__
 0x1.0
p2047
)

	)

31 #ñi‡
deföed
 
__GNUC__


33 
	#HUGE_VAL
 \

34 (
__exãnsi⁄__
 \

35 ((uni⁄ { 
__l
 
	`__©åibuã__
((
	`__mode__
(
__DI__
))); 
__d
; }) \

36 { 
__l
: 0x7ff0000000000000ULL }).
__d
)

	)

40 
	~<ídün.h
>

42 uni⁄ { 
	m__c
[8]; 
	m__d
; } 
	t__huge_vÆ_t
;

44 #i‡
__BYTE_ORDER
 =
__BIG_ENDIAN


45 
	#__HUGE_VAL_byãs
 { 0x7f, 0xf0, 0, 0, 0, 0, 0, 0 }

	)

47 #i‡
__BYTE_ORDER
 =
__LITTLE_ENDIAN


48 
	#__HUGE_VAL_byãs
 { 0, 0, 0, 0, 0, 0, 0xf0, 0x7‡}

	)

51 
__huge_vÆ_t
 
	g__huge_vÆ
 = { 
__HUGE_VAL_byãs
 };

52 
	#HUGE_VAL
 (
__huge_vÆ
.
__d
)

	)

	@/usr/include/bits/huge_valf.h

21 #i‚de‡
_MATH_H


27 #i‡
__GNUC_PREREQ
(3,3)

28 
	#HUGE_VALF
 (
	`__buûtö_huge_vÆf
())

	)

29 #ñi‡
__GNUC_PREREQ
(2,96)

30 
	#HUGE_VALF
 (
__exãnsi⁄__
 0x1.0
p255f
)

	)

31 #ñi‡
deföed
 
__GNUC__


33 
	#HUGE_VALF
 \

34 (
__exãnsi⁄__
 \

35 ((uni⁄ { 
__l
 
	`__©åibuã__
((
	`__mode__
(
__SI__
))); 
__d
; }) \

36 { 
__l
: 0x7f800000UL }).
__d
)

	)

40 uni⁄ { 
	m__c
[4]; 
	m__f
; } 
	t__huge_vÆf_t
;

42 #i‡
__BYTE_ORDER
 =
__BIG_ENDIAN


43 
	#__HUGE_VALF_byãs
 { 0x7f, 0x80, 0, 0 }

	)

45 #i‡
__BYTE_ORDER
 =
__LITTLE_ENDIAN


46 
	#__HUGE_VALF_byãs
 { 0, 0, 0x80, 0x7‡}

	)

49 
__huge_vÆf_t
 
	g__huge_vÆf
 = { 
__HUGE_VALF_byãs
 };

50 
	#HUGE_VALF
 (
__huge_vÆf
.
__f
)

	)

	@/usr/include/bits/huge_vall.h

21 #i‚de‡
_MATH_H


25 #i‡
__GNUC_PREREQ
(3,3)

26 
	#HUGE_VALL
 (
	`__buûtö_huge_vÆl
())

	)

27 #ñi‡
__GNUC_PREREQ
(2,96)

28 
	#HUGE_VALL
 (
__exãnsi⁄__
 0x1.0
p32767L
)

	)

31 
	#__HUGE_VALL_byãs
 { 0, 0, 0, 0, 0, 0, 0, 0x80, 0xff, 0x7f, 0, 0 }

	)

33 
	#__huge_vÆl_t
 uni⁄ { 
__c
[12]; 
__ld
; }

	)

34 #ifde‡
__GNUC__


35 
	#HUGE_VALL
 (
__exãnsi⁄__
 \

36 ((
__huge_vÆl_t
Ë{ 
__c
: 
__HUGE_VALL_byãs
 }).
__ld
)

	)

38 
__huge_vÆl_t
 
	g__huge_vÆl
 = { 
__HUGE_VALL_byãs
 };

39 
	#HUGE_VALL
 (
__huge_vÆl
.
__ld
)

	)

	@/usr/include/bits/inf.h

19 #i‚de‡
_MATH_H


25 #i‡
__GNUC_PREREQ
(3,3)

26 
	#INFINITY
 (
	`__buûtö_öff
())

	)

28 
	#INFINITY
 
HUGE_VALF


	)

	@/usr/include/bits/math-finite.h

19 #i‚de‡
_MATH_H


24 
__REDIRECT_NTH
 (
acos
, (), 
__acos_föôe
);

25 
__REDIRECT_NTH
 (
acosf
, (), 
__acosf_föôe
);

26 #ifde‡
__MATH_DECLARE_LDOUBLE


27 #ifde‡
__NO_LONG_DOUBLE_MATH


28 
__REDIRECT_NTH
 (
aco¶
, (), 
__acos_föôe
);

30 
__REDIRECT_NTH
 (
aco¶
, (), 
__aco¶_föôe
);

34 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_ISOC99


36 
__REDIRECT_NTH
 (
acosh
, (), 
__acosh_föôe
);

37 
__REDIRECT_NTH
 (
acoshf
, (), 
__acoshf_föôe
);

38 #ifde‡
__MATH_DECLARE_LDOUBLE


39 #ifde‡
__NO_LONG_DOUBLE_MATH


40 
__REDIRECT_NTH
 (
acoshl
, (), 
__acosh_föôe
);

42 
__REDIRECT_NTH
 (
acoshl
, (), 
__acoshl_föôe
);

48 
__REDIRECT_NTH
 (
asö
, (), 
__asö_föôe
);

49 
__REDIRECT_NTH
 (
asöf
, (), 
__asöf_föôe
);

50 #ifde‡
__MATH_DECLARE_LDOUBLE


51 #ifde‡
__NO_LONG_DOUBLE_MATH


52 
__REDIRECT_NTH
 (
asöl
, (), 
__asö_föôe
);

54 
__REDIRECT_NTH
 (
asöl
, (), 
__asöl_föôe
);

59 
__REDIRECT_NTH
 (
©™2
, (, ), 
__©™2_föôe
);

60 
__REDIRECT_NTH
 (
©™2f
, (, ), 
__©™2f_föôe
);

61 #ifde‡
__MATH_DECLARE_LDOUBLE


62 #ifde‡
__NO_LONG_DOUBLE_MATH


63 
__REDIRECT_NTH
 (
©™2l
, (, ),

64 
__©™2_föôe
);

66 
__REDIRECT_NTH
 (
©™2l
, (, ),

67 
__©™2l_föôe
);

71 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_ISOC99


73 
__REDIRECT_NTH
 (
©™h
, (), 
__©™h_föôe
);

74 
__REDIRECT_NTH
 (
©™hf
, (), 
__©™hf_föôe
);

75 #ifde‡
__MATH_DECLARE_LDOUBLE


76 #ifde‡
__NO_LONG_DOUBLE_MATH


77 
__REDIRECT_NTH
 (
©™hl
, (), 
__©™h_föôe
);

79 
__REDIRECT_NTH
 (
©™hl
, (), 
__©™hl_föôe
);

85 
__REDIRECT_NTH
 (
cosh
, (), 
__cosh_föôe
);

86 
__REDIRECT_NTH
 (
coshf
, (), 
__coshf_föôe
);

87 #ifde‡
__MATH_DECLARE_LDOUBLE


88 #ifde‡
__NO_LONG_DOUBLE_MATH


89 
__REDIRECT_NTH
 (
coshl
, (), 
__cosh_föôe
);

91 
__REDIRECT_NTH
 (
coshl
, (), 
__coshl_föôe
);

96 
__REDIRECT_NTH
 (
exp
, (), 
__exp_föôe
);

97 
__REDIRECT_NTH
 (
expf
, (), 
__expf_föôe
);

98 #ifde‡
__MATH_DECLARE_LDOUBLE


99 #ifde‡
__NO_LONG_DOUBLE_MATH


100 
__REDIRECT_NTH
 (
ex∂
, (), 
__exp_föôe
);

102 
__REDIRECT_NTH
 (
ex∂
, (), 
__ex∂_föôe
);

106 #ifde‡
__USE_GNU


108 
__REDIRECT_NTH
 (
exp10
, (), 
__exp10_föôe
);

109 
__REDIRECT_NTH
 (
exp10f
, (), 
__exp10f_föôe
);

110 #ifde‡
__MATH_DECLARE_LDOUBLE


111 #ifde‡
__NO_LONG_DOUBLE_MATH


112 
__REDIRECT_NTH
 (
exp10l
, (), 
__exp10_föôe
);

114 
__REDIRECT_NTH
 (
exp10l
, (), 
__exp10l_föôe
);

119 
__REDIRECT_NTH
 (
pow10
, (), 
__exp10_föôe
);

120 
__REDIRECT_NTH
 (
pow10f
, (), 
__exp10f_föôe
);

121 #ifde‡
__MATH_DECLARE_LDOUBLE


122 #ifde‡
__NO_LONG_DOUBLE_MATH


123 
__REDIRECT_NTH
 (
pow10l
, (), 
__exp10_föôe
);

125 
__REDIRECT_NTH
 (
pow10l
, (), 
__exp10l_föôe
);

130 #ifde‡
__USE_ISOC99


132 
__REDIRECT_NTH
 (
exp2
, (), 
__exp2_föôe
);

133 
__REDIRECT_NTH
 (
exp2f
, (), 
__exp2f_föôe
);

134 #ifde‡
__MATH_DECLARE_LDOUBLE


135 #ifde‡
__NO_LONG_DOUBLE_MATH


136 
__REDIRECT_NTH
 (
exp2l
, (), 
__exp2_föôe
);

138 
__REDIRECT_NTH
 (
exp2l
, (), 
__exp2l_föôe
);

144 
__REDIRECT_NTH
 (
fmod
, (, ), 
__fmod_föôe
);

145 
__REDIRECT_NTH
 (
fmodf
, (, ), 
__fmodf_föôe
);

146 #ifde‡
__MATH_DECLARE_LDOUBLE


147 #ifde‡
__NO_LONG_DOUBLE_MATH


148 
__REDIRECT_NTH
 (
fmodl
, (, ),

149 
__fmod_föôe
);

151 
__REDIRECT_NTH
 (
fmodl
, (, ),

152 
__fmodl_föôe
);

156 #ifde‡
__USE_ISOC99


158 
__REDIRECT_NTH
 (
hypŸ
, (, ), 
__hypŸ_föôe
);

159 
__REDIRECT_NTH
 (
hypŸf
, (, ), 
__hypŸf_föôe
);

160 #ifde‡
__MATH_DECLARE_LDOUBLE


161 #ifde‡
__NO_LONG_DOUBLE_MATH


162 
__REDIRECT_NTH
 (
hypŸl
, (, ),

163 
__hypŸ_föôe
);

165 
__REDIRECT_NTH
 (
hypŸl
, (, ),

166 
__hypŸl_föôe
);

171 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN


173 
__REDIRECT_NTH
 (
j0
, (), 
__j0_föôe
);

174 
__REDIRECT_NTH
 (
j0f
, (), 
__j0f_föôe
);

175 #ifde‡
__MATH_DECLARE_LDOUBLE


176 #ifde‡
__NO_LONG_DOUBLE_MATH


177 
__REDIRECT_NTH
 (
j0l
, (), 
__j0_föôe
);

179 
__REDIRECT_NTH
 (
j0l
, (), 
__j0l_föôe
);

184 
__REDIRECT_NTH
 (
y0
, (), 
__y0_föôe
);

185 
__REDIRECT_NTH
 (
y0f
, (), 
__y0f_föôe
);

186 #ifde‡
__MATH_DECLARE_LDOUBLE


187 #ifde‡
__NO_LONG_DOUBLE_MATH


188 
__REDIRECT_NTH
 (
y0l
, (), 
__y0_föôe
);

190 
__REDIRECT_NTH
 (
y0l
, (), 
__y0l_föôe
);

195 
__REDIRECT_NTH
 (
j1
, (), 
__j1_föôe
);

196 
__REDIRECT_NTH
 (
j1f
, (), 
__j1f_föôe
);

197 #ifde‡
__MATH_DECLARE_LDOUBLE


198 #ifde‡
__NO_LONG_DOUBLE_MATH


199 
__REDIRECT_NTH
 (
j1l
, (), 
__j1_föôe
);

201 
__REDIRECT_NTH
 (
j1l
, (), 
__j1l_föôe
);

206 
__REDIRECT_NTH
 (
y1
, (), 
__y1_föôe
);

207 
__REDIRECT_NTH
 (
y1f
, (), 
__y1f_föôe
);

208 #ifde‡
__MATH_DECLARE_LDOUBLE


209 #ifde‡
__NO_LONG_DOUBLE_MATH


210 
__REDIRECT_NTH
 (
y1l
, (), 
__y1_föôe
);

212 
__REDIRECT_NTH
 (
y1l
, (), 
__y1l_föôe
);

217 
__REDIRECT_NTH
 (
jn
, (, ), 
__jn_föôe
);

218 
__REDIRECT_NTH
 (
jnf
, (, ), 
__jnf_föôe
);

219 #ifde‡
__MATH_DECLARE_LDOUBLE


220 #ifde‡
__NO_LONG_DOUBLE_MATH


221 
__REDIRECT_NTH
 (
j∆
, (, ), 
__jn_föôe
);

223 
__REDIRECT_NTH
 (
j∆
, (, ), 
__j∆_föôe
);

228 
__REDIRECT_NTH
 (
yn
, (, ), 
__yn_föôe
);

229 
__REDIRECT_NTH
 (
ynf
, (, ), 
__ynf_föôe
);

230 #ifde‡
__MATH_DECLARE_LDOUBLE


231 #ifde‡
__NO_LONG_DOUBLE_MATH


232 
__REDIRECT_NTH
 (
y∆
, (, ), 
__yn_föôe
);

234 
__REDIRECT_NTH
 (
y∆
, (, ), 
__y∆_föôe
);

239 #ifde‡
__USE_MISC


241 
__REDIRECT_NTH
 (
lgamma_r
, (, *), 
__lgamma_r_föôe
);

242 
__REDIRECT_NTH
 (
lgammaf_r
, (, *), 
__lgammaf_r_föôe
);

243 #ifde‡
__MATH_DECLARE_LDOUBLE


244 #ifde‡
__NO_LONG_DOUBLE_MATH


245 
__REDIRECT_NTH
 (
lgammÆ_r
, (, *),

246 
__lgamma_r_föôe
);

248 
__REDIRECT_NTH
 (
lgammÆ_r
, (, *),

249 
__lgammÆ_r_föôe
);

254 #i‡((
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN
 || deföed 
__USE_ISOC99
) \

255 && 
deföed
 
	g__exã∫_Æways_ölöe
)

257 
__exã∫_Æways_ölöe
 
__NTH
 (
	$lgamma
 (
__d
))

259 #ifde‡
__USE_ISOC99


260 
__loˇl_signgam
 = 0;

261  
	`lgamma_r
 (
__d
, &
__loˇl_signgam
);

263  
	`lgamma_r
 (
__d
, &
signgam
);

265 
	}
}

266 
__exã∫_Æways_ölöe
 
__NTH
 (
	$lgammaf
 (
__d
))

268 #ifde‡
__USE_ISOC99


269 
__loˇl_signgam
 = 0;

270  
	`lgammaf_r
 (
__d
, &
__loˇl_signgam
);

272  
	`lgammaf_r
 (
__d
, &
signgam
);

274 
	}
}

275 #ifde‡
__MATH_DECLARE_LDOUBLE


276 
__exã∫_Æways_ölöe
 
__NTH
 (
	$lgammÆ
 (
__d
))

278 #ifde‡
__USE_ISOC99


279 
__loˇl_signgam
 = 0;

280  
	`lgammÆ_r
 (
__d
, &
__loˇl_signgam
);

282  
	`lgammÆ_r
 (
__d
, &
signgam
);

284 
	}
}

288 #i‡((
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN
) \

289 && 
deföed
 
	g__exã∫_Æways_ölöe
)

291 
__exã∫_Æways_ölöe
 
__NTH
 (
	$gamma
 (
__d
))

293 #ifde‡
__USE_ISOC99


294 
__loˇl_signgam
 = 0;

295  
	`lgamma_r
 (
__d
, &
__loˇl_signgam
);

297  
	`lgamma_r
 (
__d
, &
signgam
);

299 
	}
}

300 
__exã∫_Æways_ölöe
 
__NTH
 (
	$gammaf
 (
__d
))

302 #ifde‡
__USE_ISOC99


303 
__loˇl_signgam
 = 0;

304  
	`lgammaf_r
 (
__d
, &
__loˇl_signgam
);

306  
	`lgammaf_r
 (
__d
, &
signgam
);

308 
	}
}

309 #ifde‡
__MATH_DECLARE_LDOUBLE


310 
__exã∫_Æways_ölöe
 
__NTH
 (
	$gammÆ
 (
__d
))

312 #ifde‡
__USE_ISOC99


313 
__loˇl_signgam
 = 0;

314  
	`lgammÆ_r
 (
__d
, &
__loˇl_signgam
);

316  
	`lgammÆ_r
 (
__d
, &
signgam
);

318 
	}
}

323 
__REDIRECT_NTH
 (
log
, (), 
__log_föôe
);

324 
__REDIRECT_NTH
 (
logf
, (), 
__logf_föôe
);

325 #ifde‡
__MATH_DECLARE_LDOUBLE


326 #ifde‡
__NO_LONG_DOUBLE_MATH


327 
__REDIRECT_NTH
 (
logl
, (), 
__log_föôe
);

329 
__REDIRECT_NTH
 (
logl
, (), 
__logl_föôe
);

334 
__REDIRECT_NTH
 (
log10
, (), 
__log10_föôe
);

335 
__REDIRECT_NTH
 (
log10f
, (), 
__log10f_föôe
);

336 #ifde‡
__MATH_DECLARE_LDOUBLE


337 #ifde‡
__NO_LONG_DOUBLE_MATH


338 
__REDIRECT_NTH
 (
log10l
, (), 
__log10_föôe
);

340 
__REDIRECT_NTH
 (
log10l
, (), 
__log10l_föôe
);

344 #ifde‡
__USE_ISOC99


346 
__REDIRECT_NTH
 (
log2
, (), 
__log2_föôe
);

347 
__REDIRECT_NTH
 (
log2f
, (), 
__log2f_föôe
);

348 #ifde‡
__MATH_DECLARE_LDOUBLE


349 #ifde‡
__NO_LONG_DOUBLE_MATH


350 
__REDIRECT_NTH
 (
log2l
, (), 
__log2_föôe
);

352 
__REDIRECT_NTH
 (
log2l
, (), 
__log2l_föôe
);

358 
__REDIRECT_NTH
 (
ldexp
, (, ), 
sˇlbn
);

359 
__REDIRECT_NTH
 (
ldexpf
, (, ), 
sˇlbnf
);

360 #ifde‡
__MATH_DECLARE_LDOUBLE


361 
__REDIRECT_NTH
 (
ldex∂
, (, ), 
sˇlb∆
);

365 
__REDIRECT_NTH
 (
pow
, (, ), 
__pow_föôe
);

366 
__REDIRECT_NTH
 (
powf
, (, ), 
__powf_föôe
);

367 #ifde‡
__MATH_DECLARE_LDOUBLE


368 #ifde‡
__NO_LONG_DOUBLE_MATH


369 
__REDIRECT_NTH
 (
powl
, (, ),

370 
__pow_föôe
);

372 
__REDIRECT_NTH
 (
powl
, (, ),

373 
__powl_föôe
);

378 
__REDIRECT_NTH
 (
ªmaödî
, (, ), 
__ªmaödî_föôe
);

379 
__REDIRECT_NTH
 (
ªmaödîf
, (, ), 
__ªmaödîf_föôe
);

380 #ifde‡
__MATH_DECLARE_LDOUBLE


381 #ifde‡
__NO_LONG_DOUBLE_MATH


382 
__REDIRECT_NTH
 (
ªmaödîl
, (, ),

383 
__ªmaödî_föôe
);

385 
__REDIRECT_NTH
 (
ªmaödîl
, (, ),

386 
__ªmaödîl_föôe
);

390 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN_EXTENDED


392 
__REDIRECT_NTH
 (
sˇlb
, (, ), 
__sˇlb_föôe
);

393 
__REDIRECT_NTH
 (
sˇlbf
, (, ), 
__sˇlbf_föôe
);

394 #ifde‡
__MATH_DECLARE_LDOUBLE


395 #ifde‡
__NO_LONG_DOUBLE_MATH


396 
__REDIRECT_NTH
 (
sˇlbl
, (, ),

397 
__sˇlb_föôe
);

399 
__REDIRECT_NTH
 (
sˇlbl
, (, ),

400 
__sˇlbl_föôe
);

406 
__REDIRECT_NTH
 (
söh
, (), 
__söh_föôe
);

407 
__REDIRECT_NTH
 (
söhf
, (), 
__söhf_föôe
);

408 #ifde‡
__MATH_DECLARE_LDOUBLE


409 #ifde‡
__NO_LONG_DOUBLE_MATH


410 
__REDIRECT_NTH
 (
söhl
, (), 
__söh_föôe
);

412 
__REDIRECT_NTH
 (
söhl
, (), 
__söhl_föôe
);

417 
__REDIRECT_NTH
 (
sqπ
, (), 
__sqπ_föôe
);

418 
__REDIRECT_NTH
 (
sqπf
, (), 
__sqπf_föôe
);

419 #ifde‡
__MATH_DECLARE_LDOUBLE


420 #ifde‡
__NO_LONG_DOUBLE_MATH


421 
__REDIRECT_NTH
 (
sqπl
, (), 
__sqπ_föôe
);

423 
__REDIRECT_NTH
 (
sqπl
, (), 
__sqπl_föôe
);

427 #i‡
deföed
 
__USE_ISOC99
 && deföed 
__exã∫_Æways_ölöe


429 
__gamma_r_föôe
 (, *);

430 
__exã∫_Æways_ölöe
 
__NTH
 (
	$tgamma
 (
__d
))

432 
__loˇl_signgam
 = 0;

433 
__ªs
 = 
	`__gamma_r_föôe
 (
__d
, &
__loˇl_signgam
);

434  
__loˇl_signgam
 < 0 ? -
__ªs
 : __res;

435 
	}
}

436 
__gammaf_r_föôe
 (, *);

437 
__exã∫_Æways_ölöe
 
__NTH
 (
	$tgammaf
 (
__d
))

439 
__loˇl_signgam
 = 0;

440 
__ªs
 = 
	`__gammaf_r_föôe
 (
__d
, &
__loˇl_signgam
);

441  
__loˇl_signgam
 < 0 ? -
__ªs
 : __res;

442 
	}
}

443 #ifde‡
__MATH_DECLARE_LDOUBLE


444 
__gammÆ_r_föôe
 (, *);

445 
__exã∫_Æways_ölöe
 
__NTH
 (
	$tgammÆ
 (
__d
))

447 
__loˇl_signgam
 = 0;

448 #ifde‡
__NO_LONG_DOUBLE_MATH


449 
__ªs
 = 
	`__gamma_r_föôe
 (
__d
, &
__loˇl_signgam
);

451 
__ªs
 = 
	`__gammÆ_r_föôe
 (
__d
, &
__loˇl_signgam
);

453  
__loˇl_signgam
 < 0 ? -
__ªs
 : __res;

454 
	}
}

	@/usr/include/bits/mathcalls.h

45 #i‚de‡
_MATH_H


52 
_MdoubÀ_BEGIN_NAMESPACE


54 
__MATHCALL
 (
acos
,, (
_MdoubÀ_
 
__x
));

56 
__MATHCALL
 (
asö
,, (
_MdoubÀ_
 
__x
));

58 
__MATHCALL
 (
©™
,, (
_MdoubÀ_
 
__x
));

60 
__MATHCALL
 (
©™2
,, (
_MdoubÀ_
 
__y
, _MdoubÀ_ 
__x
));

63 
__MATHCALL
 (
cos
,, (
_MdoubÀ_
 
__x
));

65 
__MATHCALL
 (
sö
,, (
_MdoubÀ_
 
__x
));

67 
__MATHCALL
 (
èn
,, (
_MdoubÀ_
 
__x
));

72 
__MATHCALL
 (
cosh
,, (
_MdoubÀ_
 
__x
));

74 
__MATHCALL
 (
söh
,, (
_MdoubÀ_
 
__x
));

76 
__MATHCALL
 (
ènh
,, (
_MdoubÀ_
 
__x
));

77 
	g_MdoubÀ_END_NAMESPACE


79 #ifde‡
__USE_GNU


81 
__MATHDECL
 (,
söcos
,,

82 (
_MdoubÀ_
 
__x
, _MdoubÀ_ *
__söx
, _MdoubÀ_ *
__cosx
));

85 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_ISOC99


86 
__BEGIN_NAMESPACE_C99


88 
__MATHCALL
 (
acosh
,, (
_MdoubÀ_
 
__x
));

90 
__MATHCALL
 (
asöh
,, (
_MdoubÀ_
 
__x
));

92 
__MATHCALL
 (
©™h
,, (
_MdoubÀ_
 
__x
));

93 
	g__END_NAMESPACE_C99


98 
_MdoubÀ_BEGIN_NAMESPACE


100 
__MATHCALL
 (
exp
,, (
_MdoubÀ_
 
__x
));

103 
__MATHCALL
 (
‰exp
,, (
_MdoubÀ_
 
__x
, *
__exp⁄ít
));

106 
__MATHCALL
 (
ldexp
,, (
_MdoubÀ_
 
__x
, 
__exp⁄ít
));

109 
__MATHCALL
 (
log
,, (
_MdoubÀ_
 
__x
));

112 
__MATHCALL
 (
log10
,, (
_MdoubÀ_
 
__x
));

115 
__MATHCALL
 (
modf
,, (
_MdoubÀ_
 
__x
, _MdoubÀ_ *
__ùå
))

116 
__©åibuã__
 ((
__n⁄nuŒ__
 (2)));

117 
	g_MdoubÀ_END_NAMESPACE


119 #ifde‡
__USE_GNU


121 
__MATHCALL
 (
exp10
,, (
_MdoubÀ_
 
__x
));

123 
__MATHCALL
 (
pow10
,, (
_MdoubÀ_
 
__x
));

126 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_ISOC99


127 
__BEGIN_NAMESPACE_C99


129 
__MATHCALL
 (
expm1
,, (
_MdoubÀ_
 
__x
));

132 
__MATHCALL
 (
log1p
,, (
_MdoubÀ_
 
__x
));

135 
__MATHCALL
 (
logb
,, (
_MdoubÀ_
 
__x
));

136 
	g__END_NAMESPACE_C99


139 #ifde‡
__USE_ISOC99


140 
__BEGIN_NAMESPACE_C99


142 
__MATHCALL
 (
exp2
,, (
_MdoubÀ_
 
__x
));

145 
__MATHCALL
 (
log2
,, (
_MdoubÀ_
 
__x
));

146 
	g__END_NAMESPACE_C99


152 
_MdoubÀ_BEGIN_NAMESPACE


154 
__MATHCALL
 (
pow
,, (
_MdoubÀ_
 
__x
, _MdoubÀ_ 
__y
));

157 
__MATHCALL
 (
sqπ
,, (
_MdoubÀ_
 
__x
));

158 
	g_MdoubÀ_END_NAMESPACE


160 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN
 || deföed 
__USE_ISOC99


161 
__BEGIN_NAMESPACE_C99


163 
__MATHCALL
 (
hypŸ
,, (
_MdoubÀ_
 
__x
, _MdoubÀ_ 
__y
));

164 
	g__END_NAMESPACE_C99


167 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_ISOC99


168 
__BEGIN_NAMESPACE_C99


170 
__MATHCALL
 (
cbπ
,, (
_MdoubÀ_
 
__x
));

171 
	g__END_NAMESPACE_C99


177 
_MdoubÀ_BEGIN_NAMESPACE


179 
__MATHCALLX
 (
˚û
,, (
_MdoubÀ_
 
__x
), (
__c⁄°__
));

182 
__MATHCALLX
 (
Ábs
,, (
_MdoubÀ_
 
__x
), (
__c⁄°__
));

185 
__MATHCALLX
 (
Êo‹
,, (
_MdoubÀ_
 
__x
), (
__c⁄°__
));

188 
__MATHCALL
 (
fmod
,, (
_MdoubÀ_
 
__x
, _MdoubÀ_ 
__y
));

193 
__MATHDECL_1
 (,
__isöf
,, (
_MdoubÀ_
 
__vÆue
)Ë
__©åibuã__
 ((
__c⁄°__
));

196 
__MATHDECL_1
 (,
__föôe
,, (
_MdoubÀ_
 
__vÆue
)Ë
__©åibuã__
 ((
__c⁄°__
));

197 
	g_MdoubÀ_END_NAMESPACE


199 #ifde‡
__USE_MISC


202 
__MATHDECL_1
 (,
isöf
,, (
_MdoubÀ_
 
__vÆue
)Ë
__©åibuã__
 ((
__c⁄°__
));

205 
__MATHDECL_1
 (,
föôe
,, (
_MdoubÀ_
 
__vÆue
)Ë
__©åibuã__
 ((
__c⁄°__
));

208 
__MATHCALL
 (
dªm
,, (
_MdoubÀ_
 
__x
, _MdoubÀ_ 
__y
));

212 
__MATHCALL
 (
signifiˇnd
,, (
_MdoubÀ_
 
__x
));

215 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_ISOC99


216 
__BEGIN_NAMESPACE_C99


218 
__MATHCALLX
 (
c›ysign
,, (
_MdoubÀ_
 
__x
, _MdoubÀ_ 
__y
), (
__c⁄°__
));

219 
	g__END_NAMESPACE_C99


222 #ifde‡
__USE_ISOC99


223 
__BEGIN_NAMESPACE_C99


225 
__MATHCALLX
 (
«n
,, (c⁄° *
__ègb
), (
__c⁄°__
));

226 
	g__END_NAMESPACE_C99


231 
__MATHDECL_1
 (,
__i¢™
,, (
_MdoubÀ_
 
__vÆue
)Ë
__©åibuã__
 ((
__c⁄°__
));

233 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN


235 
__MATHDECL_1
 (,
i¢™
,, (
_MdoubÀ_
 
__vÆue
)Ë
__©åibuã__
 ((
__c⁄°__
));

238 
__MATHCALL
 (
j0
,, (
_MdoubÀ_
));

239 
__MATHCALL
 (
j1
,, (
_MdoubÀ_
));

240 
__MATHCALL
 (
jn
,, (, 
_MdoubÀ_
));

241 
__MATHCALL
 (
y0
,, (
_MdoubÀ_
));

242 
__MATHCALL
 (
y1
,, (
_MdoubÀ_
));

243 
__MATHCALL
 (
yn
,, (, 
_MdoubÀ_
));

247 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN
 || deföed 
__USE_ISOC99


248 
__BEGIN_NAMESPACE_C99


250 
__MATHCALL
 (
îf
,, (
_MdoubÀ_
));

251 
__MATHCALL
 (
îfc
,, (
_MdoubÀ_
));

252 
__MATHCALL
 (
lgamma
,, (
_MdoubÀ_
));

253 
	g__END_NAMESPACE_C99


256 #ifde‡
__USE_ISOC99


257 
__BEGIN_NAMESPACE_C99


259 
__MATHCALL
 (
tgamma
,, (
_MdoubÀ_
));

260 
	g__END_NAMESPACE_C99


263 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN


265 
__MATHCALL
 (
gamma
,, (
_MdoubÀ_
));

268 #ifde‡
__USE_MISC


272 
__MATHCALL
 (
lgamma
,
_r
, (
_MdoubÀ_
, *
__signgamp
));

276 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_ISOC99


277 
__BEGIN_NAMESPACE_C99


280 
__MATHCALL
 (
röt
,, (
_MdoubÀ_
 
__x
));

283 
__MATHCALLX
 (
√xè·î
,, (
_MdoubÀ_
 
__x
, _MdoubÀ_ 
__y
), (
__c⁄°__
));

284 #i‡
deföed
 
__USE_ISOC99
 && !deföed 
__LDBL_COMPAT


285 
__MATHCALLX
 (
√xâow¨d
,, (
_MdoubÀ_
 
__x
, 
__y
), (
__c⁄°__
));

289 
__MATHCALL
 (
ªmaödî
,, (
_MdoubÀ_
 
__x
, _MdoubÀ_ 
__y
));

291 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_ISOC99


293 
__MATHCALL
 (
sˇlbn
,, (
_MdoubÀ_
 
__x
, 
__n
));

297 
__MATHDECL
 (,
ûogb
,, (
_MdoubÀ_
 
__x
));

300 #ifde‡
__USE_ISOC99


302 
__MATHCALL
 (
sˇlb 
,, (
_MdoubÀ_
 
__x
, 
__n
));

306 
__MATHCALL
 (
√¨byöt
,, (
_MdoubÀ_
 
__x
));

310 
__MATHCALLX
 (
round
,, (
_MdoubÀ_
 
__x
), (
__c⁄°__
));

314 
__MATHCALLX
 (
åunc
,, (
_MdoubÀ_
 
__x
), (
__c⁄°__
));

319 
__MATHCALL
 (
ªmquo
,, (
_MdoubÀ_
 
__x
, _MdoubÀ_ 
__y
, *
__quo
));

326 
__MATHDECL
 (,
Ãöt
,, (
_MdoubÀ_
 
__x
));

327 
__MATHDECL
 (,
Œröt
,, (
_MdoubÀ_
 
__x
));

331 
__MATHDECL
 (,
Ãound
,, (
_MdoubÀ_
 
__x
));

332 
__MATHDECL
 (,
Œround
,, (
_MdoubÀ_
 
__x
));

336 
__MATHCALL
 (
fdim
,, (
_MdoubÀ_
 
__x
, _MdoubÀ_ 
__y
));

339 
__MATHCALLX
 (
fmax
,, (
_MdoubÀ_
 
__x
, _MdoubÀ_ 
__y
), (
__c⁄°__
));

342 
__MATHCALLX
 (
fmö
,, (
_MdoubÀ_
 
__x
, _MdoubÀ_ 
__y
), (
__c⁄°__
));

346 
__MATHDECL_1
 (, 
__Â˛assify
,, (
_MdoubÀ_
 
__vÆue
))

347 
__©åibuã__
 ((
__c⁄°__
));

350 
__MATHDECL_1
 (, 
__signbô
,, (
_MdoubÀ_
 
__vÆue
))

351 
__©åibuã__
 ((
__c⁄°__
));

355 
__MATHCALL
 (
fma
,, (
_MdoubÀ_
 
__x
, _MdoubÀ_ 
__y
, _MdoubÀ_ 
__z
));

358 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_ISOC99


359 
	g__END_NAMESPACE_C99


362 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN_EXTENDED


364 
__MATHCALL
 (
sˇlb
,, (
_MdoubÀ_
 
__x
, _MdoubÀ_ 
__n
));

	@/usr/include/bits/mathdef.h

18 #i‡!
deföed
 
_MATH_H
 && !deföed 
_COMPLEX_H


22 #i‡
deföed
 
__USE_ISOC99
 && deföed 
_MATH_H
 && !deföed 
_MATH_H_MATHDEF


23 
	#_MATH_H_MATHDEF
 1

	)

25 #i‡
deföed
 
__x86_64__
 || (deföed 
__FLT_EVAL_METHOD__
 && __FLT_EVAL_METHOD__ == 0)

28 
	tÊﬂt_t
;

29 
	tdoubÀ_t
;

35 
	tÊﬂt_t
;

37 
	tdoubÀ_t
;

42 
	#FP_ILOGB0
 (-2147483647 - 1)

	)

43 
	#FP_ILOGBNAN
 (-2147483647 - 1)

	)

47 #ifde‡
__FP_FAST_FMA


48 
	#FP_FAST_FMA
 1

	)

51 #ifde‡
__FP_FAST_FMAF


52 
	#FP_FAST_FMAF
 1

	)

55 #ifde‡
__FP_FAST_FMAL


56 
	#FP_FAST_FMAL
 1

	)

	@/usr/include/bits/mathinline.h

19 #i‚de‡
_MATH_H


23 #i‚de‡
__exã∫_Æways_ölöe


24 
	#__MATH_INLINE
 
__ölöe


	)

26 
	#__MATH_INLINE
 
__exã∫_Æways_ölöe


	)

30 #i‡
deföed
 
__USE_ISOC99
 && deföed 
__GNUC__
 && __GNUC__ >= 2

32 #i‡!
__GNUC_PREREQ
 (2,97)

37 #unde‡
isgª©î


38 #unde‡
isgª©îequÆ


39 #unde‡
i¶ess


40 #unde‡
i¶es£quÆ


41 #unde‡
i¶essgª©î


42 #unde‡
isun‹dîed


43 #ifde‡
__i686__


46 
	#isgª©î
(
x
, 
y
) \

47 ({ 
__ªsu…
; \

48 
	`__asm__
 ("fucomip %%st(1), %%st; seta %%al" \

49 : "˜" (
__ªsu…
Ë: "u" (
y
), "t" (
x
) : "cc", "st"); \

50 
__ªsu…
; })

	)

51 
	#isgª©îequÆ
(
x
, 
y
) \

52 ({ 
__ªsu…
; \

53 
	`__asm__
 ("fucomip %%st(1), %%st; setae %%al" \

54 : "˜" (
__ªsu…
Ë: "u" (
y
), "t" (
x
) : "cc", "st"); \

55 
__ªsu…
; })

	)

57 
	#i¶ess
(
x
, 
y
) \

58 ({ 
__ªsu…
; \

59 
	`__asm__
 ("fucomip %%st(1), %%st; seta %%al" \

60 : "˜" (
__ªsu…
Ë: "u" (
x
), "t" (
y
) : "cc", "st"); \

61 
__ªsu…
; })

	)

63 
	#i¶es£quÆ
(
x
, 
y
) \

64 ({ 
__ªsu…
; \

65 
	`__asm__
 ("fucomip %%st(1), %%st; setae %%al" \

66 : "˜" (
__ªsu…
Ë: "u" (
x
), "t" (
y
) : "cc", "st"); \

67 
__ªsu…
; })

	)

69 
	#i¶essgª©î
(
x
, 
y
) \

70 ({ 
__ªsu…
; \

71 
	`__asm__
 ("fucomip %%st(1), %%st; setne %%al" \

72 : "˜" (
__ªsu…
Ë: "u" (
y
), "t" (
x
) : "cc", "st"); \

73 
__ªsu…
; })

	)

75 
	#isun‹dîed
(
x
, 
y
) \

76 ({ 
__ªsu…
; \

77 
	`__asm__
 ("fucomip %%st(1), %%st; setp %%al" \

78 : "˜" (
__ªsu…
Ë: "u" (
y
), "t" (
x
) : "cc", "st"); \

79 
__ªsu…
; })

	)

82 
	#isgª©î
(
x
, 
y
) \

83 ({ 
__ªsu…
; \

84 
	`__asm__
 ("fucompp; fnstsw;Åestb $0x45, %%ah; setz %%al" \

85 : "˜" (
__ªsu…
Ë: "u" (
y
), "t" (
x
) : "cc", "st", "st(1)"); \

86 
__ªsu…
; })

	)

88 
	#isgª©îequÆ
(
x
, 
y
) \

89 ({ 
__ªsu…
; \

90 
	`__asm__
 ("fucompp; fnstsw;Åestb $0x05, %%ah; setz %%al" \

91 : "˜" (
__ªsu…
Ë: "u" (
y
), "t" (
x
) : "cc", "st", "st(1)"); \

92 
__ªsu…
; })

	)

94 
	#i¶ess
(
x
, 
y
) \

95 ({ 
__ªsu…
; \

96 
	`__asm__
 ("fucompp; fnstsw;Åestb $0x45, %%ah; setz %%al" \

97 : "˜" (
__ªsu…
Ë: "u" (
x
), "t" (
y
) : "cc", "st", "st(1)"); \

98 
__ªsu…
; })

	)

100 
	#i¶es£quÆ
(
x
, 
y
) \

101 ({ 
__ªsu…
; \

102 
	`__asm__
 ("fucompp; fnstsw;Åestb $0x05, %%ah; setz %%al" \

103 : "˜" (
__ªsu…
Ë: "u" (
x
), "t" (
y
) : "cc", "st", "st(1)"); \

104 
__ªsu…
; })

	)

106 
	#i¶essgª©î
(
x
, 
y
) \

107 ({ 
__ªsu…
; \

108 
	`__asm__
 ("fucompp; fnstsw;Åestb $0x44, %%ah; setz %%al" \

109 : "˜" (
__ªsu…
Ë: "u" (
y
), "t" (
x
) : "cc", "st", "st(1)"); \

110 
__ªsu…
; })

	)

112 
	#isun‹dîed
(
x
, 
y
) \

113 ({ 
__ªsu…
; \

114 
	`__asm__
 ("fucompp; fnstsw; sahf; setp %%al" \

115 : "˜" (
__ªsu…
Ë: "u" (
y
), "t" (
x
) : "cc", "st", "st(1)"); \

116 
__ªsu…
; })

	)

122 #i‡
__GNUC_PREREQ
 (2, 8)

123 
__BEGIN_NAMESPACE_C99


126 
__MATH_INLINE
 

127 
__NTH
 (
	$__signbôf
 (
__x
))

129 #ifde‡
__SSE2_MATH__


130 
__m
;

131 
	`__asm
 ("pmovmskb %1, %0" : "Ù" (
__m
Ë: "x" (
__x
));

132  (
__m
 & 0x8) != 0;

134 
__exãnsi⁄__
 uni⁄ { 
__f
; 
__i
; } 
__u
 = { __f: 
__x
 };

135  
__u
.
__i
 < 0;

137 
	}
}

138 
__MATH_INLINE
 

139 
__NTH
 (
	$__signbô
 (
__x
))

141 #ifde‡
__SSE2_MATH__


142 
__m
;

143 
	`__asm
 ("pmovmskb %1, %0" : "Ù" (
__m
Ë: "x" (
__x
));

144  (
__m
 & 0x80) != 0;

146 
__exãnsi⁄__
 uni⁄ { 
__d
; 
__i
[2]; } 
__u
 = { __d: 
__x
 };

147  
__u
.
__i
[1] < 0;

149 
	}
}

150 
__MATH_INLINE
 

151 
__NTH
 (
	$__signbôl
 (
__x
))

153 
__exãnsi⁄__
 uni⁄ { 
__l
; 
__i
[3]; } 
__u
 = { __l: 
__x
 };

154  (
__u
.
__i
[2] & 0x8000) != 0;

155 
	}
}

157 
	g__END_NAMESPACE_C99


164 #i‡
__GNUC_PREREQ
 (2, 8)

165 #i‡!
__GNUC_PREREQ
 (3, 4Ë&& !
deföed
 
__NO_MATH_INLINES
 \

166 && 
deföed
 
	g__OPTIMIZE__


170 #ifde‡
__USE_ISOC99


171 
	g__BEGIN_NAMESPACE_C99


174 #ifde‡
__SSE_MATH__


175 
__MATH_INLINE
 

176 
__NTH
 (
	$Ãötf
 (
__x
))

178 
__ªs
;

183 
__asm
 
	`__vﬁ©ûe__
 ("cvtss2sò%1, %0" : "Ù" (
__ªs
Ë: "xm" (
__x
));

184  
__ªs
;

185 
	}
}

187 #ifde‡
__SSE2_MATH__


188 
__MATH_INLINE
 

189 
__NTH
 (
	$Ãöt
 (
__x
))

191 
__ªs
;

196 
__asm
 
	`__vﬁ©ûe__
 ("cvtsd2sò%1, %0" : "Ù" (
__ªs
Ë: "xm" (
__x
));

197  
__ªs
;

198 
	}
}

200 #ifde‡
__x86_64__


201 
__MATH_INLINE
 

202 
__NTH
 (
	$Œrötf
 (
__x
))

204 
__ªs
;

209 
__asm
 
	`__vﬁ©ûe__
 ("cvtss2sò%1, %0" : "Ù" (
__ªs
Ë: "xm" (
__x
));

210  
__ªs
;

211 
	}
}

212 
__MATH_INLINE
 

213 
__NTH
 (
	$Œröt
 (
__x
))

215 
__ªs
;

220 
__asm
 
	`__vﬁ©ûe__
 ("cvtsd2sò%1, %0" : "Ù" (
__ªs
Ë: "xm" (
__x
));

221  
__ªs
;

222 
	}
}

225 #i‡
deföed
 
__FINITE_MATH_ONLY__
 && __FINITE_MATH_ONLY__ > 0 \

226 && 
deföed
 
__SSE2_MATH__


228 
__MATH_INLINE
 

229 
__NTH
 (
	$fmaxf
 (
__x
, 
__y
))

231 #ifde‡
__AVX__


232 
__ªs
;

233 
	`__asm
 ("vmaxs†%2, %1, %0" : "=x" (
__ªs
Ë: "x" (
x
), "xm" (
__y
));

234  
__ªs
;

236 
	`__asm
 ("maxs†%1, %0" : "+x" (
__x
Ë: "xm" (
__y
));

237  
__x
;

239 
	}
}

240 
__MATH_INLINE
 

241 
__NTH
 (
	$fmax
 (
__x
, 
__y
))

243 #ifde‡
__AVX__


244 
__ªs
;

245 
	`__asm
 ("vmaxsd %2, %1, %0" : "=x" (
__ªs
Ë: "x" (
x
), "xm" (
__y
));

246  
__ªs
;

248 
	`__asm
 ("maxsd %1, %0" : "+x" (
__x
Ë: "xm" (
__y
));

249  
__x
;

251 
	}
}

254 
__MATH_INLINE
 

255 
__NTH
 (
	$fmöf
 (
__x
, 
__y
))

257 #ifde‡
__AVX__


258 
__ªs
;

259 
	`__asm
 ("vmös†%2, %1, %0" : "=x" (
__ªs
Ë: "x" (
x
), "xm" (
__y
));

260  
__ªs
;

262 
	`__asm
 ("mös†%1, %0" : "+x" (
__x
Ë: "xm" (
__y
));

263  
__x
;

265 
	}
}

266 
__MATH_INLINE
 

267 
__NTH
 (
	$fmö
 (
__x
, 
__y
))

269 #ifde‡
__AVX__


270 
__ªs
;

271 
	`__asm
 ("vmösd %2, %1, %0" : "=x" (
__ªs
Ë: "x" (
x
), "xm" (
__y
));

272  
__ªs
;

274 
	`__asm
 ("mösd %1, %0" : "+x" (
__x
Ë: "xm" (
__y
));

275  
__x
;

277 
	}
}

280 
	g__END_NAMESPACE_C99


283 #i‡
deföed
 
__SSE4_1__
 && deföed 
__SSE2_MATH__


284 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_ISOC99


285 
__BEGIN_NAMESPACE_C99


288 
__MATH_INLINE
 

289 
__NTH
 (
	$röt
 (
__x
))

291 
__ªs
;

296 
__asm
 
	`__vﬁ©ûe__
 ("roundsd $4, %1, %0" : "=x" (
__ªs
Ë: "xm" (
__x
));

297  
__ªs
;

298 
	}
}

299 
__MATH_INLINE
 

300 
__NTH
 (
	$rötf
 (
__x
))

302 
__ªs
;

307 
__asm
 
	`__vﬁ©ûe__
 ("rounds†$4, %1, %0" : "=x" (
__ªs
Ë: "xm" (
__x
));

308  
__ªs
;

309 
	}
}

311 #ifde‡
__USE_ISOC99


313 
__MATH_INLINE
 

314 
__NTH
 (
	$√¨byöt
 (
__x
))

316 
__ªs
;

321 
__asm
 
	`__vﬁ©ûe__
 ("roundsd $0xc, %1, %0" : "=x" (
__ªs
Ë: "xm" (
__x
));

322  
__ªs
;

323 
	}
}

324 
__MATH_INLINE
 

325 
__NTH
 (
	$√¨byötf
 (
__x
))

327 
__ªs
;

332 
__asm
 
	`__vﬁ©ûe__
 ("rounds†$0xc, %1, %0" : "=x" (
__ªs
Ë: "xm" (
__x
));

333  
__ªs
;

334 
	}
}

337 
	g__END_NAMESPACE_C99


340 
__BEGIN_NAMESPACE_STD


342 
__MATH_INLINE
 

343 
__NTH
 (
	$˚û
 (
__x
))

345 
__ªs
;

346 
	`__asm
 ("roundsd $2, %1, %0" : "=x" (
__ªs
Ë: "xm" (
__x
));

347  
__ªs
;

348 
	}
}

349 
__END_NAMESPACE_STD


351 
__BEGIN_NAMESPACE_C99


352 
__MATH_INLINE
 

353 
__NTH
 (
	$˚ûf
 (
__x
))

355 
__ªs
;

356 
	`__asm
 ("rounds†$2, %1, %0" : "=x" (
__ªs
Ë: "xm" (
__x
));

357  
__ªs
;

358 
	}
}

359 
__END_NAMESPACE_C99


361 
__BEGIN_NAMESPACE_STD


363 
__MATH_INLINE
 

364 
__NTH
 (
	$Êo‹
 (
__x
))

366 
__ªs
;

367 
	`__asm
 ("roundsd $1, %1, %0" : "=x" (
__ªs
Ë: "xm" (
__x
));

368  
__ªs
;

369 
	}
}

370 
__END_NAMESPACE_STD


372 
__BEGIN_NAMESPACE_C99


373 
__MATH_INLINE
 

374 
__NTH
 (
	$Êo‹f
 (
__x
))

376 
__ªs
;

377 
	`__asm
 ("rounds†$1, %1, %0" : "=x" (
__ªs
Ë: "xm" (
__x
));

378  
__ªs
;

379 
	}
}

380 
	g__END_NAMESPACE_C99


385 #i‚de‡
__x86_64__


386 #i‡((!
deföed
 
__NO_MATH_INLINES
 || deföed 
__LIBC_INTERNAL_MATH_INLINES
) \

387 && 
deföed
 
	g__OPTIMIZE__
)

391 #unde‡
m©h_îrh™dlög


400 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_ISOC99


401 
	#__ölöe_m©h›
(
func
, 
›
) \

402 
	`__ölöe_m©h›_
 (, 
func
, 
›
) \

403 
	`__ölöe_m©h›_
 (, 
	`__CONCAT
(
func
,
f
), 
›
) \

404 
	`__ölöe_m©h›_
 (, 
	`__CONCAT
(
func
,
l
), 
›
)

	)

405 
	#__ölöe_m©h›NP
(
func
, 
›
) \

406 
	`__ölöe_m©h›NP_
 (, 
func
, 
›
) \

407 
	`__ölöe_m©h›NP_
 (, 
	`__CONCAT
(
func
,
f
), 
›
) \

408 
	`__ölöe_m©h›NP_
 (, 
	`__CONCAT
(
func
,
l
), 
›
)

	)

410 
	#__ölöe_m©h›
(
func
, 
›
) \

411 
	`__ölöe_m©h›_
 (, 
func
, 
›
)

	)

412 
	#__ölöe_m©h›NP
(
func
, 
›
) \

413 
	`__ölöe_m©h›NP_
 (, 
func
, 
›
)

	)

416 
	#__ölöe_m©h›_
(
Êﬂt_ty≥
, 
func
, 
›
) \

417 
	`__ölöe_m©h›_de˛_
 (
Êﬂt_ty≥
, 
func
, 
›
, "0" (
__x
))

	)

418 
	#__ölöe_m©h›NP_
(
Êﬂt_ty≥
, 
func
, 
›
) \

419 
	`__ölöe_m©h›_de˛NP_
 (
Êﬂt_ty≥
, 
func
, 
›
, "0" (
__x
))

	)

422 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_ISOC99


423 
	#__ölöe_m©h›_de˛
(
func
, 
›
, 
∑øms
...) \

424 
	`__ölöe_m©h›_de˛_
 (, 
func
, 
›
, 
∑øms
) \

425 
	`__ölöe_m©h›_de˛_
 (, 
	`__CONCAT
(
func
,
f
), 
›
, 
∑øms
) \

426 
	`__ölöe_m©h›_de˛_
 (, 
	`__CONCAT
(
func
,
l
), 
›
, 
∑øms
)

	)

427 
	#__ölöe_m©h›_de˛NP
(
func
, 
›
, 
∑øms
...) \

428 
	`__ölöe_m©h›_de˛NP_
 (, 
func
, 
›
, 
∑øms
) \

429 
	`__ölöe_m©h›_de˛NP_
 (, 
	`__CONCAT
(
func
,
f
), 
›
, 
∑øms
) \

430 
	`__ölöe_m©h›_de˛NP_
 (, 
	`__CONCAT
(
func
,
l
), 
›
, 
∑øms
)

	)

432 
	#__ölöe_m©h›_de˛
(
func
, 
›
, 
∑øms
...) \

433 
	`__ölöe_m©h›_de˛_
 (, 
func
, 
›
, 
∑øms
)

	)

434 
	#__ölöe_m©h›_de˛NP
(
func
, 
›
, 
∑øms
...) \

435 
	`__ölöe_m©h›_de˛NP_
 (, 
func
, 
›
, 
∑øms
)

	)

438 
	#__ölöe_m©h›_de˛_
(
Êﬂt_ty≥
, 
func
, 
›
, 
∑øms
...) \

439 
__MATH_INLINE
 
Êﬂt_ty≥
 
	`func
 (Êﬂt_ty≥Ë
__THROW
; \

440 
	`__ölöe_m©h›_de˛NP_
 (
Êﬂt_ty≥
, 
func
, 
›
, 
∑øms
)

	)

442 
	#__ölöe_m©h›_de˛NP_
(
Êﬂt_ty≥
, 
func
, 
›
, 
∑øms
...) \

443 
__MATH_INLINE
 
Êﬂt_ty≥
 
	`__NTH
 (
	`func
 (Êﬂt_ty≥ 
__x
)) \

445 
Êﬂt_ty≥
 
__ªsu…
; \

446 
__asm
 
	`__vﬁ©ûe__
 (
›
 : "Ò" (
__ªsu…
Ë: 
∑øms
); \

447  
__ªsu…
; \

448 }

	)

451 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_ISOC99


452 
	#__ölöe_m©hcode
(
func
, 
¨g
, 
code
) \

453 
	`__ölöe_m©hcode_
 (, 
func
, 
¨g
, 
code
) \

454 
	`__ölöe_m©hcode_
 (, 
	`__CONCAT
(
func
,
f
), 
¨g
, 
code
) \

455 
	`__ölöe_m©hcode_
 (, 
	`__CONCAT
(
func
,
l
), 
¨g
, 
code
)

	)

456 
	#__ölöe_m©hcodeNP
(
func
, 
¨g
, 
code
) \

457 
	`__ölöe_m©hcodeNP_
 (, 
func
, 
¨g
, 
code
) \

458 
	`__ölöe_m©hcodeNP_
 (, 
	`__CONCAT
(
func
,
f
), 
¨g
, 
code
) \

459 
	`__ölöe_m©hcodeNP_
 (, 
	`__CONCAT
(
func
,
l
), 
¨g
, 
code
)

	)

460 
	#__ölöe_m©hcode2
(
func
, 
¨g1
, 
¨g2
, 
code
) \

461 
	`__ölöe_m©hcode2_
 (, 
func
, 
¨g1
, 
¨g2
, 
code
) \

462 
	`__ölöe_m©hcode2_
 (, 
	`__CONCAT
(
func
,
f
), 
¨g1
, 
¨g2
, 
code
) \

463 
	`__ölöe_m©hcode2_
 (, 
	`__CONCAT
(
func
,
l
), 
¨g1
, 
¨g2
, 
code
)

	)

464 
	#__ölöe_m©hcodeNP2
(
func
, 
¨g1
, 
¨g2
, 
code
) \

465 
	`__ölöe_m©hcodeNP2_
 (, 
func
, 
¨g1
, 
¨g2
, 
code
) \

466 
	`__ölöe_m©hcodeNP2_
 (, 
	`__CONCAT
(
func
,
f
), 
¨g1
, 
¨g2
, 
code
) \

467 
	`__ölöe_m©hcodeNP2_
 (, 
	`__CONCAT
(
func
,
l
), 
¨g1
, 
¨g2
, 
code
)

	)

468 
	#__ölöe_m©hcode3
(
func
, 
¨g1
, 
¨g2
, 
¨g3
, 
code
) \

469 
	`__ölöe_m©hcode3_
 (, 
func
, 
¨g1
, 
¨g2
, 
¨g3
, 
code
) \

470 
	`__ölöe_m©hcode3_
 (, 
	`__CONCAT
(
func
,
f
), 
¨g1
, 
¨g2
, 
¨g3
, 
code
) \

471 
	`__ölöe_m©hcode3_
 (, 
	`__CONCAT
(
func
,
l
), 
¨g1
, 
¨g2
, 
¨g3
, 
code
)

	)

472 
	#__ölöe_m©hcodeNP3
(
func
, 
¨g1
, 
¨g2
, 
¨g3
, 
code
) \

473 
	`__ölöe_m©hcodeNP3_
 (, 
func
, 
¨g1
, 
¨g2
, 
¨g3
, 
code
) \

474 
	`__ölöe_m©hcodeNP3_
 (, 
	`__CONCAT
(
func
,
f
), 
¨g1
, 
¨g2
, 
¨g3
, 
code
) \

475 
	`__ölöe_m©hcodeNP3_
 (, 
	`__CONCAT
(
func
,
l
), 
¨g1
, 
¨g2
, 
¨g3
, 
code
)

	)

477 
	#__ölöe_m©hcode
(
func
, 
¨g
, 
code
) \

478 
	`__ölöe_m©hcode_
 (, 
func
, (
¨g
), 
code
)

	)

479 
	#__ölöe_m©hcodeNP
(
func
, 
¨g
, 
code
) \

480 
	`__ölöe_m©hcodeNP_
 (, 
func
, (
¨g
), 
code
)

	)

481 
	#__ölöe_m©hcode2
(
func
, 
¨g1
, 
¨g2
, 
code
) \

482 
	`__ölöe_m©hcode2_
 (, 
func
, 
¨g1
, 
¨g2
, 
code
)

	)

483 
	#__ölöe_m©hcodeNP2
(
func
, 
¨g1
, 
¨g2
, 
code
) \

484 
	`__ölöe_m©hcodeNP2_
 (, 
func
, 
¨g1
, 
¨g2
, 
code
)

	)

485 
	#__ölöe_m©hcode3
(
func
, 
¨g1
, 
¨g2
, 
¨g3
, 
code
) \

486 
	`__ölöe_m©hcode3_
 (, 
func
, 
¨g1
, 
¨g2
, 
¨g3
, 
code
)

	)

487 
	#__ölöe_m©hcodeNP3
(
func
, 
¨g1
, 
¨g2
, 
¨g3
, 
code
) \

488 
	`__ölöe_m©hcodeNP3_
 (, 
func
, 
¨g1
, 
¨g2
, 
¨g3
, 
code
)

	)

491 
	#__ölöe_m©hcode_
(
Êﬂt_ty≥
, 
func
, 
¨g
, 
code
) \

492 
__MATH_INLINE
 
Êﬂt_ty≥
 
	`func
 (Êﬂt_ty≥Ë
__THROW
; \

493 
	`__ölöe_m©hcodeNP_
(
Êﬂt_ty≥
, 
func
, 
¨g
, 
code
)

	)

495 
	#__ölöe_m©hcodeNP_
(
Êﬂt_ty≥
, 
func
, 
¨g
, 
code
) \

496 
__MATH_INLINE
 
Êﬂt_ty≥
 
	`__NTH
 (
	`func
 (Êﬂt_ty≥ 
¨g
)) \

498 
code
; \

499 }

	)

502 
	#__ölöe_m©hcode2_
(
Êﬂt_ty≥
, 
func
, 
¨g1
, 
¨g2
, 
code
) \

503 
__MATH_INLINE
 
Êﬂt_ty≥
 
	`func
 (Êﬂt_ty≥, flﬂt_ty≥Ë
__THROW
; \

504 
	`__ölöe_m©hcodeNP2_
 (
Êﬂt_ty≥
, 
func
, 
¨g1
, 
¨g2
, 
code
)

	)

506 
	#__ölöe_m©hcodeNP2_
(
Êﬂt_ty≥
, 
func
, 
¨g1
, 
¨g2
, 
code
) \

507 
__MATH_INLINE
 
Êﬂt_ty≥
 
	`__NTH
 (
	`func
 (Êﬂt_ty≥ 
¨g1
, flﬂt_ty≥ 
¨g2
)) \

509 
code
; \

510 }

	)

512 
	#__ölöe_m©hcode3_
(
Êﬂt_ty≥
, 
func
, 
¨g1
, 
¨g2
, 
¨g3
, 
code
) \

513 
__MATH_INLINE
 
Êﬂt_ty≥
 
	`func
 (Êﬂt_ty≥, flﬂt_ty≥, flﬂt_ty≥Ë
__THROW
; \

514 
	`__ölöe_m©hcodeNP3_
(
Êﬂt_ty≥
, 
func
, 
¨g1
, 
¨g2
, 
¨g3
, 
code
)

	)

516 
	#__ölöe_m©hcodeNP3_
(
Êﬂt_ty≥
, 
func
, 
¨g1
, 
¨g2
, 
¨g3
, 
code
) \

517 
__MATH_INLINE
 
Êﬂt_ty≥
 
	`__NTH
 (
	`func
 (Êﬂt_ty≥ 
¨g1
, flﬂt_ty≥ 
¨g2
, \

518 
Êﬂt_ty≥
 
¨g3
)) \

520 
code
; \

521 }

	)

525 #i‡!
deföed
 
__NO_MATH_INLINES
 && deföed 
__OPTIMIZE__


529 #ifde‡
__FAST_MATH__


530 #ifde‡
__USE_GNU


531 
	#__söcos_code
 \

532 
__co§
; \

533 
__sör
; \

534 
__swtmp
; \

535 
__asm
 
__vﬁ©ûe__
 \

550 : "Ò" (
__co§
), "=u" (
__sör
), "˜" (
__swtmp
Ë: "0" (
__x
)); \

551 *
__söx
 = 
__sör
; \

552 *
__cosx
 = 
__co§


	)

554 
__MATH_INLINE
 

555 
__NTH
 (
	$__söcos
 (
__x
, *
__söx
, *
__cosx
))

557 
__söcos_code
;

558 
	}
}

560 
__MATH_INLINE
 

561 
__NTH
 (
	$__söcosf
 (
__x
, *
__söx
, *
__cosx
))

563 
__söcos_code
;

564 
	}
}

566 
__MATH_INLINE
 

567 
__NTH
 (
	$__söco¶
 (
__x
, *
__söx
, *
__cosx
))

569 
__söcos_code
;

570 
	}
}

577 #i‡
__GNUC_PREREQ
 (3, 5)

578 
	#__expm1_code
 \

579 
__ãmp
; \

580 
__ãmp
 = 
	`__buûtö_expm1l
 (
__x
); \

581  
__ãmp
 ? __ãm∞: 
__x


	)

583 
	#__expm1_code
 \

584 
__vÆue
; \

585 
__exp⁄ít
; \

586 
__ãmp
; \

587 
__asm
 
__vﬁ©ûe__
 \

596 : "Ò" (
__vÆue
), "=u" (
__exp⁄ít
Ë: "0" (
__x
)); \

597 
__asm
 
__vﬁ©ûe__
 \

599 : "Ò" (
__ãmp
Ë: "0" (1.0), "u" (
__exp⁄ít
)); \

600 
__ãmp
 -= 1.0; \

601 
__ãmp
 +
__vÆue
; \

602  
__ãmp
 ? __ãm∞: 
__x


	)

604 
	$__ölöe_m©hcodeNP_
 (, 
__expm1l
, 
__x
, 
__expm1_code
)

606 #i‡
	`__GNUC_PREREQ
 (3, 4)

607 
	`__ölöe_m©hcodeNP_
 (, 
__ex∂
, 
__x
,  
	$__buûtö_ex∂
 (
__x
))

609 
	#__exp_code
 \

610 
__vÆue
; \

611 
__exp⁄ít
; \

612 
__asm
 
__vﬁ©ûe__
 \

620 : "Ò" (
__vÆue
), "=u" (
__exp⁄ít
Ë: "0" (
__x
)); \

621 
__vÆue
 += 1.0; \

622 
__asm
 
__vﬁ©ûe__
 \

624 : "Ò" (
__vÆue
Ë: "0" (__vÆue), "u" (
__exp⁄ít
)); \

625  
__vÆue


	)

626 
	$__ölöe_m©hcodeNP
 (
exp
, 
__x
, 
__exp_code
)

627 
	$__ölöe_m©hcodeNP_
 (, 
__ex∂
, 
__x
, 
__exp_code
)

631 #i‡!
	`__GNUC_PREREQ
 (3, 5)

632 
	`__ölöe_m©hcodeNP
 (
èn
, 
__x
, \

633 
__vÆue
; \

634 
__vÆue2
 
	`__©åibuã__
 ((
__unu£d__
)); \

635 
__asm
 
__vﬁ©ûe__
 \

637 : "Ò" (
__vÆue2
), "=u" (
__vÆue
Ë: "0" (
__x
)); \

638  
__vÆue
)

643 #i‡
	`__GNUC_PREREQ
 (3, 4)

644 
	`__ölöe_m©hcodeNP2_
 (, 
__©™2l
, 
__y
, 
__x
,

645  
	$__buûtö_©™2l
 (
__y
, 
__x
))

647 
	#__©™2_code
 \

648 
__vÆue
; \

649 
__asm
 
__vﬁ©ûe__
 \

651 : "Ò" (
__vÆue
Ë: "0" (
__x
), "u" (
__y
) : "st(1)"); \

652  
__vÆue


	)

653 #ifde‡
__FAST_MATH__


654 
	$__ölöe_m©hcodeNP2
 (
©™2
, 
__y
, 
__x
, 
__©™2_code
)

656 
	$__ölöe_m©hcodeNP2_
 (, 
__©™2l
, 
__y
, 
__x
, 
__©™2_code
)

660 #i‡
deföed
 
__FAST_MATH__
 && !
	`__GNUC_PREREQ
 (3, 5)

661 
	`__ölöe_m©hcodeNP2
 (
fmod
, 
__x
, 
__y
, \

662 
__vÆue
; \

663 
__asm
 
__vﬁ©ûe__
 \

668 : "Ò" (
__vÆue
Ë: "0" (
__x
), "u" (
__y
) : "ax", "cc"); \

669  
__vÆue
)

673 #ifde‡
__FAST_MATH__


674 #i‡!
	`__GNUC_PREREQ
 (3,3)

675 
	`__ölöe_m©h›NP
 (
sqπ
, "fsqrt")

676 
	`__ölöe_m©h›NP_
 (, 
__sqπl
, "fsqrt")

677 
	#__libc_sqπl
(
n
Ë
	`__sqπl
 (n)

	)

679 
	#__libc_sqπl
(
n
Ë
	`__buûtö_sqπl
 (n)

	)

683 #i‡
	`__GNUC_PREREQ
 (2, 8)

684 
	`__ölöe_m©hcodeNP_
 (, 
Ábs
, 
__x
,  
	$__buûtö_Ábs
 (
__x
))

685 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_ISOC99


686 
	`__ölöe_m©hcodeNP_
 (, 
Ábsf
, 
__x
,  
	$__buûtö_Ábsf
 (
__x
))

687 
	`__ölöe_m©hcodeNP_
 (, 
Áb¶
, 
__x
,  
	$__buûtö_Áb¶
 (
__x
))

689 
	`__ölöe_m©hcodeNP_
 (, 
__Áb¶
, 
__x
,  
	$__buûtö_Áb¶
 (
__x
))

691 
	`__ölöe_m©h›
 (
Ábs
, "fabs")

692 
	`__ölöe_m©h›_
 (, 
__Áb¶
, "fabs")

695 #ifde‡
__FAST_MATH__


696 #i‡!
	`__GNUC_PREREQ
 (3, 4)

698 
	`__ölöe_m©h›NP
 (
sö
, "fsin")

700 
	`__ölöe_m©h›NP
 (
cos
, "fcos")

702 
	`__ölöe_m©h›_de˛NP
 (
log
, "Êd 2; fxch; fyl2x", "0" (
__x
) : "st(1)")

705 #i‡!
	`__GNUC_PREREQ
 (3, 5)

706 
	`__ölöe_m©h›_de˛NP
 (
log10
, "Êdlg2; fxch; fyl2x", "0" (
__x
) : "st(1)")

708 
	`__ölöe_m©hcodeNP
 (
asö
, 
__x
,  
	`__©™2l
 (__x, 
	`__libc_sqπl
 (1.0 - __x * __x)))

709 
	`__ölöe_m©hcodeNP
 (
acos
, 
__x
,  
	`__©™2l
 (
	`__libc_sqπl
 (1.0 - __x * __x), __x))

712 #i‡!
	`__GNUC_PREREQ
 (3, 4)

713 
	`__ölöe_m©h›_de˛NP
 (
©™
, "Êd1; f∑èn", "0" (
__x
) : "st(1)")

717 
	`__ölöe_m©hcode_
 (, 
__sgn1l
, 
__x
, \

718 
__exãnsi⁄__
 uni⁄ { 
__xld
; 
__xi
[3]; } 
__n
 = \

719 { 
__xld
: 
__x
 
	}
}; \

720 
	g__n
.
	g__xi
[2] = (
__n
.
__xi
[2] & 0x8000) | 0x3fff; \

721 
	g__n
.
	g__xi
[1] = 0x80000000; \

722 
	g__n
.
	g__xi
[0] = 0; \

723  
	g__n
.
	g__xld
)

726 #ifde‡
__FAST_MATH__


728 
__ölöe_m©hcodeNP
 (
söh
, 
__x
, \

729 
__exm1
 = 
__expm1l
 (
__Áb¶
 (
__x
)); \

730  0.5 * (
__exm1
 / (__exm1 + 1.0Ë+ __exm1Ë* 
	$__sgn1l
 (
__x
))

732 
	`__ölöe_m©hcodeNP
 (
cosh
, 
__x
, \

733 
__ex
 = 
	`__ex∂
 (
__x
); \

734  0.5 * (
__ex
 + 1.0 / __ex))

736 
	`__ölöe_m©hcodeNP
 (
ènh
, 
__x
, \

737 
__exm1
 = 
	`__expm1l
 (-
	`__Áb¶
 (
__x
 + __x)); \

738  
__exm1
 / (__exm1 + 2.0Ë* 
	`__sgn1l
 (-
__x
))

741 
	`__ölöe_m©hcodeNP
 (
Êo‹
, 
__x
, \

742 
__vÆue
; \

743 
__ign‹e
; \

744 
__cw
; \

745 
__cwtmp
; \

746 
__asm
 
	`__vﬁ©ûe
 ("fnstcw %3\n\t" \

754 : "Ò" (
__vÆue
), "=&q" (
__ign‹e
), "=m" (
__cwtmp
), \

755 "=m" (
__cw
) \

756 : "0" (
__x
)); \

757  
__vÆue
)

759 
	`__ölöe_m©hcodeNP
 (
˚û
, 
__x
, \

760 
__vÆue
; \

761 
__ign‹e
; \

762 
__cw
; \

763 
__cwtmp
; \

764 
__asm
 
	`__vﬁ©ûe
 ("fnstcw %3\n\t" \

772 : "Ò" (
__vÆue
), "=&q" (
__ign‹e
), "=m" (
__cwtmp
), \

773 "=m" (
__cw
) \

774 : "0" (
__x
)); \

775  
__vÆue
)

777 #ifde‡
__FAST_MATH__


778 
	#__ldexp_code
 \

779 
__vÆue
; \

780 
__asm
 
__vﬁ©ûe__
 \

782 : "Ò" (
__vÆue
Ë: "0" (
__x
), "u" ((Ë
__y
)); \

783  
__vÆue


	)

785 
__MATH_INLINE
 

786 
	`__NTH
 (
	$ldexp
 (
__x
, 
__y
))

788 
__ldexp_code
;

789 
	}
}

794 #i‡
deföed
 
__USE_ISOC99
 || deföed 
__USE_MISC


796 #ifde‡
__FAST_MATH__


797 
	$__ölöe_m©hcodeNP
 (
expm1
, 
__x
, 
__expm1_code
)

801 
	#__M_SQRT2
 1.41421356237309504880L

	)

803 #i‡!
	`__GNUC_PREREQ
 (3, 5)

804 
	`__ölöe_m©hcodeNP
 (
log1p
, 
__x
, \

805 
__vÆue
; \

806 i‡(
	`__Áb¶
 (
__x
Ë>1.0 - 0.5 * 
__M_SQRT2
) \

807 
__vÆue
 = 
	`logl
 (1.0 + 
__x
); \

809 
__asm
 
__vﬁ©ûe__
 \

813 : "Ò" (
__vÆue
Ë: "0" (
__x
) : "st(1)"); \

814  
__vÆue
)

819 
	`__ölöe_m©hcodeNP
 (
asöh
, 
__x
, \

820 
__y
 = 
	`__Áb¶
 (
__x
); \

821  (
	`log1∂
 (
__y
 * __y / (
	`__libc_sqπl
 (__y * __y + 1.0) + 1.0) + __y) \

822 * 
	$__sgn1l
 (
__x
)))

824 
	`__ölöe_m©hcodeNP
 (
acosh
, 
__x
, \

825  
	`logl
 (
__x
 + 
	`__libc_sqπl
 (__x - 1.0) * __libc_sqrtl (__x + 1.0)))

827 
	`__ölöe_m©hcodeNP
 (
©™h
, 
__x
, \

828 
__y
 = 
	`__Áb¶
 (
__x
); \

829  -0.5 * 
	`log1∂
 (-(
__y
 + __yË/ (1.0 + __y)Ë* 
	$__sgn1l
 (
__x
))

832 
	`__ölöe_m©hcodeNP2
 (
hypŸ
, 
__x
, 
__y
,

833  
	`__libc_sqπl
 (
__x
 * __x + 
__y
 * __y))

835 #i‡!
	`__GNUC_PREREQ
 (3, 5)

836 
	`__ölöe_m©hcodeNP
(
logb
, 
__x
, \

837 
__vÆue
; \

838 
__junk
; \

839 
__asm
 
__vﬁ©ûe__
 \

841 : "Ò" (
__junk
), "=u" (
__vÆue
Ë: "0" (
__x
)); \

842  
__vÆue
)

848 #ifde‡
__USE_ISOC99


849 #ifde‡
__FAST_MATH__


851 #i‡!
	`__GNUC_PREREQ
 (3, 5)

852 
	`__ölöe_m©h›_de˛NP
 (
log2
, "Êd1; fxch; fyl2x", "0" (
__x
) : "st(1)")

855 
__MATH_INLINE
 

856 
	`__NTH
 (
	$ldexpf
 (
__x
, 
__y
))

858 
__ldexp_code
;

859 
	}
}

861 
__MATH_INLINE
 

862 
__NTH
 (
	$ldex∂
 (
__x
, 
__y
))

864 
__ldexp_code
;

865 
	}
}

867 
__ölöe_m©h›NP
 (
röt
, "frndint")

870 
	#__Ãöt_code
 \

871 
__Ãöåes
; \

872 
__asm__
 
__vﬁ©ûe__
 \

874 : "=m" (
__Ãöåes
Ë: "t" (
__x
) : "st"); \

875  
__Ãöåes


	)

876 
__MATH_INLINE
 

877 
__NTH
 (
	$Ãötf
 (
__x
))

879 
__Ãöt_code
;

880 
	}
}

881 
__MATH_INLINE
 

882 
__NTH
 (
	$Ãöt
 (
__x
))

884 
__Ãöt_code
;

885 
	}
}

886 
__MATH_INLINE
 

887 
__NTH
 (
	$Ãöé
 (
__x
))

889 
__Ãöt_code
;

890 
	}
}

891 #unde‡
__Ãöt_code


893 
	#__Œröt_code
 \

894 
__Œröåes
; \

895 
__asm__
 
__vﬁ©ûe__
 \

897 : "=m" (
__Œröåes
Ë: "t" (
__x
) : "st"); \

898  
__Œröåes


	)

899 
__MATH_INLINE
 

900 
__NTH
 (
	$Œrötf
 (
__x
))

902 
__Œröt_code
;

903 
	}
}

904 
__MATH_INLINE
 

905 
__NTH
 (
	$Œröt
 (
__x
))

907 
__Œröt_code
;

908 
	}
}

909 
__MATH_INLINE
 

910 
__NTH
 (
	$Œröé
 (
__x
))

912 
__Œröt_code
;

913 
	}
}

914 #unde‡
__Œröt_code


919 #ifde‡
__USE_MISC


921 #i‡
deföed
 
__FAST_MATH__
 && !
__GNUC_PREREQ
 (3, 5)

922 
__ölöe_m©hcodeNP2
 (
dªm
, 
__x
, 
__y
, \

923 
__vÆue
; \

924 
__˛obbîed
; \

925 
__asm
 
__vﬁ©ûe__
 \

930 : "Ò" (
__vÆue
), "=&a" (
__˛obbîed
Ë: "0" (
__x
), "u" (
__y
) : "cc"); \

931  
__vÆue
)

936 
__MATH_INLINE
 

937 
__NTH
 (
	$__föôe
 (
__x
))

939  (
__exãnsi⁄__


940 (((((uni⁄ { 
__d
; 
__i
[2]; }Ë{__d: 
__x
}).__i[1]

942 
	}
}

947 #unde‡
__©™2_code


948 #ifde‡
__FAST_MATH__


949 #unde‡
__expm1_code


950 #unde‡
__exp_code


951 #unde‡
__söcos_code


958 #ifde‡
__LIBC_INTERNAL_MATH_INLINES


959 
__ölöe_m©h›
 (
__õì754_sqπ
, "fsqrt")

960 
__ölöe_m©hcode2
 (
__õì754_©™2
, 
__y
, 
__x
,

961 
__vÆue
;

962 
__asm
 
__vﬁ©ûe__
 ("fpatan\n\t"

963 : "Ò" (
__vÆue
)

964 : "0" (
__x
), "u" (
__y
) : "st(1)");

965  
__vÆue
;)

	@/usr/include/bits/nan.h

19 #i‚de‡
_MATH_H


26 #i‡
__GNUC_PREREQ
(3,3)

28 
	#NAN
 (
	`__buûtö_«nf
 (""))

	)

30 #ñi‡
deföed
 
__GNUC__


32 
	#NAN
 \

33 (
__exãnsi⁄__
 \

34 ((uni⁄ { 
__l
 
	`__©åibuã__
 ((
	`__mode__
 (
__SI__
))); 
__d
; }) \

35 { 
__l
: 0x7fc00000UL }).
__d
)

	)

39 
	~<ídün.h
>

41 #i‡
__BYTE_ORDER
 =
__BIG_ENDIAN


42 
	#__«n_byãs
 { 0x7f, 0xc0, 0, 0 }

	)

44 #i‡
__BYTE_ORDER
 =
__LITTLE_ENDIAN


45 
	#__«n_byãs
 { 0, 0, 0xc0, 0x7‡}

	)

48 uni⁄ { 
	m__c
[4]; 
	m__d
; } 
__«n_uni⁄


49 
	g__©åibuã_u£d__
 = { 
__«n_byãs
 };

50 
	#NAN
 (
__«n_uni⁄
.
__d
)

	)

	@/usr/include/bits/stdio-ldbl.h

19 #i‚de‡
_STDIO_H


23 
__BEGIN_NAMESPACE_STD


24 
	$__LDBL_REDIR_DECL
 (
Ârötf
)

25 
	$__LDBL_REDIR_DECL
 (
¥ötf
)

26 
	$__LDBL_REDIR_DECL
 (
•rötf
)

27 
	$__LDBL_REDIR_DECL
 (
vÂrötf
)

28 
	$__LDBL_REDIR_DECL
 (
v¥ötf
)

29 
	$__LDBL_REDIR_DECL
 (
v•rötf
)

30 #i‡
deföed
 
__USE_ISOC99
 && !deföed 
__USE_GNU
 \

31 && !
deföed
 
__REDIRECT
 \

32 && (
deföed
 
__STRICT_ANSI__
 || deföed 
__USE_XOPEN2K
)

33 
	$__LDBL_REDIR1_DECL
 (
fsˇnf
, 
__∆dbl___isoc99_fsˇnf
)

34 
	$__LDBL_REDIR1_DECL
 (
sˇnf
, 
__∆dbl___isoc99_sˇnf
)

35 
	$__LDBL_REDIR1_DECL
 (
ssˇnf
, 
__∆dbl___isoc99_ssˇnf
)

37 
	$__LDBL_REDIR_DECL
 (
fsˇnf
)

38 
	$__LDBL_REDIR_DECL
 (
sˇnf
)

39 
	$__LDBL_REDIR_DECL
 (
ssˇnf
)

41 
__END_NAMESPACE_STD


43 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_ISOC99
 || deföed 
__USE_UNIX98


44 
__BEGIN_NAMESPACE_C99


45 
	$__LDBL_REDIR_DECL
 (
¢¥ötf
)

46 
	$__LDBL_REDIR_DECL
 (
v¢¥ötf
)

47 
__END_NAMESPACE_C99


50 #ifdef 
__USE_ISOC99


51 
__BEGIN_NAMESPACE_C99


52 #i‡!
deföed
 
__USE_GNU
 && !deföed 
__REDIRECT
 \

53 && (
deföed
 
__STRICT_ANSI__
 || deföed 
__USE_XOPEN2K
)

54 
	$__LDBL_REDIR1_DECL
 (
vfsˇnf
, 
__∆dbl___isoc99_vfsˇnf
)

55 
	$__LDBL_REDIR1_DECL
 (
vsˇnf
, 
__∆dbl___isoc99_vsˇnf
)

56 
	$__LDBL_REDIR1_DECL
 (
vssˇnf
, 
__∆dbl___isoc99_vssˇnf
)

58 
	$__LDBL_REDIR_DECL
 (
vfsˇnf
)

59 
	$__LDBL_REDIR_DECL
 (
vssˇnf
)

60 
	$__LDBL_REDIR_DECL
 (
vsˇnf
)

62 
__END_NAMESPACE_C99


65 #ifde‡
__USE_XOPEN2K8


66 
	$__LDBL_REDIR_DECL
 (
vd¥ötf
)

67 
	$__LDBL_REDIR_DECL
 (
d¥ötf
)

70 #ifde‡
__USE_GNU


71 
	$__LDBL_REDIR_DECL
 (
va•rötf
)

72 
	$__LDBL_REDIR_DECL
 (
__a•rötf
)

73 
	$__LDBL_REDIR_DECL
 (
a•rötf
)

74 
	$__LDBL_REDIR_DECL
 (
ob°ack_¥ötf
)

75 
	$__LDBL_REDIR_DECL
 (
ob°ack_v¥ötf
)

78 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__f‹tify_fun˘i⁄


79 
	$__LDBL_REDIR_DECL
 (
__•rötf_chk
)

80 
	$__LDBL_REDIR_DECL
 (
__v•rötf_chk
)

81 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_ISOC99
 || deföed 
__USE_UNIX98


82 
	$__LDBL_REDIR_DECL
 (
__¢¥ötf_chk
)

83 
	$__LDBL_REDIR_DECL
 (
__v¢¥ötf_chk
)

85 #i‡
__USE_FORTIFY_LEVEL
 > 1

86 
	$__LDBL_REDIR_DECL
 (
__Ârötf_chk
)

87 
	$__LDBL_REDIR_DECL
 (
__¥ötf_chk
)

88 
	$__LDBL_REDIR_DECL
 (
__vÂrötf_chk
)

89 
	$__LDBL_REDIR_DECL
 (
__v¥ötf_chk
)

90 #ifde‡
__USE_XOPEN2K8


91 
	$__LDBL_REDIR_DECL
 (
__d¥ötf_chk
)

92 
	$__LDBL_REDIR_DECL
 (
__vd¥ötf_chk
)

94 #ifde‡
__USE_GNU


95 
	$__LDBL_REDIR_DECL
 (
__a•rötf_chk
)

96 
	$__LDBL_REDIR_DECL
 (
__va•rötf_chk
)

97 
	$__LDBL_REDIR_DECL
 (
__ob°ack_¥ötf_chk
)

98 
	$__LDBL_REDIR_DECL
 (
__ob°ack_v¥ötf_chk
)

	@/usr/include/bits/stdio.h

19 #i‚de‡
_STDIO_H


23 #i‚de‡
__exã∫_ölöe


24 
	#__STDIO_INLINE
 
ölöe


	)

26 
	#__STDIO_INLINE
 
__exã∫_ölöe


	)

30 #ifde‡
__USE_EXTERN_INLINES


33 #i‡!(
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__f‹tify_fun˘i⁄
)

35 
__STDIO_INLINE
 

36 
	$v¥ötf
 (c⁄° *
__ª°ri˘
 
__fmt
, 
_G_va_li°
 
__¨g
)

38  
	`vÂrötf
 (
°dout
, 
__fmt
, 
__¨g
);

39 
	}
}

43 
__STDIO_INLINE
 

44 
	$gëch¨
 ()

46  
	`_IO_gëc
 (
°dö
);

47 
	}
}

50 #ifde‡
__USE_MISC


52 
__STDIO_INLINE
 

53 
	$fgëc_u∆ocked
 (
FILE
 *
__Â
)

55  
	`_IO_gëc_u∆ocked
 (
__Â
);

56 
	}
}

60 #i‡
deföed
 
__USE_POSIX
 || deföed 
__USE_MISC


62 
__STDIO_INLINE
 

63 
	$gëc_u∆ocked
 (
FILE
 *
__Â
)

65  
	`_IO_gëc_u∆ocked
 (
__Â
);

66 
	}
}

69 
__STDIO_INLINE
 

70 
	$gëch¨_u∆ocked
 ()

72  
	`_IO_gëc_u∆ocked
 (
°dö
);

73 
	}
}

78 
__STDIO_INLINE
 

79 
	$putch¨
 (
__c
)

81  
	`_IO_putc
 (
__c
, 
°dout
);

82 
	}
}

85 #ifde‡
__USE_MISC


87 
__STDIO_INLINE
 

88 
	$Âutc_u∆ocked
 (
__c
, 
FILE
 *
__°ªam
)

90  
	`_IO_putc_u∆ocked
 (
__c
, 
__°ªam
);

91 
	}
}

95 #i‡
deföed
 
__USE_POSIX
 || deföed 
__USE_MISC


97 
__STDIO_INLINE
 

98 
	$putc_u∆ocked
 (
__c
, 
FILE
 *
__°ªam
)

100  
	`_IO_putc_u∆ocked
 (
__c
, 
__°ªam
);

101 
	}
}

104 
__STDIO_INLINE
 

105 
	$putch¨_u∆ocked
 (
__c
)

107  
	`_IO_putc_u∆ocked
 (
__c
, 
°dout
);

108 
	}
}

112 #ifdef 
__USE_GNU


114 
__STDIO_INLINE
 
_IO_ssize_t


115 
	$gëlöe
 (**
__löïå
, 
size_t
 *
__n
, 
FILE
 *
__°ªam
)

117  
	`__gëdñim
 (
__löïå
, 
__n
, '\n', 
__°ªam
);

118 
	}
}

122 #ifde‡
__USE_MISC


124 
__STDIO_INLINE
 

125 
__NTH
 (
	$„of_u∆ocked
 (
FILE
 *
__°ªam
))

127  
	`_IO_„of_u∆ocked
 (
__°ªam
);

128 
	}
}

131 
__STDIO_INLINE
 

132 
__NTH
 (
	$„º‹_u∆ocked
 (
FILE
 *
__°ªam
))

134  
	`_IO_„º‹_u∆ocked
 (
__°ªam
);

135 
	}
}

141 #i‡
deföed
 
__USE_MISC
 && deföed 
__GNUC__
 && deföed 
__OPTIMIZE__
 \

142 && !
deföed
 
	g__˝lu•lus


144 
	#‰ód_u∆ocked
(
±r
, 
size
, 
n
, 
°ªam
) \

145 (
	`__exãnsi⁄__
 ((
	`__buûtö_c⁄°™t_p
 (
size
Ë&& __buûtö_c⁄°™t_∞(
n
) \

146 && (
size_t
Ë(
size
Ë* (size_tË(
n
) <= 8 \

147 && (
size_t
Ë(
size
) != 0) \

148 ? ({ *
__±r
 = (*Ë(
±r
); \

149 
FILE
 *
__°ªam
 = (
°ªam
); \

150 
size_t
 
__˙t
; \

151 
__˙t
 = (
size_t
Ë(
size
Ë* (size_tË(
n
); \

152 
__˙t
 > 0; --__cnt) \

154 
__c
 = 
	`_IO_gëc_u∆ocked
 (
__°ªam
); \

155 i‡(
__c
 =
EOF
) \

157 *
__±r
++ = 
__c
; \

159 ((
size_t
Ë(
size
Ë* (size_tË(
n
Ë- 
__˙t
) \

160 / (
size_t
Ë(
size
); }) \

161 : (((
	`__buûtö_c⁄°™t_p
 (
size
Ë&& (
size_t
) (size) == 0) \

162 || (
	`__buûtö_c⁄°™t_p
 (
n
Ë&& (
size_t
) (n) == 0)) \

164 ? ((Ë(
±r
), (Ë(
°ªam
), (Ë(
size
), \

165 (Ë(
n
), (
size_t
) 0) \

166 : 
	`‰ód_u∆ocked
 (
±r
, 
size
, 
n
, 
°ªam
))))

	)

168 
	#fwrôe_u∆ocked
(
±r
, 
size
, 
n
, 
°ªam
) \

169 (
	`__exãnsi⁄__
 ((
	`__buûtö_c⁄°™t_p
 (
size
Ë&& __buûtö_c⁄°™t_∞(
n
) \

170 && (
size_t
Ë(
size
Ë* (size_tË(
n
) <= 8 \

171 && (
size_t
Ë(
size
) != 0) \

172 ? ({ c⁄° *
__±r
 = (c⁄° *Ë(
±r
); \

173 
FILE
 *
__°ªam
 = (
°ªam
); \

174 
size_t
 
__˙t
; \

175 
__˙t
 = (
size_t
Ë(
size
Ë* (size_tË(
n
); \

176 
__˙t
 > 0; --__cnt) \

177 i‡(
	`_IO_putc_u∆ocked
 (*
__±r
++, 
__°ªam
Ë=
EOF
) \

179 ((
size_t
Ë(
size
Ë* (size_tË(
n
Ë- 
__˙t
) \

180 / (
size_t
Ë(
size
); }) \

181 : (((
	`__buûtö_c⁄°™t_p
 (
size
Ë&& (
size_t
) (size) == 0) \

182 || (
	`__buûtö_c⁄°™t_p
 (
n
Ë&& (
size_t
) (n) == 0)) \

184 ? ((Ë(
±r
), (Ë(
°ªam
), (Ë(
size
), \

185 (Ë(
n
), (
size_t
) 0) \

186 : 
	`fwrôe_u∆ocked
 (
±r
, 
size
, 
n
, 
°ªam
))))

	)

190 #unde‡
__STDIO_INLINE


	@/usr/include/bits/stdio2.h

19 #i‚de‡
_STDIO_H


23 
	$__•rötf_chk
 (*
__ª°ri˘
 
__s
, 
__Êag
, 
size_t
 
__¶í
,

24 c⁄° *
__ª°ri˘
 
__f‹m©
, ...Ë
__THROW
;

25 
	$__v•rötf_chk
 (*
__ª°ri˘
 
__s
, 
__Êag
, 
size_t
 
__¶í
,

26 c⁄° *
__ª°ri˘
 
__f‹m©
,

27 
_G_va_li°
 
__≠
Ë
__THROW
;

29 #ifde‡
__va_¨g_∑ck


30 
__f‹tify_fun˘i⁄
 

31 
	`__NTH
 (
	$•rötf
 (*
__ª°ri˘
 
__s
, c⁄° *__ª°ri˘ 
__fmt
, ...))

33  
	`__buûtö___•rötf_chk
 (
__s
, 
__USE_FORTIFY_LEVEL
 - 1,

34 
	`__bos
 (
__s
), 
__fmt
, 
	`__va_¨g_∑ck
 ());

35 
	}
}

36 #ñi‡!
deföed
 
__˝lu•lus


37 
	#•rötf
(
°r
, ...) \

38 
	`__buûtö___•rötf_chk
 (
°r
, 
__USE_FORTIFY_LEVEL
 - 1, 
	`__bos
 (str), \

39 
__VA_ARGS__
)

	)

42 
__f‹tify_fun˘i⁄
 

43 
__NTH
 (
	$v•rötf
 (*
__ª°ri˘
 
__s
, c⁄° *__ª°ri˘ 
__fmt
,

44 
_G_va_li°
 
__≠
))

46  
	`__buûtö___v•rötf_chk
 (
__s
, 
__USE_FORTIFY_LEVEL
 - 1,

47 
	`__bos
 (
__s
), 
__fmt
, 
__≠
);

48 
	}
}

50 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_ISOC99
 || deföed 
__USE_UNIX98


52 
	$__¢¥ötf_chk
 (*
__ª°ri˘
 
__s
, 
size_t
 
__n
, 
__Êag
,

53 
size_t
 
__¶í
, c⁄° *
__ª°ri˘
 
__f‹m©
,

54 ...Ë
__THROW
;

55 
	$__v¢¥ötf_chk
 (*
__ª°ri˘
 
__s
, 
size_t
 
__n
, 
__Êag
,

56 
size_t
 
__¶í
, c⁄° *
__ª°ri˘
 
__f‹m©
,

57 
_G_va_li°
 
__≠
Ë
__THROW
;

59 #ifde‡
__va_¨g_∑ck


60 
__f‹tify_fun˘i⁄
 

61 
	`__NTH
 (
	$¢¥ötf
 (*
__ª°ri˘
 
__s
, 
size_t
 
__n
,

62 c⁄° *
__ª°ri˘
 
__fmt
, ...))

64  
	`__buûtö___¢¥ötf_chk
 (
__s
, 
__n
, 
__USE_FORTIFY_LEVEL
 - 1,

65 
	`__bos
 (
__s
), 
__fmt
, 
	`__va_¨g_∑ck
 ());

66 
	}
}

67 #ñi‡!
deföed
 
__˝lu•lus


68 
	#¢¥ötf
(
°r
, 
Àn
, ...) \

69 
	`__buûtö___¢¥ötf_chk
 (
°r
, 
Àn
, 
__USE_FORTIFY_LEVEL
 - 1, 
	`__bos
 (str), \

70 
__VA_ARGS__
)

	)

73 
__f‹tify_fun˘i⁄
 

74 
__NTH
 (
	$v¢¥ötf
 (*
__ª°ri˘
 
__s
, 
size_t
 
__n
,

75 c⁄° *
__ª°ri˘
 
__fmt
, 
_G_va_li°
 
__≠
))

77  
	`__buûtö___v¢¥ötf_chk
 (
__s
, 
__n
, 
__USE_FORTIFY_LEVEL
 - 1,

78 
	`__bos
 (
__s
), 
__fmt
, 
__≠
);

79 
	}
}

83 #i‡
__USE_FORTIFY_LEVEL
 > 1

85 
__Ârötf_chk
 (
FILE
 *
__ª°ri˘
 
__°ªam
, 
__Êag
,

86 c⁄° *
__ª°ri˘
 
__f‹m©
, ...);

87 
__¥ötf_chk
 (
__Êag
, c⁄° *
__ª°ri˘
 
__f‹m©
, ...);

88 
__vÂrötf_chk
 (
FILE
 *
__ª°ri˘
 
__°ªam
, 
__Êag
,

89 c⁄° *
__ª°ri˘
 
__f‹m©
, 
_G_va_li°
 
__≠
);

90 
__v¥ötf_chk
 (
__Êag
, c⁄° *
__ª°ri˘
 
__f‹m©
,

91 
_G_va_li°
 
__≠
);

93 #ifde‡
__va_¨g_∑ck


94 
__f‹tify_fun˘i⁄
 

95 
	$Ârötf
 (
FILE
 *
__ª°ri˘
 
__°ªam
, c⁄° *__ª°ri˘ 
__fmt
, ...)

97  
	`__Ârötf_chk
 (
__°ªam
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

98 
	`__va_¨g_∑ck
 ());

99 
	}
}

101 
__f‹tify_fun˘i⁄
 

102 
	$¥ötf
 (c⁄° *
__ª°ri˘
 
__fmt
, ...)

104  
	`__¥ötf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
	`__va_¨g_∑ck
 ());

105 
	}
}

106 #ñi‡!
deföed
 
__˝lu•lus


107 
	#¥ötf
(...) \

108 
	`__¥ötf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

109 
	#Ârötf
(
°ªam
, ...) \

110 
	`__Ârötf_chk
 (
°ªam
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

113 
__f‹tify_fun˘i⁄
 

114 
	$v¥ötf
 (c⁄° *
__ª°ri˘
 
__fmt
, 
_G_va_li°
 
__≠
)

116 #ifde‡
__USE_EXTERN_INLINES


117  
	`__vÂrötf_chk
 (
°dout
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__≠
);

119  
	`__v¥ötf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__≠
);

121 
	}
}

123 
__f‹tify_fun˘i⁄
 

124 
	$vÂrötf
 (
FILE
 *
__ª°ri˘
 
__°ªam
,

125 c⁄° *
__ª°ri˘
 
__fmt
, 
_G_va_li°
 
__≠
)

127  
	`__vÂrötf_chk
 (
__°ªam
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__≠
);

128 
	}
}

130 #ifde‡
__USE_XOPEN2K8


131 
	$__d¥ötf_chk
 (
__fd
, 
__Êag
, c⁄° *
__ª°ri˘
 
__fmt
,

132 ...Ë
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 3, 4)));

133 
	$__vd¥ötf_chk
 (
__fd
, 
__Êag
,

134 c⁄° *
__ª°ri˘
 
__fmt
, 
_G_va_li°
 
__¨g
)

135 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 3, 0)));

137 #ifde‡
__va_¨g_∑ck


138 
__f‹tify_fun˘i⁄
 

139 
	$d¥ötf
 (
__fd
, c⁄° *
__ª°ri˘
 
__fmt
, ...)

141  
	`__d¥ötf_chk
 (
__fd
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

142 
	`__va_¨g_∑ck
 ());

143 
	}
}

144 #ñi‡!
deföed
 
__˝lu•lus


145 
	#d¥ötf
(
fd
, ...) \

146 
	`__d¥ötf_chk
 (
fd
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

149 
__f‹tify_fun˘i⁄
 

150 
	$vd¥ötf
 (
__fd
, c⁄° *
__ª°ri˘
 
__fmt
, 
_G_va_li°
 
__≠
)

152  
	`__vd¥ötf_chk
 (
__fd
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__≠
);

153 
	}
}

156 #ifde‡
__USE_GNU


158 
	$__a•rötf_chk
 (**
__ª°ri˘
 
__±r
, 
__Êag
,

159 c⁄° *
__ª°ri˘
 
__fmt
, ...)

160 
__THROW
 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__¥ötf__
, 3, 4))Ë
__wur
;

161 
	$__va•rötf_chk
 (**
__ª°ri˘
 
__±r
, 
__Êag
,

162 c⁄° *
__ª°ri˘
 
__fmt
, 
_G_va_li°
 
__¨g
)

163 
__THROW
 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__¥ötf__
, 3, 0))Ë
__wur
;

164 
	$__ob°ack_¥ötf_chk
 (
ob°ack
 *
__ª°ri˘
 
__ob°ack
,

165 
__Êag
, c⁄° *
__ª°ri˘
 
__f‹m©
,

167 
__THROW
 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 3, 4)));

168 
	$__ob°ack_v¥ötf_chk
 (
ob°ack
 *
__ª°ri˘
 
__ob°ack
,

169 
__Êag
,

170 c⁄° *
__ª°ri˘
 
__f‹m©
,

171 
_G_va_li°
 
__¨gs
)

172 
__THROW
 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 3, 0)));

174 #ifde‡
__va_¨g_∑ck


175 
__f‹tify_fun˘i⁄
 

176 
	`__NTH
 (
	$a•rötf
 (**
__ª°ri˘
 
__±r
, c⁄° *__ª°ri˘ 
__fmt
, ...))

178  
	`__a•rötf_chk
 (
__±r
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

179 
	`__va_¨g_∑ck
 ());

180 
	}
}

182 
__f‹tify_fun˘i⁄
 

183 
__NTH
 (
	$__a•rötf
 (**
__ª°ri˘
 
__±r
, c⁄° *__ª°ri˘ 
__fmt
,

186  
	`__a•rötf_chk
 (
__±r
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

187 
	`__va_¨g_∑ck
 ());

188 
	}
}

190 
__f‹tify_fun˘i⁄
 

191 
__NTH
 (
	$ob°ack_¥ötf
 (
ob°ack
 *
__ª°ri˘
 
__ob°ack
,

192 c⁄° *
__ª°ri˘
 
__fmt
, ...))

194  
	`__ob°ack_¥ötf_chk
 (
__ob°ack
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

195 
	`__va_¨g_∑ck
 ());

196 
	}
}

197 #ñi‡!
deföed
 
__˝lu•lus


198 
	#a•rötf
(
±r
, ...) \

199 
	`__a•rötf_chk
 (
±r
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

200 
	#__a•rötf
(
±r
, ...) \

201 
	`__a•rötf_chk
 (
±r
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

202 
	#ob°ack_¥ötf
(
ob°ack
, ...) \

203 
	`__ob°ack_¥ötf_chk
 (
ob°ack
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

206 
__f‹tify_fun˘i⁄
 

207 
__NTH
 (
	$va•rötf
 (**
__ª°ri˘
 
__±r
, c⁄° *__ª°ri˘ 
__fmt
,

208 
_G_va_li°
 
__≠
))

210  
	`__va•rötf_chk
 (
__±r
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__≠
);

211 
	}
}

213 
__f‹tify_fun˘i⁄
 

214 
__NTH
 (
	$ob°ack_v¥ötf
 (
ob°ack
 *
__ª°ri˘
 
__ob°ack
,

215 c⁄° *
__ª°ri˘
 
__fmt
, 
_G_va_li°
 
__≠
))

217  
	`__ob°ack_v¥ötf_chk
 (
__ob°ack
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

218 
__≠
);

219 
	}
}

225 #i‡!
deföed
 
__USE_ISOC11
 \

226 || (
deföed
 
	g__˝lu•lus
 && __˝lu•lu†<201103L && !deföed 
__USE_GNU
)

227 *
	$__gës_chk
 (*
__°r
, 
size_t
Ë
__wur
;

228 *
	`__REDIRECT
 (
__gës_w¨n
, (*
__°r
), 
gës
)

229 
__wur
 
	`__w¨«âr
 ("please use fgets or getline instead, gets can't "

232 
__f‹tify_fun˘i⁄
 
__wur
 *

233 
	$gës
 (*
__°r
)

235 i‡(
	`__bos
 (
__°r
Ë!(
size_t
) -1)

236  
	`__gës_chk
 (
__°r
, 
	`__bos
 (__str));

237  
	`__gës_w¨n
 (
__°r
);

238 
	}
}

241 *
	$__fgës_chk
 (*
__ª°ri˘
 
__s
, 
size_t
 
__size
, 
__n
,

242 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

243 *
	`__REDIRECT
 (
__fgës_Æüs
,

244 (*
__ª°ri˘
 
__s
, 
__n
,

245 
FILE
 *
__ª°ri˘
 
__°ªam
), 
fgës
Ë
__wur
;

246 *
	`__REDIRECT
 (
__fgës_chk_w¨n
,

247 (*
__ª°ri˘
 
__s
, 
size_t
 
__size
, 
__n
,

248 
FILE
 *
__ª°ri˘
 
__°ªam
), 
__fgës_chk
)

249 
__wur
 
	`__w¨«âr
 ("fgets called with bigger sizeÅhanÜength "

252 
__f‹tify_fun˘i⁄
 
__wur
 *

253 
	$fgës
 (*
__ª°ri˘
 
__s
, 
__n
, 
FILE
 *__ª°ri˘ 
__°ªam
)

255 i‡(
	`__bos
 (
__s
Ë!(
size_t
) -1)

257 i‡(!
	`__buûtö_c⁄°™t_p
 (
__n
) || __n <= 0)

258  
	`__fgës_chk
 (
__s
, 
	`__bos
 (__s), 
__n
, 
__°ªam
);

260 i‡((
size_t
Ë
__n
 > 
	`__bos
 (
__s
))

261  
	`__fgës_chk_w¨n
 (
__s
, 
	`__bos
 (__s), 
__n
, 
__°ªam
);

263  
	`__fgës_Æüs
 (
__s
, 
__n
, 
__°ªam
);

264 
	}
}

266 
size_t
 
	$__‰ód_chk
 (*
__ª°ri˘
 
__±r
, 
size_t
 
__±æí
,

267 
size_t
 
__size
, size_à
__n
,

268 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

269 
size_t
 
	`__REDIRECT
 (
__‰ód_Æüs
,

270 (*
__ª°ri˘
 
__±r
, 
size_t
 
__size
,

271 
size_t
 
__n
, 
FILE
 *
__ª°ri˘
 
__°ªam
),

272 
‰ód
Ë
__wur
;

273 
size_t
 
	`__REDIRECT
 (
__‰ód_chk_w¨n
,

274 (*
__ª°ri˘
 
__±r
, 
size_t
 
__±æí
,

275 
size_t
 
__size
, size_à
__n
,

276 
FILE
 *
__ª°ri˘
 
__°ªam
),

277 
__‰ód_chk
)

278 
__wur
 
	`__w¨«âr
 ("fread called with bigger size *ÇmembÅhanÜength "

281 
__f‹tify_fun˘i⁄
 
__wur
 
size_t


282 
	$‰ód
 (*
__ª°ri˘
 
__±r
, 
size_t
 
__size
, size_à
__n
,

283 
FILE
 *
__ª°ri˘
 
__°ªam
)

285 i‡(
	`__bos0
 (
__±r
Ë!(
size_t
) -1)

287 i‡(!
	`__buûtö_c⁄°™t_p
 (
__size
)

288 || !
	`__buûtö_c⁄°™t_p
 (
__n
)

289 || (
__size
 | 
__n
Ë>(((
size_t
) 1) << (8 *  (size_t) / 2)))

290  
	`__‰ód_chk
 (
__±r
, 
	`__bos0
 (__±r), 
__size
, 
__n
, 
__°ªam
);

292 i‡(
__size
 * 
__n
 > 
	`__bos0
 (
__±r
))

293  
	`__‰ód_chk_w¨n
 (
__±r
, 
	`__bos0
 (__±r), 
__size
, 
__n
, 
__°ªam
);

295  
	`__‰ód_Æüs
 (
__±r
, 
__size
, 
__n
, 
__°ªam
);

296 
	}
}

298 #ifde‡
__USE_GNU


299 *
	$__fgës_u∆ocked_chk
 (*
__ª°ri˘
 
__s
, 
size_t
 
__size
,

300 
__n
, 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

301 *
	`__REDIRECT
 (
__fgës_u∆ocked_Æüs
,

302 (*
__ª°ri˘
 
__s
, 
__n
,

303 
FILE
 *
__ª°ri˘
 
__°ªam
), 
fgës_u∆ocked
Ë
__wur
;

304 *
	`__REDIRECT
 (
__fgës_u∆ocked_chk_w¨n
,

305 (*
__ª°ri˘
 
__s
, 
size_t
 
__size
, 
__n
,

306 
FILE
 *
__ª°ri˘
 
__°ªam
), 
__fgës_u∆ocked_chk
)

307 
__wur
 
	`__w¨«âr
 ("fgets_unlocked called with bigger sizeÅhanÜength "

310 
__f‹tify_fun˘i⁄
 
__wur
 *

311 
	$fgës_u∆ocked
 (*
__ª°ri˘
 
__s
, 
__n
, 
FILE
 *__ª°ri˘ 
__°ªam
)

313 i‡(
	`__bos
 (
__s
Ë!(
size_t
) -1)

315 i‡(!
	`__buûtö_c⁄°™t_p
 (
__n
) || __n <= 0)

316  
	`__fgës_u∆ocked_chk
 (
__s
, 
	`__bos
 (__s), 
__n
, 
__°ªam
);

318 i‡((
size_t
Ë
__n
 > 
	`__bos
 (
__s
))

319  
	`__fgës_u∆ocked_chk_w¨n
 (
__s
, 
	`__bos
 (__s), 
__n
, 
__°ªam
);

321  
	`__fgës_u∆ocked_Æüs
 (
__s
, 
__n
, 
__°ªam
);

322 
	}
}

325 #ifde‡
__USE_MISC


326 #unde‡
‰ód_u∆ocked


327 
size_t
 
	$__‰ód_u∆ocked_chk
 (*
__ª°ri˘
 
__±r
, 
size_t
 
__±æí
,

328 
size_t
 
__size
, size_à
__n
,

329 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

330 
size_t
 
	`__REDIRECT
 (
__‰ód_u∆ocked_Æüs
,

331 (*
__ª°ri˘
 
__±r
, 
size_t
 
__size
,

332 
size_t
 
__n
, 
FILE
 *
__ª°ri˘
 
__°ªam
),

333 
‰ód_u∆ocked
Ë
__wur
;

334 
size_t
 
	`__REDIRECT
 (
__‰ód_u∆ocked_chk_w¨n
,

335 (*
__ª°ri˘
 
__±r
, 
size_t
 
__±æí
,

336 
size_t
 
__size
, size_à
__n
,

337 
FILE
 *
__ª°ri˘
 
__°ªam
),

338 
__‰ód_u∆ocked_chk
)

339 
__wur
 
	`__w¨«âr
 ("fread_unlocked called with bigger size *ÇmembÅhan "

342 
__f‹tify_fun˘i⁄
 
__wur
 
size_t


343 
	$‰ód_u∆ocked
 (*
__ª°ri˘
 
__±r
, 
size_t
 
__size
, size_à
__n
,

344 
FILE
 *
__ª°ri˘
 
__°ªam
)

346 i‡(
	`__bos0
 (
__±r
Ë!(
size_t
) -1)

348 i‡(!
	`__buûtö_c⁄°™t_p
 (
__size
)

349 || !
	`__buûtö_c⁄°™t_p
 (
__n
)

350 || (
__size
 | 
__n
Ë>(((
size_t
) 1) << (8 *  (size_t) / 2)))

351  
	`__‰ód_u∆ocked_chk
 (
__±r
, 
	`__bos0
 (__±r), 
__size
, 
__n
,

352 
__°ªam
);

354 i‡(
__size
 * 
__n
 > 
	`__bos0
 (
__±r
))

355  
	`__‰ód_u∆ocked_chk_w¨n
 (
__±r
, 
	`__bos0
 (__±r), 
__size
, 
__n
,

356 
__°ªam
);

359 #ifde‡
__USE_EXTERN_INLINES


360 i‡(
	`__buûtö_c⁄°™t_p
 (
__size
)

361 && 
	`__buûtö_c⁄°™t_p
 (
__n
)

362 && (
__size
 | 
__n
Ë< (((
size_t
) 1) << (8 *  (size_t) / 2))

363 && 
__size
 * 
__n
 <= 8)

365 
size_t
 
__˙t
 = 
__size
 * 
__n
;

366 *
__˝å
 = (*Ë
__±r
;

367 i‡(
__˙t
 == 0)

370 ; 
__˙t
 > 0; --__cnt)

372 
__c
 = 
	`_IO_gëc_u∆ocked
 (
__°ªam
);

373 i‡(
__c
 =
EOF
)

375 *
__˝å
++ = 
__c
;

377  (
__˝å
 - (*Ë
__±r
Ë/ 
__size
;

380  
	`__‰ód_u∆ocked_Æüs
 (
__±r
, 
__size
, 
__n
, 
__°ªam
);

381 
	}
}

	@/usr/include/bits/stdio_lim.h

18 #i‡!
deföed
 
_STDIO_H
 && !deföed 
__√ed_FOPEN_MAX
 && !deföed 
__√ed_IOV_MAX


22 #ifde‡
_STDIO_H


23 
	#L_tm≤am
 20

	)

24 
	#TMP_MAX
 238328

	)

25 
	#FILENAME_MAX
 4096

	)

27 #ifde‡
__USE_POSIX


28 
	#L_˘îmid
 9

	)

29 #i‡!
deföed
 
__USE_XOPEN2K
 || deföed 
__USE_GNU


30 
	#L_cu£rid
 9

	)

35 #i‡
deföed
 
__√ed_FOPEN_MAX
 || deföed 
_STDIO_H


36 #unde‡
FOPEN_MAX


37 
	#FOPEN_MAX
 16

	)

40 #i‡
deföed
 
__√ed_IOV_MAX
 && !deföed 
IOV_MAX


41 
	#IOV_MAX
 1024

	)

	@/usr/include/bits/stdlib-float.h

19 #i‚de‡
_STDLIB_H


23 #ifde‡
__USE_EXTERN_INLINES


24 
__BEGIN_NAMESPACE_STD


25 
__exã∫_ölöe
 

26 
__NTH
 (
	$©of
 (c⁄° *
__≈å
))

28  
	`°πod
 (
__≈å
, (**Ë
NULL
);

29 
	}
}

30 
	g__END_NAMESPACE_STD


	@/usr/include/bits/stdlib-ldbl.h

19 #i‚de‡
_STDLIB_H


23 #ifdef 
__USE_ISOC99


24 
__BEGIN_NAMESPACE_C99


25 
	$__LDBL_REDIR1_DECL
 (
°πﬁd
, 
°πod
)

26 
__END_NAMESPACE_C99


29 #ifde‡
__USE_GNU


30 
	$__LDBL_REDIR1_DECL
 (
°πﬁd_l
, 
°πod_l
)

33 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_XOPEN_EXTENDED


34 #ifde‡
__USE_MISC


35 
	$__LDBL_REDIR1_DECL
 (
qecvt
, 
ecvt
)

36 
	$__LDBL_REDIR1_DECL
 (
qfcvt
, 
fcvt
)

37 
	$__LDBL_REDIR1_DECL
 (
qgcvt
, 
gcvt
)

38 
	$__LDBL_REDIR1_DECL
 (
qecvt_r
, 
ecvt_r
)

39 
	$__LDBL_REDIR1_DECL
 (
qfcvt_r
, 
fcvt_r
)

	@/usr/include/bits/stdlib.h

19 #i‚de‡
_STDLIB_H


23 *
	$__ªÆ∑th_chk
 (c⁄° *
__ª°ri˘
 
__«me
,

24 *
__ª°ri˘
 
__ªsﬁved
,

25 
size_t
 
__ªsﬁvedÀn
Ë
__THROW
 
__wur
;

26 *
	`__REDIRECT_NTH
 (
__ªÆ∑th_Æüs
,

27 (c⁄° *
__ª°ri˘
 
__«me
,

28 *
__ª°ri˘
 
__ªsﬁved
), 
ªÆ∑th
Ë
__wur
;

29 *
	`__REDIRECT_NTH
 (
__ªÆ∑th_chk_w¨n
,

30 (c⁄° *
__ª°ri˘
 
__«me
,

31 *
__ª°ri˘
 
__ªsﬁved
,

32 
size_t
 
__ªsﬁvedÀn
), 
__ªÆ∑th_chk
Ë
__wur


33 
	`__w¨«âr
 ("secondárgument ofÑealpath must beÉither NULL orát "

36 
__f‹tify_fun˘i⁄
 
__wur
 *

37 
	`__NTH
 (
	$ªÆ∑th
 (c⁄° *
__ª°ri˘
 
__«me
, *__ª°ri˘ 
__ªsﬁved
))

39 i‡(
	`__bos
 (
__ªsﬁved
Ë!(
size_t
) -1)

41 #i‡
deföed
 
_LIBC_LIMITS_H_
 && deföed 
PATH_MAX


42 i‡(
	`__bos
 (
__ªsﬁved
Ë< 
PATH_MAX
)

43  
	`__ªÆ∑th_chk_w¨n
 (
__«me
, 
__ªsﬁved
, 
	`__bos
 (__resolved));

45  
	`__ªÆ∑th_chk
 (
__«me
, 
__ªsﬁved
, 
	`__bos
 (__resolved));

48  
	`__ªÆ∑th_Æüs
 (
__«me
, 
__ªsﬁved
);

49 
	}
}

52 
	$__±¢ame_r_chk
 (
__fd
, *
__buf
, 
size_t
 
__buÊí
,

53 
size_t
 
__ƒól
Ë
__THROW
 
	`__n⁄nuŒ
 ((2));

54 
	`__REDIRECT_NTH
 (
__±¢ame_r_Æüs
, (
__fd
, *
__buf
,

55 
size_t
 
__buÊí
), 
±¢ame_r
)

56 
	`__n⁄nuŒ
 ((2));

57 
	`__REDIRECT_NTH
 (
__±¢ame_r_chk_w¨n
,

58 (
__fd
, *
__buf
, 
size_t
 
__buÊí
,

59 
size_t
 
__ƒól
), 
__±¢ame_r_chk
)

60 
	`__n⁄nuŒ
 ((2)Ë
	`__w¨«âr
 ("ptsname_r called with buflen biggerÅhan "

63 
__f‹tify_fun˘i⁄
 

64 
	`__NTH
 (
	$±¢ame_r
 (
__fd
, *
__buf
, 
size_t
 
__buÊí
))

66 i‡(
	`__bos
 (
__buf
Ë!(
size_t
) -1)

68 i‡(!
	`__buûtö_c⁄°™t_p
 (
__buÊí
))

69  
	`__±¢ame_r_chk
 (
__fd
, 
__buf
, 
__buÊí
, 
	`__bos
 (__buf));

70 i‡(
__buÊí
 > 
	`__bos
 (
__buf
))

71  
	`__±¢ame_r_chk_w¨n
 (
__fd
, 
__buf
, 
__buÊí
, 
	`__bos
 (__buf));

73  
	`__±¢ame_r_Æüs
 (
__fd
, 
__buf
, 
__buÊí
);

74 
	}
}

77 
	$__w˘omb_chk
 (*
__s
, 
wch¨_t
 
__wch¨
, 
size_t
 
__buÊí
)

78 
__THROW
 
__wur
;

79 
	`__REDIRECT_NTH
 (
__w˘omb_Æüs
, (*
__s
, 
wch¨_t
 
__wch¨
),

80 
w˘omb
Ë
__wur
;

82 
__f‹tify_fun˘i⁄
 
__wur
 

83 
	`__NTH
 (
	$w˘omb
 (*
__s
, 
wch¨_t
 
__wch¨
))

88 
	#__STDLIB_MB_LEN_MAX
 16

	)

89 #i‡
deföed
 
MB_LEN_MAX
 && MB_LEN_MAX !
__STDLIB_MB_LEN_MAX


92 i‡(
	`__bos
 (
__s
Ë!(
size_t
Ë-1 && 
__STDLIB_MB_LEN_MAX
 > __bos (__s))

93  
	`__w˘omb_chk
 (
__s
, 
__wch¨
, 
	`__bos
 (__s));

94  
	`__w˘omb_Æüs
 (
__s
, 
__wch¨
);

95 
	}
}

98 
size_t
 
	$__mb°owcs_chk
 (
wch¨_t
 *
__ª°ri˘
 
__d°
,

99 c⁄° *
__ª°ri˘
 
__§c
,

100 
size_t
 
__Àn
, size_à
__d°Àn
Ë
__THROW
;

101 
size_t
 
	`__REDIRECT_NTH
 (
__mb°owcs_Æüs
,

102 (
wch¨_t
 *
__ª°ri˘
 
__d°
,

103 c⁄° *
__ª°ri˘
 
__§c
,

104 
size_t
 
__Àn
), 
mb°owcs
);

105 
size_t
 
	`__REDIRECT_NTH
 (
__mb°owcs_chk_w¨n
,

106 (
wch¨_t
 *
__ª°ri˘
 
__d°
,

107 c⁄° *
__ª°ri˘
 
__§c
,

108 
size_t
 
__Àn
, size_à
__d°Àn
), 
__mb°owcs_chk
)

109 
	`__w¨«âr
 ("mbstowcs called with dst buffer smallerÅhanÜen "

112 
__f‹tify_fun˘i⁄
 
size_t


113 
	`__NTH
 (
	$mb°owcs
 (
wch¨_t
 *
__ª°ri˘
 
__d°
, c⁄° *__ª°ri˘ 
__§c
,

114 
size_t
 
__Àn
))

116 i‡(
	`__bos
 (
__d°
Ë!(
size_t
) -1)

118 i‡(!
	`__buûtö_c⁄°™t_p
 (
__Àn
))

119  
	`__mb°owcs_chk
 (
__d°
, 
__§c
, 
__Àn
,

120 
	`__bos
 (
__d°
Ë/  (
wch¨_t
));

122 i‡(
__Àn
 > 
	`__bos
 (
__d°
Ë/  (
wch¨_t
))

123  
	`__mb°owcs_chk_w¨n
 (
__d°
, 
__§c
, 
__Àn
,

124 
	`__bos
 (
__d°
Ë/  (
wch¨_t
));

126  
	`__mb°owcs_Æüs
 (
__d°
, 
__§c
, 
__Àn
);

127 
	}
}

130 
size_t
 
	$__wc°ombs_chk
 (*
__ª°ri˘
 
__d°
,

131 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
,

132 
size_t
 
__Àn
, size_à
__d°Àn
Ë
__THROW
;

133 
size_t
 
	`__REDIRECT_NTH
 (
__wc°ombs_Æüs
,

134 (*
__ª°ri˘
 
__d°
,

135 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
,

136 
size_t
 
__Àn
), 
wc°ombs
);

137 
size_t
 
	`__REDIRECT_NTH
 (
__wc°ombs_chk_w¨n
,

138 (*
__ª°ri˘
 
__d°
,

139 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
,

140 
size_t
 
__Àn
, size_à
__d°Àn
), 
__wc°ombs_chk
)

141 
	`__w¨«âr
 ("wcstombs called with dst buffer smallerÅhanÜen");

143 
__f‹tify_fun˘i⁄
 
size_t


144 
	`__NTH
 (
	$wc°ombs
 (*
__ª°ri˘
 
__d°
, c⁄° 
wch¨_t
 *__ª°ri˘ 
__§c
,

145 
size_t
 
__Àn
))

147 i‡(
	`__bos
 (
__d°
Ë!(
size_t
) -1)

149 i‡(!
	`__buûtö_c⁄°™t_p
 (
__Àn
))

150  
	`__wc°ombs_chk
 (
__d°
, 
__§c
, 
__Àn
, 
	`__bos
 (__dst));

151 i‡(
__Àn
 > 
	`__bos
 (
__d°
))

152  
	`__wc°ombs_chk_w¨n
 (
__d°
, 
__§c
, 
__Àn
, 
	`__bos
 (__dst));

154  
	`__wc°ombs_Æüs
 (
__d°
, 
__§c
, 
__Àn
);

155 
	}
}

	@/usr/include/bits/string.h

19 #i‚de‡
_STRING_H


24 
	#_STRING_ARCH_u«lig√d
 1

	)

28 #i‡!
deföed
 
__x86_64__
 && (deföed 
__i486__
 || deföed 
__≥¡ium__
 \

29 || 
deföed
 
	g__≥¡ium¥o__
 || deföed 
	g__≥¡ium4__
 \

30 || 
deföed
 
	g__noc⁄a__
 || deföed 
	g__©om__
 \

31 || 
deföed
 
	g__c‹e2__
 || deföed 
	g__c‹ei7__
 \

32 || 
deföed
 
	g__k6__
 || deföed 
	g__geode__
 \

33 || 
deföed
 
	g__k8__
 || deföed 
	g__©hl⁄__
 \

34 || 
deföed
 
	g__amdÁm10__
)

38 #i‡!
deföed
 
__NO_STRING_INLINES
 && deföed 
__USE_STRING_INLINES
 \

39 && 
deföed
 
	g__GNUC__
 && __GNUC__ >= 2

41 #i‚de‡
__STRING_INLINE


42 #i‚de‡
__exã∫_ölöe


43 
	#__STRING_INLINE
 
ölöe


	)

45 
	#__STRING_INLINE
 
__exã∫_ölöe


	)

50 
	#__STRING_SMALL_GET16
(
§c
, 
idx
) \

51 ((((c⁄° *Ë(
§c
))[
idx
 + 1] << 8) \

52 | ((c⁄° *Ë(
§c
))[
idx
])

	)

53 
	#__STRING_SMALL_GET32
(
§c
, 
idx
) \

54 (((((c⁄° *Ë(
§c
))[
idx
 + 3] << 8 \

55 | ((c⁄° *Ë(
§c
))[
idx
 + 2]) << 8 \

56 | ((c⁄° *Ë(
§c
))[
idx
 + 1]) << 8 \

57 | ((c⁄° *Ë(
§c
))[
idx
])

	)

61 
	#_HAVE_STRING_ARCH_mem˝y
 1

	)

62 
	#mem˝y
(
de°
, 
§c
, 
n
) \

63 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
n
) \

64 ? 
	`__mem˝y_c
 ((
de°
), (
§c
), (
n
)) \

65 : 
	`__mem˝y_g
 ((
de°
), (
§c
), (
n
))))

	)

66 
	#__mem˝y_c
(
de°
, 
§c
, 
n
) \

67 ((
n
) == 0 \

68 ? (
de°
) \

69 : (((
n
) % 4 == 0) \

70 ? 
	`__mem˝y_by4
 (
de°
, 
§c
, 
n
) \

71 : (((
n
) % 2 == 0) \

72 ? 
	`__mem˝y_by2
 (
de°
, 
§c
, 
n
) \

73 : 
	`__mem˝y_g
 (
de°
, 
§c
, 
n
))))

	)

75 
__STRING_INLINE
 *
__mem˝y_by4
 (*
__de°
, c⁄° *
__§c
,

76 
size_t
 
__n
);

78 
__STRING_INLINE
 *

79 
	$__mem˝y_by4
 (*
__de°
, c⁄° *
__§c
, 
size_t
 
__n
)

81 
__d0
, 
__d1
;

82 *
__tmp
 = 
__de°
;

83 
__asm__
 
__vﬁ©ûe__


91 : "=&r" (
__d0
), "=&r" (
__tmp
), "=&r" (
__§c
), "=&r" (
__d1
)

92 : "1" (
__tmp
), "2" (
__§c
), "3" (
__n
 / 4)

94  
__de°
;

95 
	}
}

97 
__STRING_INLINE
 *
__mem˝y_by2
 (*
__de°
, c⁄° *
__§c
,

98 
size_t
 
__n
);

100 
__STRING_INLINE
 *

101 
	$__mem˝y_by2
 (*
__de°
, c⁄° *
__§c
, 
size_t
 
__n
)

103 
__d0
, 
__d1
;

104 *
__tmp
 = 
__de°
;

105 
__asm__
 
__vﬁ©ûe__


118 : "=&q" (
__d0
), "=&r" (
__tmp
), "=&r" (
__§c
), "=&r" (
__d1
)

119 : "1" (
__tmp
), "2" (
__§c
), "3" (
__n
 / 2)

121  
__de°
;

122 
	}
}

124 
__STRING_INLINE
 *
__mem˝y_g
 (*
__de°
, c⁄° *
__§c
, 
size_t
 
__n
);

126 
__STRING_INLINE
 *

127 
	$__mem˝y_g
 (*
__de°
, c⁄° *
__§c
, 
size_t
 
__n
)

129 
__d0
, 
__d1
, 
__d2
;

130 *
__tmp
 = 
__de°
;

131 
__asm__
 
__vﬁ©ûe__


142 : "=&c" (
__d0
), "=&D" (
__d1
), "=&S" (
__d2
),

143 "=m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__n
]; } *)
__de°
)

144 : "0" (
__n
), "1" (
__tmp
), "2" (
__§c
),

145 "m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__n
]; } *)
__§c
)

147  
__de°
;

148 
	}
}

150 
	#_HAVE_STRING_ARCH_memmove
 1

	)

151 #i‚de‡
_FORCE_INLINES


154 
	#memmove
(
de°
, 
§c
, 
n
Ë
	`__memmove_g
 (de°, src,Ç)

	)

156 
__STRING_INLINE
 *
	$__memmove_g
 (*, c⁄° *, 
size_t
)

157 
	`__asm__
 ("memmove");

159 
__STRING_INLINE
 *

160 
	$__memmove_g
 (*
__de°
, c⁄° *
__§c
, 
size_t
 
__n
)

162 
__d0
, 
__d1
, 
__d2
;

163 *
__tmp
 = 
__de°
;

164 i‡(
__de°
 < 
__§c
)

165 
__asm__
 
__vﬁ©ûe__


168 : "=&c" (
__d0
), "=&S" (
__d1
), "=&D" (
__d2
),

169 "=m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__n
]; } *)
__de°
)

170 : "0" (
__n
), "1" (
__§c
), "2" (
__tmp
),

171 "m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__n
]; } *)
__§c
));

173 
__asm__
 
__vﬁ©ûe__


177 : "=&c" (
__d0
), "=&S" (
__d1
), "=&D" (
__d2
),

178 "=m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__n
]; } *)
__de°
)

179 : "0" (
__n
), "1" (__¿- 1 + (c⁄° *Ë
__§c
),

180 "2" (
__n
 - 1 + (*Ë
__tmp
),

181 "m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__n
]; } *)
__§c
));

182  
__de°
;

183 
	}
}

187 
	#_HAVE_STRING_ARCH_memcmp
 1

	)

188 #i‚de‡
_FORCE_INLINES


189 #i‚de‡
__PIC__


191 
__STRING_INLINE
 

192 
	$memcmp
 (c⁄° *
__s1
, c⁄° *
__s2
, 
size_t
 
__n
)

194 
__d0
, 
__d1
, 
__d2
;

195 
__ªs
;

196 
__asm__
 
__vﬁ©ûe__


204 : "=&a" (
__ªs
), "=&S" (
__d0
), "=&D" (
__d1
), "=&c" (
__d2
)

205 : "0" (0), "1" (
__s1
), "2" (
__s2
), "3" (
__n
),

206 "m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__n
]; } *)
__s1
),

207 "m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__n
]; } *)
__s2
)

209  
__ªs
;

210 
	}
}

215 
	#_HAVE_STRING_ARCH_mem£t
 1

	)

216 
	#_USE_STRING_ARCH_mem£t
 1

	)

217 
	#mem£t
(
s
, 
c
, 
n
) \

218 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
n
) && (n) <= 16 \

219 ? ((
n
) == 1 \

220 ? 
	`__mem£t_c1
 ((
s
), (
c
)) \

221 : 
	`__mem£t_gc
 ((
s
), (
c
), (
n
))) \

222 : (
	`__buûtö_c⁄°™t_p
 (
c
) \

223 ? (
	`__buûtö_c⁄°™t_p
 (
n
) \

224 ? 
	`__mem£t_c˙
 ((
s
), (
c
), (
n
)) \

225 : 
	`mem£t
 ((
s
), (
c
), (
n
))) \

226 : (
	`__buûtö_c⁄°™t_p
 (
n
) \

227 ? 
	`__mem£t_g˙
 ((
s
), (
c
), (
n
)) \

228 : 
	`mem£t
 ((
s
), (
c
), (
n
))))))

	)

230 
	#__mem£t_c1
(
s
, 
c
Ë({ *
__s
 = (s); \

231 *((*Ë
__s
Ë(Ë(
c
); \

232 
__s
; })

	)

234 
	#__mem£t_gc
(
s
, 
c
, 
n
) \

235 ({ *
__s
 = (
s
); \

237 
__ui
; \

238 
__usi
; \

239 
__uc
; \

240 } *
__u
 = 
__s
; \

241 
__c
 = ((Ë((Ë(
c
))) * 0x01010101; \

247 i‡((
n
) == 3 || (n) >= 5) \

248 
__asm__
 
	`__vﬁ©ûe__
 ("" : "Ù" (
__c
) : "0" (__c)); \

251 
n
) \

254 
__u
->
__ui
 = 
__c
; \

255 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

257 
__u
->
__ui
 = 
__c
; \

258 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

260 
__u
->
__ui
 = 
__c
; \

261 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

263 
__u
->
__usi
 = (Ë
__c
; \

264 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 2); \

265 
__u
->
__uc
 = (Ë
__c
; \

269 
__u
->
__ui
 = 
__c
; \

270 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

272 
__u
->
__ui
 = 
__c
; \

273 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

275 
__u
->
__ui
 = 
__c
; \

276 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

278 
__u
->
__usi
 = (Ë
__c
; \

282 
__u
->
__ui
 = 
__c
; \

283 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

285 
__u
->
__ui
 = 
__c
; \

286 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

288 
__u
->
__ui
 = 
__c
; \

289 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

291 
__u
->
__uc
 = (Ë
__c
; \

295 
__u
->
__ui
 = 
__c
; \

296 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

298 
__u
->
__ui
 = 
__c
; \

299 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

301 
__u
->
__ui
 = 
__c
; \

302 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

304 
__u
->
__ui
 = 
__c
; \

309 
__s
; })

	)

311 
	#__mem£t_c˙
(
s
, 
c
, 
n
) \

312 (((
n
) % 4 == 0) \

313 ? 
	`__mem£t_c˙_by4
 (
s
, ((Ë((Ë(
c
))) * 0x01010101,\

314 
n
) \

315 : (((
n
) % 2 == 0) \

316 ? 
	`__mem£t_c˙_by2
 (
s
, \

317 ((Ë((Ë(
c
))) * 0x01010101,\

318 
n
) \

319 : 
	`mem£t
 (
s
, 
c
, 
n
)))

	)

321 
__STRING_INLINE
 *
__mem£t_c˙_by4
 (*
__s
, 
__c
,

322 
size_t
 
__n
);

324 
__STRING_INLINE
 *

325 
	$__mem£t_c˙_by4
 (*
__s
, 
__c
, 
size_t
 
__n
)

327 *
__tmp
 = 
__s
;

328 
__d0
;

329 #ifde‡
__i686__


330 
__asm__
 
__vﬁ©ûe__


333 : "=&a" (
__c
), "=&D" (
__tmp
), "=&c" (
__d0
),

334 "=m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__n
]; } *)
__s
)

335 : "0" ((Ë
__c
), "1" (
__tmp
), "2" (
__n
 / 4)

338 
__asm__
 
__vﬁ©ûe__


344 : "=&r" (
__c
), "=&r" (
__tmp
), "=&r" (
__d0
),

345 "=m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__n
]; } *)
__s
)

346 : "0" ((Ë
__c
), "1" (
__tmp
), "2" (
__n
 / 4)

349  
__s
;

350 
	}
}

352 
__STRING_INLINE
 *
__mem£t_c˙_by2
 (*
__s
, 
__c
,

353 
size_t
 
__n
);

355 
__STRING_INLINE
 *

356 
	$__mem£t_c˙_by2
 (*
__s
, 
__c
, 
size_t
 
__n
)

358 
__d0
, 
__d1
;

359 *
__tmp
 = 
__s
;

360 #ifde‡
__i686__


361 
__asm__
 
__vﬁ©ûe__


365 : "=&a" (
__d0
), "=&D" (
__tmp
), "=&c" (
__d1
),

366 "=m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__n
]; } *)
__s
)

367 : "0" ((Ë
__c
), "1" (
__tmp
), "2" (
__n
 / 4)

370 
__asm__
 
__vﬁ©ûe__


376 : "=&q" (
__d0
), "=&r" (
__tmp
), "=&r" (
__d1
),

377 "=m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__n
]; } *)
__s
)

378 : "0" ((Ë
__c
), "1" (
__tmp
), "2" (
__n
 / 4)

381  
__s
;

382 
	}
}

384 
	#__mem£t_g˙
(
s
, 
c
, 
n
) \

385 (((
n
) % 4 == 0) \

386 ? 
	`__mem£t_g˙_by4
 (
s
, 
c
, 
n
) \

387 : (((
n
) % 2 == 0) \

388 ? 
	`__mem£t_g˙_by2
 (
s
, 
c
, 
n
) \

389 : 
	`mem£t
 (
s
, 
c
, 
n
)))

	)

391 
__STRING_INLINE
 *
__mem£t_g˙_by4
 (*
__s
, 
__c
, 
size_t
 
__n
);

393 
__STRING_INLINE
 *

394 
	$__mem£t_g˙_by4
 (*
__s
, 
__c
, 
size_t
 
__n
)

396 *
__tmp
 = 
__s
;

397 
__d0
;

398 
__asm__
 
__vﬁ©ûe__


408 : "=&q" (
__c
), "=&r" (
__tmp
), "=&r" (
__d0
),

409 "=m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__n
]; } *)
__s
)

410 : "0" ((Ë
__c
), "1" (
__tmp
), "2" (
__n
 / 4)

412  
__s
;

413 
	}
}

415 
__STRING_INLINE
 *
__mem£t_g˙_by2
 (*
__s
, 
__c
, 
size_t
 
__n
);

417 
__STRING_INLINE
 *

418 
	$__mem£t_g˙_by2
 (*
__s
, 
__c
, 
size_t
 
__n
)

420 
__d0
, 
__d1
;

421 *
__tmp
 = 
__s
;

422 
__asm__
 
__vﬁ©ûe__


433 : "=&q" (
__d0
), "=&r" (
__tmp
), "=&r" (
__d1
),

434 "=m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__n
]; } *)
__s
)

435 : "0" ((Ë
__c
), "1" (
__tmp
), "2" (
__n
 / 4)

437  
__s
;

438 
	}
}

442 
	#_HAVE_STRING_ARCH_memchr
 1

	)

443 #i‚de‡
_FORCE_INLINES


444 
__STRING_INLINE
 *

445 
	$memchr
 (c⁄° *
__s
, 
__c
, 
size_t
 
__n
)

447 
__d0
;

448 #ifde‡
__i686__


449 
__d1
;

451 *
__ªs
;

452 i‡(
__n
 == 0)

453  
NULL
;

454 #ifde‡
__i686__


455 
__asm__
 
__vﬁ©ûe__


459 : "=D" (
__ªs
), "=&c" (
__d0
), "=&r" (
__d1
)

460 : "a" (
__c
), "0" (
__s
), "1" (
__n
), "2" (1),

461 "m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__n
]; } *)
__s
)

464 
__asm__
 
__vﬁ©ûe__


470 : "=D" (
__ªs
), "=&c" (
__d0
)

471 : "a" (
__c
), "0" (
__s
), "1" (
__n
),

472 "m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__n
]; } *)
__s
)

475  
__ªs
 - 1;

476 
	}
}

479 
	#_HAVE_STRING_ARCH_memrchr
 1

	)

480 #i‚de‡
_FORCE_INLINES


481 
__STRING_INLINE
 *
__memrchr
 (c⁄° *
__s
, 
__c
, 
size_t
 
__n
);

483 
__STRING_INLINE
 *

484 
	$__memrchr
 (c⁄° *
__s
, 
__c
, 
size_t
 
__n
)

486 
__d0
;

487 #ifde‡
__i686__


488 
__d1
;

490 *
__ªs
;

491 i‡(
__n
 == 0)

492  
NULL
;

493 #ifde‡
__i686__


494 
__asm__
 
__vﬁ©ûe__


500 : "=D" (
__ªs
), "=&c" (
__d0
), "=&r" (
__d1
)

501 : "a" (
__c
), "0" (
__s
 + 
__n
 - 1), "1" (__n), "2" (-1),

502 "m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__n
]; } *)
__s
)

505 
__asm__
 
__vﬁ©ûe__


512 : "=D" (
__ªs
), "=&c" (
__d0
)

513 : "a" (
__c
), "0" (
__s
 + 
__n
 - 1), "1" (__n),

514 "m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__n
]; } *)
__s
)

517  
__ªs
;

518 
	}
}

519 #ifde‡
__USE_GNU


520 
	#memrchr
(
s
, 
c
, 
n
Ë
	`__memrchr
 ((s), (c), (n))

	)

525 
	#_HAVE_STRING_ARCH_øwmemchr
 1

	)

526 
__STRING_INLINE
 *
__øwmemchr
 (c⁄° *
__s
, 
__c
);

528 #i‚de‡
_FORCE_INLINES


529 
__STRING_INLINE
 *

530 
	$__øwmemchr
 (c⁄° *
__s
, 
__c
)

532 
__d0
;

533 *
__ªs
;

534 
__asm__
 
__vﬁ©ûe__


537 : "=D" (
__ªs
), "=&c" (
__d0
)

538 : "a" (
__c
), "0" (
__s
), "1" (0xffffffff),

539 "m" ( *(°ru˘ { 
__x
[0xfffffff]; } *)
__s
)

541  
__ªs
 - 1;

542 
	}
}

543 #ifde‡
__USE_GNU


544 
__STRING_INLINE
 *

545 
	$øwmemchr
 (c⁄° *
__s
, 
__c
)

547  
	`__øwmemchr
 (
__s
, 
__c
);

548 
	}
}

554 
	#_HAVE_STRING_ARCH_°æí
 1

	)

555 
	#°æí
(
°r
) \

556 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
°r
) \

557 ? 
	`__buûtö_°æí
 (
°r
) \

558 : 
	`__°æí_g
 (
°r
)))

	)

559 
__STRING_INLINE
 
size_t
 
__°æí_g
 (c⁄° *
__°r
);

561 
__STRING_INLINE
 
size_t


562 
	$__°æí_g
 (c⁄° *
__°r
)

564 
__dummy
;

565 c⁄° *
__tmp
 = 
__°r
;

566 
__asm__
 
__vﬁ©ûe__


572 : "Ù" (
__tmp
), "=&q" (
__dummy
)

573 : "0" (
__°r
),

574 "m" ( *(°ru˘ { 
__x
[0xfffffff]; } *)
__°r
)

576  
__tmp
 - 
__°r
 - 1;

577 
	}
}

581 
	#_HAVE_STRING_ARCH_°r˝y
 1

	)

582 
	#°r˝y
(
de°
, 
§c
) \

583 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
§c
) \

584 ? ( ((
§c
)[0]Ë=1 && 
	`°æí
 (src) + 1 <= 8 \

585 ? 
	`__°r˝y_a_smÆl
 ((
de°
), (
§c
), 
	`°æí
 (src) + 1) \

586 : (*Ë
	`mem˝y
 ((*Ë(
de°
), \

587 (c⁄° *Ë(
§c
), \

588 
	`°æí
 (
§c
) + 1)) \

589 : 
	`__°r˝y_g
 ((
de°
), (
§c
))))

	)

591 
	#__°r˝y_a_smÆl
(
de°
, 
§c
, 
§˛í
) \

592 (
	`__exãnsi⁄__
 ({ *
__de°
 = (
de°
); \

594 
__ui
; \

595 
__usi
; \

596 
__uc
; \

597 
__c
; \

598 } *
__u
 = (*Ë
__de°
; \

599 
§˛í
) \

602 
__u
->
__uc
 = '\0'; \

605 
__u
->
__usi
 = 
	`__STRING_SMALL_GET16
 (
§c
, 0); \

608 
__u
->
__usi
 = 
	`__STRING_SMALL_GET16
 (
§c
, 0); \

609 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 2); \

610 
__u
->
__uc
 = '\0'; \

613 
__u
->
__ui
 = 
	`__STRING_SMALL_GET32
 (
§c
, 0); \

616 
__u
->
__ui
 = 
	`__STRING_SMALL_GET32
 (
§c
, 0); \

617 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

618 
__u
->
__uc
 = '\0'; \

621 
__u
->
__ui
 = 
	`__STRING_SMALL_GET32
 (
§c
, 0); \

622 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

623 
__u
->
__usi
 = 
	`__STRING_SMALL_GET16
 (
§c
, 4); \

626 
__u
->
__ui
 = 
	`__STRING_SMALL_GET32
 (
§c
, 0); \

627 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

628 
__u
->
__usi
 = 
	`__STRING_SMALL_GET16
 (
§c
, 4); \

629 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 2); \

630 
__u
->
__uc
 = '\0'; \

633 
__u
->
__ui
 = 
	`__STRING_SMALL_GET32
 (
§c
, 0); \

634 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

635 
__u
->
__ui
 = 
	`__STRING_SMALL_GET32
 (
§c
, 4); \

638 (*Ë
__de°
; }))

	)

640 
__STRING_INLINE
 *
__°r˝y_g
 (*
__de°
, c⁄° *
__§c
);

642 
__STRING_INLINE
 *

643 
	$__°r˝y_g
 (*
__de°
, c⁄° *
__§c
)

645 *
__tmp
 = 
__de°
;

646 
__dummy
;

647 
__asm__
 
__vﬁ©ûe__


656 : "=&r" (
__§c
), "=&r" (
__tmp
), "=&q" (
__dummy
),

657 "=m" ( *(°ru˘ { 
__x
[0xfffffff]; } *)
__de°
)

658 : "0" (
__§c
), "1" (
__tmp
),

659 "m" ( *(°ru˘ { 
__x
[0xfffffff]; } *)
__§c
)

661  
__de°
;

662 
	}
}

665 #ifde‡
__USE_GNU


666 
	#_HAVE_STRING_ARCH_°p˝y
 1

	)

668 
	#__°p˝y
(
de°
, 
§c
) \

669 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
§c
) \

670 ? (
	`°æí
 (
§c
) + 1 <= 8 \

671 ? 
	`__°p˝y_a_smÆl
 ((
de°
), (
§c
), 
	`°æí
 (src) + 1) \

672 : 
	`__°p˝y_c
 ((
de°
), (
§c
), 
	`°æí
 (src) + 1)) \

673 : 
	`__°p˝y_g
 ((
de°
), (
§c
))))

	)

674 
	#__°p˝y_c
(
de°
, 
§c
, 
§˛í
) \

675 ((
§˛í
) % 4 == 0 \

676 ? 
	`__memp˝y_by4
 (
de°
, 
§c
, 
§˛í
) - 1 \

677 : ((
§˛í
) % 2 == 0 \

678 ? 
	`__memp˝y_by2
 (
de°
, 
§c
, 
§˛í
) - 1 \

679 : 
	`__memp˝y_byn
 (
de°
, 
§c
, 
§˛í
Ë- 1))

	)

682 
	#°p˝y
(
de°
, 
§c
Ë
	`__°p˝y
 ((de°), (§c))

	)

684 
	#__°p˝y_a_smÆl
(
de°
, 
§c
, 
§˛í
) \

685 (
	`__exãnsi⁄__
 ({ union { \

686 
__ui
; \

687 
__usi
; \

688 
__uc
; \

689 
__c
; \

690 } *
__u
 = (*Ë(
de°
); \

691 
§˛í
) \

694 
__u
->
__uc
 = '\0'; \

697 
__u
->
__usi
 = 
	`__STRING_SMALL_GET16
 (
§c
, 0); \

698 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 1); \

701 
__u
->
__usi
 = 
	`__STRING_SMALL_GET16
 (
§c
, 0); \

702 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 2); \

703 
__u
->
__uc
 = '\0'; \

706 
__u
->
__ui
 = 
	`__STRING_SMALL_GET32
 (
§c
, 0); \

707 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 3); \

710 
__u
->
__ui
 = 
	`__STRING_SMALL_GET32
 (
§c
, 0); \

711 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

712 
__u
->
__uc
 = '\0'; \

715 
__u
->
__ui
 = 
	`__STRING_SMALL_GET32
 (
§c
, 0); \

716 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

717 
__u
->
__usi
 = 
	`__STRING_SMALL_GET16
 (
§c
, 4); \

718 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 1); \

721 
__u
->
__ui
 = 
	`__STRING_SMALL_GET32
 (
§c
, 0); \

722 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

723 
__u
->
__usi
 = 
	`__STRING_SMALL_GET16
 (
§c
, 4); \

724 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 2); \

725 
__u
->
__uc
 = '\0'; \

728 
__u
->
__ui
 = 
	`__STRING_SMALL_GET32
 (
§c
, 0); \

729 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

730 
__u
->
__ui
 = 
	`__STRING_SMALL_GET32
 (
§c
, 4); \

731 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 3); \

734 (*Ë
__u
; }))

	)

736 
__STRING_INLINE
 *
__memp˝y_by4
 (*
__de°
, c⁄° *
__§c
,

737 
size_t
 
__§˛í
);

739 
__STRING_INLINE
 *

740 
	$__memp˝y_by4
 (*
__de°
, c⁄° *
__§c
, 
size_t
 
__§˛í
)

742 *
__tmp
 = 
__de°
;

743 
__d0
, 
__d1
;

744 
__asm__
 
__vﬁ©ûe__


752 : "=&r" (
__d0
), "Ù" (
__tmp
), "=&r" (
__§c
), "=&r" (
__d1
)

753 : "1" (
__tmp
), "2" (
__§c
), "3" (
__§˛í
 / 4)

755  
__tmp
;

756 
	}
}

758 
__STRING_INLINE
 *
__memp˝y_by2
 (*
__de°
, c⁄° *
__§c
,

759 
size_t
 
__§˛í
);

761 
__STRING_INLINE
 *

762 
	$__memp˝y_by2
 (*
__de°
, c⁄° *
__§c
, 
size_t
 
__§˛í
)

764 *
__tmp
 = 
__de°
;

765 
__d0
, 
__d1
;

766 
__asm__
 
__vﬁ©ûe__


779 : "=&q" (
__d0
), "Ù" (
__tmp
), "=&r" (
__§c
), "=&r" (
__d1
),

780 "=m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__§˛í
]; } *)
__de°
)

781 : "1" (
__tmp
), "2" (
__§c
), "3" (
__§˛í
 / 2),

782 "m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__§˛í
]; } *)
__§c
)

784  
__tmp
 + 2;

785 
	}
}

787 
__STRING_INLINE
 *
__memp˝y_byn
 (*
__de°
, c⁄° *
__§c
,

788 
size_t
 
__§˛í
);

790 
__STRING_INLINE
 *

791 
	$__memp˝y_byn
 (*
__de°
, c⁄° *
__§c
, 
size_t
 
__§˛í
)

793 
__d0
, 
__d1
;

794 *
__tmp
 = 
__de°
;

795 
__asm__
 
__vﬁ©ûe__


806 : "=D" (
__tmp
), "=&c" (
__d0
), "=&S" (
__d1
),

807 "=m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__§˛í
]; } *)
__de°
)

808 : "0" (
__tmp
), "1" (
__§˛í
), "2" (
__§c
),

809 "m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__§˛í
]; } *)
__§c
)

811  
__tmp
;

812 
	}
}

814 
__STRING_INLINE
 *
__°p˝y_g
 (*
__de°
, c⁄° *
__§c
);

816 
__STRING_INLINE
 *

817 
	$__°p˝y_g
 (*
__de°
, c⁄° *
__§c
)

819 *
__tmp
 = 
__de°
;

820 
__dummy
;

821 
__asm__
 
__vﬁ©ûe__


830 : "=&r" (
__§c
), "Ù" (
__tmp
), "=&q" (
__dummy
),

831 "=m" ( *(°ru˘ { 
__x
[0xfffffff]; } *)
__de°
)

832 : "0" (
__§c
), "1" (
__tmp
),

833 "m" ( *(°ru˘ { 
__x
[0xfffffff]; } *)
__§c
)

835  
__tmp
 - 1;

836 
	}
}

841 
	#_HAVE_STRING_ARCH_°∫˝y
 1

	)

842 
	#°∫˝y
(
de°
, 
§c
, 
n
) \

843 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
§c
) \

844 ? ((
	`°æí
 (
§c
Ë+ 1 >((
size_t
Ë(
n
)) \

845 ? (*Ë
	`mem˝y
 ((*Ë(
de°
), \

846 (c⁄° *Ë(
§c
), 
n
) \

847 : 
	`__°∫˝y_cg
 ((
de°
), (
§c
), 
	`°æí
 (§cË+ 1, 
n
))) \

848 : 
	`__°∫˝y_gg
 ((
de°
), (
§c
), 
n
)))

	)

849 
	#__°∫˝y_cg
(
de°
, 
§c
, 
§˛í
, 
n
) \

850 (((
§˛í
) % 4 == 0) \

851 ? 
	`__°∫˝y_by4
 (
de°
, 
§c
, 
§˛í
, 
n
) \

852 : (((
§˛í
) % 2 == 0) \

853 ? 
	`__°∫˝y_by2
 (
de°
, 
§c
, 
§˛í
, 
n
) \

854 : 
	`__°∫˝y_byn
 (
de°
, 
§c
, 
§˛í
, 
n
)))

	)

856 
__STRING_INLINE
 *
__°∫˝y_by4
 (*
__de°
, c⁄° 
__§c
[],

857 
size_t
 
__§˛í
, size_à
__n
);

859 
__STRING_INLINE
 *

860 
	$__°∫˝y_by4
 (*
__de°
, c⁄° 
__§c
[], 
size_t
 
__§˛í
, size_à
__n
)

862 *
__tmp
 = 
__de°
;

863 
__dummy1
, 
__dummy2
;

864 
__asm__
 
__vﬁ©ûe__


872 : "=&r" (
__dummy1
), "Ù" (
__tmp
), "=&r" (
__§c
), "=&r" (
__dummy2
),

873 "=m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__§˛í
]; } *)
__de°
)

874 : "1" (
__tmp
), "2" (
__§c
), "3" (
__§˛í
 / 4),

875 "m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__§˛í
]; } *)
__§c
)

877 (Ë
	`mem£t
 (
__tmp
, '\0', 
__n
 - 
__§˛í
);

878  
__de°
;

879 
	}
}

881 
__STRING_INLINE
 *
__°∫˝y_by2
 (*
__de°
, c⁄° 
__§c
[],

882 
size_t
 
__§˛í
, size_à
__n
);

884 
__STRING_INLINE
 *

885 
	$__°∫˝y_by2
 (*
__de°
, c⁄° 
__§c
[], 
size_t
 
__§˛í
, size_à
__n
)

887 *
__tmp
 = 
__de°
;

888 
__dummy1
, 
__dummy2
;

889 
__asm__
 
__vﬁ©ûe__


902 : "=&q" (
__dummy1
), "Ù" (
__tmp
), "=&r" (
__§c
), "=&r" (
__dummy2
),

903 "=m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__§˛í
]; } *)
__de°
)

904 : "1" (
__tmp
), "2" (
__§c
), "3" (
__§˛í
 / 2),

905 "m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__§˛í
]; } *)
__§c
)

907 (Ë
	`mem£t
 (
__tmp
 + 2, '\0', 
__n
 - 
__§˛í
);

908  
__de°
;

909 
	}
}

911 
__STRING_INLINE
 *
__°∫˝y_byn
 (*
__de°
, c⁄° 
__§c
[],

912 
size_t
 
__§˛í
, size_à
__n
);

914 
__STRING_INLINE
 *

915 
	$__°∫˝y_byn
 (*
__de°
, c⁄° 
__§c
[], 
size_t
 
__§˛í
, size_à
__n
)

917 
__d0
, 
__d1
;

918 *
__tmp
 = 
__de°
;

919 
__asm__
 
__vﬁ©ûe__


930 : "=D" (
__tmp
), "=&c" (
__d0
), "=&S" (
__d1
),

931 "=m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__§˛í
]; } *)
__de°
)

932 : "1" (
__§˛í
), "0" (
__tmp
),"2" (
__§c
),

933 "m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__§˛í
]; } *)
__§c
)

935 (Ë
	`mem£t
 (
__tmp
, '\0', 
__n
 - 
__§˛í
);

936  
__de°
;

937 
	}
}

939 
__STRING_INLINE
 *
__°∫˝y_gg
 (*
__de°
, c⁄° *
__§c
,

940 
size_t
 
__n
);

942 
__STRING_INLINE
 *

943 
	$__°∫˝y_gg
 (*
__de°
, c⁄° *
__§c
, 
size_t
 
__n
)

945 *
__tmp
 = 
__de°
;

946 
__dummy
;

947 i‡(
__n
 > 0)

948 
__asm__
 
__vﬁ©ûe__


964 : "=&r" (
__§c
), "=&r" (
__tmp
), "=&q" (
__dummy
), "=&r" (
__n
)

965 : "0" (
__§c
), "1" (
__tmp
), "3" (
__n
)

968  
__de°
;

969 
	}
}

973 
	#_HAVE_STRING_ARCH_°rˇt
 1

	)

974 
	#°rˇt
(
de°
, 
§c
) \

975 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
§c
) \

976 ? 
	`__°rˇt_c
 ((
de°
), (
§c
), 
	`°æí
 (src) + 1) \

977 : 
	`__°rˇt_g
 ((
de°
), (
§c
))))

	)

979 
__STRING_INLINE
 *
__°rˇt_c
 (*
__de°
, c⁄° 
__§c
[],

980 
size_t
 
__§˛í
);

982 
__STRING_INLINE
 *

983 
	$__°rˇt_c
 (*
__de°
, c⁄° 
__§c
[], 
size_t
 
__§˛í
)

985 #ifde‡
__i686__


986 
__d0
;

987 *
__tmp
;

988 
__asm__
 
__vﬁ©ûe__


990 : "=D" (
__tmp
), "=&c" (
__d0
),

991 "=m" ( *(°ru˘ { 
__x
[0xfffffff]; } *)
__de°
)

992 : "0" (
__de°
), "1" (0xffffffff), "a" (0),

993 "m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__§˛í
]; } *)
__§c
)

995 --
__tmp
;

997 *
__tmp
 = 
__de°
 - 1;

998 
__asm__
 
__vﬁ©ûe__


1003 : "Ù" (
__tmp
),

1004 "=m" ( *(°ru˘ { 
__x
[0xfffffff]; } *)
__de°
)

1005 : "0" (
__tmp
),

1006 "m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__§˛í
]; } *)
__§c
)

1009 (Ë
	`mem˝y
 (
__tmp
, 
__§c
, 
__§˛í
);

1010  
__de°
;

1011 
	}
}

1013 
__STRING_INLINE
 *
__°rˇt_g
 (*
__de°
, c⁄° *
__§c
);

1015 
__STRING_INLINE
 *

1016 
	$__°rˇt_g
 (*
__de°
, c⁄° *
__§c
)

1018 *
__tmp
 = 
__de°
 - 1;

1019 
__dummy
;

1020 
__asm__
 
__vﬁ©ûe__


1032 : "=&q" (
__dummy
), "=&r" (
__tmp
), "=&r" (
__§c
),

1033 "=m" ( *(°ru˘ { 
__x
[0xfffffff]; } *)
__de°
)

1034 : "1" (
__tmp
), "2" (
__§c
),

1035 "m" ( *(°ru˘ { 
__x
[0xfffffff]; } *)
__§c
)

1037  
__de°
;

1038 
	}
}

1042 
	#_HAVE_STRING_ARCH_°∫ˇt
 1

	)

1043 
	#°∫ˇt
(
de°
, 
§c
, 
n
) \

1044 (
	`__exãnsi⁄__
 ({ *
__de°
 = (
de°
); \

1045 
	`__buûtö_c⁄°™t_p
 (
§c
Ë&& __buûtö_c⁄°™t_∞(
n
) \

1046 ? (
	`°æí
 (
§c
Ë< ((
size_t
Ë(
n
)) \

1047 ? 
	`°rˇt
 (
__de°
, (
§c
)) \

1048 : (*(*)
	`__memp˝y
 (
	`°rchr
 (
__de°
, '\0'), \

1049 (c⁄° *Ë(
§c
), \

1050 (
n
)Ë0, 
__de°
)) \

1051 : 
	`__°∫ˇt_g
 (
__de°
, (
§c
), (
n
)); }))

	)

1053 
__STRING_INLINE
 *
__°∫ˇt_g
 (*
__de°
, c⁄° 
__§c
[],

1054 
size_t
 
__n
);

1056 
__STRING_INLINE
 *

1057 
	$__°∫ˇt_g
 (*
__de°
, c⁄° 
__§c
[], 
size_t
 
__n
)

1059 *
__tmp
 = 
__de°
;

1060 
__dummy
;

1061 #ifde‡
__i686__


1062 
__asm__
 
__vﬁ©ûe__


1076 : "=&a" (
__dummy
), "=&D" (
__tmp
), "=&S" (
__§c
), "=&c" (
__n
)

1077 : "g" (
__n
), "0" (0), "1" (
__tmp
), "2" (
__§c
), "3" (0xffffffff)

1080 --
__tmp
;

1081 
__asm__
 
__vﬁ©ûe__


1098 : "=&q" (
__dummy
), "=&r" (
__tmp
), "=&r" (
__§c
), "=&r" (
__n
)

1099 : "1" (
__tmp
), "2" (
__§c
), "3" (
__n
)

1102  
__de°
;

1103 
	}
}

1107 
	#_HAVE_STRING_ARCH_°rcmp
 1

	)

1108 
	#°rcmp
(
s1
, 
s2
) \

1109 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
s1
Ë&& __buûtö_c⁄°™t_∞(
s2
) \

1110 && ( ((
s1
)[0]Ë!1 || 
	`°æí
 (s1) >= 4) \

1111 && ( ((
s2
)[0]Ë!1 || 
	`°æí
 (s2) >= 4) \

1112 ? 
	`memcmp
 ((c⁄° *Ë(
s1
), (c⁄° *Ë(
s2
), \

1113 (
	`°æí
 (
s1
Ë< såÀ¿(
s2
) \

1114 ? 
	`°æí
 (
s1
Ë: såÀ¿(
s2
)) + 1) \

1115 : (
	`__buûtö_c⁄°™t_p
 (
s1
) &&  ((s1)[0]) == 1 \

1116 &&  ((
s2
)[0]Ë=1 && 
	`°æí
 (
s1
) < 4 \

1117 ? (
	`__buûtö_c⁄°™t_p
 (
s2
) &&  ((s2)[0]) == 1 \

1118 ? 
	`__°rcmp_cc
 ((c⁄° *Ë(
s1
), \

1119 (c⁄° *Ë(
s2
), \

1120 
	`°æí
 (
s1
)) \

1121 : 
	`__°rcmp_cg
 ((c⁄° *Ë(
s1
), \

1122 (c⁄° *Ë(
s2
), \

1123 
	`°æí
 (
s1
))) \

1124 : (
	`__buûtö_c⁄°™t_p
 (
s2
Ë&&  ((
s1
)[0]) == 1 \

1125 &&  ((
s2
)[0]Ë=1 && 
	`°æí
 (s2) < 4 \

1126 ? (
	`__buûtö_c⁄°™t_p
 (
s1
) \

1127 ? 
	`__°rcmp_cc
 ((c⁄° *Ë(
s1
), \

1128 (c⁄° *Ë(
s2
), \

1129 
	`°æí
 (
s2
)) \

1130 : 
	`__°rcmp_gc
 ((c⁄° *Ë(
s1
), \

1131 (c⁄° *Ë(
s2
), \

1132 
	`°æí
 (
s2
))) \

1133 : 
	`__°rcmp_gg
 ((
s1
), (
s2
))))))

	)

1135 
	#__°rcmp_cc
(
s1
, 
s2
, 
l
) \

1136 (
	`__exãnsi⁄__
 ({ 
__ªsu…
 = (
s1
)[0] - (
s2
)[0]; \

1137 i‡(
l
 > 0 && 
__ªsu…
 == 0) \

1139 
__ªsu…
 = (
s1
)[1] - (
s2
)[1]; \

1140 i‡(
l
 > 1 && 
__ªsu…
 == 0) \

1142 
__ªsu…
 = (
s1
)[2] - (
s2
)[2]; \

1143 i‡(
l
 > 2 && 
__ªsu…
 == 0) \

1144 
__ªsu…
 = (
s1
)[3] - (
s2
)[3]; \

1147 
__ªsu…
; }))

	)

1149 
	#__°rcmp_cg
(
s1
, 
s2
, 
l1
) \

1150 (
	`__exãnsi⁄__
 ({ c⁄° *
__s2
 = (
s2
); \

1151 
__ªsu…
 = (
s1
)[0] - 
__s2
[0]; \

1152 i‡(
l1
 > 0 && 
__ªsu…
 == 0) \

1154 
__ªsu…
 = (
s1
)[1] - 
__s2
[1]; \

1155 i‡(
l1
 > 1 && 
__ªsu…
 == 0) \

1157 
__ªsu…
 = (
s1
)[2] - 
__s2
[2]; \

1158 i‡(
l1
 > 2 && 
__ªsu…
 == 0) \

1159 
__ªsu…
 = (
s1
)[3] - 
__s2
[3]; \

1162 
__ªsu…
; }))

	)

1164 
	#__°rcmp_gc
(
s1
, 
s2
, 
l2
) \

1165 (
	`__exãnsi⁄__
 ({ c⁄° *
__s1
 = (
s1
); \

1166 
__ªsu…
 = 
__s1
[0] - (
s2
)[0]; \

1167 i‡(
l2
 > 0 && 
__ªsu…
 == 0) \

1169 
__ªsu…
 = 
__s1
[1] - (
s2
)[1]; \

1170 i‡(
l2
 > 1 && 
__ªsu…
 == 0) \

1172 
__ªsu…
 = 
__s1
[2] - (
s2
)[2]; \

1173 i‡(
l2
 > 2 && 
__ªsu…
 == 0) \

1174 
__ªsu…
 = 
__s1
[3] - (
s2
)[3]; \

1177 
__ªsu…
; }))

	)

1179 
__STRING_INLINE
 
__°rcmp_gg
 (c⁄° *
__s1
, c⁄° *
__s2
);

1181 
__STRING_INLINE
 

1182 
	$__°rcmp_gg
 (c⁄° *
__s1
, c⁄° *
__s2
)

1184 
__ªs
;

1185 
__asm__
 
__vﬁ©ûe__


1201 : "=q" (
__ªs
), "=&r" (
__s1
), "=&r" (
__s2
)

1202 : "1" (
__s1
), "2" (
__s2
),

1203 "m" ( *(°ru˘ { 
__x
[0xfffffff]; } *)
__s1
),

1204 "m" ( *(°ru˘ { 
__x
[0xfffffff]; } *)
__s2
)

1206  
__ªs
;

1207 
	}
}

1211 
	#_HAVE_STRING_ARCH_°∫cmp
 1

	)

1212 
	#°∫cmp
(
s1
, 
s2
, 
n
) \

1213 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
s1
Ë&& 
	`°æí
 (s1Ë< ((
size_t
Ë(
n
)) \

1214 ? 
	`°rcmp
 ((
s1
), (
s2
)) \

1215 : (
	`__buûtö_c⁄°™t_p
 (
s2
Ë&& 
	`°æí
 (s2Ë< ((
size_t
Ë(
n
))\

1216 ? 
	`°rcmp
 ((
s1
), (
s2
)) \

1217 : 
	`__°∫cmp_g
 ((
s1
), (
s2
), (
n
)))))

	)

1219 
__STRING_INLINE
 
__°∫cmp_g
 (c⁄° *
__s1
, c⁄° *
__s2
,

1220 
size_t
 
__n
);

1222 
__STRING_INLINE
 

1223 
	$__°∫cmp_g
 (c⁄° *
__s1
, c⁄° *
__s2
, 
size_t
 
__n
)

1225 
__ªs
;

1226 
__asm__
 
__vﬁ©ûe__


1245 : "=q" (
__ªs
), "=&r" (
__s1
), "=&r" (
__s2
), "=&r" (
__n
)

1246 : "1" (
__s1
), "2" (
__s2
), "3" (
__n
),

1247 "m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__n
]; } *)
__s1
),

1248 "m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__n
]; } *)
__s2
)

1250  
__ªs
;

1251 
	}
}

1255 
	#_HAVE_STRING_ARCH_°rchr
 1

	)

1256 
	#_USE_STRING_ARCH_°rchr
 1

	)

1257 
	#°rchr
(
s
, 
c
) \

1258 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
c
) \

1259 ? ((
c
) == '\0' \

1260 ? (*Ë
	`__øwmemchr
 ((
s
), (
c
)) \

1261 : 
	`__°rchr_c
 ((
s
), ((
c
) & 0xff) << 8)) \

1262 : 
	`__°rchr_g
 ((
s
), (
c
))))

	)

1264 
__STRING_INLINE
 *
__°rchr_c
 (c⁄° *
__s
, 
__c
);

1266 
__STRING_INLINE
 *

1267 
	$__°rchr_c
 (c⁄° *
__s
, 
__c
)

1269 
__d0
;

1270 *
__ªs
;

1271 
__asm__
 
__vﬁ©ûe__


1281 : "Ù" (
__ªs
), "=&a" (
__d0
)

1282 : "0" (
__s
), "1" (
__c
),

1283 "m" ( *(°ru˘ { 
__x
[0xfffffff]; } *)
__s
)

1285  
__ªs
;

1286 
	}
}

1288 
__STRING_INLINE
 *
__°rchr_g
 (c⁄° *
__s
, 
__c
);

1290 
__STRING_INLINE
 *

1291 
	$__°rchr_g
 (c⁄° *
__s
, 
__c
)

1293 
__d0
;

1294 *
__ªs
;

1295 
__asm__
 
__vﬁ©ûe__


1306 : "Ù" (
__ªs
), "=&a" (
__d0
)

1307 : "0" (
__s
), "1" (
__c
),

1308 "m" ( *(°ru˘ { 
__x
[0xfffffff]; } *)
__s
)

1310  
__ªs
;

1311 
	}
}

1315 
	#_HAVE_STRING_ARCH_°rch∫ul
 1

	)

1316 
	#__°rch∫ul
(
s
, 
c
) \

1317 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
c
) \

1318 ? ((
c
) == '\0' \

1319 ? (*Ë
	`__øwmemchr
 ((
s
), 
c
) \

1320 : 
	`__°rch∫ul_c
 ((
s
), ((
c
) & 0xff) << 8)) \

1321 : 
	`__°rch∫ul_g
 ((
s
), 
c
)))

	)

1323 
__STRING_INLINE
 *
__°rch∫ul_c
 (c⁄° *
__s
, 
__c
);

1325 
__STRING_INLINE
 *

1326 
	$__°rch∫ul_c
 (c⁄° *
__s
, 
__c
)

1328 
__d0
;

1329 *
__ªs
;

1330 
__asm__
 
__vﬁ©ûe__


1340 : "Ù" (
__ªs
), "=&a" (
__d0
)

1341 : "0" (
__s
), "1" (
__c
),

1342 "m" ( *(°ru˘ { 
__x
[0xfffffff]; } *)
__s
)

1344  
__ªs
;

1345 
	}
}

1347 
__STRING_INLINE
 *
__°rch∫ul_g
 (c⁄° *
__s
, 
__c
);

1349 
__STRING_INLINE
 *

1350 
	$__°rch∫ul_g
 (c⁄° *
__s
, 
__c
)

1352 
__d0
;

1353 *
__ªs
;

1354 
__asm__
 
__vﬁ©ûe__


1365 : "Ù" (
__ªs
), "=&a" (
__d0
)

1366 : "0" (
__s
), "1" (
__c
),

1367 "m" ( *(°ru˘ { 
__x
[0xfffffff]; } *)
__s
)

1369  
__ªs
;

1370 
	}
}

1371 #ifde‡
__USE_GNU


1372 
	#°rch∫ul
(
s
, 
c
Ë
	`__°rch∫ul
 ((s), (c))

	)

1376 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED


1378 
	#_HAVE_STRING_ARCH_ödex
 1

	)

1379 
	#ödex
(
s
, 
c
) \

1380 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
c
) \

1381 ? 
	`__°rchr_c
 ((
s
), ((
c
) & 0xff) << 8) \

1382 : 
	`__°rchr_g
 ((
s
), (
c
))))

	)

1387 
	#_HAVE_STRING_ARCH_°ºchr
 1

	)

1388 
	#°ºchr
(
s
, 
c
) \

1389 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
c
) \

1390 ? 
	`__°ºchr_c
 ((
s
), ((
c
) & 0xff) << 8) \

1391 : 
	`__°ºchr_g
 ((
s
), (
c
))))

	)

1393 #ifde‡
__i686__


1394 
__STRING_INLINE
 *
__°ºchr_c
 (c⁄° *
__s
, 
__c
);

1396 
__STRING_INLINE
 *

1397 
	$__°ºchr_c
 (c⁄° *
__s
, 
__c
)

1399 
__d0
, 
__d1
;

1400 *
__ªs
;

1401 
__asm__
 
__vﬁ©ûe__


1409 : "=d" (
__ªs
), "=&S" (
__d0
), "=&a" (
__d1
)

1410 : "0" (1), "1" (
__s
), "2" (
__c
),

1411 "m" ( *(°ru˘ { 
__x
[0xfffffff]; } *)
__s
)

1413  
__ªs
 - 1;

1414 
	}
}

1416 
__STRING_INLINE
 *
__°ºchr_g
 (c⁄° *
__s
, 
__c
);

1418 
__STRING_INLINE
 *

1419 
	$__°ºchr_g
 (c⁄° *
__s
, 
__c
)

1421 
__d0
, 
__d1
;

1422 *
__ªs
;

1423 
__asm__
 
__vﬁ©ûe__


1432 : "=d" (
__ªs
), "=&S" (
__d0
), "=&a" (
__d1
)

1433 : "0" (1), "1" (
__s
), "2" (
__c
),

1434 "m" ( *(°ru˘ { 
__x
[0xfffffff]; } *)
__s
)

1436  
__ªs
 - 1;

1437 
	}
}

1439 
__STRING_INLINE
 *
__°ºchr_c
 (c⁄° *
__s
, 
__c
);

1441 
__STRING_INLINE
 *

1442 
	$__°ºchr_c
 (c⁄° *
__s
, 
__c
)

1444 
__d0
, 
__d1
;

1445 *
__ªs
;

1446 
__asm__
 
__vﬁ©ûe__


1456 : "=d" (
__ªs
), "=&S" (
__d0
), "=&a" (
__d1
)

1457 : "0" (0), "1" (
__s
), "2" (
__c
),

1458 "m" ( *(°ru˘ { 
__x
[0xfffffff]; } *)
__s
)

1460  
__ªs
;

1461 
	}
}

1463 
__STRING_INLINE
 *
__°ºchr_g
 (c⁄° *
__s
, 
__c
);

1465 
__STRING_INLINE
 *

1466 
	$__°ºchr_g
 (c⁄° *
__s
, 
__c
)

1468 
__d0
, 
__d1
;

1469 *
__ªs
;

1470 
__asm__
 
__vﬁ©ûe__


1481 : "Ù" (
__ªs
), "=&S" (
__d0
), "=&a" (
__d1
)

1482 : "0" (0), "1" (
__s
), "2" (
__c
),

1483 "m" ( *(°ru˘ { 
__x
[0xfffffff]; } *)
__s
)

1485  
__ªs
;

1486 
	}
}

1490 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED


1492 
	#_HAVE_STRING_ARCH_rödex
 1

	)

1493 
	#rödex
(
s
, 
c
) \

1494 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
c
) \

1495 ? 
	`__°ºchr_c
 ((
s
), ((
c
) & 0xff) << 8) \

1496 : 
	`__°ºchr_g
 ((
s
), (
c
))))

	)

1502 
	#_HAVE_STRING_ARCH_°rc•n
 1

	)

1503 
	#°rc•n
(
s
, 
ªje˘
) \

1504 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
ªje˘
) &&  ((reject)[0]) == 1 \

1505 ? ((
ªje˘
)[0] == '\0' \

1506 ? 
	`°æí
 (
s
) \

1507 : ((
ªje˘
)[1] == '\0' \

1508 ? 
	`__°rc•n_c1
 ((
s
), (((
ªje˘
)[0] << 8) & 0xff00)) \

1509 : 
	`__°rc•n_cg
 ((
s
), (
ªje˘
), 
	`°æí
 (reject)))) \

1510 : 
	`__°rc•n_g
 ((
s
), (
ªje˘
))))

	)

1512 
__STRING_INLINE
 
size_t
 
__°rc•n_c1
 (c⁄° *
__s
, 
__ªje˘
);

1514 #i‚de‡
_FORCE_INLINES


1515 
__STRING_INLINE
 
size_t


1516 
	$__°rc•n_c1
 (c⁄° *
__s
, 
__ªje˘
)

1518 
__d0
;

1519 *
__ªs
;

1520 
__asm__
 
__vﬁ©ûe__


1529 : "Ù" (
__ªs
), "=&a" (
__d0
)

1530 : "0" (
__s
), "1" (
__ªje˘
),

1531 "m" ( *(°ru˘ { 
__x
[0xfffffff]; } *)
__s
)

1533  (
__ªs
 - 1Ë- 
__s
;

1534 
	}
}

1537 
__STRING_INLINE
 
size_t
 
__°rc•n_cg
 (c⁄° *
__s
, c⁄° 
__ªje˘
[],

1538 
size_t
 
__ªje˘_Àn
);

1540 
__STRING_INLINE
 
size_t


1541 
	$__°rc•n_cg
 (c⁄° *
__s
, c⁄° 
__ªje˘
[], 
size_t
 
__ªje˘_Àn
)

1543 
__d0
, 
__d1
, 
__d2
;

1544 c⁄° *
__ªs
;

1545 
__asm__
 
__vﬁ©ûe__


1556 : "=S" (
__ªs
), "=&a" (
__d0
), "=&c" (
__d1
), "=&D" (
__d2
)

1557 : "0" (
__s
), "d" (
__ªje˘
), "g" (
__ªje˘_Àn
)

1559  (
__ªs
 - 1Ë- 
__s
;

1560 
	}
}

1562 
__STRING_INLINE
 
size_t
 
__°rc•n_g
 (c⁄° *
__s
, c⁄° *
__ªje˘
);

1563 #ifde‡
__PIC__


1565 
__STRING_INLINE
 
size_t


1566 
	$__°rc•n_g
 (c⁄° *
__s
, c⁄° *
__ªje˘
)

1568 
__d0
, 
__d1
, 
__d2
;

1569 c⁄° *
__ªs
;

1570 
__asm__
 
__vﬁ©ûe__


1587 : "=S" (
__ªs
), "=&a" (
__d0
), "=&c" (
__d1
), "=&D" (
__d2
)

1588 : "r" (
__ªje˘
), "0" (
__s
), "1" (0), "2" (0xffffffff)

1590  (
__ªs
 - 1Ë- 
__s
;

1591 
	}
}

1593 
__STRING_INLINE
 
size_t


1594 
	$__°rc•n_g
 (c⁄° *
__s
, c⁄° *
__ªje˘
)

1596 
__d0
, 
__d1
, 
__d2
, 
__d3
;

1597 c⁄° *
__ªs
;

1598 
__asm__
 
__vﬁ©ûe__


1612 : "=S" (
__ªs
), "=&a" (
__d0
), "=&c" (
__d1
), "=&D" (
__d2
), "=&d" (
__d3
)

1613 : "0" (
__s
), "1" (0), "2" (0xffffffff), "3" (
__ªje˘
), "b" (__reject)

1616  (
__ªs
 - 1Ë- 
__s
;

1617 
	}
}

1623 
	#_HAVE_STRING_ARCH_°r•n
 1

	)

1624 
	#°r•n
(
s
, 
ac˚±
) \

1625 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
ac˚±
) &&  ((accept)[0]) == 1 \

1626 ? ((
ac˚±
)[0] == '\0' \

1627 ? ((Ë(
s
), 0) \

1628 : ((
ac˚±
)[1] == '\0' \

1629 ? 
	`__°r•n_c1
 ((
s
), (((
ac˚±
)[0] << 8 ) & 0xff00)) \

1630 : 
	`__°r•n_cg
 ((
s
), (
ac˚±
), 
	`°æí
 (accept)))) \

1631 : 
	`__°r•n_g
 ((
s
), (
ac˚±
))))

	)

1633 #i‚de‡
_FORCE_INLINES


1634 
__STRING_INLINE
 
size_t
 
__°r•n_c1
 (c⁄° *
__s
, 
__ac˚±
);

1636 
__STRING_INLINE
 
size_t


1637 
	$__°r•n_c1
 (c⁄° *
__s
, 
__ac˚±
)

1639 
__d0
;

1640 *
__ªs
;

1642 
__asm__
 
__vﬁ©ûe__


1648 : "Ù" (
__ªs
), "=&q" (
__d0
)

1649 : "0" (
__s
), "1" (
__ac˚±
),

1650 "m" ( *(°ru˘ { 
__x
[0xfffffff]; } *)
__s
)

1652  (
__ªs
 - 1Ë- 
__s
;

1653 
	}
}

1656 
__STRING_INLINE
 
size_t
 
__°r•n_cg
 (c⁄° *
__s
, c⁄° 
__ac˚±
[],

1657 
size_t
 
__ac˚±_Àn
);

1659 
__STRING_INLINE
 
size_t


1660 
	$__°r•n_cg
 (c⁄° *
__s
, c⁄° 
__ac˚±
[], 
size_t
 
__ac˚±_Àn
)

1662 
__d0
, 
__d1
, 
__d2
;

1663 c⁄° *
__ªs
;

1664 
__asm__
 
__vﬁ©ûe__


1675 : "=S" (
__ªs
), "=&a" (
__d0
), "=&c" (
__d1
), "=&D" (
__d2
)

1676 : "0" (
__s
), "g" (
__ac˚±
), "g" (
__ac˚±_Àn
),

1679 "m" ( *(°ru˘ { 
__x
[0xfffffff]; } *)
__s
),

1680 "m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__ac˚±_Àn
]; } *)
__ac˚±
)

1682  (
__ªs
 - 1Ë- 
__s
;

1683 
	}
}

1685 
__STRING_INLINE
 
size_t
 
__°r•n_g
 (c⁄° *
__s
, c⁄° *
__ac˚±
);

1686 #ifde‡
__PIC__


1688 
__STRING_INLINE
 
size_t


1689 
	$__°r•n_g
 (c⁄° *
__s
, c⁄° *
__ac˚±
)

1691 
__d0
, 
__d1
, 
__d2
;

1692 c⁄° *
__ªs
;

1693 
__asm__
 
__vﬁ©ûe__


1709 : "=S" (
__ªs
), "=&a" (
__d0
), "=&c" (
__d1
), "=&D" (
__d2
)

1710 : "d" (
__ac˚±
), "0" (
__s
), "1" (0), "2" (0xffffffff), "3" (__accept)

1712  (
__ªs
 - 1Ë- 
__s
;

1713 
	}
}

1715 
__STRING_INLINE
 
size_t


1716 
	$__°r•n_g
 (c⁄° *
__s
, c⁄° *
__ac˚±
)

1718 
__d0
, 
__d1
, 
__d2
, 
__d3
;

1719 c⁄° *
__ªs
;

1720 
__asm__
 
__vﬁ©ûe__


1734 : "=S" (
__ªs
), "=&a" (
__d0
), "=&c" (
__d1
), "=&D" (
__d2
), "=&d" (
__d3
)

1735 : "0" (
__s
), "1" (0), "2" (0xffffffff), "3" (
__ac˚±
), "b" (__accept)

1737  (
__ªs
 - 1Ë- 
__s
;

1738 
	}
}

1743 
	#_HAVE_STRING_ARCH_°Ωbrk
 1

	)

1744 
	#°Ωbrk
(
s
, 
ac˚±
) \

1745 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
ac˚±
) &&  ((accept)[0]) == 1 \

1746 ? ((
ac˚±
)[0] == '\0' \

1747 ? ((Ë(
s
), (*) 0) \

1748 : ((
ac˚±
)[1] == '\0' \

1749 ? 
	`°rchr
 ((
s
), (
ac˚±
)[0]) \

1750 : 
	`__°Ωbrk_cg
 ((
s
), (
ac˚±
), 
	`°æí
 (accept)))) \

1751 : 
	`__°Ωbrk_g
 ((
s
), (
ac˚±
))))

	)

1753 
__STRING_INLINE
 *
__°Ωbrk_cg
 (c⁄° *
__s
, c⁄° 
__ac˚±
[],

1754 
size_t
 
__ac˚±_Àn
);

1756 
__STRING_INLINE
 *

1757 
	$__°Ωbrk_cg
 (c⁄° *
__s
, c⁄° 
__ac˚±
[], 
size_t
 
__ac˚±_Àn
)

1759 
__d0
, 
__d1
, 
__d2
;

1760 *
__ªs
;

1761 
__asm__
 
__vﬁ©ûe__


1776 : "=S" (
__ªs
), "=&a" (
__d0
), "=&c" (
__d1
), "=&D" (
__d2
)

1777 : "0" (
__s
), "d" (
__ac˚±
), "g" (
__ac˚±_Àn
)

1779  
__ªs
;

1780 
	}
}

1782 
__STRING_INLINE
 *
__°Ωbrk_g
 (c⁄° *
__s
, c⁄° *
__ac˚±
);

1783 #ifde‡
__PIC__


1785 
__STRING_INLINE
 *

1786 
	$__°Ωbrk_g
 (c⁄° *
__s
, c⁄° *
__ac˚±
)

1788 
__d0
, 
__d1
, 
__d2
;

1789 *
__ªs
;

1790 
__asm__
 
__vﬁ©ûe__


1811 : "=S" (
__ªs
), "=&a" (
__d0
), "=&c" (
__d1
), "=&D" (
__d2
)

1812 : "d" (
__ac˚±
), "0" (
__s
), "1" (0), "2" (0xffffffff)

1814  
__ªs
;

1815 
	}
}

1817 
__STRING_INLINE
 *

1818 
	$__°Ωbrk_g
 (c⁄° *
__s
, c⁄° *
__ac˚±
)

1820 
__d0
, 
__d1
, 
__d2
, 
__d3
;

1821 *
__ªs
;

1822 
__asm__
 
__vﬁ©ûe__


1841 : "=S" (
__ªs
), "=&a" (
__d0
), "=&c" (
__d1
), "=&d" (
__d2
), "=&D" (
__d3
)

1842 : "0" (
__s
), "1" (0), "2" (0xffffffff), "b" (
__ac˚±
)

1844  
__ªs
;

1845 
	}
}

1850 
	#_HAVE_STRING_ARCH_°r°r
 1

	)

1851 
	#°r°r
(
hay°ack
, 
√edÀ
) \

1852 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
√edÀ
) &&  ((needle)[0]) == 1 \

1853 ? ((
√edÀ
)[0] == '\0' \

1854 ? (
hay°ack
) \

1855 : ((
√edÀ
)[1] == '\0' \

1856 ? 
	`°rchr
 ((
hay°ack
), (
√edÀ
)[0]) \

1857 : 
	`__°r°r_cg
 ((
hay°ack
), (
√edÀ
), \

1858 
	`°æí
 (
√edÀ
)))) \

1859 : 
	`__°r°r_g
 ((
hay°ack
), (
√edÀ
))))

	)

1863 
__STRING_INLINE
 *
__°r°r_cg
 (c⁄° *
__hay°ack
,

1864 c⁄° 
__√edÀ
[],

1865 
size_t
 
__√edÀ_Àn
);

1867 
__STRING_INLINE
 *

1868 
	$__°r°r_cg
 (c⁄° *
__hay°ack
, c⁄° 
__√edÀ
[],

1869 
size_t
 
__√edÀ_Àn
)

1871 
__d0
, 
__d1
, 
__d2
;

1872 *
__ªs
;

1873 
__asm__
 
__vﬁ©ûe__


1886 : "=&a" (
__ªs
), "=&S" (
__d0
), "=&D" (
__d1
), "=&c" (
__d2
)

1887 : "g" (
__√edÀ_Àn
), "1" (
__hay°ack
), "d" (
__√edÀ
)

1889  
__ªs
;

1890 
	}
}

1892 
__STRING_INLINE
 *
__°r°r_g
 (c⁄° *
__hay°ack
,

1893 c⁄° *
__√edÀ
);

1894 #ifde‡
__PIC__


1896 
__STRING_INLINE
 *

1897 
	$__°r°r_g
 (c⁄° *
__hay°ack
, c⁄° *
__√edÀ
)

1899 
__d0
, 
__d1
, 
__d2
;

1900 *
__ªs
;

1901 
__asm__
 
__vﬁ©ûe__


1920 : "=&a" (
__ªs
), "=&c" (
__d0
), "=&S" (
__d1
), "=&D" (
__d2
)

1921 : "0" (0), "1" (0xffffffff), "2" (
__hay°ack
), "3" (
__√edÀ
),

1922 "d" (
__√edÀ
)

1924  
__ªs
;

1925 
	}
}

1927 
__STRING_INLINE
 *

1928 
	$__°r°r_g
 (c⁄° *
__hay°ack
, c⁄° *
__√edÀ
)

1930 
__d0
, 
__d1
, 
__d2
, 
__d3
;

1931 *
__ªs
;

1932 
__asm__
 
__vﬁ©ûe__


1949 : "=&a" (
__ªs
), "=&c" (
__d0
), "=&S" (
__d1
), "=&D" (
__d2
), "=&d" (
__d3
)

1950 : "0" (0), "1" (0xffffffff), "2" (
__hay°ack
), "3" (
__√edÀ
),

1951 "b" (
__√edÀ
)

1953  
__ªs
;

1954 
	}
}

1960 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED


1961 #ifde‡
__i686__


1962 
	#_HAVE_STRING_ARCH_ffs
 1

	)

1963 
	#ffs
(
w‹d
Ë(
	`__buûtö_c⁄°™t_p
 (word) \

1964 ? 
	`__buûtö_ffs
 (
w‹d
) \

1965 : ({ 
__˙t
, 
__tmp
; \

1966 
__asm__
 
__vﬁ©ûe__
 \

1969 : "=&r" (
__˙t
), "Ù" (
__tmp
) \

1970 : "rm" (
w‹d
), "1" (-1)); \

1971 
__˙t
 + 1; }))

	)

1973 #i‚de‡
ff¶


1974 
	#ff¶
(
w‹d
Ë
	`ffs
(w‹d)

	)

1979 #i‚de‡
_FORCE_INLINES


1980 #unde‡
__STRING_INLINE


	@/usr/include/bits/string2.h

20 #i‚de‡
_STRING_H


24 #i‚de‡
__NO_STRING_INLINES


41 #i‚de‡
__STRING_INLINE


42 #ifde‡
__˝lu•lus


43 
	#__STRING_INLINE
 
ölöe


	)

45 
	#__STRING_INLINE
 
__exã∫_ölöe


	)

49 #i‡
_STRING_ARCH_u«lig√d


51 
	~<ídün.h
>

52 
	~<bôs/ty≥s.h
>

54 #i‡
__BYTE_ORDER
 =
__LITTLE_ENDIAN


55 
	#__STRING2_SMALL_GET16
(
§c
, 
idx
) \

56 (((c⁄° *Ë(c⁄° *Ë(
§c
))[
idx
 + 1] << 8 \

57 | ((c⁄° *Ë(c⁄° *Ë(
§c
))[
idx
])

	)

58 
	#__STRING2_SMALL_GET32
(
§c
, 
idx
) \

59 (((((c⁄° *Ë(c⁄° *Ë(
§c
))[
idx
 + 3] << 8 \

60 | ((c⁄° *Ë(c⁄° *Ë(
§c
))[
idx
 + 2]) << 8 \

61 | ((c⁄° *Ë(c⁄° *Ë(
§c
))[
idx
 + 1]) << 8 \

62 | ((c⁄° *Ë(c⁄° *Ë(
§c
))[
idx
])

	)

64 
	#__STRING2_SMALL_GET16
(
§c
, 
idx
) \

65 (((c⁄° *Ë(c⁄° *Ë(
§c
))[
idx
] << 8 \

66 | ((c⁄° *Ë(c⁄° *Ë(
§c
))[
idx
 + 1])

	)

67 
	#__STRING2_SMALL_GET32
(
§c
, 
idx
) \

68 (((((c⁄° *Ë(c⁄° *Ë(
§c
))[
idx
] << 8 \

69 | ((c⁄° *Ë(c⁄° *Ë(
§c
))[
idx
 + 1]) << 8 \

70 | ((c⁄° *Ë(c⁄° *Ë(
§c
))[
idx
 + 2]) << 8 \

71 | ((c⁄° *Ë(c⁄° *Ë(
§c
))[
idx
 + 3])

	)

76 
	#__STRING2_COPY_TYPE
(
N
) \

77 °ru˘ { 
__¨r
[
N
]; } \

78 
	t__©åibuã__
 ((
	t__∑cked__
)Ë
	t__STRING2_COPY_ARR
##
	tN


	)

79 
	t__STRING2_COPY_TYPE
 (2);

80 
__STRING2_COPY_TYPE
 (3);

81 
__STRING2_COPY_TYPE
 (4);

82 
__STRING2_COPY_TYPE
 (5);

83 
__STRING2_COPY_TYPE
 (6);

84 
__STRING2_COPY_TYPE
 (7);

85 
__STRING2_COPY_TYPE
 (8);

86 #unde‡
__STRING2_COPY_TYPE


92 
	#__°rög2_1b±r_p
(
__x
) \

93 ((
size_t
)(c⁄° *)((
__x
Ë+ 1Ë- (size_t)(c⁄° *)(__xË=1)

	)

96 #i‡!
deföed
 
_HAVE_STRING_ARCH_mem£t


97 #i‡!
__GNUC_PREREQ
 (3, 0)

98 #i‡
_STRING_ARCH_u«lig√d


99 
	#mem£t
(
s
, 
c
, 
n
) \

100 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
n
) && (n) <= 16 \

101 ? ((
n
) == 1 \

102 ? 
	`__mem£t_1
 (
s
, 
c
) \

103 : 
	`__mem£t_gc
 (
s
, 
c
, 
n
)) \

104 : (
	`__buûtö_c⁄°™t_p
 (
c
) && (c) == '\0' \

105 ? ({ *
__s
 = (
s
); 
	`__bzîo
 (__s, 
n
); __s; }) \

106 : 
	`mem£t
 (
s
, 
c
, 
n
))))

	)

108 
	#__mem£t_1
(
s
, 
c
Ë({ *
__s
 = (s); \

109 *((
__uöt8_t
 *Ë
__s
Ë(__uöt8_tË
c
; __s; })

	)

111 
	#__mem£t_gc
(
s
, 
c
, 
n
) \

112 ({ *
__s
 = (
s
); \

114 
__ui
; \

115 
__usi
; \

116 
__uc
; \

117 } *
__u
 = 
__s
; \

118 
__uöt8_t
 
__c
 = (__uöt8_tË(
c
); \

121 (Ë(
n
)) \

124 
__u
->
__ui
 = 
__c
 * 0x01010101; \

125 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

127 
__u
->
__ui
 = 
__c
 * 0x01010101; \

128 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

130 
__u
->
__ui
 = 
__c
 * 0x01010101; \

131 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

133 
__u
->
__usi
 = (Ë
__c
 * 0x0101; \

134 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 2); \

135 
__u
->
__uc
 = (Ë
__c
; \

139 
__u
->
__ui
 = 
__c
 * 0x01010101; \

140 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

142 
__u
->
__ui
 = 
__c
 * 0x01010101; \

143 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

145 
__u
->
__ui
 = 
__c
 * 0x01010101; \

146 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

148 
__u
->
__usi
 = (Ë
__c
 * 0x0101; \

152 
__u
->
__ui
 = 
__c
 * 0x01010101; \

153 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

155 
__u
->
__ui
 = 
__c
 * 0x01010101; \

156 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

158 
__u
->
__ui
 = 
__c
 * 0x01010101; \

159 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

161 
__u
->
__uc
 = (Ë
__c
; \

165 
__u
->
__ui
 = 
__c
 * 0x01010101; \

166 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

168 
__u
->
__ui
 = 
__c
 * 0x01010101; \

169 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

171 
__u
->
__ui
 = 
__c
 * 0x01010101; \

172 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

174 
__u
->
__ui
 = 
__c
 * 0x01010101; \

179 
__s
; })

	)

181 
	#mem£t
(
s
, 
c
, 
n
) \

182 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
c
) && (c) == '\0' \

183 ? ({ *
__s
 = (
s
); 
	`__bzîo
 (__s, 
n
); __s; }) \

184 : 
	`mem£t
 (
s
, 
c
, 
n
)))

	)

193 #i‡
__GNUC_PREREQ
 (2, 91)

194 
	#__bzîo
(
s
, 
n
Ë
	`__buûtö_mem£t
 (s, '\0',Ç)

	)

202 #ifde‡
__USE_GNU


203 #i‡!
deföed
 
_HAVE_STRING_ARCH_memp˝y
 || deföed 
_FORCE_INLINES


204 #i‚de‡
_HAVE_STRING_ARCH_memp˝y


205 #i‡
__GNUC_PREREQ
 (3, 4)

206 
	#__memp˝y
(
de°
, 
§c
, 
n
Ë
	`__buûtö_memp˝y
 (de°, src,Ç)

	)

207 #ñi‡
__GNUC_PREREQ
 (3, 0)

208 
	#__memp˝y
(
de°
, 
§c
, 
n
) \

209 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
§c
Ë&& __buûtö_c⁄°™t_∞(
n
) \

210 && 
	`__°rög2_1b±r_p
 (
§c
Ë&& 
n
 <= 8 \

211 ? 
	`__buûtö_mem˝y
 (
de°
, 
§c
, 
n
) + (n) \

212 : 
	`__memp˝y
 (
de°
, 
§c
, 
n
)))

	)

214 
	#__memp˝y
(
de°
, 
§c
, 
n
) \

215 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
§c
Ë&& __buûtö_c⁄°™t_∞(
n
) \

216 && 
	`__°rög2_1b±r_p
 (
§c
Ë&& 
n
 <= 8 \

217 ? 
	`__memp˝y_smÆl
 (
de°
, 
	`__memp˝y_¨gs
 (
§c
), 
n
) \

218 : 
	`__memp˝y
 (
de°
, 
§c
, 
n
)))

	)

222 
	#memp˝y
(
de°
, 
§c
, 
n
Ë
	`__memp˝y
 (de°, src,Ç)

	)

225 #i‡!
__GNUC_PREREQ
 (3, 0Ë|| 
deföed
 
_FORCE_INLINES


226 #i‡
_STRING_ARCH_u«lig√d


227 #i‚de‡
_FORCE_INLINES


228 
	#__memp˝y_¨gs
(
§c
) \

229 ((c⁄° *Ë(
§c
))[0], ((const *) (src))[2], \

230 ((c⁄° *Ë(
§c
))[4], ((const *) (src))[6], \

231 
__exãnsi⁄__
 
	`__STRING2_SMALL_GET16
 (
§c
, 0), \

232 
__exãnsi⁄__
 
	`__STRING2_SMALL_GET16
 (
§c
, 4), \

233 
__exãnsi⁄__
 
	`__STRING2_SMALL_GET32
 (
§c
, 0), \

234 
__exãnsi⁄__
 
	`__STRING2_SMALL_GET32
 (
§c
, 4)

	)

236 
__STRING_INLINE
 *
__memp˝y_smÆl
 (*, , , , ,

237 
__uöt16_t
, __uöt16_t, 
__uöt32_t
,

238 
__uöt32_t
, 
size_t
);

239 
__STRING_INLINE
 *

240 
	$__memp˝y_smÆl
 (*
__de°1
,

241 
__§c0_1
, 
__§c2_1
, 
__§c4_1
, 
__§c6_1
,

242 
__uöt16_t
 
__§c0_2
, __uöt16_à
__§c4_2
,

243 
__uöt32_t
 
__§c0_4
, __uöt32_à
__§c4_4
,

244 
size_t
 
__§˛í
)

247 
__uöt32_t
 
__ui
;

248 
__uöt16_t
 
__usi
;

249 
__uc
;

250 
__c
;

251 } *
__u
 = 
__de°1
;

252 (Ë
__§˛í
)

255 
__u
->
__c
 = 
__§c0_1
;

256 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 1);

259 
__u
->
__usi
 = 
__§c0_2
;

260 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 2);

263 
__u
->
__usi
 = 
__§c0_2
;

264 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 2);

265 
__u
->
__c
 = 
__§c2_1
;

266 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 1);

269 
__u
->
__ui
 = 
__§c0_4
;

270 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4);

273 
__u
->
__ui
 = 
__§c0_4
;

274 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4);

275 
__u
->
__c
 = 
__§c4_1
;

276 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 1);

279 
__u
->
__ui
 = 
__§c0_4
;

280 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4);

281 
__u
->
__usi
 = 
__§c4_2
;

282 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 2);

285 
__u
->
__ui
 = 
__§c0_4
;

286 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4);

287 
__u
->
__usi
 = 
__§c4_2
;

288 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 2);

289 
__u
->
__c
 = 
__§c6_1
;

290 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 1);

293 
__u
->
__ui
 = 
__§c0_4
;

294 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4);

295 
__u
->
__ui
 = 
__§c4_4
;

296 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4);

299  (*Ë
__u
;

300 
	}
}

302 #i‚de‡
_FORCE_INLINES


303 
	#__memp˝y_¨gs
(
§c
) \

304 ((c⁄° *Ë(
§c
))[0], \

305 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR2
) \

306 { { ((c⁄° *Ë(
§c
))[0], ((const *) (src))[1] } }), \

307 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR3
) \

308 { { ((c⁄° *Ë(
§c
))[0], ((const *) (src))[1], \

309 ((c⁄° *Ë(
§c
))[2] } }), \

310 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR4
) \

311 { { ((c⁄° *Ë(
§c
))[0], ((const *) (src))[1], \

312 ((c⁄° *Ë(
§c
))[2], ((const *) (src))[3] } }), \

313 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR5
) \

314 { { ((c⁄° *Ë(
§c
))[0], ((const *) (src))[1], \

315 ((c⁄° *Ë(
§c
))[2], ((const *) (src))[3], \

316 ((c⁄° *Ë(
§c
))[4] } }), \

317 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR6
) \

318 { { ((c⁄° *Ë(
§c
))[0], ((const *) (src))[1], \

319 ((c⁄° *Ë(
§c
))[2], ((const *) (src))[3], \

320 ((c⁄° *Ë(
§c
))[4], ((const *) (src))[5] } }), \

321 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR7
) \

322 { { ((c⁄° *Ë(
§c
))[0], ((const *) (src))[1], \

323 ((c⁄° *Ë(
§c
))[2], ((const *) (src))[3], \

324 ((c⁄° *Ë(
§c
))[4], ((const *) (src))[5], \

325 ((c⁄° *Ë(
§c
))[6] } }), \

326 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR8
) \

327 { { ((c⁄° *Ë(
§c
))[0], ((const *) (src))[1], \

328 ((c⁄° *Ë(
§c
))[2], ((const *) (src))[3], \

329 ((c⁄° *Ë(
§c
))[4], ((const *) (src))[5], \

330 ((c⁄° *Ë(
§c
))[6], ((c⁄° *Ë(§c))[7] } })

	)

332 
__STRING_INLINE
 *
__memp˝y_smÆl
 (*, , 
__STRING2_COPY_ARR2
,

333 
__STRING2_COPY_ARR3
,

334 
__STRING2_COPY_ARR4
,

335 
__STRING2_COPY_ARR5
,

336 
__STRING2_COPY_ARR6
,

337 
__STRING2_COPY_ARR7
,

338 
__STRING2_COPY_ARR8
, 
size_t
);

339 
__STRING_INLINE
 *

340 
	$__memp˝y_smÆl
 (*
__de°
, 
__§c1
,

341 
__STRING2_COPY_ARR2
 
__§c2
, 
__STRING2_COPY_ARR3
 
__§c3
,

342 
__STRING2_COPY_ARR4
 
__§c4
, 
__STRING2_COPY_ARR5
 
__§c5
,

343 
__STRING2_COPY_ARR6
 
__§c6
, 
__STRING2_COPY_ARR7
 
__§c7
,

344 
__STRING2_COPY_ARR8
 
__§c8
, 
size_t
 
__§˛í
)

347 
__c
;

348 
__STRING2_COPY_ARR2
 
__sˇ2
;

349 
__STRING2_COPY_ARR3
 
__sˇ3
;

350 
__STRING2_COPY_ARR4
 
__sˇ4
;

351 
__STRING2_COPY_ARR5
 
__sˇ5
;

352 
__STRING2_COPY_ARR6
 
__sˇ6
;

353 
__STRING2_COPY_ARR7
 
__sˇ7
;

354 
__STRING2_COPY_ARR8
 
__sˇ8
;

355 } *
__u
 = 
__de°
;

356 (Ë
__§˛í
)

359 
__u
->
__c
 = 
__§c1
;

362 
__exãnsi⁄__
 
__u
->
__sˇ2
 = 
__§c2
;

365 
__exãnsi⁄__
 
__u
->
__sˇ3
 = 
__§c3
;

368 
__exãnsi⁄__
 
__u
->
__sˇ4
 = 
__§c4
;

371 
__exãnsi⁄__
 
__u
->
__sˇ5
 = 
__§c5
;

374 
__exãnsi⁄__
 
__u
->
__sˇ6
 = 
__§c6
;

377 
__exãnsi⁄__
 
__u
->
__sˇ7
 = 
__§c7
;

380 
__exãnsi⁄__
 
__u
->
__sˇ8
 = 
__§c8
;

383  
	`__exãnsi⁄__
 ((*Ë
__u
 + 
__§˛í
);

384 
	}
}

392 #i‚de‡
_HAVE_STRING_ARCH_°rchr


393 *
__øwmemchr
 (c⁄° *
__s
, 
__c
);

394 #i‡
__GNUC_PREREQ
 (3, 2)

395 
	#°rchr
(
s
, 
c
) \

396 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
c
Ë&& !__buûtö_c⁄°™t_∞(
s
) \

397 && (
c
) == '\0' \

398 ? (*Ë
	`__øwmemchr
 (
s
, 
c
) \

399 : 
	`__buûtö_°rchr
 (
s
, 
c
)))

	)

401 
	#°rchr
(
s
, 
c
) \

402 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
c
) && (c) == '\0' \

403 ? (*Ë
	`__øwmemchr
 (
s
, 
c
) \

404 : 
	`°rchr
 (
s
, 
c
)))

	)

410 #i‡(!
deföed
 
_HAVE_STRING_ARCH_°r˝y
 && !
__GNUC_PREREQ
 (3, 0)) \

411 || 
deföed
 
	g_FORCE_INLINES


412 #i‡!
deföed
 
_HAVE_STRING_ARCH_°r˝y
 && !
__GNUC_PREREQ
 (3, 0)

413 
	#°r˝y
(
de°
, 
§c
) \

414 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
§c
) \

415 ? (
	`__°rög2_1b±r_p
 (
§c
Ë&& 
	`°æí
 (src) + 1 <= 8 \

416 ? 
	`__°r˝y_smÆl
 (
de°
, 
	`__°r˝y_¨gs
 (
§c
), \

417 
	`°æí
 (
§c
) + 1) \

418 : (*Ë
	`mem˝y
 (
de°
, 
§c
, 
	`°æí
 (src) + 1)) \

419 : 
	`°r˝y
 (
de°
, 
§c
)))

	)

422 #i‡
_STRING_ARCH_u«lig√d


423 #i‚de‡
_FORCE_INLINES


424 
	#__°r˝y_¨gs
(
§c
) \

425 
__exãnsi⁄__
 
	`__STRING2_SMALL_GET16
 (
§c
, 0), \

426 
__exãnsi⁄__
 
	`__STRING2_SMALL_GET16
 (
§c
, 4), \

427 
__exãnsi⁄__
 
	`__STRING2_SMALL_GET32
 (
§c
, 0), \

428 
__exãnsi⁄__
 
	`__STRING2_SMALL_GET32
 (
§c
, 4)

	)

430 
__STRING_INLINE
 *
__°r˝y_smÆl
 (*, 
__uöt16_t
, __uint16_t,

431 
__uöt32_t
, __uöt32_t, 
size_t
);

432 
__STRING_INLINE
 *

433 
	$__°r˝y_smÆl
 (*
__de°
,

434 
__uöt16_t
 
__§c0_2
, __uöt16_à
__§c4_2
,

435 
__uöt32_t
 
__§c0_4
, __uöt32_à
__§c4_4
,

436 
size_t
 
__§˛í
)

439 
__uöt32_t
 
__ui
;

440 
__uöt16_t
 
__usi
;

441 
__uc
;

442 } *
__u
 = (*Ë
__de°
;

443 (Ë
__§˛í
)

446 
__u
->
__uc
 = '\0';

449 
__u
->
__usi
 = 
__§c0_2
;

452 
__u
->
__usi
 = 
__§c0_2
;

453 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 2);

454 
__u
->
__uc
 = '\0';

457 
__u
->
__ui
 = 
__§c0_4
;

460 
__u
->
__ui
 = 
__§c0_4
;

461 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4);

462 
__u
->
__uc
 = '\0';

465 
__u
->
__ui
 = 
__§c0_4
;

466 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4);

467 
__u
->
__usi
 = 
__§c4_2
;

470 
__u
->
__ui
 = 
__§c0_4
;

471 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4);

472 
__u
->
__usi
 = 
__§c4_2
;

473 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 2);

474 
__u
->
__uc
 = '\0';

477 
__u
->
__ui
 = 
__§c0_4
;

478 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4);

479 
__u
->
__ui
 = 
__§c4_4
;

482  
__de°
;

483 
	}
}

485 #i‚de‡
_FORCE_INLINES


486 
	#__°r˝y_¨gs
(
§c
) \

487 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR2
) \

488 { { ((c⁄° *Ë(
§c
))[0], '\0' } }), \

489 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR3
) \

490 { { ((c⁄° *Ë(
§c
))[0], ((const *) (src))[1], \

492 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR4
) \

493 { { ((c⁄° *Ë(
§c
))[0], ((const *) (src))[1], \

494 ((c⁄° *Ë(
§c
))[2], '\0' } }), \

495 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR5
) \

496 { { ((c⁄° *Ë(
§c
))[0], ((const *) (src))[1], \

497 ((c⁄° *Ë(
§c
))[2], ((const *) (src))[3], \

499 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR6
) \

500 { { ((c⁄° *Ë(
§c
))[0], ((const *) (src))[1], \

501 ((c⁄° *Ë(
§c
))[2], ((const *) (src))[3], \

502 ((c⁄° *Ë(
§c
))[4], '\0' } }), \

503 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR7
) \

504 { { ((c⁄° *Ë(
§c
))[0], ((const *) (src))[1], \

505 ((c⁄° *Ë(
§c
))[2], ((const *) (src))[3], \

506 ((c⁄° *Ë(
§c
))[4], ((const *) (src))[5], \

508 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR8
) \

509 { { ((c⁄° *Ë(
§c
))[0], ((const *) (src))[1], \

510 ((c⁄° *Ë(
§c
))[2], ((const *) (src))[3], \

511 ((c⁄° *Ë(
§c
))[4], ((const *) (src))[5], \

512 ((c⁄° *Ë(
§c
))[6], '\0' } })

	)

514 
__STRING_INLINE
 *
__°r˝y_smÆl
 (*, 
__STRING2_COPY_ARR2
,

515 
__STRING2_COPY_ARR3
,

516 
__STRING2_COPY_ARR4
,

517 
__STRING2_COPY_ARR5
,

518 
__STRING2_COPY_ARR6
,

519 
__STRING2_COPY_ARR7
,

520 
__STRING2_COPY_ARR8
, 
size_t
);

521 
__STRING_INLINE
 *

522 
	$__°r˝y_smÆl
 (*
__de°
,

523 
__STRING2_COPY_ARR2
 
__§c2
, 
__STRING2_COPY_ARR3
 
__§c3
,

524 
__STRING2_COPY_ARR4
 
__§c4
, 
__STRING2_COPY_ARR5
 
__§c5
,

525 
__STRING2_COPY_ARR6
 
__§c6
, 
__STRING2_COPY_ARR7
 
__§c7
,

526 
__STRING2_COPY_ARR8
 
__§c8
, 
size_t
 
__§˛í
)

529 
__c
;

530 
__STRING2_COPY_ARR2
 
__sˇ2
;

531 
__STRING2_COPY_ARR3
 
__sˇ3
;

532 
__STRING2_COPY_ARR4
 
__sˇ4
;

533 
__STRING2_COPY_ARR5
 
__sˇ5
;

534 
__STRING2_COPY_ARR6
 
__sˇ6
;

535 
__STRING2_COPY_ARR7
 
__sˇ7
;

536 
__STRING2_COPY_ARR8
 
__sˇ8
;

537 } *
__u
 = (*Ë
__de°
;

538 (Ë
__§˛í
)

541 
__u
->
__c
 = '\0';

544 
__exãnsi⁄__
 
__u
->
__sˇ2
 = 
__§c2
;

547 
__exãnsi⁄__
 
__u
->
__sˇ3
 = 
__§c3
;

550 
__exãnsi⁄__
 
__u
->
__sˇ4
 = 
__§c4
;

553 
__exãnsi⁄__
 
__u
->
__sˇ5
 = 
__§c5
;

556 
__exãnsi⁄__
 
__u
->
__sˇ6
 = 
__§c6
;

559 
__exãnsi⁄__
 
__u
->
__sˇ7
 = 
__§c7
;

562 
__exãnsi⁄__
 
__u
->
__sˇ8
 = 
__§c8
;

565  
__de°
;

566 
	}
}

572 #ifde‡
__USE_GNU


573 #i‡!
deföed
 
_HAVE_STRING_ARCH_°p˝y
 || deföed 
_FORCE_INLINES


574 #i‚de‡
_HAVE_STRING_ARCH_°p˝y


575 #i‡
__GNUC_PREREQ
 (3, 4)

576 
	#__°p˝y
(
de°
, 
§c
Ë
	`__buûtö_°p˝y
 (de°, src)

	)

577 #ñi‡
__GNUC_PREREQ
 (3, 0)

578 
	#__°p˝y
(
de°
, 
§c
) \

579 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
§c
) \

580 ? (
	`__°rög2_1b±r_p
 (
§c
Ë&& 
	`°æí
 (src) + 1 <= 8 \

581 ? 
	`__buûtö_°r˝y
 (
de°
, 
§c
Ë+ 
	`°æí
 (src) \

582 : ((*Ë(
__memp˝y
Ë(
de°
, 
§c
, 
	`°æí
 (src) + 1) \

584 : 
	`__°p˝y
 (
de°
, 
§c
)))

	)

586 
	#__°p˝y
(
de°
, 
§c
) \

587 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
§c
) \

588 ? (
	`__°rög2_1b±r_p
 (
§c
Ë&& 
	`°æí
 (src) + 1 <= 8 \

589 ? 
	`__°p˝y_smÆl
 (
de°
, 
	`__°p˝y_¨gs
 (
§c
), \

590 
	`°æí
 (
§c
) + 1) \

591 : ((*Ë(
__memp˝y
Ë(
de°
, 
§c
, 
	`°æí
 (src) + 1) \

593 : 
	`__°p˝y
 (
de°
, 
§c
)))

	)

597 
	#°p˝y
(
de°
, 
§c
Ë
	`__°p˝y
 (de°, src)

	)

600 #i‡!
__GNUC_PREREQ
 (3, 0Ë|| 
deföed
 
_FORCE_INLINES


601 #i‡
_STRING_ARCH_u«lig√d


602 #i‚de‡
_FORCE_INLINES


603 
	#__°p˝y_¨gs
(
§c
) \

604 
__exãnsi⁄__
 
	`__STRING2_SMALL_GET16
 (
§c
, 0), \

605 
__exãnsi⁄__
 
	`__STRING2_SMALL_GET16
 (
§c
, 4), \

606 
__exãnsi⁄__
 
	`__STRING2_SMALL_GET32
 (
§c
, 0), \

607 
__exãnsi⁄__
 
	`__STRING2_SMALL_GET32
 (
§c
, 4)

	)

609 
__STRING_INLINE
 *
__°p˝y_smÆl
 (*, 
__uöt16_t
, __uint16_t,

610 
__uöt32_t
, __uöt32_t, 
size_t
);

611 
__STRING_INLINE
 *

612 
	$__°p˝y_smÆl
 (*
__de°
,

613 
__uöt16_t
 
__§c0_2
, __uöt16_à
__§c4_2
,

614 
__uöt32_t
 
__§c0_4
, __uöt32_à
__§c4_4
,

615 
size_t
 
__§˛í
)

618 
__ui
;

619 
__usi
;

620 
__uc
;

621 
__c
;

622 } *
__u
 = (*Ë
__de°
;

623 (Ë
__§˛í
)

626 
__u
->
__uc
 = '\0';

629 
__u
->
__usi
 = 
__§c0_2
;

630 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 1);

633 
__u
->
__usi
 = 
__§c0_2
;

634 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 2);

635 
__u
->
__uc
 = '\0';

638 
__u
->
__ui
 = 
__§c0_4
;

639 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 3);

642 
__u
->
__ui
 = 
__§c0_4
;

643 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4);

644 
__u
->
__uc
 = '\0';

647 
__u
->
__ui
 = 
__§c0_4
;

648 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4);

649 
__u
->
__usi
 = 
__§c4_2
;

650 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 1);

653 
__u
->
__ui
 = 
__§c0_4
;

654 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4);

655 
__u
->
__usi
 = 
__§c4_2
;

656 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 2);

657 
__u
->
__uc
 = '\0';

660 
__u
->
__ui
 = 
__§c0_4
;

661 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4);

662 
__u
->
__ui
 = 
__§c4_4
;

663 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 3);

666  &
__u
->
__c
;

667 
	}
}

669 #i‚de‡
_FORCE_INLINES


670 
	#__°p˝y_¨gs
(
§c
) \

671 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR2
) \

672 { { ((c⁄° *Ë(
§c
))[0], '\0' } }), \

673 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR3
) \

674 { { ((c⁄° *Ë(
§c
))[0], ((const *) (src))[1], \

676 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR4
) \

677 { { ((c⁄° *Ë(
§c
))[0], ((const *) (src))[1], \

678 ((c⁄° *Ë(
§c
))[2], '\0' } }), \

679 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR5
) \

680 { { ((c⁄° *Ë(
§c
))[0], ((const *) (src))[1], \

681 ((c⁄° *Ë(
§c
))[2], ((const *) (src))[3], \

683 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR6
) \

684 { { ((c⁄° *Ë(
§c
))[0], ((const *) (src))[1], \

685 ((c⁄° *Ë(
§c
))[2], ((const *) (src))[3], \

686 ((c⁄° *Ë(
§c
))[4], '\0' } }), \

687 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR7
) \

688 { { ((c⁄° *Ë(
§c
))[0], ((const *) (src))[1], \

689 ((c⁄° *Ë(
§c
))[2], ((const *) (src))[3], \

690 ((c⁄° *Ë(
§c
))[4], ((const *) (src))[5], \

692 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR8
) \

693 { { ((c⁄° *Ë(
§c
))[0], ((const *) (src))[1], \

694 ((c⁄° *Ë(
§c
))[2], ((const *) (src))[3], \

695 ((c⁄° *Ë(
§c
))[4], ((const *) (src))[5], \

696 ((c⁄° *Ë(
§c
))[6], '\0' } })

	)

698 
__STRING_INLINE
 *
__°p˝y_smÆl
 (*, 
__STRING2_COPY_ARR2
,

699 
__STRING2_COPY_ARR3
,

700 
__STRING2_COPY_ARR4
,

701 
__STRING2_COPY_ARR5
,

702 
__STRING2_COPY_ARR6
,

703 
__STRING2_COPY_ARR7
,

704 
__STRING2_COPY_ARR8
, 
size_t
);

705 
__STRING_INLINE
 *

706 
	$__°p˝y_smÆl
 (*
__de°
,

707 
__STRING2_COPY_ARR2
 
__§c2
, 
__STRING2_COPY_ARR3
 
__§c3
,

708 
__STRING2_COPY_ARR4
 
__§c4
, 
__STRING2_COPY_ARR5
 
__§c5
,

709 
__STRING2_COPY_ARR6
 
__§c6
, 
__STRING2_COPY_ARR7
 
__§c7
,

710 
__STRING2_COPY_ARR8
 
__§c8
, 
size_t
 
__§˛í
)

713 
__c
;

714 
__STRING2_COPY_ARR2
 
__sˇ2
;

715 
__STRING2_COPY_ARR3
 
__sˇ3
;

716 
__STRING2_COPY_ARR4
 
__sˇ4
;

717 
__STRING2_COPY_ARR5
 
__sˇ5
;

718 
__STRING2_COPY_ARR6
 
__sˇ6
;

719 
__STRING2_COPY_ARR7
 
__sˇ7
;

720 
__STRING2_COPY_ARR8
 
__sˇ8
;

721 } *
__u
 = (*Ë
__de°
;

722 (Ë
__§˛í
)

725 
__u
->
__c
 = '\0';

728 
__exãnsi⁄__
 
__u
->
__sˇ2
 = 
__§c2
;

731 
__exãnsi⁄__
 
__u
->
__sˇ3
 = 
__§c3
;

734 
__exãnsi⁄__
 
__u
->
__sˇ4
 = 
__§c4
;

737 
__exãnsi⁄__
 
__u
->
__sˇ5
 = 
__§c5
;

740 
__exãnsi⁄__
 
__u
->
__sˇ6
 = 
__§c6
;

743 
__exãnsi⁄__
 
__u
->
__sˇ7
 = 
__§c7
;

746 
__exãnsi⁄__
 
__u
->
__sˇ8
 = 
__§c8
;

749  
__de°
 + 
__§˛í
 - 1;

750 
	}
}

758 #i‚de‡
_HAVE_STRING_ARCH_°∫˝y


759 #i‡
__GNUC_PREREQ
 (3, 2)

760 
	#°∫˝y
(
de°
, 
§c
, 
n
Ë
	`__buûtö_°∫˝y
 (de°, src,Ç)

	)

762 
	#°∫˝y
(
de°
, 
§c
, 
n
) \

763 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
§c
Ë&& __buûtö_c⁄°™t_∞(
n
) \

764 ? (
	`°æí
 (
§c
Ë+ 1 >((
size_t
Ë(
n
)) \

765 ? (*Ë
	`mem˝y
 (
de°
, 
§c
, 
n
) \

766 : 
	`°∫˝y
 (
de°
, 
§c
, 
n
)) \

767 : 
	`°∫˝y
 (
de°
, 
§c
, 
n
)))

	)

773 #i‚de‡
_HAVE_STRING_ARCH_°∫ˇt


774 #ifde‡
_USE_STRING_ARCH_°rchr


775 
	#°∫ˇt
(
de°
, 
§c
, 
n
) \

776 (
	`__exãnsi⁄__
 ({ *
__de°
 = (
de°
); \

777 
	`__buûtö_c⁄°™t_p
 (
§c
Ë&& __buûtö_c⁄°™t_∞(
n
) \

778 ? (
	`°æí
 (
§c
Ë< ((
size_t
Ë(
n
)) \

779 ? 
	`°rˇt
 (
__de°
, 
§c
) \

780 : (*((*Ë
	`__memp˝y
 (
	`°rchr
 (
__de°
, '\0'), \

781 
§c
, 
n
)Ë'\0', 
__de°
)) \

782 : 
	`°∫ˇt
 (
de°
, 
§c
, 
n
); }))

	)

783 #ñi‡
__GNUC_PREREQ
 (3, 2)

784 
	#°∫ˇt
(
de°
, 
§c
, 
n
Ë
	`__buûtö_°∫ˇt
 (de°, src,Ç)

	)

786 
	#°∫ˇt
(
de°
, 
§c
, 
n
) \

787 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
§c
Ë&& __buûtö_c⁄°™t_∞(
n
) \

788 ? (
	`°æí
 (
§c
Ë< ((
size_t
Ë(
n
)) \

789 ? 
	`°rˇt
 (
de°
, 
§c
) \

790 : 
	`°∫ˇt
 (
de°
, 
§c
, 
n
)) \

791 : 
	`°∫ˇt
 (
de°
, 
§c
, 
n
)))

	)

797 #i‚de‡
_HAVE_STRING_ARCH_°rcmp


798 #i‡
__GNUC_PREREQ
 (3, 2)

799 
	#°rcmp
(
s1
, 
s2
) \

800 
__exãnsi⁄__
 \

801 ({ 
size_t
 
__s1_Àn
, 
__s2_Àn
; \

802 (
	`__buûtö_c⁄°™t_p
 (
s1
Ë&& __buûtö_c⁄°™t_∞(
s2
) \

803 && (
__s1_Àn
 = 
	`°æí
 (
s1
), 
__s2_Àn
 = såÀ¿(
s2
), \

804 (!
	`__°rög2_1b±r_p
 (
s1
Ë|| 
__s1_Àn
 >= 4) \

805 && (!
	`__°rög2_1b±r_p
 (
s2
Ë|| 
__s2_Àn
 >= 4)) \

806 ? 
	`__buûtö_°rcmp
 (
s1
, 
s2
) \

807 : (
	`__buûtö_c⁄°™t_p
 (
s1
Ë&& 
	`__°rög2_1b±r_p
 (s1) \

808 && (
__s1_Àn
 = 
	`°æí
 (
s1
), __s1_len < 4) \

809 ? (
	`__buûtö_c⁄°™t_p
 (
s2
Ë&& 
	`__°rög2_1b±r_p
 (s2) \

810 ? 
	`__buûtö_°rcmp
 (
s1
, 
s2
) \

811 : 
	`__°rcmp_cg
 (
s1
, 
s2
, 
__s1_Àn
)) \

812 : (
	`__buûtö_c⁄°™t_p
 (
s2
Ë&& 
	`__°rög2_1b±r_p
 (s2) \

813 && (
__s2_Àn
 = 
	`°æí
 (
s2
), __s2_len < 4) \

814 ? (
	`__buûtö_c⁄°™t_p
 (
s1
Ë&& 
	`__°rög2_1b±r_p
 (s1) \

815 ? 
	`__buûtö_°rcmp
 (
s1
, 
s2
) \

816 : 
	`__°rcmp_gc
 (
s1
, 
s2
, 
__s2_Àn
)) \

817 : 
	`__buûtö_°rcmp
 (
s1
, 
s2
)))); })

	)

819 
	#°rcmp
(
s1
, 
s2
) \

820 
__exãnsi⁄__
 \

821 ({ 
size_t
 
__s1_Àn
, 
__s2_Àn
; \

822 (
	`__buûtö_c⁄°™t_p
 (
s1
Ë&& __buûtö_c⁄°™t_∞(
s2
) \

823 && (
__s1_Àn
 = 
	`°æí
 (
s1
), 
__s2_Àn
 = såÀ¿(
s2
), \

824 (!
	`__°rög2_1b±r_p
 (
s1
Ë|| 
__s1_Àn
 >= 4) \

825 && (!
	`__°rög2_1b±r_p
 (
s2
Ë|| 
__s2_Àn
 >= 4)) \

826 ? 
	`memcmp
 ((c⁄° *Ë(
s1
), (c⁄° *Ë(
s2
), \

827 (
__s1_Àn
 < 
__s2_Àn
 ? __s1_len : __s2_len) + 1) \

828 : (
	`__buûtö_c⁄°™t_p
 (
s1
Ë&& 
	`__°rög2_1b±r_p
 (s1) \

829 && (
__s1_Àn
 = 
	`°æí
 (
s1
), __s1_len < 4) \

830 ? (
	`__buûtö_c⁄°™t_p
 (
s2
Ë&& 
	`__°rög2_1b±r_p
 (s2) \

831 ? 
	`__°rcmp_cc
 (
s1
, 
s2
, 
__s1_Àn
) \

832 : 
	`__°rcmp_cg
 (
s1
, 
s2
, 
__s1_Àn
)) \

833 : (
	`__buûtö_c⁄°™t_p
 (
s2
Ë&& 
	`__°rög2_1b±r_p
 (s2) \

834 && (
__s2_Àn
 = 
	`°æí
 (
s2
), __s2_len < 4) \

835 ? (
	`__buûtö_c⁄°™t_p
 (
s1
Ë&& 
	`__°rög2_1b±r_p
 (s1) \

836 ? 
	`__°rcmp_cc
 (
s1
, 
s2
, 
__s2_Àn
) \

837 : 
	`__°rcmp_gc
 (
s1
, 
s2
, 
__s2_Àn
)) \

838 : 
	`°rcmp
 (
s1
, 
s2
)))); })

	)

841 
	#__°rcmp_cc
(
s1
, 
s2
, 
l
) \

842 (
	`__exãnsi⁄__
 ({ 
__ªsu…
 = \

843 (((c⁄° *Ë(c⁄° *Ë(
s1
))[0] \

844 - ((c⁄° *Ë(c⁄° *)(
s2
))[0]); \

845 i‡(
l
 > 0 && 
__ªsu…
 == 0) \

847 
__ªsu…
 = (((const *) \

848 (c⁄° *Ë(
s1
))[1] \

850 (c⁄° *Ë(
s2
))[1]); \

851 i‡(
l
 > 1 && 
__ªsu…
 == 0) \

853 
__ªsu…
 = \

855 (c⁄° *Ë(
s1
))[2] \

857 (c⁄° *Ë(
s2
))[2]); \

858 i‡(
l
 > 2 && 
__ªsu…
 == 0) \

859 
__ªsu…
 = \

861 (c⁄° *Ë(
s1
))[3] \

863 (c⁄° *Ë(
s2
))[3]); \

866 
__ªsu…
; }))

	)

868 
	#__°rcmp_cg
(
s1
, 
s2
, 
l1
) \

869 (
	`__exãnsi⁄__
 ({ c⁄° *
__s2
 = \

870 (c⁄° *Ë(c⁄° *Ë(
s2
); \

871 
__ªsu…
 = \

872 (((c⁄° *Ë(c⁄° *Ë(
s1
))[0] \

873 - 
__s2
[0]); \

874 i‡(
l1
 > 0 && 
__ªsu…
 == 0) \

876 
__ªsu…
 = (((const *) \

877 (c⁄° *Ë(
s1
))[1] - 
__s2
[1]); \

878 i‡(
l1
 > 1 && 
__ªsu…
 == 0) \

880 
__ªsu…
 = (((const *) \

881 (c⁄° *Ë(
s1
))[2] - 
__s2
[2]); \

882 i‡(
l1
 > 2 && 
__ªsu…
 == 0) \

883 
__ªsu…
 = (((const *) \

884 (c⁄° *Ë(
s1
))[3] \

885 - 
__s2
[3]); \

888 
__ªsu…
; }))

	)

890 
	#__°rcmp_gc
(
s1
, 
s2
, 
l2
) \

891 (
	`__exãnsi⁄__
 ({ c⁄° *
__s1
 = \

892 (c⁄° *Ë(c⁄° *Ë(
s1
); \

893 
__ªsu…
 = \

894 
__s1
[0] - ((const *) \

895 (c⁄° *Ë(
s2
))[0]; \

896 i‡(
l2
 > 0 && 
__ªsu…
 == 0) \

898 
__ªsu…
 = (
__s1
[1] \

900 (c⁄° *Ë(
s2
))[1]); \

901 i‡(
l2
 > 1 && 
__ªsu…
 == 0) \

903 
__ªsu…
 = \

904 (
__s1
[2] - ((const *) \

905 (c⁄° *Ë(
s2
))[2]); \

906 i‡(
l2
 > 2 && 
__ªsu…
 == 0) \

907 
__ªsu…
 = \

908 (
__s1
[3] \

910 (c⁄° *Ë(
s2
))[3]); \

913 
__ªsu…
; }))

	)

918 #i‚de‡
_HAVE_STRING_ARCH_°∫cmp


919 
	#°∫cmp
(
s1
, 
s2
, 
n
) \

920 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
n
) \

921 && ((
	`__buûtö_c⁄°™t_p
 (
s1
) \

922 && 
	`°æí
 (
s1
Ë< ((
size_t
Ë(
n
))) \

923 || (
	`__buûtö_c⁄°™t_p
 (
s2
) \

924 && 
	`°æí
 (
s2
Ë< ((
size_t
Ë(
n
)))) \

925 ? 
	`°rcmp
 (
s1
, 
s2
Ë: 
	`°∫cmp
 (s1, s2, 
n
)))

	)

931 #i‡!
deföed
 
_HAVE_STRING_ARCH_°rc•n
 || deföed 
_FORCE_INLINES


932 #i‚de‡
_HAVE_STRING_ARCH_°rc•n


933 #i‡
__GNUC_PREREQ
 (3, 2)

934 
	#°rc•n
(
s
, 
ªje˘
) \

935 
__exãnsi⁄__
 \

936 ({ 
__r0
, 
__r1
, 
__r2
; \

937 (
	`__buûtö_c⁄°™t_p
 (
ªje˘
Ë&& 
	`__°rög2_1b±r_p
 (reject) \

938 ? ((
	`__buûtö_c⁄°™t_p
 (
s
Ë&& 
	`__°rög2_1b±r_p
 (s)) \

939 ? 
	`__buûtö_°rc•n
 (
s
, 
ªje˘
) \

940 : ((
__r0
 = ((c⁄° *Ë(
ªje˘
))[0], __r0 == '\0') \

941 ? 
	`°æí
 (
s
) \

942 : ((
__r1
 = ((c⁄° *Ë(
ªje˘
))[1], __r1 == '\0') \

943 ? 
	`__°rc•n_c1
 (
s
, 
__r0
) \

944 : ((
__r2
 = ((c⁄° *Ë(
ªje˘
))[2], __r2 == '\0') \

945 ? 
	`__°rc•n_c2
 (
s
, 
__r0
, 
__r1
) \

946 : (((c⁄° *Ë(
ªje˘
))[3] == '\0' \

947 ? 
	`__°rc•n_c3
 (
s
, 
__r0
, 
__r1
, 
__r2
) \

948 : 
	`__buûtö_°rc•n
 (
s
, 
ªje˘
)))))) \

949 : 
	`__buûtö_°rc•n
 (
s
, 
ªje˘
)); })

	)

951 
	#°rc•n
(
s
, 
ªje˘
) \

952 
__exãnsi⁄__
 \

953 ({ 
__r0
, 
__r1
, 
__r2
; \

954 (
	`__buûtö_c⁄°™t_p
 (
ªje˘
Ë&& 
	`__°rög2_1b±r_p
 (reject) \

955 ? ((
__r0
 = ((c⁄° *Ë(
ªje˘
))[0], __r0 == '\0') \

956 ? 
	`°æí
 (
s
) \

957 : ((
__r1
 = ((c⁄° *Ë(
ªje˘
))[1], __r1 == '\0') \

958 ? 
	`__°rc•n_c1
 (
s
, 
__r0
) \

959 : ((
__r2
 = ((c⁄° *Ë(
ªje˘
))[2], __r2 == '\0') \

960 ? 
	`__°rc•n_c2
 (
s
, 
__r0
, 
__r1
) \

961 : (((c⁄° *Ë(
ªje˘
))[3] == '\0' \

962 ? 
	`__°rc•n_c3
 (
s
, 
__r0
, 
__r1
, 
__r2
) \

963 : 
	`°rc•n
 (
s
, 
ªje˘
))))) \

964 : 
	`°rc•n
 (
s
, 
ªje˘
)); })

	)

968 
__STRING_INLINE
 
size_t
 
__°rc•n_c1
 (c⁄° *
__s
, 
__ªje˘
);

969 
__STRING_INLINE
 
size_t


970 
	$__°rc•n_c1
 (c⁄° *
__s
, 
__ªje˘
)

972 
size_t
 
__ªsu…
 = 0;

973 
__s
[
__ªsu…
] !'\0' && __s[__ªsu…] !
__ªje˘
)

974 ++
__ªsu…
;

975  
__ªsu…
;

976 
	}
}

978 
__STRING_INLINE
 
size_t
 
__°rc•n_c2
 (c⁄° *
__s
, 
__ªje˘1
,

979 
__ªje˘2
);

980 
__STRING_INLINE
 
size_t


981 
	$__°rc•n_c2
 (c⁄° *
__s
, 
__ªje˘1
, 
__ªje˘2
)

983 
size_t
 
__ªsu…
 = 0;

984 
__s
[
__ªsu…
] !'\0' && __s[__ªsu…] !
__ªje˘1


985 && 
__s
[
__ªsu…
] !
__ªje˘2
)

986 ++
__ªsu…
;

987  
__ªsu…
;

988 
	}
}

990 
__STRING_INLINE
 
size_t
 
__°rc•n_c3
 (c⁄° *
__s
, 
__ªje˘1
,

991 
__ªje˘2
, 
__ªje˘3
);

992 
__STRING_INLINE
 
size_t


993 
	$__°rc•n_c3
 (c⁄° *
__s
, 
__ªje˘1
, 
__ªje˘2
,

994 
__ªje˘3
)

996 
size_t
 
__ªsu…
 = 0;

997 
__s
[
__ªsu…
] !'\0' && __s[__ªsu…] !
__ªje˘1


998 && 
__s
[
__ªsu…
] !
__ªje˘2
 && __s[__ªsu…] !
__ªje˘3
)

999 ++
__ªsu…
;

1000  
__ªsu…
;

1001 
	}
}

1007 #i‡!
deföed
 
_HAVE_STRING_ARCH_°r•n
 || deföed 
_FORCE_INLINES


1008 #i‚de‡
_HAVE_STRING_ARCH_°r•n


1009 #i‡
__GNUC_PREREQ
 (3, 2)

1010 
	#°r•n
(
s
, 
ac˚±
) \

1011 
__exãnsi⁄__
 \

1012 ({ 
__a0
, 
__a1
, 
__a2
; \

1013 (
	`__buûtö_c⁄°™t_p
 (
ac˚±
Ë&& 
	`__°rög2_1b±r_p
 (accept) \

1014 ? ((
	`__buûtö_c⁄°™t_p
 (
s
Ë&& 
	`__°rög2_1b±r_p
 (s)) \

1015 ? 
	`__buûtö_°r•n
 (
s
, 
ac˚±
) \

1016 : ((
__a0
 = ((c⁄° *Ë(
ac˚±
))[0], __a0 == '\0') \

1017 ? ((Ë(
s
), (
size_t
) 0) \

1018 : ((
__a1
 = ((c⁄° *Ë(
ac˚±
))[1], __a1 == '\0') \

1019 ? 
	`__°r•n_c1
 (
s
, 
__a0
) \

1020 : ((
__a2
 = ((c⁄° *Ë(
ac˚±
))[2], __a2 == '\0') \

1021 ? 
	`__°r•n_c2
 (
s
, 
__a0
, 
__a1
) \

1022 : (((c⁄° *Ë(
ac˚±
))[3] == '\0' \

1023 ? 
	`__°r•n_c3
 (
s
, 
__a0
, 
__a1
, 
__a2
) \

1024 : 
	`__buûtö_°r•n
 (
s
, 
ac˚±
)))))) \

1025 : 
	`__buûtö_°r•n
 (
s
, 
ac˚±
)); })

	)

1027 
	#°r•n
(
s
, 
ac˚±
) \

1028 
__exãnsi⁄__
 \

1029 ({ 
__a0
, 
__a1
, 
__a2
; \

1030 (
	`__buûtö_c⁄°™t_p
 (
ac˚±
Ë&& 
	`__°rög2_1b±r_p
 (accept) \

1031 ? ((
__a0
 = ((c⁄° *Ë(
ac˚±
))[0], __a0 == '\0') \

1032 ? ((Ë(
s
), (
size_t
) 0) \

1033 : ((
__a1
 = ((c⁄° *Ë(
ac˚±
))[1], __a1 == '\0') \

1034 ? 
	`__°r•n_c1
 (
s
, 
__a0
) \

1035 : ((
__a2
 = ((c⁄° *Ë(
ac˚±
))[2], __a2 == '\0') \

1036 ? 
	`__°r•n_c2
 (
s
, 
__a0
, 
__a1
) \

1037 : (((c⁄° *Ë(
ac˚±
))[3] == '\0' \

1038 ? 
	`__°r•n_c3
 (
s
, 
__a0
, 
__a1
, 
__a2
) \

1039 : 
	`°r•n
 (
s
, 
ac˚±
))))) \

1040 : 
	`°r•n
 (
s
, 
ac˚±
)); })

	)

1044 
__STRING_INLINE
 
size_t
 
__°r•n_c1
 (c⁄° *
__s
, 
__ac˚±
);

1045 
__STRING_INLINE
 
size_t


1046 
	$__°r•n_c1
 (c⁄° *
__s
, 
__ac˚±
)

1048 
size_t
 
__ªsu…
 = 0;

1050 
__s
[
__ªsu…
] =
__ac˚±
)

1051 ++
__ªsu…
;

1052  
__ªsu…
;

1053 
	}
}

1055 
__STRING_INLINE
 
size_t
 
__°r•n_c2
 (c⁄° *
__s
, 
__ac˚±1
,

1056 
__ac˚±2
);

1057 
__STRING_INLINE
 
size_t


1058 
	$__°r•n_c2
 (c⁄° *
__s
, 
__ac˚±1
, 
__ac˚±2
)

1060 
size_t
 
__ªsu…
 = 0;

1062 
__s
[
__ªsu…
] =
__ac˚±1
 || __s[__ªsu…] =
__ac˚±2
)

1063 ++
__ªsu…
;

1064  
__ªsu…
;

1065 
	}
}

1067 
__STRING_INLINE
 
size_t
 
__°r•n_c3
 (c⁄° *
__s
, 
__ac˚±1
,

1068 
__ac˚±2
, 
__ac˚±3
);

1069 
__STRING_INLINE
 
size_t


1070 
	$__°r•n_c3
 (c⁄° *
__s
, 
__ac˚±1
, 
__ac˚±2
, 
__ac˚±3
)

1072 
size_t
 
__ªsu…
 = 0;

1074 
__s
[
__ªsu…
] =
__ac˚±1
 || __s[__ªsu…] =
__ac˚±2


1075 || 
__s
[
__ªsu…
] =
__ac˚±3
)

1076 ++
__ªsu…
;

1077  
__ªsu…
;

1078 
	}
}

1083 #i‡!
deföed
 
_HAVE_STRING_ARCH_°Ωbrk
 || deföed 
_FORCE_INLINES


1084 #i‚de‡
_HAVE_STRING_ARCH_°Ωbrk


1085 #i‡
__GNUC_PREREQ
 (3, 2)

1086 
	#°Ωbrk
(
s
, 
ac˚±
) \

1087 
__exãnsi⁄__
 \

1088 ({ 
__a0
, 
__a1
, 
__a2
; \

1089 (
	`__buûtö_c⁄°™t_p
 (
ac˚±
Ë&& 
	`__°rög2_1b±r_p
 (accept) \

1090 ? ((
	`__buûtö_c⁄°™t_p
 (
s
Ë&& 
	`__°rög2_1b±r_p
 (s)) \

1091 ? 
	`__buûtö_°Ωbrk
 (
s
, 
ac˚±
) \

1092 : ((
__a0
 = ((c⁄° *Ë(
ac˚±
))[0], __a0 == '\0') \

1093 ? ((Ë(
s
), (*Ë
NULL
) \

1094 : ((
__a1
 = ((c⁄° *Ë(
ac˚±
))[1], __a1 == '\0') \

1095 ? 
	`__buûtö_°rchr
 (
s
, 
__a0
) \

1096 : ((
__a2
 = ((c⁄° *Ë(
ac˚±
))[2], __a2 == '\0') \

1097 ? 
	`__°Ωbrk_c2
 (
s
, 
__a0
, 
__a1
) \

1098 : (((c⁄° *Ë(
ac˚±
))[3] == '\0' \

1099 ? 
	`__°Ωbrk_c3
 (
s
, 
__a0
, 
__a1
, 
__a2
) \

1100 : 
	`__buûtö_°Ωbrk
 (
s
, 
ac˚±
)))))) \

1101 : 
	`__buûtö_°Ωbrk
 (
s
, 
ac˚±
)); })

	)

1103 
	#°Ωbrk
(
s
, 
ac˚±
) \

1104 
__exãnsi⁄__
 \

1105 ({ 
__a0
, 
__a1
, 
__a2
; \

1106 (
	`__buûtö_c⁄°™t_p
 (
ac˚±
Ë&& 
	`__°rög2_1b±r_p
 (accept) \

1107 ? ((
__a0
 = ((c⁄° *Ë(
ac˚±
))[0], __a0 == '\0') \

1108 ? ((Ë(
s
), (*Ë
NULL
) \

1109 : ((
__a1
 = ((c⁄° *Ë(
ac˚±
))[1], __a1 == '\0') \

1110 ? 
	`°rchr
 (
s
, 
__a0
) \

1111 : ((
__a2
 = ((c⁄° *Ë(
ac˚±
))[2], __a2 == '\0') \

1112 ? 
	`__°Ωbrk_c2
 (
s
, 
__a0
, 
__a1
) \

1113 : (((c⁄° *Ë(
ac˚±
))[3] == '\0' \

1114 ? 
	`__°Ωbrk_c3
 (
s
, 
__a0
, 
__a1
, 
__a2
) \

1115 : 
	`°Ωbrk
 (
s
, 
ac˚±
))))) \

1116 : 
	`°Ωbrk
 (
s
, 
ac˚±
)); })

	)

1120 
__STRING_INLINE
 *
__°Ωbrk_c2
 (c⁄° *
__s
, 
__ac˚±1
,

1121 
__ac˚±2
);

1122 
__STRING_INLINE
 *

1123 
	$__°Ωbrk_c2
 (c⁄° *
__s
, 
__ac˚±1
, 
__ac˚±2
)

1126 *
__s
 !'\0' && *__†!
__ac˚±1
 && *__†!
__ac˚±2
)

1127 ++
__s
;

1128  *
__s
 ='\0' ? 
NULL
 : (*Ë(
size_t
) __s;

1129 
	}
}

1131 
__STRING_INLINE
 *
__°Ωbrk_c3
 (c⁄° *
__s
, 
__ac˚±1
,

1132 
__ac˚±2
, 
__ac˚±3
);

1133 
__STRING_INLINE
 *

1134 
	$__°Ωbrk_c3
 (c⁄° *
__s
, 
__ac˚±1
, 
__ac˚±2
, 
__ac˚±3
)

1137 *
__s
 !'\0' && *__†!
__ac˚±1
 && *__†!
__ac˚±2


1138 && *
__s
 !
__ac˚±3
)

1139 ++
__s
;

1140  *
__s
 ='\0' ? 
NULL
 : (*Ë(
size_t
) __s;

1141 
	}
}

1147 #i‡!
deföed
 
_HAVE_STRING_ARCH_°r°r
 && !
__GNUC_PREREQ
 (2, 97)

1148 
	#°r°r
(
hay°ack
, 
√edÀ
) \

1149 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
√edÀ
Ë&& 
	`__°rög2_1b±r_p
 (needle) \

1150 ? (((c⁄° *Ë(
√edÀ
))[0] == '\0' \

1151 ? (*Ë(
size_t
Ë(
hay°ack
) \

1152 : (((c⁄° *Ë(
√edÀ
))[1] == '\0' \

1153 ? 
	`°rchr
 (
hay°ack
, \

1154 ((c⁄° *Ë(
√edÀ
))[0]) \

1155 : 
	`°r°r
 (
hay°ack
, 
√edÀ
))) \

1156 : 
	`°r°r
 (
hay°ack
, 
√edÀ
)))

	)

1160 #i‡!
deföed
 
_HAVE_STRING_ARCH_°πok_r
 || deföed 
_FORCE_INLINES


1161 #i‚de‡
_HAVE_STRING_ARCH_°πok_r


1162 
	#__°πok_r
(
s
, 
£p
, 
√xç
) \

1163 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
£p
Ë&& 
	`__°rög2_1b±r_p
 (sep) \

1164 && ((c⁄° *Ë(
£p
))[0] != '\0' \

1165 && ((c⁄° *Ë(
£p
))[1] == '\0' \

1166 ? 
	`__°πok_r_1c
 (
s
, ((c⁄° *Ë(
£p
))[0], 
√xç
) \

1167 : 
	`__°πok_r
 (
s
, 
£p
, 
√xç
)))

	)

1170 
__STRING_INLINE
 *
__°πok_r_1c
 (*
__s
, 
__£p
, **
__√xç
);

1171 
__STRING_INLINE
 *

1172 
	$__°πok_r_1c
 (*
__s
, 
__£p
, **
__√xç
)

1174 *
__ªsu…
;

1175 i‡(
__s
 =
NULL
)

1176 
__s
 = *
__√xç
;

1177 *
__s
 =
__£p
)

1178 ++
__s
;

1179 
__ªsu…
 = 
NULL
;

1180 i‡(*
__s
 != '\0')

1182 
__ªsu…
 = 
__s
++;

1183 *
__s
 != '\0')

1184 i‡(*
__s
++ =
__£p
)

1186 
__s
[-1] = '\0';

1190 *
__√xç
 = 
__s
;

1191  
__ªsu…
;

1192 
	}
}

1193 #i‡
deföed
 
__USE_POSIX
 || deföed 
__USE_MISC


1194 
	#°πok_r
(
s
, 
£p
, 
√xç
Ë
	`__°πok_r
 (s, sï,Çexç)

	)

1199 #i‡!
deföed
 
_HAVE_STRING_ARCH_°r£p
 || deföed 
_FORCE_INLINES


1200 #i‚de‡
_HAVE_STRING_ARCH_°r£p


1202 *
__°r£p_g
 (**
__°rögp
, c⁄° *
__dñim
);

1203 
	#__°r£p
(
s
, 
ªje˘
) \

1204 
__exãnsi⁄__
 \

1205 ({ 
__r0
, 
__r1
, 
__r2
; \

1206 (
	`__buûtö_c⁄°™t_p
 (
ªje˘
Ë&& 
	`__°rög2_1b±r_p
 (reject) \

1207 && (
__r0
 = ((c⁄° *Ë(
ªje˘
))[0], \

1208 ((c⁄° *Ë(
ªje˘
))[0] != '\0') \

1209 ? ((
__r1
 = ((c⁄° *Ë(
ªje˘
))[1], \

1210 ((c⁄° *Ë(
ªje˘
))[1] == '\0') \

1211 ? 
	`__°r£p_1c
 (
s
, 
__r0
) \

1212 : ((
__r2
 = ((c⁄° *Ë(
ªje˘
))[2], __r2 == '\0') \

1213 ? 
	`__°r£p_2c
 (
s
, 
__r0
, 
__r1
) \

1214 : (((c⁄° *Ë(
ªje˘
))[3] == '\0' \

1215 ? 
	`__°r£p_3c
 (
s
, 
__r0
, 
__r1
, 
__r2
) \

1216 : 
	`__°r£p_g
 (
s
, 
ªje˘
)))) \

1217 : 
	`__°r£p_g
 (
s
, 
ªje˘
)); })

	)

1220 
__STRING_INLINE
 *
__°r£p_1c
 (**
__s
, 
__ªje˘
);

1221 
__STRING_INLINE
 *

1222 
	$__°r£p_1c
 (**
__s
, 
__ªje˘
)

1224 *
__ªtvÆ
 = *
__s
;

1225 i‡(
__ªtvÆ
 !
NULL
 && (*
__s
 = 
	`°rchr
 (__ªtvÆ, 
__ªje˘
)) != NULL)

1226 *(*
__s
)++ = '\0';

1227  
__ªtvÆ
;

1228 
	}
}

1230 
__STRING_INLINE
 *
__°r£p_2c
 (**
__s
, 
__ªje˘1
, 
__ªje˘2
);

1231 
__STRING_INLINE
 *

1232 
	$__°r£p_2c
 (**
__s
, 
__ªje˘1
, 
__ªje˘2
)

1234 *
__ªtvÆ
 = *
__s
;

1235 i‡(
__ªtvÆ
 !
NULL
)

1237 *
__˝
 = 
__ªtvÆ
;

1240 i‡(*
__˝
 == '\0')

1242 
__˝
 = 
NULL
;

1245 i‡(*
__˝
 =
__ªje˘1
 || *__˝ =
__ªje˘2
)

1247 *
__˝
++ = '\0';

1250 ++
__˝
;

1252 *
__s
 = 
__˝
;

1254  
__ªtvÆ
;

1255 
	}
}

1257 
__STRING_INLINE
 *
__°r£p_3c
 (**
__s
, 
__ªje˘1
, 
__ªje˘2
,

1258 
__ªje˘3
);

1259 
__STRING_INLINE
 *

1260 
	$__°r£p_3c
 (**
__s
, 
__ªje˘1
, 
__ªje˘2
, 
__ªje˘3
)

1262 *
__ªtvÆ
 = *
__s
;

1263 i‡(
__ªtvÆ
 !
NULL
)

1265 *
__˝
 = 
__ªtvÆ
;

1268 i‡(*
__˝
 == '\0')

1270 
__˝
 = 
NULL
;

1273 i‡(*
__˝
 =
__ªje˘1
 || *__˝ =
__ªje˘2
 || *__˝ =
__ªje˘3
)

1275 *
__˝
++ = '\0';

1278 ++
__˝
;

1280 *
__s
 = 
__˝
;

1282  
__ªtvÆ
;

1283 
	}
}

1284 #ifde‡
__USE_BSD


1285 
	#°r£p
(
s
, 
ªje˘
Ë
	`__°r£p
 (s,Ñeje˘)

	)

1292 #ifde‡
__USE_MISC


1294 #i‡!
deföed
 
_HAVE_STRING_ARCH_°rdup
 || !deföed 
_HAVE_STRING_ARCH_°∫dup


1295 
	#__√ed_mÆloc_™d_ˇŒoc


	)

1296 
	~<°dlib.h
>

1299 #i‚de‡
_HAVE_STRING_ARCH_°rdup


1301 *
	$__°rdup
 (c⁄° *
__°rög
Ë
__THROW
 
__©åibuã_mÆloc__
;

1302 
	#__°rdup
(
s
) \

1303 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
s
Ë&& 
	`__°rög2_1b±r_p
 (s) \

1304 ? (((c⁄° *Ë(
s
))[0] == '\0' \

1305 ? (*Ë
	`ˇŒoc
 ((
size_t
) 1, (size_t) 1) \

1306 : ({ 
size_t
 
__Àn
 = 
	`°æí
 (
s
) + 1; \

1307 *
__ªtvÆ
 = (*Ë
	`mÆloc
 (
__Àn
); \

1308 i‡(
__ªtvÆ
 !
NULL
) \

1309 
__ªtvÆ
 = (*Ë
	`mem˝y
 (__ªtvÆ, 
s
, 
__Àn
); \

1310 
__ªtvÆ
; 
	}
})) \

1311 : 
	`__°rdup
 (
s
)))

	)

1313 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED


1314 
	#°rdup
(
s
Ë
	`__°rdup
 (s)

	)

1318 #i‚de‡
_HAVE_STRING_ARCH_°∫dup


1320 *
	$__°∫dup
 (c⁄° *
__°rög
, 
size_t
 
__n
)

1321 
__THROW
 
__©åibuã_mÆloc__
;

1322 
	#__°∫dup
(
s
, 
n
) \

1323 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
s
Ë&& 
	`__°rög2_1b±r_p
 (s) \

1324 ? (((c⁄° *Ë(
s
))[0] == '\0' \

1325 ? (*Ë
	`ˇŒoc
 ((
size_t
) 1, (size_t) 1) \

1326 : ({ 
size_t
 
__Àn
 = 
	`°æí
 (
s
) + 1; \

1327 
size_t
 
__n
 = (
n
); \

1328 *
__ªtvÆ
; \

1329 i‡(
__n
 < 
__Àn
) \

1330 
__Àn
 = 
__n
 + 1; \

1331 
__ªtvÆ
 = (*Ë
	`mÆloc
 (
__Àn
); \

1332 i‡(
__ªtvÆ
 !
NULL
) \

1334 
__ªtvÆ
[
__Àn
 - 1] = '\0'; \

1335 
__ªtvÆ
 = (*Ë
	`mem˝y
 (__ªtvÆ, 
s
, \

1336 
__Àn
 - 1); \

1338 
__ªtvÆ
; 
	}
})) \

1339 : 
	`__°∫dup
 (
s
, 
n
)))

	)

1341 #ifde‡
__USE_GNU


1342 
	#°∫dup
(
s
, 
n
Ë
	`__°∫dup
 (s,Ç)

	)

1348 #i‚de‡
_FORCE_INLINES


1349 #unde‡
__STRING_INLINE


	@/usr/include/bits/string3.h

18 #i‚de‡
_STRING_H


22 
__w¨nde˛
 (
__w¨n_mem£t_zîo_Àn
,

25 #i‚de‡
__˝lu•lus


29 #unde‡
mem˝y


30 #unde‡
memmove


31 #unde‡
mem£t


32 #unde‡
°rˇt


33 #unde‡
°r˝y


34 #unde‡
°∫ˇt


35 #unde‡
°∫˝y


36 #ifde‡
__USE_GNU


37 #unde‡
memp˝y


38 #unde‡
°p˝y


40 #ifde‡
__USE_BSD


41 #unde‡
bc›y


42 #unde‡
bzîo


47 
__f‹tify_fun˘i⁄
 *

48 
__NTH
 (
	$mem˝y
 (*
__ª°ri˘
 
__de°
, c⁄° *__ª°ri˘ 
__§c
,

49 
size_t
 
__Àn
))

51  
	`__buûtö___mem˝y_chk
 (
__de°
, 
__§c
, 
__Àn
, 
	`__bos0
 (__dest));

52 
	}
}

54 
__f‹tify_fun˘i⁄
 *

55 
__NTH
 (
	$memmove
 (*
__de°
, c⁄° *
__§c
, 
size_t
 
__Àn
))

57  
	`__buûtö___memmove_chk
 (
__de°
, 
__§c
, 
__Àn
, 
	`__bos0
 (__dest));

58 
	}
}

60 #ifde‡
__USE_GNU


61 
__f‹tify_fun˘i⁄
 *

62 
__NTH
 (
	$memp˝y
 (*
__ª°ri˘
 
__de°
, c⁄° *__ª°ri˘ 
__§c
,

63 
size_t
 
__Àn
))

65  
	`__buûtö___memp˝y_chk
 (
__de°
, 
__§c
, 
__Àn
, 
	`__bos0
 (__dest));

66 
	}
}

75 
__f‹tify_fun˘i⁄
 *

76 
__NTH
 (
	$mem£t
 (*
__de°
, 
__ch
, 
size_t
 
__Àn
))

78 i‡(
	`__buûtö_c⁄°™t_p
 (
__Àn
) && __len == 0

79 && (!
	`__buûtö_c⁄°™t_p
 (
__ch
) || __ch != 0))

81 
	`__w¨n_mem£t_zîo_Àn
 ();

82  
__de°
;

84  
	`__buûtö___mem£t_chk
 (
__de°
, 
__ch
, 
__Àn
, 
	`__bos0
 (__dest));

85 
	}
}

87 #ifde‡
__USE_BSD


88 
__f‹tify_fun˘i⁄
 

89 
__NTH
 (
	$bc›y
 (c⁄° *
__§c
, *
__de°
, 
size_t
 
__Àn
))

91 (Ë
	`__buûtö___memmove_chk
 (
__de°
, 
__§c
, 
__Àn
, 
	`__bos0
 (__dest));

92 
	}
}

94 
__f‹tify_fun˘i⁄
 

95 
__NTH
 (
	$bzîo
 (*
__de°
, 
size_t
 
__Àn
))

97 (Ë
	`__buûtö___mem£t_chk
 (
__de°
, '\0', 
__Àn
, 
	`__bos0
 (__dest));

98 
	}
}

101 
__f‹tify_fun˘i⁄
 *

102 
__NTH
 (
	$°r˝y
 (*
__ª°ri˘
 
__de°
, c⁄° *__ª°ri˘ 
__§c
))

104  
	`__buûtö___°r˝y_chk
 (
__de°
, 
__§c
, 
	`__bos
 (__dest));

105 
	}
}

107 #ifde‡
__USE_GNU


108 
__f‹tify_fun˘i⁄
 *

109 
__NTH
 (
	$°p˝y
 (*
__ª°ri˘
 
__de°
, c⁄° *__ª°ri˘ 
__§c
))

111  
	`__buûtö___°p˝y_chk
 (
__de°
, 
__§c
, 
	`__bos
 (__dest));

112 
	}
}

116 
__f‹tify_fun˘i⁄
 *

117 
__NTH
 (
	$°∫˝y
 (*
__ª°ri˘
 
__de°
, c⁄° *__ª°ri˘ 
__§c
,

118 
size_t
 
__Àn
))

120  
	`__buûtö___°∫˝y_chk
 (
__de°
, 
__§c
, 
__Àn
, 
	`__bos
 (__dest));

121 
	}
}

124 *
	$__°≤˝y_chk
 (*
__de°
, c⁄° *
__§c
, 
size_t
 
__n
,

125 
size_t
 
__de°Àn
Ë
__THROW
;

126 *
	`__REDIRECT_NTH
 (
__°≤˝y_Æüs
, (*
__de°
, c⁄° *
__§c
,

127 
size_t
 
__n
), 
°≤˝y
);

129 
__f‹tify_fun˘i⁄
 *

130 
	`__NTH
 (
	$°≤˝y
 (*
__de°
, c⁄° *
__§c
, 
size_t
 
__n
))

132 i‡(
	`__bos
 (
__de°
Ë!(
size_t
) -1

133 && (!
	`__buûtö_c⁄°™t_p
 (
__n
Ë|| __¿<
	`__bos
 (
__de°
)))

134  
	`__°≤˝y_chk
 (
__de°
, 
__§c
, 
__n
, 
	`__bos
 (__dest));

135  
	`__°≤˝y_Æüs
 (
__de°
, 
__§c
, 
__n
);

136 
	}
}

139 
__f‹tify_fun˘i⁄
 *

140 
__NTH
 (
	$°rˇt
 (*
__ª°ri˘
 
__de°
, c⁄° *__ª°ri˘ 
__§c
))

142  
	`__buûtö___°rˇt_chk
 (
__de°
, 
__§c
, 
	`__bos
 (__dest));

143 
	}
}

146 
__f‹tify_fun˘i⁄
 *

147 
__NTH
 (
	$°∫ˇt
 (*
__ª°ri˘
 
__de°
, c⁄° *__ª°ri˘ 
__§c
,

148 
size_t
 
__Àn
))

150  
	`__buûtö___°∫ˇt_chk
 (
__de°
, 
__§c
, 
__Àn
, 
	`__bos
 (__dest));

151 
	}
}

	@/usr/include/bits/sys_errlist.h

19 #i‚de‡
_STDIO_H


25 #ifde‡ 
__USE_BSD


26 
sys_√º
;

27 c⁄° *c⁄° 
sys_îæi°
[];

29 #ifde‡ 
__USE_GNU


30 
_sys_√º
;

31 c⁄° *c⁄° 
_sys_îæi°
[];

	@/usr/include/bits/types.h

23 #i‚def 
_BITS_TYPES_H


24 
	#_BITS_TYPES_H
 1

	)

26 
	~<„©uªs.h
>

27 
	~<bôs/w‹dsize.h
>

30 
	t__u_ch¨
;

31 
	t__u_sh‹t
;

32 
	t__u_öt
;

33 
	t__u_l⁄g
;

36 sig√d 
	t__öt8_t
;

37 
	t__uöt8_t
;

38 sig√d 
	t__öt16_t
;

39 
	t__uöt16_t
;

40 sig√d 
	t__öt32_t
;

41 
	t__uöt32_t
;

42 #i‡
__WORDSIZE
 == 64

43 sig√d 
	t__öt64_t
;

44 
	t__uöt64_t
;

45 #ñi‡
deföed
 
__GLIBC_HAVE_LONG_LONG


46 
__exãnsi⁄__
 sig√d 
	t__öt64_t
;

47 
__exãnsi⁄__
 
	t__uöt64_t
;

51 #i‡
__WORDSIZE
 == 64

52 
	t__quad_t
;

53 
	t__u_quad_t
;

54 #ñi‡
deföed
 
__GLIBC_HAVE_LONG_LONG


55 
__exãnsi⁄__
 
	t__quad_t
;

56 
__exãnsi⁄__
 
	t__u_quad_t
;

60 
	m__vÆ
[2];

61 } 
	t__quad_t
;

64 
__u_l⁄g
 
	m__vÆ
[2];

65 } 
	t__u_quad_t
;

98 
	#__S16_TYPE
 

	)

99 
	#__U16_TYPE
 

	)

100 
	#__S32_TYPE
 

	)

101 
	#__U32_TYPE
 

	)

102 
	#__SLONGWORD_TYPE
 

	)

103 
	#__ULONGWORD_TYPE
 

	)

104 #i‡
__WORDSIZE
 == 32

105 
	#__SQUAD_TYPE
 
__quad_t


	)

106 
	#__UQUAD_TYPE
 
__u_quad_t


	)

107 
	#__SWORD_TYPE
 

	)

108 
	#__UWORD_TYPE
 

	)

109 
	#__SLONG32_TYPE
 

	)

110 
	#__ULONG32_TYPE
 

	)

111 
	#__S64_TYPE
 
__quad_t


	)

112 
	#__U64_TYPE
 
__u_quad_t


	)

115 
	#__STD_TYPE
 
__exãnsi⁄__
 

	)

116 #ñi‡
__WORDSIZE
 == 64

117 
	t__SQUAD_TYPE
 

	)

118 
	t__UQUAD_TYPE
 

	)

119 
	t__SWORD_TYPE
 

	)

120 
	t__UWORD_TYPE
 

	)

121 
	t__SLONG32_TYPE
 

	)

122 
	t__ULONG32_TYPE
 

	)

123 
	t__S64_TYPE
 

	)

124 
	t__U64_TYPE
 

	)

126 
	t__STD_TYPE
 

	)

130 
	~<bôs/ty≥sizes.h
>

133 
__STD_TYPE
 
	t__DEV_T_TYPE
 
	t__dev_t
;

134 
__STD_TYPE
 
__UID_T_TYPE
 
	g__uid_t
;

135 
__STD_TYPE
 
__GID_T_TYPE
 
	g__gid_t
;

136 
__STD_TYPE
 
__INO_T_TYPE
 
	g__öo_t
;

137 
__STD_TYPE
 
__INO64_T_TYPE
 
	g__öo64_t
;

138 
__STD_TYPE
 
__MODE_T_TYPE
 
	g__mode_t
;

139 
__STD_TYPE
 
__NLINK_T_TYPE
 
	g__∆ök_t
;

140 
__STD_TYPE
 
__OFF_T_TYPE
 
	g__off_t
;

141 
__STD_TYPE
 
__OFF64_T_TYPE
 
	g__off64_t
;

142 
__STD_TYPE
 
__PID_T_TYPE
 
	g__pid_t
;

143 
__STD_TYPE
 
__FSID_T_TYPE
 
	g__fsid_t
;

144 
__STD_TYPE
 
__CLOCK_T_TYPE
 
	g__˛ock_t
;

145 
__STD_TYPE
 
__RLIM_T_TYPE
 
	g__æim_t
;

146 
__STD_TYPE
 
__RLIM64_T_TYPE
 
	g__æim64_t
;

147 
__STD_TYPE
 
__ID_T_TYPE
 
	g__id_t
;

148 
__STD_TYPE
 
__TIME_T_TYPE
 
	g__time_t
;

149 
__STD_TYPE
 
__USECONDS_T_TYPE
 
	g__u£c⁄ds_t
;

150 
__STD_TYPE
 
__SUSECONDS_T_TYPE
 
	g__su£c⁄ds_t
;

152 
__STD_TYPE
 
__DADDR_T_TYPE
 
	g__daddr_t
;

153 
__STD_TYPE
 
__KEY_T_TYPE
 
	g__key_t
;

156 
__STD_TYPE
 
__CLOCKID_T_TYPE
 
	g__˛ockid_t
;

159 
__STD_TYPE
 
__TIMER_T_TYPE
 
	g__timî_t
;

162 
__STD_TYPE
 
__BLKSIZE_T_TYPE
 
	g__blksize_t
;

167 
__STD_TYPE
 
__BLKCNT_T_TYPE
 
	g__blk˙t_t
;

168 
__STD_TYPE
 
__BLKCNT64_T_TYPE
 
	g__blk˙t64_t
;

171 
__STD_TYPE
 
__FSBLKCNT_T_TYPE
 
	g__fsblk˙t_t
;

172 
__STD_TYPE
 
__FSBLKCNT64_T_TYPE
 
	g__fsblk˙t64_t
;

175 
__STD_TYPE
 
__FSFILCNT_T_TYPE
 
	g__fsfû˙t_t
;

176 
__STD_TYPE
 
__FSFILCNT64_T_TYPE
 
	g__fsfû˙t64_t
;

179 
__STD_TYPE
 
__FSWORD_T_TYPE
 
	g__fsw‹d_t
;

181 
__STD_TYPE
 
__SSIZE_T_TYPE
 
	g__ssize_t
;

184 
__STD_TYPE
 
__SYSCALL_SLONG_TYPE
 
	g__sysˇŒ_¶⁄g_t
;

186 
__STD_TYPE
 
__SYSCALL_ULONG_TYPE
 
	g__sysˇŒ_ul⁄g_t
;

190 
__off64_t
 
	t__loff_t
;

191 
__quad_t
 *
	t__qaddr_t
;

192 *
	t__ˇddr_t
;

195 
__STD_TYPE
 
__SWORD_TYPE
 
	g__öçå_t
;

198 
__STD_TYPE
 
__U32_TYPE
 
	g__sockÀn_t
;

201 #unde‡
__STD_TYPE


	@/usr/include/bits/waitflags.h

19 #i‡!
deföed
 
_SYS_WAIT_H
 && !deföed 
_STDLIB_H


25 
	#WNOHANG
 1

	)

26 
	#WUNTRACED
 2

	)

29 
	#WSTOPPED
 2

	)

30 
	#WEXITED
 4

	)

31 
	#WCONTINUED
 8

	)

32 
	#WNOWAIT
 0x01000000

	)

34 
	#__WNOTHREAD
 0x20000000

	)

36 
	#__WALL
 0x40000000

	)

37 
	#__WCLONE
 0x80000000

	)

	@/usr/include/bits/waitstatus.h

19 #i‡!
deföed
 
_SYS_WAIT_H
 && !deföed 
_STDLIB_H


28 
	#__WEXITSTATUS
(
°©us
Ë(((°©usË& 0xff00Ë>> 8)

	)

31 
	#__WTERMSIG
(
°©us
Ë((°©usË& 0x7f)

	)

34 
	#__WSTOPSIG
(
°©us
Ë
	`__WEXITSTATUS
(°©us)

	)

37 
	#__WIFEXITED
(
°©us
Ë(
	`__WTERMSIG
(°©usË=0)

	)

40 
	#__WIFSIGNALED
(
°©us
) \

41 (((sig√d Ë(((
°©us
Ë& 0x7fË+ 1Ë>> 1Ë> 0)

	)

44 
	#__WIFSTOPPED
(
°©us
Ë(((°©usË& 0xffË=0x7f)

	)

48 #ifde‡
WCONTINUED


49 
	#__WIFCONTINUED
(
°©us
Ë((°©usË=
__W_CONTINUED
)

	)

53 
	#__WCOREDUMP
(
°©us
Ë((°©usË& 
__WCOREFLAG
)

	)

56 
	#__W_EXITCODE
(
ªt
, 
sig
Ë(‘ëË<< 8 | (sig))

	)

57 
	#__W_STOPCODE
(
sig
Ë((sigË<< 8 | 0x7f)

	)

58 
	#__W_CONTINUED
 0xffff

	)

59 
	#__WCOREFLAG
 0x80

	)

62 #ifdef 
__USE_BSD


64 
	~<ídün.h
>

66 
	uwaô


68 
	mw_°©us
;

71 #if 
__BYTE_ORDER
 =
__LITTLE_ENDIAN


72 
	m__w_ãrmsig
:7;

73 
	m__w_c‹edump
:1;

74 
	m__w_ªtcode
:8;

77 #if 
__BYTE_ORDER
 =
__BIG_ENDIAN


79 
	m__w_ªtcode
:8;

80 
	m__w_c‹edump
:1;

81 
	m__w_ãrmsig
:7;

83 } 
	m__waô_ãrmö©ed
;

86 #if 
__BYTE_ORDER
 =
__LITTLE_ENDIAN


87 
	m__w_°›vÆ
:8;

88 
	m__w_°›sig
:8;

91 #if 
__BYTE_ORDER
 =
__BIG_ENDIAN


93 
	m__w_°›sig
:8;

94 
	m__w_°›vÆ
:8;

96 } 
	m__waô_°›≥d
;

99 
	#w_ãrmsig
 
__waô_ãrmö©ed
.
__w_ãrmsig


	)

100 
	#w_c‹edump
 
__waô_ãrmö©ed
.
__w_c‹edump


	)

101 
	#w_ªtcode
 
__waô_ãrmö©ed
.
__w_ªtcode


	)

102 
	#w_°›sig
 
__waô_°›≥d
.
__w_°›sig


	)

103 
	#w_°›vÆ
 
__waô_°›≥d
.
__w_°›vÆ


	)

	@/usr/include/bits/wchar.h

19 #i‚de‡
_BITS_WCHAR_H


20 
	#_BITS_WCHAR_H
 1

	)

22 
	~<bôs/w‹dsize.h
>

24 #i‡
__WORDSIZE
 == 64

25 
	#__WCHAR_MIN
 (-2147483647 - 1)

	)

26 
	#__WCHAR_MAX
 (2147483647)

	)

28 
	#__WCHAR_MIN
 (-2147483647»- 1l)

	)

29 
	#__WCHAR_MAX
 (2147483647l)

	)

	@/usr/include/bits/wordsize.h

3 #i‡
deföed
 
__x86_64__
 && !deföed 
__ILP32__


4 
	#__WORDSIZE
 64

	)

6 
	#__WORDSIZE
 32

	)

9 #ifde‡
__x86_64__


10 
	#__WORDSIZE_TIME64_COMPAT32
 1

	)

12 
	#__SYSCALL_WORDSIZE
 64

	)

	@/usr/include/features.h

18 #i‚def 
_FEATURES_H


19 
	#_FEATURES_H
 1

	)

98 #unde‡
__USE_ISOC11


99 #unde‡
__USE_ISOC99


100 #unde‡
__USE_ISOC95


101 #unde‡
__USE_ISOCXX11


102 #unde‡
__USE_POSIX


103 #unde‡
__USE_POSIX2


104 #unde‡
__USE_POSIX199309


105 #unde‡
__USE_POSIX199506


106 #unde‡
__USE_XOPEN


107 #unde‡
__USE_XOPEN_EXTENDED


108 #unde‡
__USE_UNIX98


109 #unde‡
__USE_XOPEN2K


110 #unde‡
__USE_XOPEN2KXSI


111 #unde‡
__USE_XOPEN2K8


112 #unde‡
__USE_XOPEN2K8XSI


113 #unde‡
__USE_LARGEFILE


114 #unde‡
__USE_LARGEFILE64


115 #unde‡
__USE_FILE_OFFSET64


116 #unde‡
__USE_BSD


117 #unde‡
__USE_SVID


118 #unde‡
__USE_MISC


119 #unde‡
__USE_ATFILE


120 #unde‡
__USE_GNU


121 #unde‡
__USE_REENTRANT


122 #unde‡
__USE_FORTIFY_LEVEL


123 #unde‡
__FAVOR_BSD


124 #unde‡
__KERNEL_STRICT_NAMES


128 #i‚de‡
_LOOSE_KERNEL_NAMES


129 
	#__KERNEL_STRICT_NAMES


	)

133 
	#__USE_ANSI
 1

	)

142 #i‡
deföed
 
__GNUC__
 && deföed 
__GNUC_MINOR__


143 
	#__GNUC_PREREQ
(
maj
, 
mö
) \

144 ((
__GNUC__
 << 16Ë+ 
__GNUC_MINOR__
 >((
maj
Ë<< 16Ë+ (
mö
))

	)

146 
	#__GNUC_PREREQ
(
maj
, 
mö
Ë0

	)

151 #i‡
deföed
 
_BSD_SOURCE
 && \

152 !(
deföed
 
	g_POSIX_SOURCE
 || deföed 
	g_POSIX_C_SOURCE
 || \

153 
deföed
 
	g_XOPEN_SOURCE
 || deföed 
	g_GNU_SOURCE
 || deföed 
	g_SVID_SOURCE
)

154 
	#__FAVOR_BSD
 1

	)

158 #ifde‡
_GNU_SOURCE


159 #unde‡
_ISOC95_SOURCE


160 
	#_ISOC95_SOURCE
 1

	)

161 #unde‡
_ISOC99_SOURCE


162 
	#_ISOC99_SOURCE
 1

	)

163 #unde‡
_ISOC11_SOURCE


164 
	#_ISOC11_SOURCE
 1

	)

165 #unde‡
_POSIX_SOURCE


166 
	#_POSIX_SOURCE
 1

	)

167 #unde‡
_POSIX_C_SOURCE


168 
	#_POSIX_C_SOURCE
 200809L

	)

169 #unde‡
_XOPEN_SOURCE


170 
	#_XOPEN_SOURCE
 700

	)

171 #unde‡
_XOPEN_SOURCE_EXTENDED


172 
	#_XOPEN_SOURCE_EXTENDED
 1

	)

173 #unde‡
_LARGEFILE64_SOURCE


174 
	#_LARGEFILE64_SOURCE
 1

	)

175 #unde‡
_BSD_SOURCE


176 
	#_BSD_SOURCE
 1

	)

177 #unde‡
_SVID_SOURCE


178 
	#_SVID_SOURCE
 1

	)

179 #unde‡
_ATFILE_SOURCE


180 
	#_ATFILE_SOURCE
 1

	)

185 #i‡(!
deföed
 
__STRICT_ANSI__
 && !deföed 
_ISOC99_SOURCE
 && \

186 !
deföed
 
	g_POSIX_SOURCE
 && !deföed 
	g_POSIX_C_SOURCE
 && \

187 !
deföed
 
	g_XOPEN_SOURCE
 && !deföed 
	g_BSD_SOURCE
 && !deföed 
	g_SVID_SOURCE
)

188 
	#_BSD_SOURCE
 1

	)

189 
	#_SVID_SOURCE
 1

	)

193 #i‡(
deföed
 
_ISOC11_SOURCE
 \

194 || (
deföed
 
	g__STDC_VERSION__
 && __STDC_VERSION__ >= 201112L))

195 
	#__USE_ISOC11
 1

	)

199 #i‡(
deföed
 
_ISOC99_SOURCE
 || deföed 
_ISOC11_SOURCE
 \

200 || (
deföed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L))

201 
	#__USE_ISOC99
 1

	)

205 #i‡(
deföed
 
_ISOC99_SOURCE
 || deföed 
_ISOC11_SOURCE
 \

206 || (
deföed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199409L))

207 
	#__USE_ISOC95
 1

	)

214 #i‡((
deföed
 
__˝lu•lus
 && __cplusplus >= 201103L) \

215 || 
deföed
 
__GXX_EXPERIMENTAL_CXX0X__
)

216 
	#__USE_ISOCXX11
 1

	)

221 #i‡((!
deföed
 
__STRICT_ANSI__
 || (
_XOPEN_SOURCE
 - 0) >= 500) && \

222 !
deföed
 
_POSIX_SOURCE
 && !deföed 
_POSIX_C_SOURCE
)

223 
	#_POSIX_SOURCE
 1

	)

224 #i‡
deföed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 500

225 
	#_POSIX_C_SOURCE
 2

	)

226 #ñi‡
deföed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 600

227 
	#_POSIX_C_SOURCE
 199506L

	)

228 #ñi‡
deföed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 700

229 
	#_POSIX_C_SOURCE
 200112L

	)

231 
	#_POSIX_C_SOURCE
 200809L

	)

233 
	#__USE_POSIX_IMPLICITLY
 1

	)

236 #i‡
deföed
 
_POSIX_SOURCE
 || 
_POSIX_C_SOURCE
 >1 || deföed 
_XOPEN_SOURCE


237 
	#__USE_POSIX
 1

	)

240 #i‡
deföed
 
_POSIX_C_SOURCE
 && _POSIX_C_SOURCE >2 || deföed 
_XOPEN_SOURCE


241 
	#__USE_POSIX2
 1

	)

244 #i‡(
_POSIX_C_SOURCE
 - 0) >= 199309L

245 
	#__USE_POSIX199309
 1

	)

248 #i‡(
_POSIX_C_SOURCE
 - 0) >= 199506L

249 
	#__USE_POSIX199506
 1

	)

252 #i‡(
_POSIX_C_SOURCE
 - 0) >= 200112L

253 
	#__USE_XOPEN2K
 1

	)

254 #unde‡
__USE_ISOC95


255 
	#__USE_ISOC95
 1

	)

256 #unde‡
__USE_ISOC99


257 
	#__USE_ISOC99
 1

	)

260 #i‡(
_POSIX_C_SOURCE
 - 0) >= 200809L

261 
	#__USE_XOPEN2K8
 1

	)

262 #unde‡
_ATFILE_SOURCE


263 
	#_ATFILE_SOURCE
 1

	)

266 #ifdef 
_XOPEN_SOURCE


267 
	#__USE_XOPEN
 1

	)

268 #i‡(
_XOPEN_SOURCE
 - 0) >= 500

269 
	#__USE_XOPEN_EXTENDED
 1

	)

270 
	#__USE_UNIX98
 1

	)

271 #unde‡
_LARGEFILE_SOURCE


272 
	#_LARGEFILE_SOURCE
 1

	)

273 #i‡(
_XOPEN_SOURCE
 - 0) >= 600

274 #i‡(
_XOPEN_SOURCE
 - 0) >= 700

275 
	#__USE_XOPEN2K8
 1

	)

276 
	#__USE_XOPEN2K8XSI
 1

	)

278 
	#__USE_XOPEN2K
 1

	)

279 
	#__USE_XOPEN2KXSI
 1

	)

280 #unde‡
__USE_ISOC95


281 
	#__USE_ISOC95
 1

	)

282 #unde‡
__USE_ISOC99


283 
	#__USE_ISOC99
 1

	)

286 #ifde‡
_XOPEN_SOURCE_EXTENDED


287 
	#__USE_XOPEN_EXTENDED
 1

	)

292 #ifde‡
_LARGEFILE_SOURCE


293 
	#__USE_LARGEFILE
 1

	)

296 #ifde‡
_LARGEFILE64_SOURCE


297 
	#__USE_LARGEFILE64
 1

	)

300 #i‡
deföed
 
_FILE_OFFSET_BITS
 && _FILE_OFFSET_BITS == 64

301 
	#__USE_FILE_OFFSET64
 1

	)

304 #i‡
deföed
 
_BSD_SOURCE
 || deföed 
_SVID_SOURCE


305 
	#__USE_MISC
 1

	)

308 #ifdef 
_BSD_SOURCE


309 
	#__USE_BSD
 1

	)

312 #ifdef 
_SVID_SOURCE


313 
	#__USE_SVID
 1

	)

316 #ifdef 
_ATFILE_SOURCE


317 
	#__USE_ATFILE
 1

	)

320 #ifdef 
_GNU_SOURCE


321 
	#__USE_GNU
 1

	)

324 #i‡
deföed
 
_REENTRANT
 || deföed 
_THREAD_SAFE


325 
	#__USE_REENTRANT
 1

	)

328 #i‡
deföed
 
_FORTIFY_SOURCE
 && _FORTIFY_SOURCE > 0

329 #i‡!
deföed
 
__OPTIMIZE__
 || __OPTIMIZE__ <= 0

330 #w¨nög 
_FORTIFY_SOURCE
 
ªquúes
 
compûög
 
wôh
 
›timiz©i⁄
 (-
O
)

331 #ñi‡!
__GNUC_PREREQ
 (4, 1)

332 #w¨nög 
_FORTIFY_SOURCE
 
ªquúes
 
GCC
 4.1 
‹
 
œãr


333 #ñi‡
_FORTIFY_SOURCE
 > 1

334 
	#__USE_FORTIFY_LEVEL
 2

	)

336 
	#__USE_FORTIFY_LEVEL
 1

	)

339 #i‚de‡
__USE_FORTIFY_LEVEL


340 
	#__USE_FORTIFY_LEVEL
 0

	)

345 
	~<°dc-¥edef.h
>

353 #unde‡
__GNU_LIBRARY__


354 
	#__GNU_LIBRARY__
 6

	)

358 
	#__GLIBC__
 2

	)

359 
	#__GLIBC_MINOR__
 17

	)

361 
	#__GLIBC_PREREQ
(
maj
, 
mö
) \

362 ((
__GLIBC__
 << 16Ë+ 
__GLIBC_MINOR__
 >((
maj
Ë<< 16Ë+ (
mö
))

	)

365 #i‡
deföed
 
__GNUC__
 \

366 || (
deföed
 
	g__PGI
 && deföed 
	g__i386__
 ) \

367 || (
deföed
 
	g__INTEL_COMPILER
 && (deföed 
	g__i386__
 || deföed 
	g__ü64__
)) \

368 || (
deföed
 
	g__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L)

369 
	#__GLIBC_HAVE_LONG_LONG
 1

	)

373 #i‚de‡
__ASSEMBLER__


374 #i‚de‡
_SYS_CDEFS_H


375 
	~<sys/cdefs.h
>

380 #i‡
deföed
 
__USE_FILE_OFFSET64
 && !deföed 
__REDIRECT


381 
	#__USE_LARGEFILE
 1

	)

382 
	#__USE_LARGEFILE64
 1

	)

388 #i‡
__GNUC_PREREQ
 (2, 7Ë&& 
deföed
 
__OPTIMIZE__
 \

389 && !
deföed
 
	g__OPTIMIZE_SIZE__
 && !deföed 
	g__NO_INLINE__
 \

390 && 
deföed
 
	g__exã∫_ölöe


391 
	#__USE_EXTERN_INLINES
 1

	)

399 
	~<gnu/°ubs.h
>

	@/usr/include/getopt.h

20 #i‚de‡
_GETOPT_H


22 #i‚de‡
__√ed_gë›t


23 
	#_GETOPT_H
 1

	)

33 #i‡!
deföed
 
__GNU_LIBRARY__


34 
	~<˘y≥.h
>

37 #i‚de‡
__THROW


38 #i‚de‡
__GNUC_PREREQ


39 
	#__GNUC_PREREQ
(
maj
, 
mö
Ë(0)

	)

41 #i‡
deföed
 
__˝lu•lus
 && 
__GNUC_PREREQ
 (2,8)

42 
	#__THROW
 
	`throw
 ()

	)

44 
	#__THROW


	)

48 #ifdef 
__˝lu•lus


58 *
›èrg
;

72 
›töd
;

77 
›ãº
;

81 
›t›t
;

83 #i‚de‡
__√ed_gë›t


105 
	s›ti⁄


107 c⁄° *
	g«me
;

110 
	ghas_¨g
;

111 *
	gÊag
;

112 
	gvÆ
;

117 
	#no_¨gumít
 0

	)

118 
	#ªquúed_¨gumít
 1

	)

119 
	#›ti⁄Æ_¨gumít
 2

	)

147 #ifde‡
__GNU_LIBRARY__


151 
gë›t
 (
___¨gc
, *c⁄° *
___¨gv
, c⁄° *
__sh‹t›ts
)

152 
__THROW
;

154 #i‡
deföed
 
__√ed_gë›t
 && deföed 
__USE_POSIX2
 \

155 && !
deföed
 
	g__USE_POSIX_IMPLICITLY
 && !deföed 
	g__USE_GNU


159 #ifde‡
__REDIRECT


160 
__REDIRECT_NTH
 (
gë›t
, (
___¨gc
, *c⁄° *
___¨gv
,

161 c⁄° *
__sh‹t›ts
),

162 
__posix_gë›t
);

164 
__posix_gë›t
 (
___¨gc
, *c⁄° *
___¨gv
,

165 c⁄° *
__sh‹t›ts
Ë
__THROW
;

166 
	#gë›t
 
__posix_gë›t


	)

170 
gë›t
 ();

173 #i‚de‡
__√ed_gë›t


174 
gë›t_l⁄g
 (
___¨gc
, *c⁄° *
___¨gv
,

175 c⁄° *
__sh‹t›ts
,

176 c⁄° 
›ti⁄
 *
__l⁄g›ts
, *
__l⁄göd
)

177 
__THROW
;

178 
gë›t_l⁄g_⁄ly
 (
___¨gc
, *c⁄° *
___¨gv
,

179 c⁄° *
__sh‹t›ts
,

180 c⁄° 
›ti⁄
 *
__l⁄g›ts
, *
__l⁄göd
)

181 
__THROW
;

185 #ifdef 
__˝lu•lus


190 #unde‡
__√ed_gë›t


	@/usr/include/libio.h

29 #i‚de‡
_IO_STDIO_H


30 
	#_IO_STDIO_H


	)

32 
	~<_G_c⁄fig.h
>

34 
	#_IO_Âos_t
 
_G_Âos_t


	)

35 
	#_IO_Âos64_t
 
_G_Âos64_t


	)

36 
	#_IO_size_t
 
size_t


	)

37 
	#_IO_ssize_t
 
__ssize_t


	)

38 
	#_IO_off_t
 
__off_t


	)

39 
	#_IO_off64_t
 
__off64_t


	)

40 
	#_IO_pid_t
 
__pid_t


	)

41 
	#_IO_uid_t
 
__uid_t


	)

42 
	#_IO_ic⁄v_t
 
_G_ic⁄v_t


	)

43 
	#_IO_HAVE_ST_BLKSIZE
 
_G_HAVE_ST_BLKSIZE


	)

44 
	#_IO_BUFSIZ
 
_G_BUFSIZ


	)

45 
	#_IO_va_li°
 
_G_va_li°


	)

46 
	#_IO_wöt_t
 
wöt_t


	)

49 
	#__√ed___va_li°


	)

50 
	~<°d¨g.h
>

51 #ifde‡
__GNUC_VA_LIST


52 #unde‡
_IO_va_li°


53 
	#_IO_va_li°
 
__gnuc_va_li°


	)

56 #i‚de‡
__P


57 
	~<sys/cdefs.h
>

60 
	#_IO_UNIFIED_JUMPTABLES
 1

	)

62 #i‚de‡
EOF


63 
	#EOF
 (-1)

	)

65 #i‚de‡
NULL


66 #i‡
deföed
 
__GNUG__
 && \

67 (
	g__GNUC__
 > 2 || (__GNUC__ =2 && 
__GNUC_MINOR__
 >= 8))

68 
	#NULL
 (
__nuŒ
)

	)

70 #i‡!
deföed
(
__˝lu•lus
)

71 
	#NULL
 ((*)0)

	)

73 
	#NULL
 (0)

	)

78 
	#_IOS_INPUT
 1

	)

79 
	#_IOS_OUTPUT
 2

	)

80 
	#_IOS_ATEND
 4

	)

81 
	#_IOS_APPEND
 8

	)

82 
	#_IOS_TRUNC
 16

	)

83 
	#_IOS_NOCREATE
 32

	)

84 
	#_IOS_NOREPLACE
 64

	)

85 
	#_IOS_BIN
 128

	)

93 
	#_IO_MAGIC
 0xFBAD0000

	)

94 
	#_OLD_STDIO_MAGIC
 0xFABC0000

	)

95 
	#_IO_MAGIC_MASK
 0xFFFF0000

	)

96 
	#_IO_USER_BUF
 1

	)

97 
	#_IO_UNBUFFERED
 2

	)

98 
	#_IO_NO_READS
 4

	)

99 
	#_IO_NO_WRITES
 8

	)

100 
	#_IO_EOF_SEEN
 0x10

	)

101 
	#_IO_ERR_SEEN
 0x20

	)

102 
	#_IO_DELETE_DONT_CLOSE
 0x40

	)

103 
	#_IO_LINKED
 0x80

	)

104 
	#_IO_IN_BACKUP
 0x100

	)

105 
	#_IO_LINE_BUF
 0x200

	)

106 
	#_IO_TIED_PUT_GET
 0x400

	)

107 
	#_IO_CURRENTLY_PUTTING
 0x800

	)

108 
	#_IO_IS_APPENDING
 0x1000

	)

109 
	#_IO_IS_FILEBUF
 0x2000

	)

110 
	#_IO_BAD_SEEN
 0x4000

	)

111 
	#_IO_USER_LOCK
 0x8000

	)

113 
	#_IO_FLAGS2_MMAP
 1

	)

114 
	#_IO_FLAGS2_NOTCANCEL
 2

	)

115 #ifde‡
_LIBC


116 
	#_IO_FLAGS2_FORTIFY
 4

	)

118 
	#_IO_FLAGS2_USER_WBUF
 8

	)

119 #ifde‡
_LIBC


120 
	#_IO_FLAGS2_SCANF_STD
 16

	)

121 
	#_IO_FLAGS2_NOCLOSE
 32

	)

122 
	#_IO_FLAGS2_CLOEXEC
 64

	)

126 
	#_IO_SKIPWS
 01

	)

127 
	#_IO_LEFT
 02

	)

128 
	#_IO_RIGHT
 04

	)

129 
	#_IO_INTERNAL
 010

	)

130 
	#_IO_DEC
 020

	)

131 
	#_IO_OCT
 040

	)

132 
	#_IO_HEX
 0100

	)

133 
	#_IO_SHOWBASE
 0200

	)

134 
	#_IO_SHOWPOINT
 0400

	)

135 
	#_IO_UPPERCASE
 01000

	)

136 
	#_IO_SHOWPOS
 02000

	)

137 
	#_IO_SCIENTIFIC
 04000

	)

138 
	#_IO_FIXED
 010000

	)

139 
	#_IO_UNITBUF
 020000

	)

140 
	#_IO_STDIO
 040000

	)

141 
	#_IO_DONT_CLOSE
 0100000

	)

142 
	#_IO_BOOLALPHA
 0200000

	)

145 
_IO_jump_t
; 
	g_IO_FILE
;

148 #ifde‡
_IO_MTSAFE_IO


149 #i‡
deföed
 
__GLIBC__
 && __GLIBC__ >= 2

150 
	~<bôs/°dio-lock.h
>

155 
	t_IO_lock_t
;

161 
	s_IO_m¨kî
 {

162 
_IO_m¨kî
 *
	m_√xt
;

163 
_IO_FILE
 *
	m_sbuf
;

167 
	m_pos
;

169 
£t_°ªampos
(
°ªampos
 
•
Ë{ 
	m_•os
 = sp; }

170 
£t_off£t
(
off£t
Ë{ 
	m_pos
 = off£t; 
	m_•os
 = (
°ªampos
)(-2); }

171 
	mpublic
:

172 
°ªamm¨kî
(
°ªambuf
 *
sb
);

173 ~
°ªamm¨kî
();

174 
ßvög
(Ë{  
	m_•os
 == -2; }

175 
dñè
(
°ªamm¨kî
&);

176 
dñè
();

181 
	e__codecvt_ªsu…


183 
	m__codecvt_ok
,

184 
	m__codecvt_∑πül
,

185 
	m__codecvt_îr‹
,

186 
	m__codecvt_noc⁄v


189 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


192 
	s_IO_codecvt


194 (*
	m__codecvt_de°r
Ë(
	m_IO_codecvt
 *);

195 
__codecvt_ªsu…
 (*
__codecvt_do_out
Ë(
	m_IO_codecvt
 *,

196 
	m__mb°©e_t
 *,

197 c⁄° 
	mwch¨_t
 *,

198 c⁄° 
	mwch¨_t
 *,

199 c⁄° 
	mwch¨_t
 **, *,

201 
__codecvt_ªsu…
 (*
__codecvt_do_unshi·
Ë(
	m_IO_codecvt
 *,

202 
	m__mb°©e_t
 *, *,

204 
__codecvt_ªsu…
 (*
__codecvt_do_ö
Ë(
	m_IO_codecvt
 *,

205 
	m__mb°©e_t
 *,

207 c⁄° **, 
	mwch¨_t
 *,

208 
	mwch¨_t
 *, wchar_t **);

209 (*
	m__codecvt_do_ícodög
Ë(
	m_IO_codecvt
 *);

210 (*
	m__codecvt_do_Æways_noc⁄v
Ë(
	m_IO_codecvt
 *);

211 (*
	m__codecvt_do_Àngth
Ë(
	m_IO_codecvt
 *, 
	m__mb°©e_t
 *,

212 c⁄° *, c⁄° *, 
	m_IO_size_t
);

213 (*
	m__codecvt_do_max_Àngth
Ë(
	m_IO_codecvt
 *);

215 
_IO_ic⁄v_t
 
	m__cd_ö
;

216 
_IO_ic⁄v_t
 
	m__cd_out
;

220 
	s_IO_wide_d©a


222 
wch¨_t
 *
	m_IO_ªad_±r
;

223 
wch¨_t
 *
	m_IO_ªad_íd
;

224 
wch¨_t
 *
	m_IO_ªad_ba£
;

225 
wch¨_t
 *
	m_IO_wrôe_ba£
;

226 
wch¨_t
 *
	m_IO_wrôe_±r
;

227 
wch¨_t
 *
	m_IO_wrôe_íd
;

228 
wch¨_t
 *
	m_IO_buf_ba£
;

229 
wch¨_t
 *
	m_IO_buf_íd
;

231 
wch¨_t
 *
	m_IO_ßve_ba£
;

232 
wch¨_t
 *
	m_IO_backup_ba£
;

234 
wch¨_t
 *
	m_IO_ßve_íd
;

236 
__mb°©e_t
 
	m_IO_°©e
;

237 
__mb°©e_t
 
	m_IO_œ°_°©e
;

238 
_IO_codecvt
 
	m_codecvt
;

240 
wch¨_t
 
	m_sh‹tbuf
[1];

242 c⁄° 
_IO_jump_t
 *
	m_wide_vèbÀ
;

246 
	s_IO_FILE
 {

247 
	m_Êags
;

248 
	#_IO_fûe_Êags
 
_Êags


	)

252 * 
	m_IO_ªad_±r
;

253 * 
	m_IO_ªad_íd
;

254 * 
	m_IO_ªad_ba£
;

255 * 
	m_IO_wrôe_ba£
;

256 * 
	m_IO_wrôe_±r
;

257 * 
	m_IO_wrôe_íd
;

258 * 
	m_IO_buf_ba£
;

259 * 
	m_IO_buf_íd
;

261 *
	m_IO_ßve_ba£
;

262 *
	m_IO_backup_ba£
;

263 *
	m_IO_ßve_íd
;

265 
_IO_m¨kî
 *
	m_m¨kîs
;

267 
_IO_FILE
 *
	m_chaö
;

269 
	m_fûío
;

271 
	m_blksize
;

273 
	m_Êags2
;

275 
_IO_off_t
 
	m_ﬁd_off£t
;

277 
	#__HAVE_COLUMN


	)

279 
	m_cur_cﬁumn
;

280 sig√d 
	m_vèbÀ_off£t
;

281 
	m_sh‹tbuf
[1];

285 
_IO_lock_t
 *
	m_lock
;

286 #ifde‡
_IO_USE_OLD_IO_FILE


289 
	s_IO_FILE_com∂ëe


291 
_IO_FILE
 
	m_fûe
;

293 #i‡
deföed
 
_G_IO_IO_FILE_VERSION
 && _G_IO_IO_FILE_VERSION == 0x20001

294 
_IO_off64_t
 
	m_off£t
;

295 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


297 
_IO_codecvt
 *
	m_codecvt
;

298 
_IO_wide_d©a
 *
	m_wide_d©a
;

299 
_IO_FILE
 *
	m_‰ìªs_li°
;

300 *
	m_‰ìªs_buf
;

301 
size_t
 
	m_‰ìªs_size
;

303 *
	m__∑d1
;

304 *
	m__∑d2
;

305 *
	m__∑d3
;

306 *
	m__∑d4
;

307 
size_t
 
	m__∑d5
;

309 
	m_mode
;

311 
	m_unu£d2
[15 *  (Ë- 4 *  (*Ë-  (
size_t
)];

315 #i‚de‡
__˝lu•lus


316 
_IO_FILE
 
	t_IO_FILE
;

319 
	g_IO_FILE_∂us
;

321 
_IO_FILE_∂us
 
_IO_2_1_°dö_
;

322 
_IO_FILE_∂us
 
_IO_2_1_°dout_
;

323 
_IO_FILE_∂us
 
_IO_2_1_°dîr_
;

324 #i‚de‡
_LIBC


325 
	#_IO_°dö
 ((
_IO_FILE
*)(&
_IO_2_1_°dö_
))

	)

326 
	#_IO_°dout
 ((
_IO_FILE
*)(&
_IO_2_1_°dout_
))

	)

327 
	#_IO_°dîr
 ((
_IO_FILE
*)(&
_IO_2_1_°dîr_
))

	)

329 
_IO_FILE
 *
_IO_°dö
 
©åibuã_hiddí
;

330 
_IO_FILE
 *
_IO_°dout
 
©åibuã_hiddí
;

331 
_IO_FILE
 *
_IO_°dîr
 
©åibuã_hiddí
;

339 
__ssize_t
 
	t__io_ªad_‚
 (*
	t__cookõ
, *
	t__buf
, 
	tsize_t
 
	t__nbyãs
);

347 
__ssize_t
 
	t__io_wrôe_‚
 (*
	t__cookõ
, c⁄° *
	t__buf
,

348 
	tsize_t
 
	t__n
);

356 
	t__io_£ek_‚
 (*
	t__cookõ
, 
	t_IO_off64_t
 *
	t__pos
, 
	t__w
);

359 
	t__io_˛o£_‚
 (*
	t__cookõ
);

362 #ifde‡
_GNU_SOURCE


364 
__io_ªad_‚
 
	tcookõ_ªad_fun˘i⁄_t
;

365 
__io_wrôe_‚
 
	tcookõ_wrôe_fun˘i⁄_t
;

366 
__io_£ek_‚
 
	tcookõ_£ek_fun˘i⁄_t
;

367 
__io_˛o£_‚
 
	tcookõ_˛o£_fun˘i⁄_t
;

372 
__io_ªad_‚
 *
	mªad
;

373 
__io_wrôe_‚
 *
	mwrôe
;

374 
__io_£ek_‚
 *
	m£ek
;

375 
__io_˛o£_‚
 *
	m˛o£
;

376 } 
	t_IO_cookõ_io_fun˘i⁄s_t
;

377 
_IO_cookõ_io_fun˘i⁄s_t
 
	tcookõ_io_fun˘i⁄s_t
;

379 
	g_IO_cookõ_fûe
;

382 
_IO_cookõ_öô
 (
_IO_cookõ_fûe
 *
__cfûe
, 
__ªad_wrôe
,

383 *
__cookõ
, 
_IO_cookõ_io_fun˘i⁄s_t
 
__‚s
);

387 #ifde‡
__˝lu•lus


391 
__undîÊow
 (
_IO_FILE
 *);

392 
__uÊow
 (
_IO_FILE
 *);

393 
__ovîÊow
 (
_IO_FILE
 *, );

394 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


395 
_IO_wöt_t
 
__wundîÊow
 (
_IO_FILE
 *);

396 
_IO_wöt_t
 
__wuÊow
 (
_IO_FILE
 *);

397 
_IO_wöt_t
 
__wovîÊow
 (
_IO_FILE
 *, _IO_wint_t);

400 #i‡ 
__GNUC__
 >= 3

401 
	#_IO_BE
(
ex¥
, 
ªs
Ë
	`__buûtö_ex≥˘
 (”x¥),Ñes)

	)

403 
	#_IO_BE
(
ex¥
, 
ªs
Ë”x¥)

	)

406 
	#_IO_gëc_u∆ocked
(
_Â
) \

407 (
	`_IO_BE
 ((
_Â
)->
_IO_ªad_±r
 >(_Â)->
_IO_ªad_íd
, 0) \

408 ? 
	`__uÊow
 (
_Â
Ë: *(*Ë(_Â)->
_IO_ªad_±r
++)

	)

409 
	#_IO_≥ekc_u∆ocked
(
_Â
) \

410 (
	`_IO_BE
 ((
_Â
)->
_IO_ªad_±r
 >(_Â)->
_IO_ªad_íd
, 0) \

411 && 
	`__undîÊow
 (
_Â
Ë=
EOF
 ? EOF \

412 : *(*Ë(
_Â
)->
_IO_ªad_±r
)

	)

413 
	#_IO_putc_u∆ocked
(
_ch
, 
_Â
) \

414 (
	`_IO_BE
 ((
_Â
)->
_IO_wrôe_±r
 >(_Â)->
_IO_wrôe_íd
, 0) \

415 ? 
	`__ovîÊow
 (
_Â
, (Ë(
_ch
)) \

416 : (Ë(*(
_Â
)->
_IO_wrôe_±r
++ = (
_ch
)))

	)

418 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


419 
	#_IO_gëwc_u∆ocked
(
_Â
) \

420 (
	`_IO_BE
 ((
_Â
)->
_wide_d©a
 =
NULL
 \

421 || ((
_Â
)->
_wide_d©a
->
_IO_ªad_±r
 \

422 >(
_Â
)->
_wide_d©a
->
_IO_ªad_íd
), 0) \

423 ? 
	`__wuÊow
 (
_Â
Ë: (
_IO_wöt_t
Ë*(_Â)->
_wide_d©a
->
_IO_ªad_±r
++)

	)

424 
	#_IO_putwc_u∆ocked
(
_wch
, 
_Â
) \

425 (
	`_IO_BE
 ((
_Â
)->
_wide_d©a
 =
NULL
 \

426 || ((
_Â
)->
_wide_d©a
->
_IO_wrôe_±r
 \

427 >(
_Â
)->
_wide_d©a
->
_IO_wrôe_íd
), 0) \

428 ? 
	`__wovîÊow
 (
_Â
, 
_wch
) \

429 : (
_IO_wöt_t
Ë(*(
_Â
)->
_wide_d©a
->
_IO_wrôe_±r
++ = (
_wch
)))

	)

432 
	#_IO_„of_u∆ocked
(
__Â
Ë(((__Â)->
_Êags
 & 
_IO_EOF_SEEN
Ë!0)

	)

433 
	#_IO_„º‹_u∆ocked
(
__Â
Ë(((__Â)->
_Êags
 & 
_IO_ERR_SEEN
Ë!0)

	)

435 
_IO_gëc
 (
_IO_FILE
 *
__Â
);

436 
_IO_putc
 (
__c
, 
_IO_FILE
 *
__Â
);

437 
_IO_„of
 (
_IO_FILE
 *
__Â
Ë
__THROW
;

438 
_IO_„º‹
 (
_IO_FILE
 *
__Â
Ë
__THROW
;

440 
_IO_≥ekc_locked
 (
_IO_FILE
 *
__Â
);

443 
	#_IO_PENDING_OUTPUT_COUNT
(
_Â
) \

444 ((
_Â
)->
_IO_wrôe_±r
 - (_Â)->
_IO_wrôe_ba£
)

	)

446 
_IO_Êockfûe
 (
_IO_FILE
 *Ë
__THROW
;

447 
_IO_fu∆ockfûe
 (
_IO_FILE
 *Ë
__THROW
;

448 
_IO_·rylockfûe
 (
_IO_FILE
 *Ë
__THROW
;

450 #ifde‡
_IO_MTSAFE_IO


451 
	#_IO_≥ekc
(
_Â
Ë
	`_IO_≥ekc_locked
 (_Â)

	)

452 
	#_IO_Êockfûe
(
_Â
) \

453 i‡(((
_Â
)->
_Êags
 & 
_IO_USER_LOCK
Ë=0Ë
	`_IO_Êockfûe
 (_Â)

	)

454 
	#_IO_fu∆ockfûe
(
_Â
) \

455 i‡(((
_Â
)->
_Êags
 & 
_IO_USER_LOCK
Ë=0Ë
	`_IO_fu∆ockfûe
 (_Â)

	)

457 
	#_IO_≥ekc
(
_Â
Ë
	`_IO_≥ekc_u∆ocked
 (_Â)

	)

458 
	#_IO_Êockfûe
(
_Â
Ë

	)

459 
	#_IO_fu∆ockfûe
(
_Â
Ë

	)

460 
	#_IO_·rylockfûe
(
_Â
Ë

	)

461 
	#_IO_˛ónup_ªgi⁄_°¨t
(
_f˘
, 
_Â
Ë

	)

462 
	#_IO_˛ónup_ªgi⁄_íd
(
_Doô
Ë

	)

465 
_IO_vfsˇnf
 (
_IO_FILE
 * 
__ª°ri˘
, const * __restrict,

466 
_IO_va_li°
, *
__ª°ri˘
);

467 
_IO_vÂrötf
 (
_IO_FILE
 *
__ª°ri˘
, const *__restrict,

468 
_IO_va_li°
);

469 
_IO_ssize_t
 
_IO_∑dn
 (
_IO_FILE
 *, , _IO_ssize_t);

470 
_IO_size_t
 
_IO_sgën
 (
_IO_FILE
 *, *, _IO_size_t);

472 
_IO_off64_t
 
_IO_£ekoff
 (
_IO_FILE
 *, _IO_off64_t, , );

473 
_IO_off64_t
 
_IO_£ekpos
 (
_IO_FILE
 *, _IO_off64_t, );

475 
_IO_‰ì_backup_¨ó
 (
_IO_FILE
 *Ë
__THROW
;

477 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


478 
_IO_wöt_t
 
_IO_gëwc
 (
_IO_FILE
 *
__Â
);

479 
_IO_wöt_t
 
_IO_putwc
 (
wch¨_t
 
__wc
, 
_IO_FILE
 *
__Â
);

480 
_IO_fwide
 (
_IO_FILE
 *
__Â
, 
__mode
Ë
__THROW
;

481 #i‡
__GNUC__
 >= 2

484 #i‡
deföed
 
_LIBC
 && deföed 
SHARED


485 
	~<shlib-com∑t.h
>

486 #i‡
SHLIB_COMPAT
 (
libc
, 
GLIBC_2_0
, 
GLIBC_2_1
)

487 
	#_IO_fwide_maybe_öcom∑tibÀ
 \

488 (
	`__buûtö_ex≥˘
 (&
_IO_°dö_u£d
 =
NULL
, 0))

	)

489 c⁄° 
_IO_°dö_u£d
;

490 
wók_exã∫
 (
_IO_°dö_u£d
);

493 #i‚de‡
_IO_fwide_maybe_öcom∑tibÀ


494 
	#_IO_fwide_maybe_öcom∑tibÀ
 (0)

	)

498 
	#_IO_fwide
(
__Â
, 
__mode
) \

499 ({ 
__ªsu…
 = (
__mode
); \

500 i‡(
__ªsu…
 < 0 && ! 
_IO_fwide_maybe_öcom∑tibÀ
) \

502 i‡((
__Â
)->
_mode
 == 0) \

504 (
__Â
)->
_mode
 = -1; \

505 
__ªsu…
 = (
__Â
)->
_mode
; \

507 i‡(
	`__buûtö_c⁄°™t_p
 (
__mode
) && (__mode) == 0) \

508 
__ªsu…
 = 
_IO_fwide_maybe_öcom∑tibÀ
 ? -1 : (
__Â
)->
_mode
; \

510 
__ªsu…
 = 
	`_IO_fwide
 (
__Â
, __result); \

511 
__ªsu…
; })

	)

514 
_IO_vfwsˇnf
 (
_IO_FILE
 * 
__ª°ri˘
, c⁄° 
wch¨_t
 * __restrict,

515 
_IO_va_li°
, *
__ª°ri˘
);

516 
_IO_vfw¥ötf
 (
_IO_FILE
 *
__ª°ri˘
, c⁄° 
wch¨_t
 *__restrict,

517 
_IO_va_li°
);

518 
_IO_ssize_t
 
_IO_w∑dn
 (
_IO_FILE
 *, 
wöt_t
, _IO_ssize_t);

519 
_IO_‰ì_wbackup_¨ó
 (
_IO_FILE
 *Ë
__THROW
;

522 #ifde‡
__LDBL_COMPAT


523 
	~<bôs/libio-ldbl.h
>

526 #ifde‡
__˝lu•lus


	@/usr/include/sys/types.h

22 #i‚def 
_SYS_TYPES_H


23 
	#_SYS_TYPES_H
 1

	)

25 
	~<„©uªs.h
>

27 
	g__BEGIN_DECLS


29 
	~<bôs/ty≥s.h
>

31 #ifdef 
__USE_BSD


32 #i‚de‡
__u_ch¨_deföed


33 
__u_ch¨
 
	tu_ch¨
;

34 
__u_sh‹t
 
	tu_sh‹t
;

35 
__u_öt
 
	tu_öt
;

36 
__u_l⁄g
 
	tu_l⁄g
;

37 
__quad_t
 
	tquad_t
;

38 
__u_quad_t
 
	tu_quad_t
;

39 
__fsid_t
 
	tfsid_t
;

40 
	#__u_ch¨_deföed


	)

44 
__loff_t
 
	tloff_t
;

46 #i‚de‡
__öo_t_deföed


47 #i‚de‡
__USE_FILE_OFFSET64


48 
__öo_t
 
	töo_t
;

50 
__öo64_t
 
	töo_t
;

52 
	#__öo_t_deföed


	)

54 #i‡
deföed
 
__USE_LARGEFILE64
 && !deföed 
__öo64_t_deföed


55 
__öo64_t
 
	töo64_t
;

56 
	#__öo64_t_deföed


	)

59 #i‚de‡
__dev_t_deföed


60 
__dev_t
 
	tdev_t
;

61 
	#__dev_t_deföed


	)

64 #i‚de‡
__gid_t_deföed


65 
__gid_t
 
	tgid_t
;

66 
	#__gid_t_deföed


	)

69 #i‚de‡
__mode_t_deföed


70 
__mode_t
 
	tmode_t
;

71 
	#__mode_t_deföed


	)

74 #i‚de‡
__∆ök_t_deföed


75 
__∆ök_t
 
	t∆ök_t
;

76 
	#__∆ök_t_deföed


	)

79 #i‚de‡
__uid_t_deföed


80 
__uid_t
 
	tuid_t
;

81 
	#__uid_t_deföed


	)

84 #i‚de‡
__off_t_deföed


85 #i‚de‡
__USE_FILE_OFFSET64


86 
__off_t
 
	toff_t
;

88 
__off64_t
 
	toff_t
;

90 
	#__off_t_deföed


	)

92 #i‡
deföed
 
__USE_LARGEFILE64
 && !deföed 
__off64_t_deföed


93 
__off64_t
 
	toff64_t
;

94 
	#__off64_t_deföed


	)

97 #i‚de‡
__pid_t_deföed


98 
__pid_t
 
	tpid_t
;

99 
	#__pid_t_deföed


	)

102 #i‡(
deföed
 
__USE_SVID
 || deföed 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K8
) \

103 && !
deföed
 
__id_t_deföed


104 
__id_t
 
	tid_t
;

105 
	#__id_t_deföed


	)

108 #i‚de‡
__ssize_t_deföed


109 
__ssize_t
 
	tssize_t
;

110 
	#__ssize_t_deföed


	)

113 #ifdef 
__USE_BSD


114 #i‚de‡
__daddr_t_deföed


115 
__daddr_t
 
	tdaddr_t
;

116 
__ˇddr_t
 
	tˇddr_t
;

117 
	#__daddr_t_deföed


	)

121 #i‡(
deföed
 
__USE_SVID
 || deföed 
__USE_XOPEN
Ë&& !deföed 
__key_t_deföed


122 
__key_t
 
	tkey_t
;

123 
	#__key_t_deföed


	)

126 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K8


127 
	#__√ed_˛ock_t


	)

129 
	#__√ed_time_t


	)

130 
	#__√ed_timî_t


	)

131 
	#__√ed_˛ockid_t


	)

132 
	~<time.h
>

134 #ifde‡
__USE_XOPEN


135 #i‚de‡
__u£c⁄ds_t_deföed


136 
__u£c⁄ds_t
 
	tu£c⁄ds_t
;

137 
	#__u£c⁄ds_t_deföed


	)

139 #i‚de‡
__su£c⁄ds_t_deföed


140 
__su£c⁄ds_t
 
	tsu£c⁄ds_t
;

141 
	#__su£c⁄ds_t_deföed


	)

145 
	#__√ed_size_t


	)

146 
	~<°ddef.h
>

148 #ifde‡
__USE_MISC


150 
	tul⁄g
;

151 
	tush‹t
;

152 
	tuöt
;

157 #i‡!
__GNUC_PREREQ
 (2, 7)

160 #i‚de‡
__öt8_t_deföed


161 
	#__öt8_t_deföed


	)

162 
	töt8_t
;

163 
	töt16_t
;

164 
	töt32_t
;

165 #i‡
__WORDSIZE
 == 64

166 
	töt64_t
;

167 #ñi‡
__GLIBC_HAVE_LONG_LONG


168 
__exãnsi⁄__
 
	töt64_t
;

173 
	tu_öt8_t
;

174 
	tu_öt16_t
;

175 
	tu_öt32_t
;

176 #i‡
__WORDSIZE
 == 64

177 
	tu_öt64_t
;

178 #ñi‡
__GLIBC_HAVE_LONG_LONG


179 
__exãnsi⁄__
 
	tu_öt64_t
;

182 
	tªgi°î_t
;

187 
	#__ötN_t
(
N
, 
MODE
) \

188 ##
	tN
##
	t_t
 
	t__©åibuã__
 ((
	t__mode__
 (
	tMODE
)))

	)

189 
	t__u_ötN_t
(
	tN
, 
	tMODE
) \

190 
	tu_öt
##
	tN
##
	t_t
 
	t__©åibuã__
 ((
	t__mode__
 (
	tMODE
)))

	)

192 #i‚de‡
	t__öt8_t_deföed


193 
	t__öt8_t_deföed


	)

194 
	t__ötN_t
 (8, 
	t__QI__
);

195 
__ötN_t
 (16, 
__HI__
);

196 
__ötN_t
 (32, 
__SI__
);

197 
__ötN_t
 (64, 
__DI__
);

200 
__u_ötN_t
 (8, 
__QI__
);

201 
__u_ötN_t
 (16, 
__HI__
);

202 
__u_ötN_t
 (32, 
__SI__
);

203 
__u_ötN_t
 (64, 
__DI__
);

205 
	tªgi°î_t
 
	t__©åibuã__
 ((
	t__mode__
 (
	t__w‹d__
)));

211 
	#__BIT_TYPES_DEFINED__
 1

	)

214 #ifdef 
__USE_BSD


216 
	~<ídün.h
>

219 
	~<sys/£À˘.h
>

222 
	~<sys/sysma¸os.h
>

226 #i‡(
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K8
) \

227 && !
deföed
 
__blksize_t_deföed


228 
__blksize_t
 
	tblksize_t
;

229 
	#__blksize_t_deföed


	)

233 #i‚de‡
__USE_FILE_OFFSET64


234 #i‚de‡
__blk˙t_t_deföed


235 
__blk˙t_t
 
	tblk˙t_t
;

236 
	#__blk˙t_t_deföed


	)

238 #i‚de‡
__fsblk˙t_t_deföed


239 
__fsblk˙t_t
 
	tfsblk˙t_t
;

240 
	#__fsblk˙t_t_deföed


	)

242 #i‚de‡
__fsfû˙t_t_deföed


243 
__fsfû˙t_t
 
	tfsfû˙t_t
;

244 
	#__fsfû˙t_t_deföed


	)

247 #i‚de‡
__blk˙t_t_deföed


248 
__blk˙t64_t
 
	tblk˙t_t
;

249 
	#__blk˙t_t_deföed


	)

251 #i‚de‡
__fsblk˙t_t_deföed


252 
__fsblk˙t64_t
 
	tfsblk˙t_t
;

253 
	#__fsblk˙t_t_deföed


	)

255 #i‚de‡
__fsfû˙t_t_deföed


256 
__fsfû˙t64_t
 
	tfsfû˙t_t
;

257 
	#__fsfû˙t_t_deföed


	)

261 #ifde‡
__USE_LARGEFILE64


262 
__blk˙t64_t
 
	tblk˙t64_t
;

263 
__fsblk˙t64_t
 
	tfsblk˙t64_t
;

264 
__fsfû˙t64_t
 
	tfsfû˙t64_t
;

269 #i‡
deföed
 
__USE_POSIX199506
 || deföed 
__USE_UNIX98


270 
	~<bôs/±hªadty≥s.h
>

273 
	g__END_DECLS


	@/usr/include/xlocale.h

20 #i‚de‡
_XLOCALE_H


21 
	#_XLOCALE_H
 1

	)

27 
	s__loˇÀ_°ru˘


30 
__loˇÀ_d©a
 *
	m__loˇÀs
[13];

33 c⁄° *
	m__˘y≥_b
;

34 c⁄° *
	m__˘y≥_tﬁowî
;

35 c⁄° *
	m__˘y≥_touµî
;

38 c⁄° *
	m__«mes
[13];

39 } *
	t__loˇÀ_t
;

42 
__loˇÀ_t
 
	tloˇÀ_t
;

	@/usr/include/_G_config.h

4 #i‚de‡
_G_c⁄fig_h


5 
	#_G_c⁄fig_h
 1

	)

9 
	~<bôs/ty≥s.h
>

10 
	#__√ed_size_t


	)

11 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


12 
	#__√ed_wch¨_t


	)

14 
	#__√ed_NULL


	)

15 
	~<°ddef.h
>

16 
	#__√ed_mb°©e_t


	)

17 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


18 
	#__√ed_wöt_t


	)

20 
	~<wch¨.h
>

23 
__off_t
 
	m__pos
;

24 
__mb°©e_t
 
	m__°©e
;

25 } 
	t_G_Âos_t
;

28 
__off64_t
 
	m__pos
;

29 
__mb°©e_t
 
	m__°©e
;

30 } 
	t_G_Âos64_t
;

31 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


32 
	~<gc⁄v.h
>

35 
__gc⁄v_öfo
 
	m__cd
;

38 
__gc⁄v_öfo
 
	m__cd
;

39 
__gc⁄v_°ï_d©a
 
	m__d©a
;

40 } 
	m__comböed
;

41 } 
	t_G_ic⁄v_t
;

46 
	#_G_va_li°
 
__gnuc_va_li°


	)

48 
	#_G_HAVE_MMAP
 1

	)

49 
	#_G_HAVE_MREMAP
 1

	)

51 
	#_G_IO_IO_FILE_VERSION
 0x20001

	)

54 
	#_G_HAVE_ST_BLKSIZE
 
	`deföed
 (
_STATBUF_ST_BLKSIZE
)

	)

56 
	#_G_BUFSIZ
 8192

	)

	@/usr/include/bits/libio-ldbl.h

19 #i‚de‡
_IO_STDIO_H


23 
	$__LDBL_REDIR_DECL
 (
_IO_vfsˇnf
)

24 
	`__LDBL_REDIR_DECL
 (
_IO_vÂrötf
)

	@/usr/include/bits/pthreadtypes.h

18 #i‚de‡
_BITS_PTHREADTYPES_H


19 
	#_BITS_PTHREADTYPES_H
 1

	)

21 
	~<bôs/w‹dsize.h
>

23 #ifde‡
__x86_64__


24 #i‡
__WORDSIZE
 == 64

25 
	#__SIZEOF_PTHREAD_ATTR_T
 56

	)

26 
	#__SIZEOF_PTHREAD_MUTEX_T
 40

	)

27 
	#__SIZEOF_PTHREAD_MUTEXATTR_T
 4

	)

28 
	#__SIZEOF_PTHREAD_COND_T
 48

	)

29 
	#__SIZEOF_PTHREAD_CONDATTR_T
 4

	)

30 
	#__SIZEOF_PTHREAD_RWLOCK_T
 56

	)

31 
	#__SIZEOF_PTHREAD_RWLOCKATTR_T
 8

	)

32 
	#__SIZEOF_PTHREAD_BARRIER_T
 32

	)

33 
	#__SIZEOF_PTHREAD_BARRIERATTR_T
 4

	)

35 
	#__SIZEOF_PTHREAD_ATTR_T
 32

	)

36 
	#__SIZEOF_PTHREAD_MUTEX_T
 32

	)

37 
	#__SIZEOF_PTHREAD_MUTEXATTR_T
 4

	)

38 
	#__SIZEOF_PTHREAD_COND_T
 48

	)

39 
	#__SIZEOF_PTHREAD_CONDATTR_T
 4

	)

40 
	#__SIZEOF_PTHREAD_RWLOCK_T
 44

	)

41 
	#__SIZEOF_PTHREAD_RWLOCKATTR_T
 8

	)

42 
	#__SIZEOF_PTHREAD_BARRIER_T
 20

	)

43 
	#__SIZEOF_PTHREAD_BARRIERATTR_T
 4

	)

46 
	#__SIZEOF_PTHREAD_ATTR_T
 36

	)

47 
	#__SIZEOF_PTHREAD_MUTEX_T
 24

	)

48 
	#__SIZEOF_PTHREAD_MUTEXATTR_T
 4

	)

49 
	#__SIZEOF_PTHREAD_COND_T
 48

	)

50 
	#__SIZEOF_PTHREAD_CONDATTR_T
 4

	)

51 
	#__SIZEOF_PTHREAD_RWLOCK_T
 32

	)

52 
	#__SIZEOF_PTHREAD_RWLOCKATTR_T
 8

	)

53 
	#__SIZEOF_PTHREAD_BARRIER_T
 20

	)

54 
	#__SIZEOF_PTHREAD_BARRIERATTR_T
 4

	)

60 
	t±hªad_t
;

63 
	u±hªad_©å_t


65 
	m__size
[
__SIZEOF_PTHREAD_ATTR_T
];

66 
	m__Æign
;

68 #i‚de‡
__have_±hªad_©å_t


69 
±hªad_©å_t
 
	t±hªad_©å_t
;

70 
	#__have_±hªad_©å_t
 1

	)

74 #ifde‡
__x86_64__


75 
	s__±hªad_öã∫Æ_li°


77 
__±hªad_öã∫Æ_li°
 *
	m__¥ev
;

78 
__±hªad_öã∫Æ_li°
 *
	m__√xt
;

79 } 
	t__±hªad_li°_t
;

81 
	s__±hªad_öã∫Æ_¶i°


83 
__±hªad_öã∫Æ_¶i°
 *
	m__√xt
;

84 } 
	t__±hªad_¶i°_t
;

92 
	s__±hªad_muãx_s


94 
	m__lock
;

95 
	m__cou¡
;

96 
	m__ow√r
;

97 #ifde‡
__x86_64__


98 
	m__nu£rs
;

102 
	m__köd
;

103 #ifde‡
__x86_64__


104 
	m__•ös
;

105 
	m__ñisi⁄
;

106 
__±hªad_li°_t
 
	m__li°
;

107 
	#__PTHREAD_MUTEX_HAVE_PREV
 1

	)

109 
	#__PTHREAD_SPINS
 0, 0

	)

111 
	m__nu£rs
;

112 
__exãnsi⁄__
 union

116 
	m__e•ös
;

117 
	m__ñisi⁄
;

118 
	#__•ös
 
__ñisi⁄_d©a
.
__e•ös


	)

119 
	#__ñisi⁄
 
__ñisi⁄_d©a
.
__ñisi⁄


	)

120 
	#__PTHREAD_SPINS
 { 0, 0 }

	)

121 } 
	m__ñisi⁄_d©a
;

122 
__±hªad_¶i°_t
 
	m__li°
;

125 } 
	m__d©a
;

126 
	m__size
[
__SIZEOF_PTHREAD_MUTEX_T
];

127 
	m__Æign
;

128 } 
	t±hªad_muãx_t
;

132 
	m__size
[
__SIZEOF_PTHREAD_MUTEXATTR_T
];

133 
	m__Æign
;

134 } 
	t±hªad_muãx©å_t
;

143 
	m__lock
;

144 
	m__fuãx
;

145 
__exãnsi⁄__
 
	m__tŸÆ_£q
;

146 
__exãnsi⁄__
 
	m__wakeup_£q
;

147 
__exãnsi⁄__
 
	m__wokí_£q
;

148 *
	m__muãx
;

149 
	m__nwaôîs
;

150 
	m__brﬂdˇ°_£q
;

151 } 
	m__d©a
;

152 
	m__size
[
__SIZEOF_PTHREAD_COND_T
];

153 
__exãnsi⁄__
 
	m__Æign
;

154 } 
	t±hªad_c⁄d_t
;

158 
	m__size
[
__SIZEOF_PTHREAD_CONDATTR_T
];

159 
	m__Æign
;

160 } 
	t±hªad_c⁄d©å_t
;

164 
	t±hªad_key_t
;

168 
	t±hªad_⁄˚_t
;

171 #i‡
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K


176 #ifde‡
__x86_64__


179 
	m__lock
;

180 
	m__ƒ_ªadîs
;

181 
	m__ªadîs_wakeup
;

182 
	m__wrôî_wakeup
;

183 
	m__ƒ_ªadîs_queued
;

184 
	m__ƒ_wrôîs_queued
;

185 
	m__wrôî
;

186 
	m__sh¨ed
;

187 
	m__∑d1
;

188 
	m__∑d2
;

191 
	m__Êags
;

192 
	#__PTHREAD_RWLOCK_INT_FLAGS_SHARED
 1

	)

193 } 
	m__d©a
;

197 
	m__lock
;

198 
	m__ƒ_ªadîs
;

199 
	m__ªadîs_wakeup
;

200 
	m__wrôî_wakeup
;

201 
	m__ƒ_ªadîs_queued
;

202 
	m__ƒ_wrôîs_queued
;

205 
	m__Êags
;

206 
	m__sh¨ed
;

207 
	m__∑d1
;

208 
	m__∑d2
;

209 
	m__wrôî
;

210 } 
	m__d©a
;

212 
	m__size
[
__SIZEOF_PTHREAD_RWLOCK_T
];

213 
	m__Æign
;

214 } 
	t±hªad_rwlock_t
;

218 
	m__size
[
__SIZEOF_PTHREAD_RWLOCKATTR_T
];

219 
	m__Æign
;

220 } 
	t±hªad_rwlock©å_t
;

224 #ifde‡
__USE_XOPEN2K


226 vﬁ©ûê
	t±hªad_•ölock_t
;

233 
	m__size
[
__SIZEOF_PTHREAD_BARRIER_T
];

234 
	m__Æign
;

235 } 
	t±hªad_b¨rõr_t
;

239 
	m__size
[
__SIZEOF_PTHREAD_BARRIERATTR_T
];

240 
	m__Æign
;

241 } 
	t±hªad_b¨rõøâr_t
;

245 #i‚de‡
__x86_64__


247 
	#__˛ónup_f˘_©åibuã
 
	`__©åibuã__
 ((
	`__ªg∑rm__
 (1)))

	)

	@/usr/include/bits/stdio-lock.h

19 #i‚de‡
_BITS_STDIO_LOCK_H


20 
	#_BITS_STDIO_LOCK_H
 1

	)

22 
	~<bôs/libc-lock.h
>

24 
	$__libc_lock_deföe_ªcursive
 (, 
_IO_lock_t
)

27 #ifde‡
	t_LIBC_LOCK_RECURSIVE_INITIALIZER


28 
	t_IO_lock_öôülizî
 
	t_LIBC_LOCK_RECURSIVE_INITIALIZER


	)

29 #ñi‡
	t_IO_MTSAFE_IO


30 #îr‹ 
	tlibio
 
	t√eds
 
	tªcursive
 
	tmuãxes
 
	t_IO_MTSAFE_IO


33 
	t_IO_lock_öô
(
	t_«me
Ë
	t__libc_lock_öô_ªcursive
 (_«me)

	)

34 
	t_IO_lock_föi
(
	t_«me
Ë
	t__libc_lock_föi_ªcursive
 (_«me)

	)

35 
	t_IO_lock_lock
(
	t_«me
Ë
	t__libc_lock_lock_ªcursive
 (_«me)

	)

36 
	t_IO_lock_åylock
(
	t_«me
Ë
	t__libc_lock_åylock_ªcursive
 (_«me)

	)

37 
	t_IO_lock_u∆ock
(
	t_«me
Ë
	t__libc_lock_u∆ock_ªcursive
 (_«me)

	)

40 
	t_IO_˛ónup_ªgi⁄_°¨t
(
	t_f˘
, 
	t_Â
) \

41 
	t__libc_˛ónup_ªgi⁄_°¨t
 (((
	t_Â
)->
	t_Êags
 & 
	t_IO_USER_LOCK
Ë=0, 
	t_f˘
, _Â)

	)

42 
	t_IO_˛ónup_ªgi⁄_°¨t_nﬂrg
(
	t_f˘
) \

43 
	t__libc_˛ónup_ªgi⁄_°¨t
 (1, 
	t_f˘
, 
	tNULL
)

	)

44 
	t_IO_˛ónup_ªgi⁄_íd
(
	t_doô
) \

45 
	t__libc_˛ónup_ªgi⁄_íd
 (
	t_doô
)

	)

47 #i‡
	tdeföed
 
	t_LIBC
 && 
	tIS_IN
 (
	tlibc
)

48 
	t_IO_acquúe_lock
(
	t_Â
) \

49 
	t_IO_˛ónup_ªgi⁄_°¨t
 (((*Ë(*)Ë
	t_IO_fu∆ockfûe
, (
	t_Â
)); \

50 
	`_IO_Êockfûe
 (
_Â
)

	)

52 
	#_IO_ªÀa£_lock
(
_Â
) \

53 
	`_IO_fu∆ockfûe
 (
_Â
); \

54 
	`_IO_˛ónup_ªgi⁄_íd
 (0)

	)

	@/usr/include/bits/typesizes.h

19 #i‚de‡
_BITS_TYPES_H


23 #i‚def 
_BITS_TYPESIZES_H


24 
	#_BITS_TYPESIZES_H
 1

	)

30 #i‡
deföed
 
__x86_64__
 && deföed 
__ILP32__


31 
	#__SYSCALL_SLONG_TYPE
 
__SQUAD_TYPE


	)

32 
	#__SYSCALL_ULONG_TYPE
 
__UQUAD_TYPE


	)

34 
	#__SYSCALL_SLONG_TYPE
 
__SLONGWORD_TYPE


	)

35 
	#__SYSCALL_ULONG_TYPE
 
__ULONGWORD_TYPE


	)

38 
	#__DEV_T_TYPE
 
__UQUAD_TYPE


	)

39 
	#__UID_T_TYPE
 
__U32_TYPE


	)

40 
	#__GID_T_TYPE
 
__U32_TYPE


	)

41 
	#__INO_T_TYPE
 
__SYSCALL_ULONG_TYPE


	)

42 
	#__INO64_T_TYPE
 
__UQUAD_TYPE


	)

43 
	#__MODE_T_TYPE
 
__U32_TYPE


	)

44 #ifde‡
__x86_64__


45 
	#__NLINK_T_TYPE
 
__SYSCALL_ULONG_TYPE


	)

46 
	#__FSWORD_T_TYPE
 
__SYSCALL_SLONG_TYPE


	)

48 
	#__NLINK_T_TYPE
 
__UWORD_TYPE


	)

49 
	#__FSWORD_T_TYPE
 
__SWORD_TYPE


	)

51 
	#__OFF_T_TYPE
 
__SYSCALL_SLONG_TYPE


	)

52 
	#__OFF64_T_TYPE
 
__SQUAD_TYPE


	)

53 
	#__PID_T_TYPE
 
__S32_TYPE


	)

54 
	#__RLIM_T_TYPE
 
__SYSCALL_ULONG_TYPE


	)

55 
	#__RLIM64_T_TYPE
 
__UQUAD_TYPE


	)

56 
	#__BLKCNT_T_TYPE
 
__SYSCALL_SLONG_TYPE


	)

57 
	#__BLKCNT64_T_TYPE
 
__SQUAD_TYPE


	)

58 
	#__FSBLKCNT_T_TYPE
 
__SYSCALL_ULONG_TYPE


	)

59 
	#__FSBLKCNT64_T_TYPE
 
__UQUAD_TYPE


	)

60 
	#__FSFILCNT_T_TYPE
 
__SYSCALL_ULONG_TYPE


	)

61 
	#__FSFILCNT64_T_TYPE
 
__UQUAD_TYPE


	)

62 
	#__ID_T_TYPE
 
__U32_TYPE


	)

63 
	#__CLOCK_T_TYPE
 
__SYSCALL_SLONG_TYPE


	)

64 
	#__TIME_T_TYPE
 
__SYSCALL_SLONG_TYPE


	)

65 
	#__USECONDS_T_TYPE
 
__U32_TYPE


	)

66 
	#__SUSECONDS_T_TYPE
 
__SYSCALL_SLONG_TYPE


	)

67 
	#__DADDR_T_TYPE
 
__S32_TYPE


	)

68 
	#__KEY_T_TYPE
 
__S32_TYPE


	)

69 
	#__CLOCKID_T_TYPE
 
__S32_TYPE


	)

70 
	#__TIMER_T_TYPE
 *

	)

71 
	#__BLKSIZE_T_TYPE
 
__SYSCALL_SLONG_TYPE


	)

72 
	#__FSID_T_TYPE
 såu˘ { 
__vÆ
[2]; }

	)

73 
	#__SSIZE_T_TYPE
 
__SWORD_TYPE


	)

75 #ifde‡
__x86_64__


79 
	#__OFF_T_MATCHES_OFF64_T
 1

	)

82 
	#__INO_T_MATCHES_INO64_T
 1

	)

86 
	#__FD_SETSIZE
 1024

	)

	@/usr/include/ctype.h

23 #i‚def 
_CTYPE_H


24 
	#_CTYPE_H
 1

	)

26 
	~<„©uªs.h
>

27 
	~<bôs/ty≥s.h
>

29 
	g__BEGIN_DECLS


31 #i‚de‡
_ISbô


40 
	~<ídün.h
>

41 #i‡
__BYTE_ORDER
 =
__BIG_ENDIAN


42 
	#_ISbô
(
bô
Ë(1 << (bô))

	)

44 
	#_ISbô
(
bô
Ë((bôË< 8 ? ((1 << (bô)Ë<< 8Ë: ((1 << (bô)Ë>> 8))

	)

49 
	m_ISuµî
 = 
_ISbô
 (0),

50 
	m_ISlowî
 = 
_ISbô
 (1),

51 
	m_ISÆpha
 = 
_ISbô
 (2),

52 
	m_ISdigô
 = 
_ISbô
 (3),

53 
	m_ISxdigô
 = 
_ISbô
 (4),

54 
	m_IS•a˚
 = 
_ISbô
 (5),

55 
	m_IS¥öt
 = 
_ISbô
 (6),

56 
	m_ISgøph
 = 
_ISbô
 (7),

57 
	m_ISbœnk
 = 
_ISbô
 (8),

58 
	m_IS˙ål
 = 
_ISbô
 (9),

59 
	m_ISpun˘
 = 
_ISbô
 (10),

60 
	m_ISÆnum
 = 
_ISbô
 (11)

80 c⁄° **
	$__˘y≥_b_loc
 ()

81 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

82 c⁄° 
__öt32_t
 **
	$__˘y≥_tﬁowî_loc
 ()

83 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

84 c⁄° 
__öt32_t
 **
	$__˘y≥_touµî_loc
 ()

85 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

88 #i‚de‡
__˝lu•lus


89 
	#__is˘y≥
(
c
, 
ty≥
) \

90 ((*
	`__˘y≥_b_loc
 ())[(Ë(
c
)] & (Ë
ty≥
)

	)

91 #ñi‡
deföed
 
__USE_EXTERN_INLINES


92 
	#__is˘y≥_f
(
ty≥
) \

93 
__exã∫_ölöe
 \

94 
is
##
	`ty≥
 (
__c
Ë
__THROW
 \

96  (*
	`__˘y≥_b_loc
 ())[(Ë(
__c
)] & (Ë
_IS
##
ty≥
; \

97 
	}

	)
}

100 
	#__ißscii
(
c
Ë(((cË& ~0x7fË=0Ë

	)

101 
	#__tﬂscii
(
c
Ë((cË& 0x7fË

	)

103 
	#__ex˘y≥
(
«me
Ë
	`«me
 (Ë
__THROW


	)

105 
__BEGIN_NAMESPACE_STD


111 
__ex˘y≥
 (
iß um
);

112 
__ex˘y≥
 (
ißÕha
);

113 
__ex˘y≥
 (
is˙ål
);

114 
__ex˘y≥
 (
isdigô
);

115 
__ex˘y≥
 (
i¶owî
);

116 
__ex˘y≥
 (
isgøph
);

117 
__ex˘y≥
 (
i•röt
);

118 
__ex˘y≥
 (
i•un˘
);

119 
__ex˘y≥
 (
is•a˚
);

120 
__ex˘y≥
 (
isuµî
);

121 
__ex˘y≥
 (
isxdigô
);

125 
	$tﬁowî
 (
__c
Ë
__THROW
;

128 
	$touµî
 (
__c
Ë
__THROW
;

130 
__END_NAMESPACE_STD


134 #ifdef 
__USE_ISOC99


135 
__BEGIN_NAMESPACE_C99


137 
	`__ex˘y≥
 (
isbœnk
);

139 
__END_NAMESPACE_C99


142 #ifde‡
__USE_GNU


144 
	$is˘y≥
 (
__c
, 
__mask
Ë
__THROW
;

147 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_MISC
 || deföed 
__USE_XOPEN


151 
	$ißscii
 (
__c
Ë
__THROW
;

155 
	$tﬂscii
 (
__c
Ë
__THROW
;

159 
	`__ex˘y≥
 (
_touµî
);

160 
	`__ex˘y≥
 (
_tﬁowî
);

164 
	#__tobody
(
c
, 
f
, 
a
, 
¨gs
) \

165 (
__exãnsi⁄__
 \

166 ({ 
__ªs
; \

167 i‡( (
c
) > 1) \

169 i‡(
	`__buûtö_c⁄°™t_p
 (
c
)) \

171 
__c
 = (
c
); \

172 
__ªs
 = 
__c
 < -128 || __¯> 255 ? __¯: (
a
)[__c]; \

175 
__ªs
 = 
f
 
¨gs
; \

178 
__ªs
 = (
a
)[(Ë(
c
)]; \

179 
__ªs
; 
	}
}))

	)

181 #i‡!
deföed
 
__NO_CTYPE


182 #ifde‡
__is˘y≥_f


183 
	$__is˘y≥_f
 (
Ænum
)

184 
	$__is˘y≥_f
 (
Æpha
)

185 
	$__is˘y≥_f
 (
˙ål
)

186 
	$__is˘y≥_f
 (
digô
)

187 
	$__is˘y≥_f
 (
lowî
)

188 
	$__is˘y≥_f
 (
gøph
)

189 
	$__is˘y≥_f
 (
¥öt
)

190 
	$__is˘y≥_f
 (
pun˘
)

191 
	$__is˘y≥_f
 (
•a˚
)

192 
	$__is˘y≥_f
 (
uµî
)

193 
	$__is˘y≥_f
 (
xdigô
)

194 #ifde‡
__USE_ISOC99


195 
	$__is˘y≥_f
 (
bœnk
)

197 #ñi‡
deföed
 
__is˘y≥


198 
	#iß um
(
c
Ë
	`__is˘y≥
((c), 
_ISÆnum
)

	)

199 
	#ißÕha
(
c
Ë
	`__is˘y≥
((c), 
_ISÆpha
)

	)

200 
	#is˙ål
(
c
Ë
	`__is˘y≥
((c), 
_IS˙ål
)

	)

201 
	#isdigô
(
c
Ë
	`__is˘y≥
((c), 
_ISdigô
)

	)

202 
	#i¶owî
(
c
Ë
	`__is˘y≥
((c), 
_ISlowî
)

	)

203 
	#isgøph
(
c
Ë
	`__is˘y≥
((c), 
_ISgøph
)

	)

204 
	#i•röt
(
c
Ë
	`__is˘y≥
((c), 
_IS¥öt
)

	)

205 
	#i•un˘
(
c
Ë
	`__is˘y≥
((c), 
_ISpun˘
)

	)

206 
	#is•a˚
(
c
Ë
	`__is˘y≥
((c), 
_IS•a˚
)

	)

207 
	#isuµî
(
c
Ë
	`__is˘y≥
((c), 
_ISuµî
)

	)

208 
	#isxdigô
(
c
Ë
	`__is˘y≥
((c), 
_ISxdigô
)

	)

209 #ifde‡
__USE_ISOC99


210 
	#isbœnk
(
c
Ë
	`__is˘y≥
((c), 
_ISbœnk
)

	)

214 #ifde‡
__USE_EXTERN_INLINES


215 
__exã∫_ölöe
 

216 
	`__NTH
 (
	$tﬁowî
 (
__c
))

218  
__c
 >-128 && __¯< 256 ? (*
	`__˘y≥_tﬁowî_loc
 ())[__c] : __c;

219 
	}
}

221 
__exã∫_ölöe
 

222 
__NTH
 (
	$touµî
 (
__c
))

224  
__c
 >-128 && __¯< 256 ? (*
	`__˘y≥_touµî_loc
 ())[__c] : __c;

225 
	}
}

228 #i‡
__GNUC__
 >2 && 
deföed
 
__OPTIMIZE__
 && !deföed 
__˝lu•lus


229 
	#tﬁowî
(
c
Ë
	`__tobody
 (c, 
tﬁowî
, *
	`__˘y≥_tﬁowî_loc
 (), (c))

	)

230 
	#touµî
(
c
Ë
	`__tobody
 (c, 
touµî
, *
	`__˘y≥_touµî_loc
 (), (c))

	)

233 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_MISC
 || deföed 
__USE_XOPEN


234 
	#ißscii
(
c
Ë
	`__ißscii
 (c)

	)

235 
	#tﬂscii
(
c
Ë
	`__tﬂscii
 (c)

	)

237 
	#_tﬁowî
(
c
Ë((Ë(*
	`__˘y≥_tﬁowî_loc
 ())[(Ë(c)])

	)

238 
	#_touµî
(
c
Ë((Ë(*
	`__˘y≥_touµî_loc
 ())[(Ë(c)])

	)

244 #ifde‡
__USE_XOPEN2K8


258 
	~<xloˇÀ.h
>

262 
	#__is˘y≥_l
(
c
, 
ty≥
, 
loˇÀ
) \

263 ((
loˇÀ
)->
__˘y≥_b
[(Ë(
c
)] & (Ë
ty≥
)

	)

265 
	#__ex˘y≥_l
(
«me
) \

266 
	`«me
 (, 
__loˇÀ_t
Ë
__THROW


	)

272 
__ex˘y≥_l
 (
iß um_l
);

273 
__ex˘y≥_l
 (
ißÕha_l
);

274 
__ex˘y≥_l
 (
is˙ål_l
);

275 
__ex˘y≥_l
 (
isdigô_l
);

276 
__ex˘y≥_l
 (
i¶owî_l
);

277 
__ex˘y≥_l
 (
isgøph_l
);

278 
__ex˘y≥_l
 (
i•röt_l
);

279 
__ex˘y≥_l
 (
i•un˘_l
);

280 
__ex˘y≥_l
 (
is•a˚_l
);

281 
__ex˘y≥_l
 (
isuµî_l
);

282 
__ex˘y≥_l
 (
isxdigô_l
);

284 
__ex˘y≥_l
 (
isbœnk_l
);

288 
	$__tﬁowî_l
 (
__c
, 
__loˇÀ_t
 
__l
Ë
__THROW
;

289 
	$tﬁowî_l
 (
__c
, 
__loˇÀ_t
 
__l
Ë
__THROW
;

292 
	$__touµî_l
 (
__c
, 
__loˇÀ_t
 
__l
Ë
__THROW
;

293 
	$touµî_l
 (
__c
, 
__loˇÀ_t
 
__l
Ë
__THROW
;

295 #i‡
__GNUC__
 >2 && 
deföed
 
__OPTIMIZE__
 && !deföed 
__˝lu•lus


296 
	#__tﬁowî_l
(
c
, 
loˇÀ
) \

297 
	`__tobody
 (
c
, 
__tﬁowî_l
, (
loˇÀ
)->
__˘y≥_tﬁowî
, (c,ÜoˇÀ))

	)

298 
	#__touµî_l
(
c
, 
loˇÀ
) \

299 
	`__tobody
 (
c
, 
__touµî_l
, (
loˇÀ
)->
__˘y≥_touµî
, (c,ÜoˇÀ))

	)

300 
	#tﬁowî_l
(
c
, 
loˇÀ
Ë
	`__tﬁowî_l
 ((c), (loˇÀ))

	)

301 
	#touµî_l
(
c
, 
loˇÀ
Ë
	`__touµî_l
 ((c), (loˇÀ))

	)

305 #i‚de‡
__NO_CTYPE


306 
	#__iß um_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISÆnum
, (l))

	)

307 
	#__ißÕha_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISÆpha
, (l))

	)

308 
	#__is˙ål_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_IS˙ål
, (l))

	)

309 
	#__isdigô_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISdigô
, (l))

	)

310 
	#__i¶owî_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISlowî
, (l))

	)

311 
	#__isgøph_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISgøph
, (l))

	)

312 
	#__i•röt_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_IS¥öt
, (l))

	)

313 
	#__i•un˘_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISpun˘
, (l))

	)

314 
	#__is•a˚_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_IS•a˚
, (l))

	)

315 
	#__isuµî_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISuµî
, (l))

	)

316 
	#__isxdigô_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISxdigô
, (l))

	)

318 
	#__isbœnk_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISbœnk
, (l))

	)

320 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_MISC


321 
	#__ißscii_l
(
c
,
l
Ë(÷), 
	`__ißscii
 (c))

	)

322 
	#__tﬂscii_l
(
c
,
l
Ë(÷), 
	`__tﬂscii
 (c))

	)

325 
	#iß um_l
(
c
,
l
Ë
	`__iß um_l
 ((c), (l))

	)

326 
	#ißÕha_l
(
c
,
l
Ë
	`__ißÕha_l
 ((c), (l))

	)

327 
	#is˙ål_l
(
c
,
l
Ë
	`__is˙ål_l
 ((c), (l))

	)

328 
	#isdigô_l
(
c
,
l
Ë
	`__isdigô_l
 ((c), (l))

	)

329 
	#i¶owî_l
(
c
,
l
Ë
	`__i¶owî_l
 ((c), (l))

	)

330 
	#isgøph_l
(
c
,
l
Ë
	`__isgøph_l
 ((c), (l))

	)

331 
	#i•röt_l
(
c
,
l
Ë
	`__i•röt_l
 ((c), (l))

	)

332 
	#i•un˘_l
(
c
,
l
Ë
	`__i•un˘_l
 ((c), (l))

	)

333 
	#is•a˚_l
(
c
,
l
Ë
	`__is•a˚_l
 ((c), (l))

	)

334 
	#isuµî_l
(
c
,
l
Ë
	`__isuµî_l
 ((c), (l))

	)

335 
	#isxdigô_l
(
c
,
l
Ë
	`__isxdigô_l
 ((c), (l))

	)

337 
	#isbœnk_l
(
c
,
l
Ë
	`__isbœnk_l
 ((c), (l))

	)

339 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_MISC


340 
	#ißscii_l
(
c
,
l
Ë
	`__ißscii_l
 ((c), (l))

	)

341 
	#tﬂscii_l
(
c
,
l
Ë
	`__tﬂscii_l
 ((c), (l))

	)

348 
__END_DECLS


	@/usr/include/endian.h

18 #i‚def 
_ENDIAN_H


19 
	#_ENDIAN_H
 1

	)

21 
	~<„©uªs.h
>

31 
	#__LITTLE_ENDIAN
 1234

	)

32 
	#__BIG_ENDIAN
 4321

	)

33 
	#__PDP_ENDIAN
 3412

	)

36 
	~<bôs/ídün.h
>

40 #i‚de‡
__FLOAT_WORD_ORDER


41 
	#__FLOAT_WORD_ORDER
 
__BYTE_ORDER


	)

44 #ifdef 
__USE_BSD


45 
	#LITTLE_ENDIAN
 
__LITTLE_ENDIAN


	)

46 
	#BIG_ENDIAN
 
__BIG_ENDIAN


	)

47 
	#PDP_ENDIAN
 
__PDP_ENDIAN


	)

48 
	#BYTE_ORDER
 
__BYTE_ORDER


	)

51 #i‡
__BYTE_ORDER
 =
__LITTLE_ENDIAN


52 
	#__LONG_LONG_PAIR
(
HI
, 
LO
ËLO, 
	)
HI

53 #ñi‡
__BYTE_ORDER
 =
__BIG_ENDIAN


54 
	#__LONG_LONG_PAIR
(
HI
, 
LO
ËHI, 
	)
LO

58 #i‡
deföed
 
__USE_BSD
 && !deföed 
__ASSEMBLER__


60 
	~<bôs/byãsw≠.h
>

62 #i‡
__BYTE_ORDER
 =
__LITTLE_ENDIAN


63 
	#htobe16
(
x
Ë
	`__bsw≠_16
 (x)

	)

64 
	#htﬁe16
(
x
Ë(x)

	)

65 
	#be16toh
(
x
Ë
	`__bsw≠_16
 (x)

	)

66 
	#À16toh
(
x
Ë(x)

	)

68 
	#htobe32
(
x
Ë
	`__bsw≠_32
 (x)

	)

69 
	#htﬁe32
(
x
Ë(x)

	)

70 
	#be32toh
(
x
Ë
	`__bsw≠_32
 (x)

	)

71 
	#À32toh
(
x
Ë(x)

	)

73 #i‡
__GLIBC_HAVE_LONG_LONG


74 
	#htobe64
(
x
Ë
	`__bsw≠_64
 (x)

	)

75 
	#htﬁe64
(
x
Ë(x)

	)

76 
	#be64toh
(
x
Ë
	`__bsw≠_64
 (x)

	)

77 
	#À64toh
(
x
Ë(x)

	)

81 
	#htobe16
(
x
Ë(x)

	)

82 
	#htﬁe16
(
x
Ë
	`__bsw≠_16
 (x)

	)

83 
	#be16toh
(
x
Ë(x)

	)

84 
	#À16toh
(
x
Ë
	`__bsw≠_16
 (x)

	)

86 
	#htobe32
(
x
Ë(x)

	)

87 
	#htﬁe32
(
x
Ë
	`__bsw≠_32
 (x)

	)

88 
	#be32toh
(
x
Ë(x)

	)

89 
	#À32toh
(
x
Ë
	`__bsw≠_32
 (x)

	)

91 #i‡
__GLIBC_HAVE_LONG_LONG


92 
	#htobe64
(
x
Ë(x)

	)

93 
	#htﬁe64
(
x
Ë
	`__bsw≠_64
 (x)

	)

94 
	#be64toh
(
x
Ë(x)

	)

95 
	#À64toh
(
x
Ë
	`__bsw≠_64
 (x)

	)

	@/usr/include/gnu/stubs.h

6 #i‡!
deföed
 
__x86_64__


7 
	~<gnu/°ubs-32.h
>

9 #i‡
deföed
 
__x86_64__
 && deföed 
__LP64__


10 
	~<gnu/°ubs-64.h
>

12 #i‡
deföed
 
__x86_64__
 && deföed 
__ILP32__


13 
	~<gnu/°ubs-x32.h
>

	@/usr/include/stdc-predef.h

18 #i‚def 
_STDC_PREDEF_H


19 
	#_STDC_PREDEF_H
 1

	)

30 
	#__STDC_IEC_559__
 1

	)

31 
	#__STDC_IEC_559_COMPLEX__
 1

	)

35 
	#__STDC_ISO_10646__
 201103L

	)

38 
	#__STDC_NO_THREADS__
 1

	)

	@/usr/include/sys/cdefs.h

19 #i‚def 
_SYS_CDEFS_H


20 
	#_SYS_CDEFS_H
 1

	)

23 #i‚de‡
_FEATURES_H


24 
	~<„©uªs.h
>

30 #i‡
deföed
 
__GNUC__
 && !deföed 
__STDC__


35 #unde‡
__P


36 #unde‡
__PMT


38 #ifde‡
__GNUC__


42 #i‡
__GNUC_PREREQ
 (4, 6Ë&& !
deföed
 
_LIBC


43 
	#__LEAF
 , 
__Àaf__


	)

44 
	#__LEAF_ATTR
 
	`__©åibuã__
 ((
__Àaf__
))

	)

46 
	#__LEAF


	)

47 
	#__LEAF_ATTR


	)

55 #i‡!
deföed
 
__˝lu•lus
 && 
__GNUC_PREREQ
 (3, 3)

56 
	#__THROW
 
	`__©åibuã__
 ((
__nŸhrow__
 
__LEAF
))

	)

57 
	#__THROWNL
 
	`__©åibuã__
 ((
__nŸhrow__
))

	)

58 
	#__NTH
(
f˘
Ë
	`__©åibuã__
 ((
__nŸhrow__
 
__LEAF
)Ë
	)
fct

60 #i‡
deföed
 
__˝lu•lus
 && 
__GNUC_PREREQ
 (2,8)

61 
	#__THROW
 
	`throw
 ()

	)

62 
	#__THROWNL
 
	`throw
 ()

	)

63 
	#__NTH
(
f˘
Ë
__LEAF_ATTR
 f˘ 
	`throw
 ()

	)

65 
	#__THROW


	)

66 
	#__THROWNL


	)

67 
	#__NTH
(
f˘
Ë
	)
fct

73 
	#__ölöe


	)

75 
	#__THROW


	)

76 
	#__THROWNL


	)

77 
	#__NTH
(
f˘
Ë
	)
fct

83 
	#__P
(
¨gs
Ë
	)
args

84 
	#__PMT
(
¨gs
Ë
	)
args

89 
	#__CONCAT
(
x
,
y
Ëx ## 
	)
y

90 
	#__STRING
(
x
Ë#x

	)

93 
	#__±r_t
 *

	)

94 
	#__l⁄g_doubÀ_t
 

	)

98 #ifdef 
__˝lu•lus


99 
	#__BEGIN_DECLS
 "C" {

	)

100 
	#__END_DECLS
 }

	)

102 
	#__BEGIN_DECLS


	)

103 
	#__END_DECLS


	)

112 #i‡
deföed
 
__˝lu•lus
 && deföed 
_GLIBCPP_USE_NAMESPACES


113 
	#__BEGIN_NAMESPACE_STD
 
«me•a˚
 
°d
 {

	)

114 
	#__END_NAMESPACE_STD
 }

	)

115 
	#__USING_NAMESPACE_STD
(
«me
Ë
usög
 
°d
::«me;

	)

116 
	#__BEGIN_NAMESPACE_C99
 
«me•a˚
 
__c99
 {

	)

117 
	#__END_NAMESPACE_C99
 }

	)

118 
	#__USING_NAMESPACE_C99
(
«me
Ë
usög
 
__c99
::«me;

	)

123 
	#__BEGIN_NAMESPACE_STD


	)

124 
	#__END_NAMESPACE_STD


	)

125 
	#__USING_NAMESPACE_STD
(
«me
)

	)

126 
	#__BEGIN_NAMESPACE_C99


	)

127 
	#__END_NAMESPACE_C99


	)

128 
	#__USING_NAMESPACE_C99
(
«me
)

	)

133 #i‚de‡
__BOUNDED_POINTERS__


134 
	#__bounded


	)

135 
	#__unbounded


	)

136 
	#__±rvÆue


	)

141 
	#__bos
(
±r
Ë
	`__buûtö_obje˘_size
 (±r, 
__USE_FORTIFY_LEVEL
 > 1)

	)

142 
	#__bos0
(
±r
Ë
	`__buûtö_obje˘_size
 (±r, 0)

	)

144 #i‡
__GNUC_PREREQ
 (4,3)

145 
	#__w¨nde˛
(
«me
, 
msg
) \

146 
	`«me
 (Ë
	`__©åibuã__
((
	`__w¨nög__
 (
msg
)))

	)

147 
	#__w¨«âr
(
msg
Ë
	`__©åibuã__
((
	`__w¨nög__
 (msg)))

	)

148 
	#__îr‹de˛
(
«me
, 
msg
) \

149 
	`«me
 (Ë
	`__©åibuã__
((
	`__îr‹__
 (
msg
)))

	)

151 
	#__w¨nde˛
(
«me
, 
msg
Ë
	`«me
 ()

	)

152 
	#__w¨«âr
(
msg
)

	)

153 
	#__îr‹de˛
(
«me
, 
msg
Ë
	`«me
 ()

	)

157 #i‡
__GNUC_PREREQ
 (2,97)

159 
	#__Êex¨r
 []

	)

161 #ifde‡
__GNUC__


162 
	#__Êex¨r
 [0]

	)

164 #i‡
deföed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L

165 
	#__Êex¨r
 []

	)

168 
	#__Êex¨r
 [1]

	)

184 #i‡
deföed
 
__GNUC__
 && __GNUC__ >= 2

186 
	#__REDIRECT
(
«me
, 
¥Ÿo
, 
Æüs
Ë«mê¥Ÿÿ
	`__asm__
 (
	`__ASMNAME
 (#Æüs))

	)

187 #ifde‡
__˝lu•lus


188 
	#__REDIRECT_NTH
(
«me
, 
¥Ÿo
, 
Æüs
) \

189 
«me
 
¥Ÿo
 
__THROW
 
	`__asm__
 (
	`__ASMNAME
 (#Æüs))

	)

190 
	#__REDIRECT_NTHNL
(
«me
, 
¥Ÿo
, 
Æüs
) \

191 
«me
 
¥Ÿo
 
__THROWNL
 
	`__asm__
 (
	`__ASMNAME
 (#Æüs))

	)

193 
	#__REDIRECT_NTH
(
«me
, 
¥Ÿo
, 
Æüs
) \

194 
«me
 
¥Ÿo
 
	`__asm__
 (
	`__ASMNAME
 (#Æüs)Ë
__THROW


	)

195 
	#__REDIRECT_NTHNL
(
«me
, 
¥Ÿo
, 
Æüs
) \

196 
«me
 
¥Ÿo
 
	`__asm__
 (
	`__ASMNAME
 (#Æüs)Ë
__THROWNL


	)

198 
	#__ASMNAME
(
˙ame
Ë
	`__ASMNAME2
 (
__USER_LABEL_PREFIX__
, c«me)

	)

199 
	#__ASMNAME2
(
¥efix
, 
˙ame
Ë
	`__STRING
 (¥efixË
	)
cname

212 #i‡!
deföed
 
__GNUC__
 || __GNUC__ < 2

213 
	#__©åibuã__
(
xyz
Ë

	)

219 #i‡
__GNUC_PREREQ
 (2,96)

220 
	#__©åibuã_mÆloc__
 
	`__©åibuã__
 ((
__mÆloc__
))

	)

222 
	#__©åibuã_mÆloc__


	)

228 #i‡
__GNUC_PREREQ
 (2,96)

229 
	#__©åibuã_puª__
 
	`__©åibuã__
 ((
__puª__
))

	)

231 
	#__©åibuã_puª__


	)

235 #i‡
__GNUC_PREREQ
 (2,5)

236 
	#__©åibuã_c⁄°__
 
	`__©åibuã__
 ((
__c⁄°__
))

	)

238 
	#__©åibuã_c⁄°__


	)

244 #i‡
__GNUC_PREREQ
 (3,1)

245 
	#__©åibuã_u£d__
 
	`__©åibuã__
 ((
__u£d__
))

	)

246 
	#__©åibuã_noölöe__
 
	`__©åibuã__
 ((
__noölöe__
))

	)

248 
	#__©åibuã_u£d__
 
	`__©åibuã__
 ((
__unu£d__
))

	)

249 
	#__©åibuã_noölöe__


	)

253 #i‡
__GNUC_PREREQ
 (3,2)

254 
	#__©åibuã_dïªˇãd__
 
	`__©åibuã__
 ((
__dïªˇãd__
))

	)

256 
	#__©åibuã_dïªˇãd__


	)

265 #i‡
__GNUC_PREREQ
 (2,8)

266 
	#__©åibuã_f‹m©_¨g__
(
x
Ë
	`__©åibuã__
 ((
	`__f‹m©_¨g__
 (x)))

	)

268 
	#__©åibuã_f‹m©_¨g__
(
x
Ë

	)

275 #i‡
__GNUC_PREREQ
 (2,97)

276 
	#__©åibuã_f‹m©_°rfm⁄__
(
a
,
b
) \

277 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__°rfm⁄__
, 
a
, 
b
)))

	)

279 
	#__©åibuã_f‹m©_°rfm⁄__
(
a
,
b
Ë

	)

284 #i‡
__GNUC_PREREQ
 (3,3)

285 
	#__n⁄nuŒ
(
∑øms
Ë
	`__©åibuã__
 ((
__n⁄nuŒ__
Ö¨ams))

	)

287 
	#__n⁄nuŒ
(
∑øms
)

	)

292 #i‡
__GNUC_PREREQ
 (3,4)

293 
	#__©åibuã_w¨n_unu£d_ªsu…__
 \

294 
	`__©åibuã__
 ((
__w¨n_unu£d_ªsu…__
))

	)

295 #i‡
__USE_FORTIFY_LEVEL
 > 0

296 
	#__wur
 
__©åibuã_w¨n_unu£d_ªsu…__


	)

299 
	#__©åibuã_w¨n_unu£d_ªsu…__


	)

301 #i‚de‡
__wur


302 
	#__wur


	)

306 #i‡
__GNUC_PREREQ
 (3,2)

307 
	#__Æways_ölöe
 
__ölöe
 
	`__©åibuã__
 ((
__Æways_ölöe__
))

	)

309 
	#__Æways_ölöe
 
__ölöe


	)

314 #i‡
__GNUC_PREREQ
 (4,3)

315 
	#__©åibuã_¨tificül__
 
	`__©åibuã__
 ((
__¨tificül__
))

	)

317 
	#__©åibuã_¨tificül__


	)

329 #i‡(!
deföed
 
__˝lu•lus
 || 
__GNUC_PREREQ
 (4,3) \

330 || (
deföed
 
__˛™g__
 && (deföed 
__GNUC_STDC_INLINE__
 \

331 || 
deföed
 
__GNUC_GNU_INLINE__
)))

332 #i‡
deföed
 
__GNUC_STDC_INLINE__
 || deföed 
__˝lu•lus


333 
	#__exã∫_ölöe
 
__ölöe
 
	`__©åibuã__
 ((
__gnu_ölöe__
))

	)

334 
	#__exã∫_Æways_ölöe
 \

335 
__Æways_ölöe
 
	`__©åibuã__
 ((
__gnu_ölöe__
))

	)

337 
	#__exã∫_ölöe
 
__ölöe


	)

338 
	#__exã∫_Æways_ölöe
 
__Æways_ölöe


	)

342 #ifde‡
__exã∫_Æways_ölöe


343 
	#__f‹tify_fun˘i⁄
 
__exã∫_Æways_ölöe
 
__©åibuã_¨tificül__


	)

348 #i‡
__GNUC_PREREQ
 (4,3)

349 
	#__va_¨g_∑ck
(Ë
	`__buûtö_va_¨g_∑ck
 ()

	)

350 
	#__va_¨g_∑ck_Àn
(Ë
	`__buûtö_va_¨g_∑ck_Àn
 ()

	)

357 #i‡!
__GNUC_PREREQ
 (2,8)

358 
	#__exãnsi⁄__


	)

362 #i‡!
__GNUC_PREREQ
 (2,92)

363 
	#__ª°ri˘


	)

369 #i‡
__GNUC_PREREQ
 (3,1Ë&& !
deföed
 
__GNUG__


370 
	#__ª°ri˘_¨r
 
__ª°ri˘


	)

372 #ifde‡
__GNUC__


373 
	#__ª°ri˘_¨r


	)

375 #i‡
deföed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L

376 
	#__ª°ri˘_¨r
 
ª°ri˘


	)

379 
	#__ª°ri˘_¨r


	)

384 #i‡
__GNUC__
 >= 3

385 
	#__glibc_u∆ikñy
(
c⁄d
Ë
	`__buûtö_ex≥˘
((c⁄d), 0)

	)

386 
	#__glibc_likñy
(
c⁄d
Ë
	`__buûtö_ex≥˘
((c⁄d), 1)

	)

388 
	#__glibc_u∆ikñy
(
c⁄d
Ë(c⁄d)

	)

389 
	#__glibc_likñy
(
c⁄d
Ë(c⁄d)

	)

392 
	~<bôs/w‹dsize.h
>

394 #i‡
deföed
 
__LONG_DOUBLE_MATH_OPTIONAL
 && deföed 
__NO_LONG_DOUBLE_MATH


395 
	#__LDBL_COMPAT
 1

	)

396 #ifde‡
__REDIRECT


397 
	#__LDBL_REDIR1
(
«me
, 
¥Ÿo
, 
Æüs
Ë
	`__REDIRECT
 («me,ÖrŸo,álüs)

	)

398 
	#__LDBL_REDIR
(
«me
, 
¥Ÿo
) \

399 
	`__LDBL_REDIR1
 (
«me
, 
¥Ÿo
, 
__∆dbl_
##«me)

	)

400 
	#__LDBL_REDIR1_NTH
(
«me
, 
¥Ÿo
, 
Æüs
Ë
	`__REDIRECT_NTH
 («me,ÖrŸo,álüs)

	)

401 
	#__LDBL_REDIR_NTH
(
«me
, 
¥Ÿo
) \

402 
	`__LDBL_REDIR1_NTH
 (
«me
, 
¥Ÿo
, 
__∆dbl_
##«me)

	)

403 
	#__LDBL_REDIR1_DECL
(
«me
, 
Æüs
) \

404 
	`__ty≥of
 (
«me
Ë«mê
	`__asm
 (
	`__ASMNAME
 (#Æüs));

	)

405 
	#__LDBL_REDIR_DECL
(
«me
) \

406 
	`__ty≥of
 (
«me
Ë«mê
	`__asm
 (
	`__ASMNAME
 ("__∆dbl_" #«me));

	)

407 
	#__REDIRECT_LDBL
(
«me
, 
¥Ÿo
, 
Æüs
) \

408 
	`__LDBL_REDIR1
 (
«me
, 
¥Ÿo
, 
__∆dbl_
##
Æüs
)

	)

409 
	#__REDIRECT_NTH_LDBL
(
«me
, 
¥Ÿo
, 
Æüs
) \

410 
	`__LDBL_REDIR1_NTH
 (
«me
, 
¥Ÿo
, 
__∆dbl_
##
Æüs
)

	)

413 #i‡!
deföed
 
__LDBL_COMPAT
 || !deföed 
__REDIRECT


414 
	#__LDBL_REDIR1
(
«me
, 
¥Ÿo
, 
Æüs
Ë«mê
	)
proto

415 
	#__LDBL_REDIR
(
«me
, 
¥Ÿo
Ë«mê
	)
proto

416 
	#__LDBL_REDIR1_NTH
(
«me
, 
¥Ÿo
, 
Æüs
Ë«mê¥Ÿÿ
__THROW


	)

417 
	#__LDBL_REDIR_NTH
(
«me
, 
¥Ÿo
Ë«mê¥Ÿÿ
__THROW


	)

418 
	#__LDBL_REDIR_DECL
(
«me
)

	)

419 #ifde‡
__REDIRECT


420 
	#__REDIRECT_LDBL
(
«me
, 
¥Ÿo
, 
Æüs
Ë
	`__REDIRECT
 («me,ÖrŸo,álüs)

	)

421 
	#__REDIRECT_NTH_LDBL
(
«me
, 
¥Ÿo
, 
Æüs
) \

422 
	`__REDIRECT_NTH
 (
«me
, 
¥Ÿo
, 
Æüs
)

	)

	@/usr/include/sys/select.h

21 #i‚de‡
_SYS_SELECT_H


22 
	#_SYS_SELECT_H
 1

	)

24 
	~<„©uªs.h
>

27 
	~<bôs/ty≥s.h
>

30 
	~<bôs/£À˘.h
>

33 
	~<bôs/sig£t.h
>

35 #i‚de‡
__sig£t_t_deföed


36 
	#__sig£t_t_deföed


	)

37 
__sig£t_t
 
	tsig£t_t
;

41 
	#__√ed_time_t


	)

42 
	#__√ed_time•ec


	)

43 
	~<time.h
>

44 
	#__√ed_timevÆ


	)

45 
	~<bôs/time.h
>

47 #i‚de‡
__su£c⁄ds_t_deföed


48 
__su£c⁄ds_t
 
	tsu£c⁄ds_t
;

49 
	#__su£c⁄ds_t_deföed


	)

54 
	t__fd_mask
;

57 #unde‡
__NFDBITS


59 
	#__NFDBITS
 (8 * (Ë (
__fd_mask
))

	)

60 
	#__FD_ELT
(
d
Ë((dË/ 
__NFDBITS
)

	)

61 
	#__FD_MASK
(
d
Ë((
__fd_mask
Ë1 << ((dË% 
__NFDBITS
))

	)

68 #ifde‡
__USE_XOPEN


69 
__fd_mask
 
	mfds_bôs
[
__FD_SETSIZE
 / 
__NFDBITS
];

70 
	#__FDS_BITS
(
£t
Ë((£t)->
fds_bôs
)

	)

72 
__fd_mask
 
	m__fds_bôs
[
__FD_SETSIZE
 / 
__NFDBITS
];

73 
	#__FDS_BITS
(
£t
Ë((£t)->
__fds_bôs
)

	)

75 } 
	tfd_£t
;

78 
	#FD_SETSIZE
 
__FD_SETSIZE


	)

80 #ifde‡
__USE_MISC


82 
__fd_mask
 
	tfd_mask
;

85 
	#NFDBITS
 
__NFDBITS


	)

90 
	#FD_SET
(
fd
, 
fd£ç
Ë
	`__FD_SET
 (fd, fd£ç)

	)

91 
	#FD_CLR
(
fd
, 
fd£ç
Ë
	`__FD_CLR
 (fd, fd£ç)

	)

92 
	#FD_ISSET
(
fd
, 
fd£ç
Ë
	`__FD_ISSET
 (fd, fd£ç)

	)

93 
	#FD_ZERO
(
fd£ç
Ë
	`__FD_ZERO
 (fd£ç)

	)

96 
__BEGIN_DECLS


106 
£À˘
 (
__nfds
, 
fd_£t
 *
__ª°ri˘
 
__ªadfds
,

107 
fd_£t
 *
__ª°ri˘
 
__wrôefds
,

108 
fd_£t
 *
__ª°ri˘
 
__ex˚±fds
,

109 
timevÆ
 *
__ª°ri˘
 
__timeout
);

111 #ifde‡
__USE_XOPEN2K


118 
p£À˘
 (
__nfds
, 
fd_£t
 *
__ª°ri˘
 
__ªadfds
,

119 
fd_£t
 *
__ª°ri˘
 
__wrôefds
,

120 
fd_£t
 *
__ª°ri˘
 
__ex˚±fds
,

121 c⁄° 
time•ec
 *
__ª°ri˘
 
__timeout
,

122 c⁄° 
__sig£t_t
 *
__ª°ri˘
 
__sigmask
);

127 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__GNUC__


128 
	~<bôs/£À˘2.h
>

131 
	g__END_DECLS


	@/usr/include/sys/sysmacros.h

20 #i‚de‡
_SYS_SYSMACROS_H


21 
	#_SYS_SYSMACROS_H
 1

	)

23 
	~<„©uªs.h
>

28 #ifde‡
__GLIBC_HAVE_LONG_LONG


29 
__BEGIN_DECLS


31 
__exãnsi⁄__


32 
	$gnu_dev_maj‹
 (
__dev
)

33 
__THROW
 
__©åibuã_c⁄°__
;

34 
__exãnsi⁄__


35 
	$gnu_dev_mö‹
 (
__dev
)

36 
__THROW
 
__©åibuã_c⁄°__
;

37 
__exãnsi⁄__


38 
	$gnu_dev_makedev
 (
__maj‹
,

39 
__mö‹
)

40 
__THROW
 
__©åibuã_c⁄°__
;

42 #i‡
deföed
 
__GNUC__
 && __GNUC__ >2 && deföed 
__USE_EXTERN_INLINES


43 
__exãnsi⁄__
 
__exã∫_ölöe
 
__©åibuã_c⁄°__
 

44 
	`__NTH
 (
	$gnu_dev_maj‹
 (
__dev
))

46  ((
__dev
 >> 8) & 0xfff) | (() (__dev >> 32) & ~0xfff);

47 
	}
}

49 
__exãnsi⁄__
 
__exã∫_ölöe
 
__©åibuã_c⁄°__
 

50 
__NTH
 (
	$gnu_dev_mö‹
 (
__dev
))

52  (
__dev
 & 0xff) | (() (__dev >> 12) & ~0xff);

53 
	}
}

55 
__exãnsi⁄__
 
__exã∫_ölöe
 
__©åibuã_c⁄°__
 

56 
__NTH
 (
	$gnu_dev_makedev
 (
__maj‹
, 
__mö‹
))

58  ((
__mö‹
 & 0xffË| ((
__maj‹
 & 0xfff) << 8)

59 | (((Ë(
__mö‹
 & ~0xff)) << 12)

60 | (((Ë(
__maj‹
 & ~0xfff)) << 32));

61 
	}
}

63 
	g__END_DECLS


66 
	#maj‹
(
dev
Ë
	`gnu_dev_maj‹
 (dev)

	)

67 
	#mö‹
(
dev
Ë
	`gnu_dev_mö‹
 (dev)

	)

68 
	#makedev
(
maj
, 
mö
Ë
	`gnu_dev_makedev
 (maj, mö)

	)

	@/usr/include/time.h

22 #i‚def 
_TIME_H


24 #i‡(! 
deföed
 
__√ed_time_t
 && !deföed 
__√ed_˛ock_t
 && \

25 ! 
deföed
 
	g__√ed_time•ec
)

26 
	#_TIME_H
 1

	)

27 
	~<„©uªs.h
>

29 
	g__BEGIN_DECLS


33 #ifdef 
_TIME_H


35 
	#__√ed_size_t


	)

36 
	#__√ed_NULL


	)

37 
	~<°ddef.h
>

41 
	~<bôs/time.h
>

44 #i‡!
deföed
 
__STRICT_ANSI__
 && !deföed 
__USE_XOPEN2K


45 #i‚de‡
CLK_TCK


46 
	#CLK_TCK
 
CLOCKS_PER_SEC


	)

52 #i‡!
deföed
 
__˛ock_t_deföed
 && (deföed 
_TIME_H
 || deföed 
__√ed_˛ock_t
)

53 
	#__˛ock_t_deföed
 1

	)

55 
	~<bôs/ty≥s.h
>

57 
__BEGIN_NAMESPACE_STD


59 
__˛ock_t
 
	t˛ock_t
;

60 
	g__END_NAMESPACE_STD


61 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_POSIX
 || deföed 
__USE_MISC


62 
	$__USING_NAMESPACE_STD
(
˛ock_t
)

66 #unde‡
__√ed_˛ock_t


68 #i‡!
deföed
 
__time_t_deföed
 && (deföed 
_TIME_H
 || deföed 
__√ed_time_t
)

69 
	#__time_t_deföed
 1

	)

71 
	~<bôs/ty≥s.h
>

73 
__BEGIN_NAMESPACE_STD


75 
__time_t
 
	ttime_t
;

76 
__END_NAMESPACE_STD


77 #i‡
deföed
 
__USE_POSIX
 || deföed 
__USE_MISC
 || deföed 
__USE_SVID


78 
	$__USING_NAMESPACE_STD
(
time_t
)

82 #unde‡
__√ed_time_t


84 #i‡!
deföed
 
__˛ockid_t_deföed
 && \

85 ((
deföed
 
_TIME_H
 && deföed 
__USE_POSIX199309
Ë|| deföed 
__√ed_˛ockid_t
)

86 
	#__˛ockid_t_deföed
 1

	)

88 
	~<bôs/ty≥s.h
>

91 
__˛ockid_t
 
	t˛ockid_t
;

94 #unde‡
__˛ockid_time_t


96 #i‡!
deföed
 
__timî_t_deföed
 && \

97 ((
deföed
 
_TIME_H
 && deföed 
__USE_POSIX199309
Ë|| deföed 
__√ed_timî_t
)

98 
	#__timî_t_deföed
 1

	)

100 
	~<bôs/ty≥s.h
>

103 
__timî_t
 
	ttimî_t
;

106 #unde‡
__√ed_timî_t


109 #i‡(!
deföed
 
__time•ec_deföed
 \

110 && ((
deföed
 
_TIME_H
 \

111 && (
deföed
 
__USE_POSIX199309
 || deföed 
__USE_MISC
 \

112 || 
deföed
 
__USE_ISOC11
)) \

113 || 
deföed
 
__√ed_time•ec
))

114 
	#__time•ec_deföed
 1

	)

116 
	~<bôs/ty≥s.h
>

120 
	stime•ec


122 
__time_t
 
tv_£c
;

123 
__sysˇŒ_¶⁄g_t
 
tv_n£c
;

127 #unde‡
__√ed_time•ec


130 #ifdef 
_TIME_H


131 
__BEGIN_NAMESPACE_STD


133 
	stm


135 
tm_£c
;

136 
tm_mö
;

137 
tm_hour
;

138 
tm_mday
;

139 
tm_m⁄
;

140 
tm_yór
;

141 
tm_wday
;

142 
tm_yday
;

143 
tm_isd°
;

145 #ifdef 
__USE_BSD


146 
tm_gmtoff
;

147 c⁄° *
tm_z⁄e
;

149 
__tm_gmtoff
;

150 c⁄° *
__tm_z⁄e
;

153 
__END_NAMESPACE_STD


154 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_POSIX
 || deföed 
__USE_MISC


155 
	$__USING_NAMESPACE_STD
(
tm
)

159 #ifde‡
__USE_POSIX199309


161 
	sôimî•ec


163 
time•ec
 
ô_öãrvÆ
;

164 
time•ec
 
ô_vÆue
;

168 
sigevít
;

172 #ifde‡
__USE_XOPEN2K


173 #i‚de‡
__pid_t_deföed


174 
__pid_t
 
	tpid_t
;

175 
	#__pid_t_deföed


	)

180 #ifde‡
__USE_ISOC11


182 
	#TIME_UTC
 1

	)

186 
__BEGIN_NAMESPACE_STD


189 
˛ock_t
 
	$˛ock
 (Ë
__THROW
;

192 
time_t
 
	$time
 (
time_t
 *
__timî
Ë
__THROW
;

195 
	$dif·ime
 (
time_t
 
__time1
,Åime_à
__time0
)

196 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

199 
time_t
 
	$mktime
 (
tm
 *
__ç
Ë
__THROW
;

205 
size_t
 
	$°r·ime
 (*
__ª°ri˘
 
__s
, 
size_t
 
__maxsize
,

206 c⁄° *
__ª°ri˘
 
__f‹m©
,

207 c⁄° 
tm
 *
__ª°ri˘
 
__ç
Ë
__THROW
;

208 
__END_NAMESPACE_STD


210 #ifde‡
__USE_XOPEN


213 *
	$°Ωtime
 (c⁄° *
__ª°ri˘
 
__s
,

214 c⁄° *
__ª°ri˘
 
__fmt
, 
tm
 *
__ç
)

215 
__THROW
;

218 #ifde‡
__USE_XOPEN2K8


221 
	~<xloˇÀ.h
>

223 
size_t
 
	$°r·ime_l
 (*
__ª°ri˘
 
__s
, 
size_t
 
__maxsize
,

224 c⁄° *
__ª°ri˘
 
__f‹m©
,

225 c⁄° 
tm
 *
__ª°ri˘
 
__ç
,

226 
__loˇÀ_t
 
__loc
Ë
__THROW
;

229 #ifde‡
__USE_GNU


230 *
	$°Ωtime_l
 (c⁄° *
__ª°ri˘
 
__s
,

231 c⁄° *
__ª°ri˘
 
__fmt
, 
tm
 *
__ç
,

232 
__loˇÀ_t
 
__loc
Ë
__THROW
;

236 
__BEGIN_NAMESPACE_STD


239 
tm
 *
	$gmtime
 (c⁄° 
time_t
 *
__timî
Ë
__THROW
;

243 
tm
 *
	$loˇ…ime
 (c⁄° 
time_t
 *
__timî
Ë
__THROW
;

244 
__END_NAMESPACE_STD


246 #i‡
deföed
 
__USE_POSIX
 || deföed 
__USE_MISC


249 
tm
 *
	$gmtime_r
 (c⁄° 
time_t
 *
__ª°ri˘
 
__timî
,

250 
tm
 *
__ª°ri˘
 
__ç
Ë
__THROW
;

254 
tm
 *
	$loˇ…ime_r
 (c⁄° 
time_t
 *
__ª°ri˘
 
__timî
,

255 
tm
 *
__ª°ri˘
 
__ç
Ë
__THROW
;

258 
__BEGIN_NAMESPACE_STD


261 *
	$as˘ime
 (c⁄° 
tm
 *
__ç
Ë
__THROW
;

264 *
	$˘ime
 (c⁄° 
time_t
 *
__timî
Ë
__THROW
;

265 
__END_NAMESPACE_STD


267 #i‡
deföed
 
__USE_POSIX
 || deföed 
__USE_MISC


272 *
	$as˘ime_r
 (c⁄° 
tm
 *
__ª°ri˘
 
__ç
,

273 *
__ª°ri˘
 
__buf
Ë
__THROW
;

276 *
	$˘ime_r
 (c⁄° 
time_t
 *
__ª°ri˘
 
__timî
,

277 *
__ª°ri˘
 
__buf
Ë
__THROW
;

282 *
__tz«me
[2];

283 
__daylight
;

284 
__timez⁄e
;

287 #ifdef 
__USE_POSIX


289 *
tz«me
[2];

293 
	$tz£t
 (Ë
__THROW
;

296 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_XOPEN


297 
daylight
;

298 
timez⁄e
;

301 #ifde‡
__USE_SVID


304 
	$°ime
 (c⁄° 
time_t
 *
__whí
Ë
__THROW
;

310 
	#__i¶óp
(
yór
) \

311 ((
yór
Ë% 4 =0 && ((yórË% 100 !0 || (yórË% 400 =0))

	)

314 #ifde‡
__USE_MISC


319 
time_t
 
	$timegm
 (
tm
 *
__ç
Ë
__THROW
;

322 
time_t
 
	$timñoˇl
 (
tm
 *
__ç
Ë
__THROW
;

325 
	$dysize
 (
__yór
Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

329 #ifde‡
__USE_POSIX199309


334 
	`«no¶ìp
 (c⁄° 
time•ec
 *
__ªque°ed_time
,

335 
time•ec
 *
__ªmaöög
);

339 
	$˛ock_gëªs
 (
˛ockid_t
 
__˛ock_id
, 
time•ec
 *
__ªs
Ë
__THROW
;

342 
	$˛ock_gëtime
 (
˛ockid_t
 
__˛ock_id
, 
time•ec
 *
__ç
Ë
__THROW
;

345 
	$˛ock_£âime
 (
˛ockid_t
 
__˛ock_id
, c⁄° 
time•ec
 *
__ç
)

346 
__THROW
;

348 #ifde‡
__USE_XOPEN2K


353 
	`˛ock_«no¶ìp
 (
˛ockid_t
 
__˛ock_id
, 
__Êags
,

354 c⁄° 
time•ec
 *
__ªq
,

355 
time•ec
 *
__ªm
);

358 
	$˛ock_gë˝u˛ockid
 (
pid_t
 
__pid
, 
˛ockid_t
 *
__˛ock_id
Ë
__THROW
;

363 
	$timî_¸óã
 (
˛ockid_t
 
__˛ock_id
,

364 
sigevít
 *
__ª°ri˘
 
__evp
,

365 
timî_t
 *
__ª°ri˘
 
__timîid
Ë
__THROW
;

368 
	$timî_dñëe
 (
timî_t
 
__timîid
Ë
__THROW
;

371 
	$timî_£âime
 (
timî_t
 
__timîid
, 
__Êags
,

372 c⁄° 
ôimî•ec
 *
__ª°ri˘
 
__vÆue
,

373 
ôimî•ec
 *
__ª°ri˘
 
__ovÆue
Ë
__THROW
;

376 
	$timî_gëtime
 (
timî_t
 
__timîid
, 
ôimî•ec
 *
__vÆue
)

377 
__THROW
;

380 
	$timî_gëovîrun
 (
timî_t
 
__timîid
Ë
__THROW
;

384 #ifde‡
__USE_ISOC11


386 
	$time•ec_gë
 (
time•ec
 *
__ts
, 
__ba£
)

387 
__THROW
 
	`__n⁄nuŒ
 ((1));

391 #ifde‡
__USE_XOPEN_EXTENDED


403 
gëd©e_îr
;

412 
tm
 *
	`gëd©e
 (c⁄° *
__°rög
);

415 #ifde‡
__USE_GNU


426 
	`gëd©e_r
 (c⁄° *
__ª°ri˘
 
__°rög
,

427 
tm
 *
__ª°ri˘
 
__ªsbuÂ
);

430 
__END_DECLS


	@/usr/include/bits/byteswap.h

19 #i‡!
deföed
 
_BYTESWAP_H
 && !deföed 
_NETINET_IN_H
 && !deföed 
_ENDIAN_H


23 #i‚de‡
_BITS_BYTESWAP_H


24 
	#_BITS_BYTESWAP_H
 1

	)

26 
	~<„©uªs.h
>

27 
	~<bôs/ty≥s.h
>

28 
	~<bôs/w‹dsize.h
>

31 
	#__bsw≠_c⁄°™t_16
(
x
) \

32 ((Ë((((
x
Ë>> 8Ë& 0xffË| (((xË& 0xffË<< 8)))

	)

35 
	~<bôs/byãsw≠-16.h
>

38 
	#__bsw≠_c⁄°™t_32
(
x
) \

39 ((((
x
) & 0xff000000) >> 24) | (((x) & 0x00ff0000) >> 8) | \

40 (((
x
Ë& 0x0000ff00Ë<< 8Ë| (((xË& 0x000000ffË<< 24))

	)

42 #ifde‡
__GNUC__


43 #i‡
__GNUC_PREREQ
 (4, 3)

44 
__ölöe
 

45 
	$__bsw≠_32
 (
__bsx
)

47  
	`__buûtö_bsw≠32
 (
__bsx
);

48 
	}
}

49 #ñi‡
__GNUC__
 >= 2

50 #i‡
__WORDSIZE
 =64 || (
deföed
 
__i486__
 || deföed 
__≥¡ium__
 \

51 || 
deföed
 
	g__≥¡ium¥o__
 || deföed 
	g__≥¡ium4__
 \

52 || 
deföed
 
	g__k8__
 || deföed 
	g__©hl⁄__
 \

53 || 
deföed
 
	g__k6__
 || deföed 
	g__noc⁄a__
 \

54 || 
deföed
 
	g__c‹e2__
 || deföed 
	g__geode__
 \

55 || 
deföed
 
	g__amdÁm10__
)

58 
	#__bsw≠_32
(
x
) \

59 (
__exãnsi⁄__
 \

60 ({ 
__v
, 
__x
 = (
x
); \

61 i‡(
	`__buûtö_c⁄°™t_p
 (
__x
)) \

62 
__v
 = 
	`__bsw≠_c⁄°™t_32
 (
__x
); \

64 
	`__asm__
 ("bsw≠ %0" : "Ù" (
__v
Ë: "0" (
__x
)); \

65 
__v
; }))

	)

67 
	#__bsw≠_32
(
x
) \

68 (
__exãnsi⁄__
 \

69 ({ 
__v
, 
__x
 = (
x
); \

70 i‡(
	`__buûtö_c⁄°™t_p
 (
__x
)) \

71 
__v
 = 
	`__bsw≠_c⁄°™t_32
 (
__x
); \

73 
	`__asm__
 ("rorw $8, %w0;" \

76 : "Ù" (
__v
) \

77 : "0" (
__x
) \

79 
__v
; }))

	)

82 
	#__bsw≠_32
(
x
) \

83 (
__exãnsi⁄__
 \

84 ({ 
__x
 = (
x
); 
	`__bsw≠_c⁄°™t_32
 (__x); }))

	)

87 
__ölöe
 

88 
	$__bsw≠_32
 (
__bsx
)

90  
	`__bsw≠_c⁄°™t_32
 (
__bsx
);

91 
	}
}

95 #i‡
__GNUC_PREREQ
 (2, 0)

97 
	#__bsw≠_c⁄°™t_64
(
x
) \

98 (
	`__exãnsi⁄__
 ((((
x
) & 0xff00000000000000ull) >> 56) \

99 | (((
x
) & 0x00ff000000000000ull) >> 40) \

100 | (((
x
) & 0x0000ff0000000000ull) >> 24) \

101 | (((
x
) & 0x000000ff00000000ull) >> 8) \

102 | (((
x
) & 0x00000000ff000000ull) << 8) \

103 | (((
x
) & 0x0000000000ff0000ull) << 24) \

104 | (((
x
) & 0x000000000000ff00ull) << 40) \

105 | (((
x
Ë& 0x00000000000000ffuŒË<< 56)))

	)

107 #i‡
__GNUC_PREREQ
 (4, 3)

108 
__ölöe
 
__uöt64_t


109 
	$__bsw≠_64
 (
__uöt64_t
 
__bsx
)

111  
	`__buûtö_bsw≠64
 (
__bsx
);

112 
	}
}

113 #ñi‡
__WORDSIZE
 == 64

114 
	#__bsw≠_64
(
x
) \

115 (
__exãnsi⁄__
 \

116 ({ 
__uöt64_t
 
__v
, 
__x
 = (
x
); \

117 i‡(
	`__buûtö_c⁄°™t_p
 (
__x
)) \

118 
__v
 = 
	`__bsw≠_c⁄°™t_64
 (
__x
); \

120 
	`__asm__
 ("bsw≠ %q0" : "Ù" (
__v
Ë: "0" (
__x
)); \

121 
__v
; }))

	)

123 
	#__bsw≠_64
(
x
) \

124 (
__exãnsi⁄__
 \

125 ({ uni⁄ { 
__exãnsi⁄__
 
__uöt64_t
 
__Œ
; \

126 
__l
[2]; } 
__w
, 
__r
; \

127 i‡(
	`__buûtö_c⁄°™t_p
 (
x
)) \

128 
__r
.
__Œ
 = 
	`__bsw≠_c⁄°™t_64
 (
x
); \

131 
__w
.
__Œ
 = (
x
); \

132 
__r
.
__l
[0] = 
	`__bsw≠_32
 (
__w
.__l[1]); \

133 
__r
.
__l
[1] = 
	`__bsw≠_32
 (
__w
.__l[0]); \

135 
__r
.
__Œ
; }))

	)

137 #ñi‡
__GLIBC_HAVE_LONG_LONG


138 
	#__bsw≠_c⁄°™t_64
(
x
) \

139 ((((
x
) & 0xff00000000000000ull) >> 56) \

140 | (((
x
) & 0x00ff000000000000ull) >> 40) \

141 | (((
x
) & 0x0000ff0000000000ull) >> 24) \

142 | (((
x
) & 0x000000ff00000000ull) >> 8) \

143 | (((
x
) & 0x00000000ff000000ull) << 8) \

144 | (((
x
) & 0x0000000000ff0000ull) << 24) \

145 | (((
x
) & 0x000000000000ff00ull) << 40) \

146 | (((
x
Ë& 0x00000000000000ffuŒË<< 56))

	)

148 
__ölöe
 
__uöt64_t


149 
	$__bsw≠_64
 (
__uöt64_t
 
__bsx
)

151  
	`__bsw≠_c⁄°™t_64
 (
__bsx
);

152 
	}
}

	@/usr/include/bits/endian.h

3 #i‚de‡
_ENDIAN_H


7 
	#__BYTE_ORDER
 
__LITTLE_ENDIAN


	)

	@/usr/include/bits/libc-lock.h

21 #i‚de‡
_BITS_LIBC_LOCK_H


22 
	#_BITS_LIBC_LOCK_H
 1

	)

24 
	~<±hªad.h
>

27 #ifde‡
_IO_MTSAFE_IO


28 
±hªad_muãx_t
 
	t__libc_lock_t
;

29 °ru˘ { 
±hªad_muãx_t
 
	mmuãx
; } 
	t__libc_lock_ªcursive_t
;

30 #ifde‡
__USE_UNIX98


31 
±hªad_rwlock_t
 
	t__libc_rwlock_t
;

33 
__libc_rwlock_›aque__
 
	t__libc_rwlock_t
;

35 
__libc_lock_ªcursive_t
 
	t__πld_lock_ªcursive_t
;

37 
__libc_lock_›aque__
 
	t__libc_lock_t
;

38 
__libc_lock_ªcursive_›aque__
 
	t__libc_lock_ªcursive_t
;

39 
__libc_rwlock_›aque__
 
	t__libc_rwlock_t
;

43 
±hªad_key_t
 
	t__libc_key_t
;

52 
	#__libc_lock_deföe
(
CLASS
,
NAME
) \

53 
CLASS
 
__libc_lock_t
 
NAME
;

	)

54 
	#__libc_rwlock_deföe
(
CLASS
,
NAME
) \

55 
CLASS
 
__libc_rwlock_t
 
NAME
;

	)

56 
	#__libc_lock_deföe_ªcursive
(
CLASS
,
NAME
) \

57 
CLASS
 
__libc_lock_ªcursive_t
 
NAME
;

	)

58 
	#__πld_lock_deföe_ªcursive
(
CLASS
,
NAME
) \

59 
CLASS
 
__πld_lock_ªcursive_t
 
NAME
;

	)

70 #i‡
__LT_SPINLOCK_INIT
 == 0

71 
	#__libc_lock_deföe_öôülized
(
CLASS
,
NAME
) \

72 
CLASS
 
__libc_lock_t
 
NAME
;

	)

74 
	#__libc_lock_deföe_öôülized
(
CLASS
,
NAME
) \

75 
CLASS
 
__libc_lock_t
 
NAME
 = 
PTHREAD_MUTEX_INITIALIZER
;

	)

78 
	#__libc_rwlock_deföe_öôülized
(
CLASS
,
NAME
) \

79 
CLASS
 
__libc_rwlock_t
 
NAME
 = 
PTHREAD_RWLOCK_INITIALIZER
;

	)

83 
	#__libc_lock_deföe_öôülized_ªcursive
(
CLASS
,
NAME
) \

84 
CLASS
 
__libc_lock_ªcursive_t
 
NAME
 = 
_LIBC_LOCK_RECURSIVE_INITIALIZER
;

	)

85 
	#_LIBC_LOCK_RECURSIVE_INITIALIZER
 \

86 {
PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP
}

	)

88 
	#__πld_lock_deföe_öôülized_ªcursive
(
CLASS
,
NAME
) \

89 
CLASS
 
__πld_lock_ªcursive_t
 
NAME
 = 
_RTLD_LOCK_RECURSIVE_INITIALIZER
;

	)

90 
	#_RTLD_LOCK_RECURSIVE_INITIALIZER
 \

91 {
PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP
}

	)

93 #i‡
deföed
 
__PIC__


94 
	#__libc_maybe_ˇŒ
(
FUNC
, 
ARGS
, 
ELSE
) \

95 (
	`__exãnsi⁄__
 ({ 
	`__ty≥of
 (
FUNC
Ë*
_‚
 = (FUNC); \

96 
_‚
 !
NULL
 ? (*_‚Ë
ARGS
 : 
ELSE
; }))

	)

98 
	#__libc_maybe_ˇŒ
(
FUNC
, 
ARGS
, 
ELSE
) \

99 (
FUNC
 !
NULL
 ? FUNC 
ARGS
 : 
ELSE
)

	)

101 
	#__libc_maybe_ˇŒ2
(
FUNC
, 
ARGS
, 
ELSE
Ë
	`__libc_maybe_ˇŒ
 (
__
##FUNC, ARGS, ELSE)

	)

105 
	#__libc_lock_öô
(
NAME
) \

106 (
	`__libc_maybe_ˇŒ2
 (
±hªad_muãx_öô
, (&(
NAME
), 
NULL
), 0))

	)

107 
	#__libc_rwlock_öô
(
NAME
) \

108 (
	`__libc_maybe_ˇŒ
 (
__±hªad_rwlock_öô
, (&(
NAME
), 
NULL
), 0));

	)

111 
	#__libc_lock_öô_ªcursive
(
NAME
) \

113 i‡(
__±hªad_muãx_öô
 !
NULL
) \

115 
±hªad_muãx©å_t
 
__©å
; \

116 
	`__±hªad_muãx©å_öô
 (&
__©å
); \

117 
	`__±hªad_muãx©å_£ây≥
 (&
__©å
, 
PTHREAD_MUTEX_RECURSIVE_NP
); \

118 
	`__±hªad_muãx_öô
 (&(
NAME
).
muãx
, &
__©å
); \

119 
	`__±hªad_muãx©å_de°roy
 (&
__©å
); \

121 } 0);

	)

122 
	#__πld_lock_öô_ªcursive
(
NAME
) \

123 
	`__libc_lock_öô_ªcursive
 (
NAME
)

	)

128 
	#__libc_lock_föi
(
NAME
) \

129 (
	`__libc_maybe_ˇŒ2
 (
±hªad_muãx_de°roy
, (&(
NAME
)), 0));

	)

130 
	#__libc_rwlock_föi
(
NAME
) \

131 (
	`__libc_maybe_ˇŒ
 (
__±hªad_rwlock_de°roy
, (&(
NAME
)), 0));

	)

134 
	#__libc_lock_föi_ªcursive
(
NAME
Ë
	`__libc_lock_föi
 ((NAME).
muãx
)

	)

135 
	#__πld_lock_föi_ªcursive
(
NAME
Ë
	`__libc_lock_föi_ªcursive
 (NAME)

	)

138 
	#__libc_lock_lock
(
NAME
) \

139 (
	`__libc_maybe_ˇŒ2
 (
±hªad_muãx_lock
, (&(
NAME
)), 0));

	)

140 
	#__libc_rwlock_rdlock
(
NAME
) \

141 (
	`__libc_maybe_ˇŒ
 (
__±hªad_rwlock_rdlock
, (&(
NAME
)), 0));

	)

142 
	#__libc_rwlock_wæock
(
NAME
) \

143 (
	`__libc_maybe_ˇŒ
 (
__±hªad_rwlock_wæock
, (&(
NAME
)), 0));

	)

146 
	#__libc_lock_lock_ªcursive
(
NAME
Ë
	`__libc_lock_lock
 ((NAME).
muãx
)

	)

149 
	#__libc_lock_åylock
(
NAME
) \

150 (
	`__libc_maybe_ˇŒ2
 (
±hªad_muãx_åylock
, (&(
NAME
)), 0))

	)

151 
	#__libc_rwlock_åyrdlock
(
NAME
) \

152 (
	`__libc_maybe_ˇŒ
 (
__±hªad_rwlock_åyrdlock
, (&(
NAME
)), 0))

	)

153 
	#__libc_rwlock_åywæock
(
NAME
) \

154 (
	`__libc_maybe_ˇŒ
 (
__±hªad_rwlock_åywæock
, (&(
NAME
)), 0))

	)

157 
	#__libc_lock_åylock_ªcursive
(
NAME
Ë
	`__libc_lock_åylock
 ((NAME).
muãx
)

	)

158 
	#__πld_lock_åylock_ªcursive
(
NAME
) \

159 
	`__libc_lock_åylock_ªcursive
 (
NAME
)

	)

162 
	#__libc_lock_u∆ock
(
NAME
) \

163 (
	`__libc_maybe_ˇŒ2
 (
±hªad_muãx_u∆ock
, (&(
NAME
)), 0));

	)

164 
	#__libc_rwlock_u∆ock
(
NAME
) \

165 (
	`__libc_maybe_ˇŒ
 (
__±hªad_rwlock_u∆ock
, (&(
NAME
)), 0));

	)

168 
	#__libc_lock_u∆ock_ªcursive
(
NAME
Ë
	`__libc_lock_u∆ock
 ((NAME).
muãx
)

	)

170 
	#__πld_lock_lock_ªcursive
(
NAME
Ë
	`__libc_lock_lock_ªcursive
 (NAME)

	)

171 
	#__πld_lock_u∆ock_ªcursive
(
NAME
Ë
	`__libc_lock_u∆ock_ªcursive
 (NAME)

	)

174 #i‡
PTHREAD_ONCE_INIT
 == 0

177 
	#__libc_⁄˚_deföe
(
CLASS
, 
NAME
) \

178 
CLASS
 
±hªad_⁄˚_t
 
NAME


	)

180 
	#__libc_⁄˚_deföe
(
CLASS
, 
NAME
) \

181 
CLASS
 
±hªad_⁄˚_t
 
NAME
 = 
PTHREAD_ONCE_INIT


	)

185 
	#__libc_⁄˚
(
ONCE_CONTROL
, 
INIT_FUNCTION
) \

187 i‡(
__±hªad_⁄˚
 !
NULL
) \

188 
	`__±hªad_⁄˚
 (&(
ONCE_CONTROL
), (
INIT_FUNCTION
)); \

189 i‡((
ONCE_CONTROL
Ë=
PTHREAD_ONCE_INIT
) { \

190 
	`INIT_FUNCTION
 (); \

191 (
ONCE_CONTROL
) = 2; \

193 } 0)

	)

197 
	#__libc_˛ónup_ªgi⁄_°¨t
(
DOIT
, 
FCT
, 
ARG
) \

198 { 
_±hªad_˛ónup_buf„r
 
_buf„r
; \

199 
_avaû
 = (
DOIT
Ë&& 
_±hªad_˛ónup_push_de„r
 !
NULL
; \

200 i‡(
_avaû
) { \

201 
	`_±hªad_˛ónup_push_de„r
 (&
_buf„r
, (
FCT
), (
ARG
)); \

202 }

	)

205 
	#__libc_˛ónup_ªgi⁄_íd
(
DOIT
) \

206 i‡(
_avaû
) { \

207 
	`_±hªad_˛ónup_p›_ª°‹e
 (&
_buf„r
, (
DOIT
)); \

209 }

	)

212 
	#__libc_˛ónup_íd
(
DOIT
) \

213 i‡(
_avaû
) { \

214 
	`_±hªad_˛ónup_p›_ª°‹e
 (&
_buf„r
, (
DOIT
)); \

215 }

	)

217 
	#__libc_˛ónup_push
(
f˘
, 
¨g
) \

218 { 
_±hªad_˛ónup_buf„r
 
_buf„r
; \

219 
	`__libc_maybe_ˇŒ
 (
_±hªad_˛ónup_push
, (&
_buf„r
, (
f˘
), (
¨g
)), 0)

	)

221 
	#__libc_˛ónup_p›
(
execuã
) \

222 
	`__libc_maybe_ˇŒ
 (
_±hªad_˛ónup_p›
, (&
_buf„r
, 
execuã
), 0); \

223 }

	)

226 
	#__libc_key_¸óã
(
KEY
, 
DESTRUCTOR
) \

227 (
	`__libc_maybe_ˇŒ
 (
__±hªad_key_¸óã
, (
KEY
, 
DESTRUCTOR
), 1))

	)

230 
	#__libc_gë•ecific
(
KEY
) \

231 (
	`__libc_maybe_ˇŒ
 (
__±hªad_gë•ecific
, (
KEY
), 
NULL
))

	)

234 
	#__libc_£t•ecific
(
KEY
, 
VALUE
) \

235 (
	`__libc_maybe_ˇŒ
 (
__±hªad_£t•ecific
, (
KEY
, 
VALUE
), 0))

	)

239 
	#__libc_©f‹k
(
PREPARE
, 
PARENT
, 
CHILD
) \

240 (
	`__libc_maybe_ˇŒ
 (
__±hªad_©f‹k
, (
PREPARE
, 
PARENT
, 
CHILD
), 0))

	)

242 
__BEGIN_DECLS


244 
_±hªad_˛ónup_push_de„r
 (
_±hªad_˛ónup_buf„r
 *
__buf„r
,

245 (*
__routöe
) (*),

246 *
__¨g
Ë
__THROW
;

248 
	$_±hªad_˛ónup_p›_ª°‹e
 (
_±hªad_˛ónup_buf„r
 *
__buf„r
,

249 
__execuã
Ë
__THROW
;

255 
	`__±hªad_muãx_öô
 (
±hªad_muãx_t
 *
__muãx
,

256 
__c⁄°
 
±hªad_muãx©å_t
 *
__muãx_©å
);

258 
	`__±hªad_muãx_de°roy
 (
±hªad_muãx_t
 *
__muãx
);

260 
	`__±hªad_muãx_åylock
 (
±hªad_muãx_t
 *
__muãx
);

262 
	`__±hªad_muãx_lock
 (
±hªad_muãx_t
 *
__muãx
);

264 
	`__±hªad_muãx_u∆ock
 (
±hªad_muãx_t
 *
__muãx
);

266 
	`__±hªad_muãx©å_öô
 (
±hªad_muãx©å_t
 *
__©å
);

268 
	`__±hªad_muãx©å_de°roy
 (
±hªad_muãx©å_t
 *
__©å
);

270 
	`__±hªad_muãx©å_£ây≥
 (
±hªad_muãx©å_t
 *
__©å
,

271 
__köd
);

273 #ifde‡
__USE_UNIX98


274 
	`__±hªad_rwlock_öô
 (
±hªad_rwlock_t
 *
__rwlock
,

275 
__c⁄°
 
±hªad_rwlock©å_t
 *
__©å
);

277 
	`__±hªad_rwlock_de°roy
 (
±hªad_rwlock_t
 *
__rwlock
);

279 
	`__±hªad_rwlock_rdlock
 (
±hªad_rwlock_t
 *
__rwlock
);

281 
	`__±hªad_rwlock_åyrdlock
 (
±hªad_rwlock_t
 *
__rwlock
);

283 
	`__±hªad_rwlock_wæock
 (
±hªad_rwlock_t
 *
__rwlock
);

285 
	`__±hªad_rwlock_åywæock
 (
±hªad_rwlock_t
 *
__rwlock
);

287 
	`__±hªad_rwlock_u∆ock
 (
±hªad_rwlock_t
 *
__rwlock
);

290 
	`__±hªad_key_¸óã
 (
±hªad_key_t
 *
__key
,

291 (*
__de°r_fun˘i⁄
) (*));

293 
	`__±hªad_£t•ecific
 (
±hªad_key_t
 
__key
,

294 
__c⁄°
 *
__poöãr
);

296 *
	`__±hªad_gë•ecific
 (
±hªad_key_t
 
__key
);

298 
	`__±hªad_⁄˚
 (
±hªad_⁄˚_t
 *
__⁄˚_c⁄åﬁ
,

299 (*
__öô_routöe
) ());

301 
	`__±hªad_©f‹k
 ((*
__¥ï¨e
) (),

302 (*
__∑ª¡
) (),

303 (*
__chûd
) ());

305 
__END_DECLS


309 #i‚de‡
__NO_WEAK_PTHREAD_ALIASES


310 #¥agm®
wók
 
__±hªad_muãx_öô


311 #¥agm®
wók
 
__±hªad_muãx_de°roy


312 #¥agm®
wók
 
__±hªad_muãx_lock


313 #¥agm®
wók
 
__±hªad_muãx_åylock


314 #¥agm®
wók
 
__±hªad_muãx_u∆ock


315 #¥agm®
wók
 
__±hªad_muãx©å_öô


316 #¥agm®
wók
 
__±hªad_muãx©å_de°roy


317 #¥agm®
wók
 
__±hªad_muãx©å_£ây≥


318 #¥agm®
wók
 
__±hªad_rwlock_de°roy


319 #¥agm®
wók
 
__±hªad_rwlock_rdlock


320 #¥agm®
wók
 
__±hªad_rwlock_åyrdlock


321 #¥agm®
wók
 
__±hªad_rwlock_wæock


322 #¥agm®
wók
 
__±hªad_rwlock_åywæock


323 #¥agm®
wók
 
__±hªad_rwlock_u∆ock


324 #¥agm®
wók
 
__±hªad_key_¸óã


325 #¥agm®
wók
 
__±hªad_£t•ecific


326 #¥agm®
wók
 
__±hªad_gë•ecific


327 #¥agm®
wók
 
__±hªad_⁄˚


328 #¥agm®
wók
 
__±hªad_öôülize


329 #¥agm®
wók
 
__±hªad_©f‹k


330 #¥agm®
wók
 
_±hªad_˛ónup_push_de„r


331 #¥agm®
wók
 
_±hªad_˛ónup_p›_ª°‹e


332 #¥agm®
wók
 
_±hªad_˛ónup_push


333 #¥agm®
wók
 
_±hªad_˛ónup_p›


338 
	#__libc_muãx_u∆ock
 
__±hªad_muãx_u∆ock


	)

	@/usr/include/bits/select.h

18 #i‚de‡
_SYS_SELECT_H


22 
	~<bôs/w‹dsize.h
>

25 #i‡
deföed
 
__GNUC__
 && __GNUC__ >= 2

27 #i‡
__WORDSIZE
 == 64

28 
	#__FD_ZERO_STOS
 "°osq"

	)

30 
	#__FD_ZERO_STOS
 "°o¶"

	)

33 
	#__FD_ZERO
(
fd•
) \

35 
__d0
, 
__d1
; \

36 
__asm__
 
	`__vﬁ©ûe__
 ("˛d;Ñï; " 
__FD_ZERO_STOS
 \

37 : "=c" (
__d0
), "=D" (
__d1
) \

38 : "a" (0), "0" ( (
fd_£t
) \

39 /  (
__fd_mask
)), \

40 "1" (&
	`__FDS_BITS
 (
fd•
)[0]) \

42 } 0)

	)

48 
	#__FD_ZERO
(
£t
) \

50 
__i
; \

51 
fd_£t
 *
__¨r
 = (
£t
); \

52 
__i
 = 0; __ò<  (
fd_£t
Ë/  (
__fd_mask
); ++__i) \

53 
	`__FDS_BITS
 (
__¨r
)[
__i
] = 0; \

54 } 0)

	)

58 
	#__FD_SET
(
d
, 
£t
) \

59 ((Ë(
	`__FDS_BITS
 (
£t
)[
	`__FD_ELT
 (
d
)] |
	`__FD_MASK
 (d)))

	)

60 
	#__FD_CLR
(
d
, 
£t
) \

61 ((Ë(
	`__FDS_BITS
 (
£t
)[
	`__FD_ELT
 (
d
)] &~
	`__FD_MASK
 (d)))

	)

62 
	#__FD_ISSET
(
d
, 
£t
) \

63 ((
	`__FDS_BITS
 (
£t
)[
	`__FD_ELT
 (
d
)] & 
	`__FD_MASK
 (d)Ë!0)

	)

	@/usr/include/bits/select2.h

19 #i‚de‡
_SYS_SELECT_H


24 
__fdñt_chk
 (
__d
);

25 
	$__fdñt_w¨n
 (
__d
)

26 
	`__w¨«âr
 ("bit outside of fd_set selected");

27 #unde‡
__FD_ELT


28 
	#__FD_ELT
(
d
) \

29 
__exãnsi⁄__
 \

30 ({ 
__d
 = (
d
); \

31 (
	`__buûtö_c⁄°™t_p
 (
__d
) \

32 ? (0 <
__d
 && __d < 
__FD_SETSIZE
 \

33 ? (
__d
 / 
__NFDBITS
) \

34 : 
	`__fdñt_w¨n
 (
__d
)) \

35 : 
	`__fdñt_chk
 (
__d
)); 
	}
})

	)

	@/usr/include/bits/sigset.h

20 #i‚def 
_SIGSET_H_ty≥s


21 
	#_SIGSET_H_ty≥s
 1

	)

23 
	t__sig_©omic_t
;

27 
	#_SIGSET_NWORDS
 (1024 / (8 *  ()))

	)

30 
	m__vÆ
[
_SIGSET_NWORDS
];

31 } 
	t__sig£t_t
;

42 #i‡!
deföed
 
_SIGSET_H_‚s
 && deföed 
_SIGNAL_H


43 
	#_SIGSET_H_‚s
 1

	)

45 #i‚de‡
_EXTERN_INLINE


46 
	#_EXTERN_INLINE
 
__exã∫_ölöe


	)

50 
	#__sigmask
(
sig
) \

51 (((Ë1Ë<< (((
sig
Ë- 1Ë% (8 *  ())))

	)

54 
	#__sigw‹d
(
sig
Ë(((sigË- 1Ë/ (8 *  ()))

	)

56 #i‡
deföed
 
__GNUC__
 && __GNUC__ >= 2

57 
	#__sigem±y£t
(
£t
) \

58 (
	`__exãnsi⁄__
 ({ 
__˙t
 = 
_SIGSET_NWORDS
; \

59 
sig£t_t
 *
__£t
 = (
£t
); \

60 --
__˙t
 >0Ë
__£t
->
__vÆ
[__cnt] = 0; \

61 0; }))

	)

62 
	#__sigfûl£t
(
£t
) \

63 (
	`__exãnsi⁄__
 ({ 
__˙t
 = 
_SIGSET_NWORDS
; \

64 
sig£t_t
 *
__£t
 = (
£t
); \

65 --
__˙t
 >0Ë
__£t
->
__vÆ
[__cnt] = ~0UL; \

66 0; }))

	)

68 #ifde‡
__USE_GNU


72 
	#__sigi£m±y£t
(
£t
) \

73 (
	`__exãnsi⁄__
 ({ 
__˙t
 = 
_SIGSET_NWORDS
; \

74 c⁄° 
sig£t_t
 *
__£t
 = (
£t
); \

75 
__ªt
 = 
__£t
->
__vÆ
[--
__˙t
]; \

76 !
__ªt
 && --
__˙t
 >= 0) \

77 
__ªt
 = 
__£t
->
__vÆ
[
__˙t
]; \

78 
__ªt
 =0; }))

	)

79 
	#__sig™d£t
(
de°
, 
À·
, 
right
) \

80 (
	`__exãnsi⁄__
 ({ 
__˙t
 = 
_SIGSET_NWORDS
; \

81 
sig£t_t
 *
__de°
 = (
de°
); \

82 c⁄° 
sig£t_t
 *
__À·
 = (
À·
); \

83 c⁄° 
sig£t_t
 *
__right
 = (
right
); \

84 --
__˙t
 >= 0) \

85 
__de°
->
__vÆ
[
__˙t
] = (
__À·
->__val[__cnt] \

86 & 
__right
->
__vÆ
[
__˙t
]); \

87 0; }))

	)

88 
	#__sig‹£t
(
de°
, 
À·
, 
right
) \

89 (
	`__exãnsi⁄__
 ({ 
__˙t
 = 
_SIGSET_NWORDS
; \

90 
sig£t_t
 *
__de°
 = (
de°
); \

91 c⁄° 
sig£t_t
 *
__À·
 = (
À·
); \

92 c⁄° 
sig£t_t
 *
__right
 = (
right
); \

93 --
__˙t
 >= 0) \

94 
__de°
->
__vÆ
[
__˙t
] = (
__À·
->__val[__cnt] \

95 | 
__right
->
__vÆ
[
__˙t
]); \

96 0; }))

	)

103 
__sigismembî
 (c⁄° 
__sig£t_t
 *, );

104 
__sigadd£t
 (
__sig£t_t
 *, );

105 
__sigdñ£t
 (
__sig£t_t
 *, );

107 #ifde‡
__USE_EXTERN_INLINES


108 
	#__SIGSETFN
(
NAME
, 
BODY
, 
CONST
) \

109 
_EXTERN_INLINE
 \

110 
	`NAME
 (
CONST
 
__sig£t_t
 *
__£t
, 
__sig
) \

112 
__mask
 = 
	`__sigmask
 (
__sig
); \

113 
__w‹d
 = 
	`__sigw‹d
 (
__sig
); \

114  
BODY
; \

115 }

	)

117 
__SIGSETFN
 (
__sigismembî
, (
__£t
->
__vÆ
[
__w‹d
] & 
__mask
) ? 1 : 0, const)

118 
__SIGSETFN
 (
__sigadd£t
, ((
__£t
->
__vÆ
[
__w‹d
] |
__mask
), 0), )

119 
__SIGSETFN
 (
__sigdñ£t
, ((
__£t
->
__vÆ
[
__w‹d
] &~
__mask
), 0), )

121 #unde‡
__SIGSETFN


	@/usr/include/bits/time.h

23 #i‡
deföed
 
__√ed_timevÆ
 || deföed 
__USE_GNU


24 #i‚de‡
_STRUCT_TIMEVAL


25 
	#_STRUCT_TIMEVAL
 1

	)

26 
	~<bôs/ty≥s.h
>

30 
	stimevÆ


32 
__time_t
 
	mtv_£c
;

33 
__su£c⁄ds_t
 
	mtv_u£c
;

38 #i‚de‡
__√ed_timevÆ


39 #i‚de‡
_BITS_TIME_H


40 
	#_BITS_TIME_H
 1

	)

48 
	#CLOCKS_PER_SEC
 1000000l

	)

50 #i‡(!
deföed
 
__STRICT_ANSI__
 || deföed 
__USE_POSIX
) \

51 && !
deföed
 
	g__USE_XOPEN2K


54 
	~<bôs/ty≥s.h
>

55 
__sysc⁄f
 ();

56 
	#CLK_TCK
 ((
__˛ock_t
Ë
	`__sysc⁄f
 (2)Ë

	)

59 #ifde‡
__USE_POSIX199309


61 
	#CLOCK_REALTIME
 0

	)

63 
	#CLOCK_MONOTONIC
 1

	)

65 
	#CLOCK_PROCESS_CPUTIME_ID
 2

	)

67 
	#CLOCK_THREAD_CPUTIME_ID
 3

	)

69 
	#CLOCK_MONOTONIC_RAW
 4

	)

71 
	#CLOCK_REALTIME_COARSE
 5

	)

73 
	#CLOCK_MONOTONIC_COARSE
 6

	)

75 
	#CLOCK_BOOTTIME
 7

	)

77 
	#CLOCK_REALTIME_ALARM
 8

	)

79 
	#CLOCK_BOOTTIME_ALARM
 9

	)

81 
	#CLOCK_TAI
 11

	)

84 
	#TIMER_ABSTIME
 1

	)

87 #ifde‡
__USE_GNU


88 
	~<bôs/timex.h
>

90 
__BEGIN_DECLS


93 
	$˛ock_adjtime
 (
__˛ockid_t
 
__˛ock_id
, 
timex
 *
__utx
Ë
__THROW
;

95 
__END_DECLS


101 #unde‡
__√ed_timevÆ


	@/usr/include/gconv.h

22 #i‚de‡
_GCONV_H


23 
	#_GCONV_H
 1

	)

25 
	~<„©uªs.h
>

26 
	#__√ed_mb°©e_t


	)

27 
	#__√ed_wöt_t


	)

28 
	~<wch¨.h
>

29 
	#__√ed_size_t


	)

30 
	#__√ed_wch¨_t


	)

31 
	~<°ddef.h
>

34 
	#__UNKNOWN_10646_CHAR
 ((
wch¨_t
Ë0xfffd)

	)

39 
	m__GCONV_OK
 = 0,

40 
	m__GCONV_NOCONV
,

41 
	m__GCONV_NODB
,

42 
	m__GCONV_NOMEM
,

44 
	m__GCONV_EMPTY_INPUT
,

45 
	m__GCONV_FULL_OUTPUT
,

46 
	m__GCONV_ILLEGAL_INPUT
,

47 
	m__GCONV_INCOMPLETE_INPUT
,

49 
	m__GCONV_ILLEGAL_DESCRIPTOR
,

50 
	m__GCONV_INTERNAL_ERROR


57 
	m__GCONV_IS_LAST
 = 0x0001,

58 
	m__GCONV_IGNORE_ERRORS
 = 0x0002,

59 
	m__GCONV_SWAP
 = 0x0004

64 
	g__gc⁄v_°ï
;

65 
	g__gc⁄v_°ï_d©a
;

66 
	g__gc⁄v_lﬂded_obje˘
;

67 
	g__gc⁄v_å™s_d©a
;

71 (*
	t__gc⁄v_f˘
Ë(
	t__gc⁄v_°ï
 *, 
	t__gc⁄v_°ï_d©a
 *,

73 **, 
	tsize_t
 *, , );

76 
	$wöt_t
 (*
	t__gc⁄v_btowc_f˘
Ë(
	t__gc⁄v_°ï
 *, );

79 (*
	t__gc⁄v_öô_f˘
Ë(
	t__gc⁄v_°ï
 *);

80 (*
	t__gc⁄v_íd_f˘
Ë(
	t__gc⁄v_°ï
 *);

84 (*
	t__gc⁄v_å™s_f˘
Ë(
	t__gc⁄v_°ï
 *,

85 
	t__gc⁄v_°ï_d©a
 *, *,

89 
	tsize_t
 *);

92 (*
	t__gc⁄v_å™s_c⁄ãxt_f˘
) (*, const *,

97 (*
	t__gc⁄v_å™s_quîy_f˘
) (const *, const ***,

98 
	tsize_t
 *);

101 (*
	t__gc⁄v_å™s_öô_f˘
) (**, const *);

102 (*
	t__gc⁄v_å™s_íd_f˘
) (*);

104 
	s__gc⁄v_å™s_d©a


107 
__gc⁄v_å™s_f˘
 
__å™s_f˘
;

108 
__gc⁄v_å™s_c⁄ãxt_f˘
 
__å™s_c⁄ãxt_f˘
;

109 
__gc⁄v_å™s_íd_f˘
 
__å™s_íd_f˘
;

110 *
__d©a
;

111 
__gc⁄v_å™s_d©a
 *
__√xt
;

116 
	s__gc⁄v_°ï


118 
__gc⁄v_lﬂded_obje˘
 *
__shlib_h™dÀ
;

119 c⁄° *
__mod«me
;

121 
__cou¡î
;

123 *
__‰om_«me
;

124 *
__to_«me
;

126 
__gc⁄v_f˘
 
__f˘
;

127 
__gc⁄v_btowc_f˘
 
__btowc_f˘
;

128 
__gc⁄v_öô_f˘
 
__öô_f˘
;

129 
__gc⁄v_íd_f˘
 
__íd_f˘
;

133 
__mö_√eded_‰om
;

134 
__max_√eded_‰om
;

135 
__mö_√eded_to
;

136 
__max_√eded_to
;

139 
__°©eful
;

141 *
__d©a
;

146 
	s__gc⁄v_°ï_d©a


148 *
__outbuf
;

149 *
__outbu„nd
;

153 
__Êags
;

157 
__övoˇti⁄_cou¡î
;

161 
__öã∫Æ_u£
;

163 
__mb°©e_t
 *
__°©ï
;

164 
__mb°©e_t
 
__°©e
;

168 
__gc⁄v_å™s_d©a
 *
__å™s
;

173 
	s__gc⁄v_öfo


175 
size_t
 
__n°ïs
;

176 
__gc⁄v_°ï
 *
__°ïs
;

177 
__exãnsi⁄__
 
__gc⁄v_°ï_d©a
 
__d©a
 
__Êex¨r
;

178 } *
	t__gc⁄v_t
;

	@/usr/include/gnu/stubs-32.h

6 #ifde‡
_LIBC


7 #îr‹ 
Aµliˇti⁄s
 
may
 
nŸ
 
deföe
 
the
 
ma¸o
 
_LIBC


10 
	#__°ub_chÊags


	)

11 
	#__°ub_Áâach


	)

12 
	#__°ub_fchÊags


	)

13 
	#__°ub_fdëach


	)

14 
	#__°ub_gây


	)

15 
	#__°ub_lchmod


	)

16 
	#__°ub_ªvoke


	)

17 
	#__°ub_£éogö


	)

18 
	#__°ub_sigªtu∫


	)

19 
	#__°ub_s°k


	)

20 
	#__°ub_°ty


	)

	@/usr/include/gnu/stubs-64.h

6 #ifde‡
_LIBC


7 #îr‹ 
Aµliˇti⁄s
 
may
 
nŸ
 
deföe
 
the
 
ma¸o
 
_LIBC


10 
	#__°ub_bdÊush


	)

11 
	#__°ub_chÊags


	)

12 
	#__°ub_Áâach


	)

13 
	#__°ub_fchÊags


	)

14 
	#__°ub_fdëach


	)

15 
	#__°ub_gëmsg


	)

16 
	#__°ub_gây


	)

17 
	#__°ub_lchmod


	)

18 
	#__°ub_putmsg


	)

19 
	#__°ub_ªvoke


	)

20 
	#__°ub_£éogö


	)

21 
	#__°ub_sigªtu∫


	)

22 
	#__°ub_s°k


	)

23 
	#__°ub_°ty


	)

	@/usr/include/wchar.h

23 #i‚de‡
_WCHAR_H


25 #i‡!
deföed
 
__√ed_mb°©e_t
 && !deföed 
__√ed_wöt_t


26 
	#_WCHAR_H
 1

	)

27 
	~<„©uªs.h
>

30 #ifde‡
_WCHAR_H


32 
	#__√ed___FILE


	)

33 #i‡
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K


34 
	#__√ed_FILE


	)

36 
	~<°dio.h
>

38 
	#__√ed___va_li°


	)

39 
	~<°d¨g.h
>

41 
	~<bôs/wch¨.h
>

44 
	#__√ed_size_t


	)

45 
	#__√ed_wch¨_t


	)

46 
	#__√ed_NULL


	)

48 #i‡
deföed
 
_WCHAR_H
 || deföed 
__√ed_wöt_t
 || !deföed 
__WINT_TYPE__


49 #unde‡
__√ed_wöt_t


50 
	#__√ed_wöt_t


	)

51 
	~<°ddef.h
>

55 #i‚de‡
_WINT_T


60 
	#_WINT_T


	)

61 
	twöt_t
;

65 #i‡
deföed
 
__˝lu•lus
 && deföed 
_GLIBCPP_USE_NAMESPACES
 \

66 && 
deföed
 
__WINT_TYPE__


67 
__BEGIN_NAMESPACE_STD


68 
__WINT_TYPE__
 
	twöt_t
;

69 
	g__END_NAMESPACE_STD


74 #i‡
deföed
 
__˝lu•lus
 && 
__GNUC_PREREQ
 (4, 4)

75 
	#__CORRECT_ISO_CPP_WCHAR_H_PROTO


	)

79 #i‡(
deföed
 
_WCHAR_H
 || deföed 
__√ed_mb°©e_t
Ë&& !deföed 
____mb°©e_t_deföed


80 
	#____mb°©e_t_deföed
 1

	)

84 
	m__cou¡
;

87 #ifde‡
__WINT_TYPE__


88 
__WINT_TYPE__
 
	m__wch
;

90 
wöt_t
 
	m__wch
;

92 
	m__wchb
[4];

93 } 
	m__vÆue
;

94 } 
	t__mb°©e_t
;

96 #unde‡
__√ed_mb°©e_t


101 #ifde‡
_WCHAR_H


103 #i‚de‡
__mb°©e_t_deföed


104 
__BEGIN_NAMESPACE_C99


106 
__mb°©e_t
 
	tmb°©e_t
;

107 
	g__END_NAMESPACE_C99


108 
	#__mb°©e_t_deföed
 1

	)

111 #ifde‡
__USE_GNU


112 
	$__USING_NAMESPACE_C99
(
mb°©e_t
)

115 #i‚de‡
WCHAR_MIN


117 
	#WCHAR_MIN
 
__WCHAR_MIN


	)

118 
	#WCHAR_MAX
 
__WCHAR_MAX


	)

121 #i‚de‡
WEOF


122 
	#WEOF
 (0xffffffffu)

	)

127 #i‡
deföed
 
__USE_XOPEN
 && !deföed 
__USE_UNIX98


128 
	~<w˘y≥.h
>

132 
__BEGIN_DECLS


134 
__BEGIN_NAMESPACE_STD


137 
tm
;

138 
__END_NAMESPACE_STD


142 
	$__USING_NAMESPACE_STD
(
tm
)

145 
__BEGIN_NAMESPACE_STD


147 
wch¨_t
 *
	$wcs˝y
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

148 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
Ë
__THROW
;

150 
wch¨_t
 *
	$wc¢˝y
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

151 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

152 
__THROW
;

155 
wch¨_t
 *
	$wcsˇt
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

156 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
Ë
__THROW
;

158 
wch¨_t
 *
	$wc¢ˇt
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

159 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

160 
__THROW
;

163 
	$wcscmp
 (c⁄° 
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
)

164 
__THROW
 
__©åibuã_puª__
;

166 
	$wc¢cmp
 (c⁄° 
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
, 
size_t
 
__n
)

167 
__THROW
 
__©åibuã_puª__
;

168 
__END_NAMESPACE_STD


170 #ifde‡
__USE_XOPEN2K8


172 
	$wcsˇ£cmp
 (c⁄° 
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
Ë
__THROW
;

175 
	$wc¢ˇ£cmp
 (c⁄° 
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
,

176 
size_t
 
__n
Ë
__THROW
;

180 
	~<xloˇÀ.h
>

182 
	$wcsˇ£cmp_l
 (c⁄° 
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
,

183 
__loˇÀ_t
 
__loc
Ë
__THROW
;

185 
	$wc¢ˇ£cmp_l
 (c⁄° 
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
,

186 
size_t
 
__n
, 
__loˇÀ_t
 
__loc
Ë
__THROW
;

189 
__BEGIN_NAMESPACE_STD


192 
	$wcscﬁl
 (c⁄° 
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
Ë
__THROW
;

196 
size_t
 
	$wcsx‰m
 (
wch¨_t
 *
__ª°ri˘
 
__s1
,

197 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__s2
, 
size_t
 
__n
Ë
__THROW
;

198 
__END_NAMESPACE_STD


200 #ifde‡
__USE_XOPEN2K8


206 
	$wcscﬁl_l
 (c⁄° 
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
,

207 
__loˇÀ_t
 
__loc
Ë
__THROW
;

212 
size_t
 
	$wcsx‰m_l
 (
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
,

213 
size_t
 
__n
, 
__loˇÀ_t
 
__loc
Ë
__THROW
;

216 
wch¨_t
 *
	$wcsdup
 (c⁄° 
wch¨_t
 *
__s
Ë
__THROW
 
__©åibuã_mÆloc__
;

219 
__BEGIN_NAMESPACE_STD


221 #ifde‡
__CORRECT_ISO_CPP_WCHAR_H_PROTO


222 "C++" 
wch¨_t
 *
	$wcschr
 (
wch¨_t
 *
__wcs
, wch¨_à
__wc
)

223 
__THROW
 
	`__asm
 ("wcschr"Ë
__©åibuã_puª__
;

224 "C++" c⁄° 
wch¨_t
 *
	$wcschr
 (c⁄° 
wch¨_t
 *
__wcs
, wch¨_à
__wc
)

225 
__THROW
 
	`__asm
 ("wcschr"Ë
__©åibuã_puª__
;

227 
wch¨_t
 *
	$wcschr
 (c⁄° 
wch¨_t
 *
__wcs
, wch¨_à
__wc
)

228 
__THROW
 
__©åibuã_puª__
;

231 #ifde‡
__CORRECT_ISO_CPP_WCHAR_H_PROTO


232 "C++" 
wch¨_t
 *
	$wc§chr
 (
wch¨_t
 *
__wcs
, wch¨_à
__wc
)

233 
__THROW
 
	`__asm
 ("wc§chr"Ë
__©åibuã_puª__
;

234 "C++" c⁄° 
wch¨_t
 *
	$wc§chr
 (c⁄° 
wch¨_t
 *
__wcs
, wch¨_à
__wc
)

235 
__THROW
 
	`__asm
 ("wc§chr"Ë
__©åibuã_puª__
;

237 
wch¨_t
 *
	$wc§chr
 (c⁄° 
wch¨_t
 *
__wcs
, wch¨_à
__wc
)

238 
__THROW
 
__©åibuã_puª__
;

240 
__END_NAMESPACE_STD


242 #ifde‡
__USE_GNU


245 
wch¨_t
 *
	$wcsch∫ul
 (c⁄° 
wch¨_t
 *
__s
, wch¨_à
__wc
)

246 
__THROW
 
__©åibuã_puª__
;

249 
__BEGIN_NAMESPACE_STD


252 
size_t
 
	$wcsc•n
 (c⁄° 
wch¨_t
 *
__wcs
, c⁄° wch¨_à*
__ªje˘
)

253 
__THROW
 
__©åibuã_puª__
;

256 
size_t
 
	$wcs•n
 (c⁄° 
wch¨_t
 *
__wcs
, c⁄° wch¨_à*
__ac˚±
)

257 
__THROW
 
__©åibuã_puª__
;

259 #ifde‡
__CORRECT_ISO_CPP_WCHAR_H_PROTO


260 "C++" 
wch¨_t
 *
	$wc•brk
 (
wch¨_t
 *
__wcs
, c⁄° wch¨_à*
__ac˚±
)

261 
__THROW
 
	`__asm
 ("wc•brk"Ë
__©åibuã_puª__
;

262 "C++" c⁄° 
wch¨_t
 *
	$wc•brk
 (c⁄° 
wch¨_t
 *
__wcs
,

263 c⁄° 
wch¨_t
 *
__ac˚±
)

264 
__THROW
 
	`__asm
 ("wc•brk"Ë
__©åibuã_puª__
;

266 
wch¨_t
 *
	$wc•brk
 (c⁄° 
wch¨_t
 *
__wcs
, c⁄° wch¨_à*
__ac˚±
)

267 
__THROW
 
__©åibuã_puª__
;

270 #ifde‡
__CORRECT_ISO_CPP_WCHAR_H_PROTO


271 "C++" 
wch¨_t
 *
	$wcs°r
 (
wch¨_t
 *
__hay°ack
, c⁄° wch¨_à*
__√edÀ
)

272 
__THROW
 
	`__asm
 ("wcs°r"Ë
__©åibuã_puª__
;

273 "C++" c⁄° 
wch¨_t
 *
	$wcs°r
 (c⁄° 
wch¨_t
 *
__hay°ack
,

274 c⁄° 
wch¨_t
 *
__√edÀ
)

275 
__THROW
 
	`__asm
 ("wcs°r"Ë
__©åibuã_puª__
;

277 
wch¨_t
 *
	$wcs°r
 (c⁄° 
wch¨_t
 *
__hay°ack
, c⁄° wch¨_à*
__√edÀ
)

278 
__THROW
 
__©åibuã_puª__
;

282 
wch¨_t
 *
	$wc°ok
 (
wch¨_t
 *
__ª°ri˘
 
__s
,

283 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__dñim
,

284 
wch¨_t
 **
__ª°ri˘
 
__±r
Ë
__THROW
;

287 
size_t
 
	$wc¶í
 (c⁄° 
wch¨_t
 *
__s
Ë
__THROW
 
__©åibuã_puª__
;

288 
__END_NAMESPACE_STD


290 #ifde‡
__USE_XOPEN


292 #ifde‡
__CORRECT_ISO_CPP_WCHAR_H_PROTO


293 "C++" 
wch¨_t
 *
	$wcswcs
 (
wch¨_t
 *
__hay°ack
, c⁄° wch¨_à*
__√edÀ
)

294 
__THROW
 
	`__asm
 ("wcswcs"Ë
__©åibuã_puª__
;

295 "C++" c⁄° 
wch¨_t
 *
	$wcswcs
 (c⁄° 
wch¨_t
 *
__hay°ack
,

296 c⁄° 
wch¨_t
 *
__√edÀ
)

297 
__THROW
 
	`__asm
 ("wcswcs"Ë
__©åibuã_puª__
;

299 
wch¨_t
 *
	$wcswcs
 (c⁄° 
wch¨_t
 *
__hay°ack
, c⁄° wch¨_à*
__√edÀ
)

300 
__THROW
 
__©åibuã_puª__
;

304 #ifde‡
__USE_XOPEN2K8


306 
size_t
 
	$wc¢Àn
 (c⁄° 
wch¨_t
 *
__s
, 
size_t
 
__maxÀn
)

307 
__THROW
 
__©åibuã_puª__
;

311 
__BEGIN_NAMESPACE_STD


313 #ifde‡
__CORRECT_ISO_CPP_WCHAR_H_PROTO


314 "C++" 
wch¨_t
 *
	$wmemchr
 (
wch¨_t
 *
__s
, wch¨_à
__c
, 
size_t
 
__n
)

315 
__THROW
 
	`__asm
 ("wmemchr"Ë
__©åibuã_puª__
;

316 "C++" c⁄° 
wch¨_t
 *
	$wmemchr
 (c⁄° 
wch¨_t
 *
__s
, wch¨_à
__c
,

317 
size_t
 
__n
)

318 
__THROW
 
	`__asm
 ("wmemchr"Ë
__©åibuã_puª__
;

320 
wch¨_t
 *
	$wmemchr
 (c⁄° 
wch¨_t
 *
__s
, wch¨_à
__c
, 
size_t
 
__n
)

321 
__THROW
 
__©åibuã_puª__
;

325 
	$wmemcmp
 (c⁄° 
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
, 
size_t
 
__n
)

326 
__THROW
 
__©åibuã_puª__
;

329 
wch¨_t
 *
	$wmem˝y
 (
wch¨_t
 *
__ª°ri˘
 
__s1
,

330 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__s2
, 
size_t
 
__n
Ë
__THROW
;

334 
wch¨_t
 *
	$wmemmove
 (
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
, 
size_t
 
__n
)

335 
__THROW
;

338 
wch¨_t
 *
	$wmem£t
 (
wch¨_t
 *
__s
, wch¨_à
__c
, 
size_t
 
__n
Ë
__THROW
;

339 
__END_NAMESPACE_STD


341 #ifde‡
__USE_GNU


344 
wch¨_t
 *
	$wmemp˝y
 (
wch¨_t
 *
__ª°ri˘
 
__s1
,

345 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__s2
, 
size_t
 
__n
)

346 
__THROW
;

350 
__BEGIN_NAMESPACE_STD


353 
wöt_t
 
	$btowc
 (
__c
Ë
__THROW
;

357 
	$w˘ob
 (
wöt_t
 
__c
Ë
__THROW
;

361 
	$mbsöô
 (c⁄° 
mb°©e_t
 *
__ps
Ë
__THROW
 
__©åibuã_puª__
;

365 
size_t
 
	$mbπowc
 (
wch¨_t
 *
__ª°ri˘
 
__pwc
,

366 c⁄° *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

367 
mb°©e_t
 *
__ª°ri˘
 
__p
Ë
__THROW
;

370 
size_t
 
	$w¸tomb
 (*
__ª°ri˘
 
__s
, 
wch¨_t
 
__wc
,

371 
mb°©e_t
 *
__ª°ri˘
 
__ps
Ë
__THROW
;

374 
size_t
 
	$__mbæí
 (c⁄° *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

375 
mb°©e_t
 *
__ª°ri˘
 
__ps
Ë
__THROW
;

376 
size_t
 
	$mbæí
 (c⁄° *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

377 
mb°©e_t
 *
__ª°ri˘
 
__ps
Ë
__THROW
;

378 
__END_NAMESPACE_STD


380 #ifde‡
__USE_EXTERN_INLINES


386 
wöt_t
 
	$__btowc_Æüs
 (
__c
Ë
	`__asm
 ("btowc");

387 
__exã∫_ölöe
 
wöt_t


388 
	`__NTH
 (
	$btowc
 (
__c
))

389 {  (
	`__buûtö_c⁄°™t_p
 (
__c
) && __c >= '\0' && __c <= '\x7f'

390 ? (
wöt_t
Ë
__c
 : 
	`__btowc_Æüs
 (__c)); 
	}
}

392 
	$__w˘ob_Æüs
 (
wöt_t
 
__c
Ë
	`__asm
 ("wctob");

393 
__exã∫_ölöe
 

394 
	`__NTH
 (
	$w˘ob
 (
wöt_t
 
__wc
))

395 {  (
	`__buûtö_c⁄°™t_p
 (
__wc
Ë&& __w¯>
L
'\0' && __wc <= L'\x7f'

396 ? (Ë
__wc
 : 
	`__w˘ob_Æüs
 (__wc)); 
	}
}

398 
__exã∫_ölöe
 
size_t


399 
__NTH
 (
	$mbæí
 (c⁄° *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

400 
mb°©e_t
 *
__ª°ri˘
 
__ps
))

401 {  (
__ps
 !
NULL


402 ? 
	`mbπowc
 (
NULL
, 
__s
, 
__n
, 
__ps
Ë: 
	`__mbæí
 (__s, __n, NULL)); 
	}
}

405 
__BEGIN_NAMESPACE_STD


408 
size_t
 
	$mb§towcs
 (
wch¨_t
 *
__ª°ri˘
 
__d°
,

409 c⁄° **
__ª°ri˘
 
__§c
, 
size_t
 
__Àn
,

410 
mb°©e_t
 *
__ª°ri˘
 
__ps
Ë
__THROW
;

414 
size_t
 
	$wc§tombs
 (*
__ª°ri˘
 
__d°
,

415 c⁄° 
wch¨_t
 **
__ª°ri˘
 
__§c
, 
size_t
 
__Àn
,

416 
mb°©e_t
 *
__ª°ri˘
 
__ps
Ë
__THROW
;

417 
__END_NAMESPACE_STD


420 #ifdef 
__USE_XOPEN2K8


423 
size_t
 
	$mb¢πowcs
 (
wch¨_t
 *
__ª°ri˘
 
__d°
,

424 c⁄° **
__ª°ri˘
 
__§c
, 
size_t
 
__nmc
,

425 
size_t
 
__Àn
, 
mb°©e_t
 *
__ª°ri˘
 
__ps
Ë
__THROW
;

429 
size_t
 
	$wc¢πombs
 (*
__ª°ri˘
 
__d°
,

430 c⁄° 
wch¨_t
 **
__ª°ri˘
 
__§c
,

431 
size_t
 
__nwc
, size_à
__Àn
,

432 
mb°©e_t
 *
__ª°ri˘
 
__ps
Ë
__THROW
;

437 #ifde‡
__USE_XOPEN


439 
	$wcwidth
 (
wch¨_t
 
__c
Ë
__THROW
;

443 
	$wcswidth
 (c⁄° 
wch¨_t
 *
__s
, 
size_t
 
__n
Ë
__THROW
;

447 
__BEGIN_NAMESPACE_STD


450 
	$wc°od
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

451 
wch¨_t
 **
__ª°ri˘
 
__íd±r
Ë
__THROW
;

452 
__END_NAMESPACE_STD


454 #ifde‡
__USE_ISOC99


455 
__BEGIN_NAMESPACE_C99


457 
	$wc°of
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

458 
wch¨_t
 **
__ª°ri˘
 
__íd±r
Ë
__THROW
;

459 
	$wc°ﬁd
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

460 
wch¨_t
 **
__ª°ri˘
 
__íd±r
Ë
__THROW
;

461 
__END_NAMESPACE_C99


465 
__BEGIN_NAMESPACE_STD


468 
	$wc°ﬁ
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

469 
wch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__ba£
Ë
__THROW
;

473 
	$wc°oul
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

474 
wch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

475 
__THROW
;

476 
__END_NAMESPACE_STD


478 #i‡
deföed
 
__USE_ISOC99
 || (deföed 
__GNUC__
 && deföed 
__USE_GNU
)

479 
__BEGIN_NAMESPACE_C99


482 
__exãnsi⁄__


483 
	$wc°ﬁl
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

484 
wch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

485 
__THROW
;

489 
__exãnsi⁄__


490 
	$wc°ouŒ
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

491 
wch¨_t
 **
__ª°ri˘
 
__íd±r
,

492 
__ba£
Ë
__THROW
;

493 
__END_NAMESPACE_C99


496 #i‡
deföed
 
__GNUC__
 && deföed 
__USE_GNU


499 
__exãnsi⁄__


500 
	$wc°oq
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

501 
wch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

502 
__THROW
;

506 
__exãnsi⁄__


507 
	$wc°ouq
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

508 
wch¨_t
 **
__ª°ri˘
 
__íd±r
,

509 
__ba£
Ë
__THROW
;

512 #ifde‡
__USE_GNU


526 
	~<xloˇÀ.h
>

530 
	$wc°ﬁ_l
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

531 
wch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__ba£
,

532 
__loˇÀ_t
 
__loc
Ë
__THROW
;

534 
	$wc°oul_l
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

535 
wch¨_t
 **
__ª°ri˘
 
__íd±r
,

536 
__ba£
, 
__loˇÀ_t
 
__loc
Ë
__THROW
;

538 
__exãnsi⁄__


539 
	$wc°ﬁl_l
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

540 
wch¨_t
 **
__ª°ri˘
 
__íd±r
,

541 
__ba£
, 
__loˇÀ_t
 
__loc
Ë
__THROW
;

543 
__exãnsi⁄__


544 
	$wc°ouŒ_l
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

545 
wch¨_t
 **
__ª°ri˘
 
__íd±r
,

546 
__ba£
, 
__loˇÀ_t
 
__loc
)

547 
__THROW
;

549 
	$wc°od_l
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

550 
wch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__loˇÀ_t
 
__loc
)

551 
__THROW
;

553 
	$wc°of_l
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

554 
wch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__loˇÀ_t
 
__loc
)

555 
__THROW
;

557 
	$wc°ﬁd_l
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

558 
wch¨_t
 **
__ª°ri˘
 
__íd±r
,

559 
__loˇÀ_t
 
__loc
Ë
__THROW
;

563 #ifde‡
__USE_XOPEN2K8


566 
wch¨_t
 *
	$w˝˝y
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

567 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
Ë
__THROW
;

571 
wch¨_t
 *
	$w˝n˝y
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

572 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

573 
__THROW
;

580 
__FILE
 *
	$›í_wmem°ªam
 (
wch¨_t
 **
__buÊoc
, 
size_t
 *
__sizñoc
Ë
__THROW
;

583 #i‡
deföed
 
__USE_ISOC95
 || deföed 
__USE_UNIX98


584 
__BEGIN_NAMESPACE_STD


587 
	$fwide
 (
__FILE
 *
__Â
, 
__mode
Ë
__THROW
;

594 
	`fw¥ötf
 (
__FILE
 *
__ª°ri˘
 
__°ªam
,

595 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...)

601 
	`w¥ötf
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...)

604 
	$sw¥ötf
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

605 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...)

606 
__THROW
 ;

612 
	`vfw¥ötf
 (
__FILE
 *
__ª°ri˘
 
__s
,

613 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

614 
__gnuc_va_li°
 
__¨g
)

620 
	`vw¥ötf
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

621 
__gnuc_va_li°
 
__¨g
)

625 
	$vsw¥ötf
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

626 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

627 
__gnuc_va_li°
 
__¨g
)

628 
__THROW
 ;

635 
	`fwsˇnf
 (
__FILE
 *
__ª°ri˘
 
__°ªam
,

636 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...)

642 
	`wsˇnf
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...)

645 
	$swsˇnf
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__s
,

646 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...)

647 
__THROW
 ;

649 #i‡
deföed
 
__USE_ISOC99
 && !deföed 
__USE_GNU
 \

650 && (!
deföed
 
__LDBL_COMPAT
 || !deföed 
__REDIRECT
) \

651 && (
deföed
 
__STRICT_ANSI__
 || deföed 
__USE_XOPEN2K
)

652 #ifde‡
__REDIRECT


656 
	`__REDIRECT
 (
fwsˇnf
, (
__FILE
 *
__ª°ri˘
 
__°ªam
,

657 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...),

658 
__isoc99_fwsˇnf
)

660 
	`__REDIRECT
 (
wsˇnf
, (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...),

661 
__isoc99_wsˇnf
)

663 
	`__REDIRECT_NTH
 (
swsˇnf
, (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__s
,

664 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

665 ...), 
__isoc99_swsˇnf
)

668 
	`__isoc99_fwsˇnf
 (
__FILE
 *
__ª°ri˘
 
__°ªam
,

669 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...);

670 
	`__isoc99_wsˇnf
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...);

671 
	$__isoc99_swsˇnf
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__s
,

672 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...)

673 
__THROW
;

674 
	#fwsˇnf
 
__isoc99_fwsˇnf


	)

675 
	#wsˇnf
 
__isoc99_wsˇnf


	)

676 
	#swsˇnf
 
__isoc99_swsˇnf


	)

680 
__END_NAMESPACE_STD


683 #ifde‡
__USE_ISOC99


684 
__BEGIN_NAMESPACE_C99


689 
	`vfwsˇnf
 (
__FILE
 *
__ª°ri˘
 
__s
,

690 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

691 
__gnuc_va_li°
 
__¨g
)

697 
	`vwsˇnf
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

698 
__gnuc_va_li°
 
__¨g
)

701 
	$vswsˇnf
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__s
,

702 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

703 
__gnuc_va_li°
 
__¨g
)

704 
__THROW
 ;

706 #i‡!
deföed
 
__USE_GNU
 \

707 && (!
deföed
 
__LDBL_COMPAT
 || !deföed 
__REDIRECT
) \

708 && (
deföed
 
__STRICT_ANSI__
 || deföed 
__USE_XOPEN2K
)

709 #ifde‡
__REDIRECT


710 
	`__REDIRECT
 (
vfwsˇnf
, (
__FILE
 *
__ª°ri˘
 
__s
,

711 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

712 
__gnuc_va_li°
 
__¨g
), 
__isoc99_vfwsˇnf
)

714 
	`__REDIRECT
 (
vwsˇnf
, (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

715 
__gnuc_va_li°
 
__¨g
), 
__isoc99_vwsˇnf
)

717 
	`__REDIRECT_NTH
 (
vswsˇnf
, (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__s
,

718 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

719 
__gnuc_va_li°
 
__¨g
), 
__isoc99_vswsˇnf
)

722 
	`__isoc99_vfwsˇnf
 (
__FILE
 *
__ª°ri˘
 
__s
,

723 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

724 
__gnuc_va_li°
 
__¨g
);

725 
	`__isoc99_vwsˇnf
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

726 
__gnuc_va_li°
 
__¨g
);

727 
	$__isoc99_vswsˇnf
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__s
,

728 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

729 
__gnuc_va_li°
 
__¨g
Ë
__THROW
;

730 
	#vfwsˇnf
 
__isoc99_vfwsˇnf


	)

731 
	#vwsˇnf
 
__isoc99_vwsˇnf


	)

732 
	#vswsˇnf
 
__isoc99_vswsˇnf


	)

736 
__END_NAMESPACE_C99


740 
__BEGIN_NAMESPACE_STD


745 
wöt_t
 
	`fgëwc
 (
__FILE
 *
__°ªam
);

746 
wöt_t
 
	`gëwc
 (
__FILE
 *
__°ªam
);

752 
wöt_t
 
	`gëwch¨
 ();

759 
wöt_t
 
	`Âutwc
 (
wch¨_t
 
__wc
, 
__FILE
 *
__°ªam
);

760 
wöt_t
 
	`putwc
 (
wch¨_t
 
__wc
, 
__FILE
 *
__°ªam
);

766 
wöt_t
 
	`putwch¨
 (
wch¨_t
 
__wc
);

774 
wch¨_t
 *
	`fgëws
 (wch¨_à*
__ª°ri˘
 
__ws
, 
__n
,

775 
__FILE
 *
__ª°ri˘
 
__°ªam
);

781 
	`Âutws
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__ws
,

782 
__FILE
 *
__ª°ri˘
 
__°ªam
);

789 
wöt_t
 
	`ungëwc
 (wöt_à
__wc
, 
__FILE
 *
__°ªam
);

790 
__END_NAMESPACE_STD


793 #ifde‡
__USE_GNU


801 
wöt_t
 
	`gëwc_u∆ocked
 (
__FILE
 *
__°ªam
);

802 
wöt_t
 
	`gëwch¨_u∆ocked
 ();

810 
wöt_t
 
	`fgëwc_u∆ocked
 (
__FILE
 *
__°ªam
);

818 
wöt_t
 
	`Âutwc_u∆ocked
 (
wch¨_t
 
__wc
, 
__FILE
 *
__°ªam
);

827 
wöt_t
 
	`putwc_u∆ocked
 (
wch¨_t
 
__wc
, 
__FILE
 *
__°ªam
);

828 
wöt_t
 
	`putwch¨_u∆ocked
 (
wch¨_t
 
__wc
);

837 
wch¨_t
 *
	`fgëws_u∆ocked
 (wch¨_à*
__ª°ri˘
 
__ws
, 
__n
,

838 
__FILE
 *
__ª°ri˘
 
__°ªam
);

846 
	`Âutws_u∆ocked
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__ws
,

847 
__FILE
 *
__ª°ri˘
 
__°ªam
);

851 
__BEGIN_NAMESPACE_C99


855 
size_t
 
	$wcs·ime
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__maxsize
,

856 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

857 c⁄° 
tm
 *
__ª°ri˘
 
__ç
Ë
__THROW
;

858 
__END_NAMESPACE_C99


860 #ifde‡
__USE_GNU


861 
	~<xloˇÀ.h
>

865 
size_t
 
	$wcs·ime_l
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__maxsize
,

866 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

867 c⁄° 
tm
 *
__ª°ri˘
 
__ç
,

868 
__loˇÀ_t
 
__loc
Ë
__THROW
;

877 #i‡
deföed
 
__USE_UNIX98
 && !deföed 
__USE_GNU


878 
	#__√ed_iswxxx


	)

879 
	~<w˘y≥.h
>

883 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__f‹tify_fun˘i⁄


884 
	~<bôs/wch¨2.h
>

887 #ifde‡
__LDBL_COMPAT


888 
	~<bôs/wch¨-ldbl.h
>

891 
__END_DECLS


899 #unde‡
__√ed_mb°©e_t


900 #unde‡
__√ed_wöt_t


	@/usr/include/bits/byteswap-16.h

19 #i‚de‡
_BITS_BYTESWAP_H


23 #ifde‡
__GNUC__


24 #i‡
__GNUC__
 >= 2

25 
	#__bsw≠_16
(
x
) \

26 (
__exãnsi⁄__
 \

27 ({ 
__v
, 
__x
 = (Ë(
x
); \

28 i‡(
	`__buûtö_c⁄°™t_p
 (
__x
)) \

29 
__v
 = 
	`__bsw≠_c⁄°™t_16
 (
__x
); \

31 
	`__asm__
 ("rorw $8, %w0" \

32 : "Ù" (
__v
) \

33 : "0" (
__x
) \

35 
__v
; }))

	)

38 
	#__bsw≠_16
(
x
) \

39 (
__exãnsi⁄__
 \

40 ({ 
__x
 = (Ë(
x
); \

41 
	`__bsw≠_c⁄°™t_16
 (
__x
); }))

	)

44 
__ölöe
 

45 
	$__bsw≠_16
 (
__bsx
)

47  
	`__bsw≠_c⁄°™t_16
 (
__bsx
);

48 
	}
}

	@/usr/include/bits/timex.h

18 #i‚def 
_BITS_TIMEX_H


19 
	#_BITS_TIMEX_H
 1

	)

21 
	~<bôs/ty≥s.h
>

25 
	stimex


27 
	mmodes
;

28 
__sysˇŒ_¶⁄g_t
 
	moff£t
;

29 
__sysˇŒ_¶⁄g_t
 
	m‰eq
;

30 
__sysˇŒ_¶⁄g_t
 
	mmaxîr‹
;

31 
__sysˇŒ_¶⁄g_t
 
	me°îr‹
;

32 
	m°©us
;

33 
__sysˇŒ_¶⁄g_t
 
	mc⁄°™t
;

34 
__sysˇŒ_¶⁄g_t
 
	m¥ecisi⁄
;

35 
__sysˇŒ_¶⁄g_t
 
	mtﬁî™˚
;

36 
timevÆ
 
	mtime
;

37 
__sysˇŒ_¶⁄g_t
 
	mtick
;

38 
__sysˇŒ_¶⁄g_t
 
	mµs‰eq
;

39 
__sysˇŒ_¶⁄g_t
 
	mjôãr
;

40 
	mshi·
;

41 
__sysˇŒ_¶⁄g_t
 
	m°abû
;

42 
__sysˇŒ_¶⁄g_t
 
	mjô˙t
;

43 
__sysˇŒ_¶⁄g_t
 
	mˇl˙t
;

44 
__sysˇŒ_¶⁄g_t
 
	mîr˙t
;

45 
__sysˇŒ_¶⁄g_t
 
	m°b˙t
;

47 
	mèi
;

56 
	#ADJ_OFFSET
 0x0001

	)

57 
	#ADJ_FREQUENCY
 0x0002

	)

58 
	#ADJ_MAXERROR
 0x0004

	)

59 
	#ADJ_ESTERROR
 0x0008

	)

60 
	#ADJ_STATUS
 0x0010

	)

61 
	#ADJ_TIMECONST
 0x0020

	)

62 
	#ADJ_TAI
 0x0080

	)

63 
	#ADJ_MICRO
 0x1000

	)

64 
	#ADJ_NANO
 0x2000

	)

65 
	#ADJ_TICK
 0x4000

	)

66 
	#ADJ_OFFSET_SINGLESHOT
 0x8001

	)

67 
	#ADJ_OFFSET_SS_READ
 0xa001

	)

70 
	#MOD_OFFSET
 
ADJ_OFFSET


	)

71 
	#MOD_FREQUENCY
 
ADJ_FREQUENCY


	)

72 
	#MOD_MAXERROR
 
ADJ_MAXERROR


	)

73 
	#MOD_ESTERROR
 
ADJ_ESTERROR


	)

74 
	#MOD_STATUS
 
ADJ_STATUS


	)

75 
	#MOD_TIMECONST
 
ADJ_TIMECONST


	)

76 
	#MOD_CLKB
 
ADJ_TICK


	)

77 
	#MOD_CLKA
 
ADJ_OFFSET_SINGLESHOT


	)

78 
	#MOD_TAI
 
ADJ_TAI


	)

79 
	#MOD_MICRO
 
ADJ_MICRO


	)

80 
	#MOD_NANO
 
ADJ_NANO


	)

84 
	#STA_PLL
 0x0001

	)

85 
	#STA_PPSFREQ
 0x0002

	)

86 
	#STA_PPSTIME
 0x0004

	)

87 
	#STA_FLL
 0x0008

	)

89 
	#STA_INS
 0x0010

	)

90 
	#STA_DEL
 0x0020

	)

91 
	#STA_UNSYNC
 0x0040

	)

92 
	#STA_FREQHOLD
 0x0080

	)

94 
	#STA_PPSSIGNAL
 0x0100

	)

95 
	#STA_PPSJITTER
 0x0200

	)

96 
	#STA_PPSWANDER
 0x0400

	)

97 
	#STA_PPSERROR
 0x0800

	)

99 
	#STA_CLOCKERR
 0x1000

	)

100 
	#STA_NANO
 0x2000

	)

101 
	#STA_MODE
 0x4000

	)

102 
	#STA_CLK
 0x8000

	)

105 
	#STA_RONLY
 (
STA_PPSSIGNAL
 | 
STA_PPSJITTER
 | 
STA_PPSWANDER
 | \

106 
STA_PPSERROR
 | 
STA_CLOCKERR
 | 
STA_NANO
 | 
STA_MODE
 | 
STA_CLK
)

	)

	@/usr/include/bits/wchar-ldbl.h

19 #i‚de‡
_WCHAR_H


23 #i‡
deföed
 
__USE_ISOC95
 || deföed 
__USE_UNIX98


24 
__BEGIN_NAMESPACE_C99


25 
__LDBL_REDIR_DECL
 (
fw¥ötf
);

26 
__LDBL_REDIR_DECL
 (
w¥ötf
);

27 
__LDBL_REDIR_DECL
 (
sw¥ötf
);

28 
__LDBL_REDIR_DECL
 (
vfw¥ötf
);

29 
__LDBL_REDIR_DECL
 (
vw¥ötf
);

30 
__LDBL_REDIR_DECL
 (
vsw¥ötf
);

31 #i‡
deföed
 
__USE_ISOC99
 && !deföed 
__USE_GNU
 \

32 && !
deföed
 
	g__REDIRECT
 \

33 && (
deföed
 
	g__STRICT_ANSI__
 || deföed 
	g__USE_XOPEN2K
)

34 
	$__LDBL_REDIR1_DECL
 (
fwsˇnf
, 
__∆dbl___isoc99_fwsˇnf
)

35 
	$__LDBL_REDIR1_DECL
 (
wsˇnf
, 
__∆dbl___isoc99_wsˇnf
)

36 
	$__LDBL_REDIR1_DECL
 (
swsˇnf
, 
__∆dbl___isoc99_swsˇnf
)

38 
	`__LDBL_REDIR_DECL
 (
fwsˇnf
);

39 
	`__LDBL_REDIR_DECL
 (
wsˇnf
);

40 
	`__LDBL_REDIR_DECL
 (
swsˇnf
);

42 
__END_NAMESPACE_C99


45 #ifde‡
__USE_ISOC99


46 
__BEGIN_NAMESPACE_C99


47 
	`__LDBL_REDIR1_DECL
 (
wc°ﬁd
, 
wc°od
);

48 #i‡!
deföed
 
__USE_GNU
 && !deföed 
__REDIRECT
 \

49 && (
deföed
 
__STRICT_ANSI__
 || deföed 
__USE_XOPEN2K
)

50 
	$__LDBL_REDIR1_DECL
 (
vfwsˇnf
, 
__∆dbl___isoc99_vfwsˇnf
)

51 
	$__LDBL_REDIR1_DECL
 (
vwsˇnf
, 
__∆dbl___isoc99_vwsˇnf
)

52 
	$__LDBL_REDIR1_DECL
 (
vswsˇnf
, 
__∆dbl___isoc99_vswsˇnf
)

54 
	`__LDBL_REDIR_DECL
 (
vfwsˇnf
);

55 
	`__LDBL_REDIR_DECL
 (
vwsˇnf
);

56 
	`__LDBL_REDIR_DECL
 (
vswsˇnf
);

58 
__END_NAMESPACE_C99


61 #ifde‡
__USE_GNU


62 
	`__LDBL_REDIR1_DECL
 (
wc°ﬁd_l
, 
wc°od_l
);

65 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__f‹tify_fun˘i⁄


66 
	$__LDBL_REDIR_DECL
 (
__sw¥ötf_chk
)

67 
	$__LDBL_REDIR_DECL
 (
__vsw¥ötf_chk
)

68 #i‡
__USE_FORTIFY_LEVEL
 > 1

69 
	$__LDBL_REDIR_DECL
 (
__fw¥ötf_chk
)

70 
	$__LDBL_REDIR_DECL
 (
__w¥ötf_chk
)

71 
	$__LDBL_REDIR_DECL
 (
__vfw¥ötf_chk
)

72 
	$__LDBL_REDIR_DECL
 (
__vw¥ötf_chk
)

	@/usr/include/bits/wchar2.h

19 #i‚de‡
_WCHAR_H


24 
wch¨_t
 *
	$__wmem˝y_chk
 (
wch¨_t
 *
__ª°ri˘
 
__s1
,

25 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__s2
, 
size_t
 
__n
,

26 
size_t
 
__ns1
Ë
__THROW
;

27 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__wmem˝y_Æüs
,

28 (
wch¨_t
 *
__ª°ri˘
 
__s1
,

29 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__s2
, 
size_t
 
__n
),

30 
wmem˝y
);

31 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__wmem˝y_chk_w¨n
,

32 (
wch¨_t
 *
__ª°ri˘
 
__s1
,

33 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__s2
, 
size_t
 
__n
,

34 
size_t
 
__ns1
), 
__wmem˝y_chk
)

35 
	`__w¨«âr
 ("wmemcpy called withÜength biggerÅhan size of destination "

38 
__f‹tify_fun˘i⁄
 
wch¨_t
 *

39 
	`__NTH
 (
	$wmem˝y
 (
wch¨_t
 *
__ª°ri˘
 
__s1
, c⁄° wch¨_à*__ª°ri˘ 
__s2
,

40 
size_t
 
__n
))

42 i‡(
	`__bos0
 (
__s1
Ë!(
size_t
) -1)

44 i‡(!
	`__buûtö_c⁄°™t_p
 (
__n
))

45  
	`__wmem˝y_chk
 (
__s1
, 
__s2
, 
__n
,

46 
	`__bos0
 (
__s1
Ë/  (
wch¨_t
));

48 i‡(
__n
 > 
	`__bos0
 (
__s1
Ë/  (
wch¨_t
))

49  
	`__wmem˝y_chk_w¨n
 (
__s1
, 
__s2
, 
__n
,

50 
	`__bos0
 (
__s1
Ë/  (
wch¨_t
));

52  
	`__wmem˝y_Æüs
 (
__s1
, 
__s2
, 
__n
);

53 
	}
}

56 
wch¨_t
 *
	$__wmemmove_chk
 (
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
,

57 
size_t
 
__n
, size_à
__ns1
Ë
__THROW
;

58 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__wmemmove_Æüs
, (wch¨_à*
__s1
,

59 c⁄° 
wch¨_t
 *
__s2
,

60 
size_t
 
__n
), 
wmemmove
);

61 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__wmemmove_chk_w¨n
,

62 (
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
,

63 
size_t
 
__n
, size_à
__ns1
), 
__wmemmove_chk
)

64 
	`__w¨«âr
 ("wmemmove called withÜength biggerÅhan size of destination "

67 
__f‹tify_fun˘i⁄
 
wch¨_t
 *

68 
	`__NTH
 (
	$wmemmove
 (
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
, 
size_t
 
__n
))

70 i‡(
	`__bos0
 (
__s1
Ë!(
size_t
) -1)

72 i‡(!
	`__buûtö_c⁄°™t_p
 (
__n
))

73  
	`__wmemmove_chk
 (
__s1
, 
__s2
, 
__n
,

74 
	`__bos0
 (
__s1
Ë/  (
wch¨_t
));

76 i‡(
__n
 > 
	`__bos0
 (
__s1
Ë/  (
wch¨_t
))

77  
	`__wmemmove_chk_w¨n
 (
__s1
, 
__s2
, 
__n
,

78 
	`__bos0
 (
__s1
Ë/  (
wch¨_t
));

80  
	`__wmemmove_Æüs
 (
__s1
, 
__s2
, 
__n
);

81 
	}
}

84 #ifde‡
__USE_GNU


85 
wch¨_t
 *
	$__wmemp˝y_chk
 (
wch¨_t
 *
__ª°ri˘
 
__s1
,

86 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__s2
, 
size_t
 
__n
,

87 
size_t
 
__ns1
Ë
__THROW
;

88 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__wmemp˝y_Æüs
,

89 (
wch¨_t
 *
__ª°ri˘
 
__s1
,

90 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__s2
,

91 
size_t
 
__n
), 
wmemp˝y
);

92 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__wmemp˝y_chk_w¨n
,

93 (
wch¨_t
 *
__ª°ri˘
 
__s1
,

94 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__s2
, 
size_t
 
__n
,

95 
size_t
 
__ns1
), 
__wmemp˝y_chk
)

96 
	`__w¨«âr
 ("wmempcpy called withÜength biggerÅhan size of destination "

99 
__f‹tify_fun˘i⁄
 
wch¨_t
 *

100 
	`__NTH
 (
	$wmemp˝y
 (
wch¨_t
 *
__ª°ri˘
 
__s1
, c⁄° wch¨_à*__ª°ri˘ 
__s2
,

101 
size_t
 
__n
))

103 i‡(
	`__bos0
 (
__s1
Ë!(
size_t
) -1)

105 i‡(!
	`__buûtö_c⁄°™t_p
 (
__n
))

106  
	`__wmemp˝y_chk
 (
__s1
, 
__s2
, 
__n
,

107 
	`__bos0
 (
__s1
Ë/  (
wch¨_t
));

109 i‡(
__n
 > 
	`__bos0
 (
__s1
Ë/  (
wch¨_t
))

110  
	`__wmemp˝y_chk_w¨n
 (
__s1
, 
__s2
, 
__n
,

111 
	`__bos0
 (
__s1
Ë/  (
wch¨_t
));

113  
	`__wmemp˝y_Æüs
 (
__s1
, 
__s2
, 
__n
);

114 
	}
}

118 
wch¨_t
 *
	$__wmem£t_chk
 (
wch¨_t
 *
__s
, wch¨_à
__c
, 
size_t
 
__n
,

119 
size_t
 
__ns
Ë
__THROW
;

120 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__wmem£t_Æüs
, (wch¨_à*
__s
, wch¨_à
__c
,

121 
size_t
 
__n
), 
wmem£t
);

122 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__wmem£t_chk_w¨n
,

123 (
wch¨_t
 *
__s
, wch¨_à
__c
, 
size_t
 
__n
,

124 
size_t
 
__ns
), 
__wmem£t_chk
)

125 
	`__w¨«âr
 ("wmemset called withÜength biggerÅhan size of destination "

128 
__f‹tify_fun˘i⁄
 
wch¨_t
 *

129 
	`__NTH
 (
	$wmem£t
 (
wch¨_t
 *
__s
, wch¨_à
__c
, 
size_t
 
__n
))

131 i‡(
	`__bos0
 (
__s
Ë!(
size_t
) -1)

133 i‡(!
	`__buûtö_c⁄°™t_p
 (
__n
))

134  
	`__wmem£t_chk
 (
__s
, 
__c
, 
__n
, 
	`__bos0
 (__sË/  (
wch¨_t
));

136 i‡(
__n
 > 
	`__bos0
 (
__s
Ë/  (
wch¨_t
))

137  
	`__wmem£t_chk_w¨n
 (
__s
, 
__c
, 
__n
,

138 
	`__bos0
 (
__s
Ë/  (
wch¨_t
));

140  
	`__wmem£t_Æüs
 (
__s
, 
__c
, 
__n
);

141 
	}
}

144 
wch¨_t
 *
	$__wcs˝y_chk
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

145 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
,

146 
size_t
 
__n
Ë
__THROW
;

147 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__wcs˝y_Æüs
,

148 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

149 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
), 
wcs˝y
);

151 
__f‹tify_fun˘i⁄
 
wch¨_t
 *

152 
	`__NTH
 (
	$wcs˝y
 (
wch¨_t
 *
__ª°ri˘
 
__de°
, c⁄° wch¨_à*__ª°ri˘ 
__§c
))

154 i‡(
	`__bos
 (
__de°
Ë!(
size_t
) -1)

155  
	`__wcs˝y_chk
 (
__de°
, 
__§c
, 
	`__bos
 (__de°Ë/  (
wch¨_t
));

156  
	`__wcs˝y_Æüs
 (
__de°
, 
__§c
);

157 
	}
}

160 
wch¨_t
 *
	$__w˝˝y_chk
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

161 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
,

162 
size_t
 
__de°Àn
Ë
__THROW
;

163 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__w˝˝y_Æüs
,

164 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

165 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
), 
w˝˝y
);

167 
__f‹tify_fun˘i⁄
 
wch¨_t
 *

168 
	`__NTH
 (
	$w˝˝y
 (
wch¨_t
 *
__ª°ri˘
 
__de°
, c⁄° wch¨_à*__ª°ri˘ 
__§c
))

170 i‡(
	`__bos
 (
__de°
Ë!(
size_t
) -1)

171  
	`__w˝˝y_chk
 (
__de°
, 
__§c
, 
	`__bos
 (__de°Ë/  (
wch¨_t
));

172  
	`__w˝˝y_Æüs
 (
__de°
, 
__§c
);

173 
	}
}

176 
wch¨_t
 *
	$__wc¢˝y_chk
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

177 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
, 
size_t
 
__n
,

178 
size_t
 
__de°Àn
Ë
__THROW
;

179 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__wc¢˝y_Æüs
,

180 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

181 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
,

182 
size_t
 
__n
), 
wc¢˝y
);

183 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__wc¢˝y_chk_w¨n
,

184 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

185 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
,

186 
size_t
 
__n
, size_à
__de°Àn
), 
__wc¢˝y_chk
)

187 
	`__w¨«âr
 ("wcsncpy called withÜength biggerÅhan size of destination "

190 
__f‹tify_fun˘i⁄
 
wch¨_t
 *

191 
	`__NTH
 (
	$wc¢˝y
 (
wch¨_t
 *
__ª°ri˘
 
__de°
, c⁄° wch¨_à*__ª°ri˘ 
__§c
,

192 
size_t
 
__n
))

194 i‡(
	`__bos
 (
__de°
Ë!(
size_t
) -1)

196 i‡(!
	`__buûtö_c⁄°™t_p
 (
__n
))

197  
	`__wc¢˝y_chk
 (
__de°
, 
__§c
, 
__n
,

198 
	`__bos
 (
__de°
Ë/  (
wch¨_t
));

199 i‡(
__n
 > 
	`__bos
 (
__de°
Ë/  (
wch¨_t
))

200  
	`__wc¢˝y_chk_w¨n
 (
__de°
, 
__§c
, 
__n
,

201 
	`__bos
 (
__de°
Ë/  (
wch¨_t
));

203  
	`__wc¢˝y_Æüs
 (
__de°
, 
__§c
, 
__n
);

204 
	}
}

207 
wch¨_t
 *
	$__w˝n˝y_chk
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

208 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
, 
size_t
 
__n
,

209 
size_t
 
__de°Àn
Ë
__THROW
;

210 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__w˝n˝y_Æüs
,

211 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

212 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
,

213 
size_t
 
__n
), 
w˝n˝y
);

214 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__w˝n˝y_chk_w¨n
,

215 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

216 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
,

217 
size_t
 
__n
, size_à
__de°Àn
), 
__w˝n˝y_chk
)

218 
	`__w¨«âr
 ("wcpncpy called withÜength biggerÅhan size of destination "

221 
__f‹tify_fun˘i⁄
 
wch¨_t
 *

222 
	`__NTH
 (
	$w˝n˝y
 (
wch¨_t
 *
__ª°ri˘
 
__de°
, c⁄° wch¨_à*__ª°ri˘ 
__§c
,

223 
size_t
 
__n
))

225 i‡(
	`__bos
 (
__de°
Ë!(
size_t
) -1)

227 i‡(!
	`__buûtö_c⁄°™t_p
 (
__n
))

228  
	`__w˝n˝y_chk
 (
__de°
, 
__§c
, 
__n
,

229 
	`__bos
 (
__de°
Ë/  (
wch¨_t
));

230 i‡(
__n
 > 
	`__bos
 (
__de°
Ë/  (
wch¨_t
))

231  
	`__w˝n˝y_chk_w¨n
 (
__de°
, 
__§c
, 
__n
,

232 
	`__bos
 (
__de°
Ë/  (
wch¨_t
));

234  
	`__w˝n˝y_Æüs
 (
__de°
, 
__§c
, 
__n
);

235 
	}
}

238 
wch¨_t
 *
	$__wcsˇt_chk
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

239 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
,

240 
size_t
 
__de°Àn
Ë
__THROW
;

241 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__wcsˇt_Æüs
,

242 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

243 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
), 
wcsˇt
);

245 
__f‹tify_fun˘i⁄
 
wch¨_t
 *

246 
	`__NTH
 (
	$wcsˇt
 (
wch¨_t
 *
__ª°ri˘
 
__de°
, c⁄° wch¨_à*__ª°ri˘ 
__§c
))

248 i‡(
	`__bos
 (
__de°
Ë!(
size_t
) -1)

249  
	`__wcsˇt_chk
 (
__de°
, 
__§c
, 
	`__bos
 (__de°Ë/  (
wch¨_t
));

250  
	`__wcsˇt_Æüs
 (
__de°
, 
__§c
);

251 
	}
}

254 
wch¨_t
 *
	$__wc¢ˇt_chk
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

255 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
,

256 
size_t
 
__n
, size_à
__de°Àn
Ë
__THROW
;

257 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__wc¢ˇt_Æüs
,

258 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

259 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
,

260 
size_t
 
__n
), 
wc¢ˇt
);

262 
__f‹tify_fun˘i⁄
 
wch¨_t
 *

263 
	`__NTH
 (
	$wc¢ˇt
 (
wch¨_t
 *
__ª°ri˘
 
__de°
, c⁄° wch¨_à*__ª°ri˘ 
__§c
,

264 
size_t
 
__n
))

266 i‡(
	`__bos
 (
__de°
Ë!(
size_t
) -1)

267  
	`__wc¢ˇt_chk
 (
__de°
, 
__§c
, 
__n
,

268 
	`__bos
 (
__de°
Ë/  (
wch¨_t
));

269  
	`__wc¢ˇt_Æüs
 (
__de°
, 
__§c
, 
__n
);

270 
	}
}

273 
	$__sw¥ötf_chk
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

274 
__Êag
, 
size_t
 
__s_Àn
,

275 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...)

276 
__THROW
 ;

278 
	`__REDIRECT_NTH_LDBL
 (
__sw¥ötf_Æüs
,

279 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

280 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__fmt
, ...),

281 
sw¥ötf
);

283 #ifde‡
__va_¨g_∑ck


284 
__f‹tify_fun˘i⁄
 

285 
	`__NTH
 (
	$sw¥ötf
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

286 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__fmt
, ...))

288 i‡(
	`__bos
 (
__s
Ë!(
size_t
Ë-1 || 
__USE_FORTIFY_LEVEL
 > 1)

289  
	`__sw¥ötf_chk
 (
__s
, 
__n
, 
__USE_FORTIFY_LEVEL
 - 1,

290 
	`__bos
 (
__s
Ë/  (
wch¨_t
),

291 
__fmt
, 
	`__va_¨g_∑ck
 ());

292  
	`__sw¥ötf_Æüs
 (
__s
, 
__n
, 
__fmt
, 
	`__va_¨g_∑ck
 ());

293 
	}
}

294 #ñi‡!
deföed
 
__˝lu•lus


296 
	#sw¥ötf
(
s
, 
n
, ...) \

297 (
	`__bos
 (
s
Ë!(
size_t
Ë-1 || 
__USE_FORTIFY_LEVEL
 > 1 \

298 ? 
	`__sw¥ötf_chk
 (
s
, 
n
, 
__USE_FORTIFY_LEVEL
 - 1, \

299 
	`__bos
 (
s
Ë/  (
wch¨_t
), 
__VA_ARGS__
) \

300 : 
	`sw¥ötf
 (
s
, 
n
, 
__VA_ARGS__
))

	)

303 
	$__vsw¥ötf_chk
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

304 
__Êag
, 
size_t
 
__s_Àn
,

305 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

306 
__gnuc_va_li°
 
__¨g
)

307 
__THROW
 ;

309 
	`__REDIRECT_NTH_LDBL
 (
__vsw¥ötf_Æüs
,

310 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

311 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__fmt
,

312 
__gnuc_va_li°
 
__≠
), 
vsw¥ötf
);

314 
__f‹tify_fun˘i⁄
 

315 
	`__NTH
 (
	$vsw¥ötf
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

316 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__fmt
, 
__gnuc_va_li°
 
__≠
))

318 i‡(
	`__bos
 (
__s
Ë!(
size_t
Ë-1 || 
__USE_FORTIFY_LEVEL
 > 1)

319  
	`__vsw¥ötf_chk
 (
__s
, 
__n
, 
__USE_FORTIFY_LEVEL
 - 1,

320 
	`__bos
 (
__s
Ë/  (
wch¨_t
), 
__fmt
, 
__≠
);

321  
	`__vsw¥ötf_Æüs
 (
__s
, 
__n
, 
__fmt
, 
__≠
);

322 
	}
}

325 #i‡
__USE_FORTIFY_LEVEL
 > 1

327 
__fw¥ötf_chk
 (
__FILE
 *
__ª°ri˘
 
__°ªam
, 
__Êag
,

328 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...);

329 
__w¥ötf_chk
 (
__Êag
, c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

331 
__vfw¥ötf_chk
 (
__FILE
 *
__ª°ri˘
 
__°ªam
, 
__Êag
,

332 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

333 
__gnuc_va_li°
 
__≠
);

334 
__vw¥ötf_chk
 (
__Êag
, c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

335 
__gnuc_va_li°
 
__≠
);

337 #ifde‡
__va_¨g_∑ck


338 
__f‹tify_fun˘i⁄
 

339 
	$w¥ötf
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__fmt
, ...)

341  
	`__w¥ötf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
	`__va_¨g_∑ck
 ());

342 
	}
}

344 
__f‹tify_fun˘i⁄
 

345 
	$fw¥ötf
 (
__FILE
 *
__ª°ri˘
 
__°ªam
, c⁄° 
wch¨_t
 *__ª°ri˘ 
__fmt
, ...)

347  
	`__fw¥ötf_chk
 (
__°ªam
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

348 
	`__va_¨g_∑ck
 ());

349 
	}
}

350 #ñi‡!
deföed
 
__˝lu•lus


351 
	#w¥ötf
(...) \

352 
	`__w¥ötf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

353 
	#fw¥ötf
(
°ªam
, ...) \

354 
	`__fw¥ötf_chk
 (
°ªam
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

357 
__f‹tify_fun˘i⁄
 

358 
	$vw¥ötf
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__fmt
, 
__gnuc_va_li°
 
__≠
)

360  
	`__vw¥ötf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__≠
);

361 
	}
}

363 
__f‹tify_fun˘i⁄
 

364 
	$vfw¥ötf
 (
__FILE
 *
__ª°ri˘
 
__°ªam
,

365 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__fmt
, 
__gnuc_va_li°
 
__≠
)

367  
	`__vfw¥ötf_chk
 (
__°ªam
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__≠
);

368 
	}
}

372 
wch¨_t
 *
	$__fgëws_chk
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__size
, 
__n
,

373 
__FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

374 
wch¨_t
 *
	`__REDIRECT
 (
__fgëws_Æüs
,

375 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
__n
,

376 
__FILE
 *
__ª°ri˘
 
__°ªam
), 
fgëws
Ë
__wur
;

377 
wch¨_t
 *
	`__REDIRECT
 (
__fgëws_chk_w¨n
,

378 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__size
, 
__n
,

379 
__FILE
 *
__ª°ri˘
 
__°ªam
), 
__fgëws_chk
)

380 
__wur
 
	`__w¨«âr
 ("fgetws called with bigger sizeÅhanÜength "

383 
__f‹tify_fun˘i⁄
 
__wur
 
wch¨_t
 *

384 
	$fgëws
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
__n
, 
__FILE
 *__ª°ri˘ 
__°ªam
)

386 i‡(
	`__bos
 (
__s
Ë!(
size_t
) -1)

388 i‡(!
	`__buûtö_c⁄°™t_p
 (
__n
) || __n <= 0)

389  
	`__fgëws_chk
 (
__s
, 
	`__bos
 (__sË/  (
wch¨_t
),

390 
__n
, 
__°ªam
);

392 i‡((
size_t
Ë
__n
 > 
	`__bos
 (
__s
Ë/  (
wch¨_t
))

393  
	`__fgëws_chk_w¨n
 (
__s
, 
	`__bos
 (__sË/  (
wch¨_t
),

394 
__n
, 
__°ªam
);

396  
	`__fgëws_Æüs
 (
__s
, 
__n
, 
__°ªam
);

397 
	}
}

399 #ifde‡
__USE_GNU


400 
wch¨_t
 *
	$__fgëws_u∆ocked_chk
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__size
,

401 
__n
, 
__FILE
 *
__ª°ri˘
 
__°ªam
)

402 
__wur
;

403 
wch¨_t
 *
	`__REDIRECT
 (
__fgëws_u∆ocked_Æüs
,

404 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
__n
,

405 
__FILE
 *
__ª°ri˘
 
__°ªam
), 
fgëws_u∆ocked
)

406 
__wur
;

407 
wch¨_t
 *
	`__REDIRECT
 (
__fgëws_u∆ocked_chk_w¨n
,

408 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__size
, 
__n
,

409 
__FILE
 *
__ª°ri˘
 
__°ªam
),

410 
__fgëws_u∆ocked_chk
)

411 
__wur
 
	`__w¨«âr
 ("fgetws_unlocked called with bigger sizeÅhanÜength "

414 
__f‹tify_fun˘i⁄
 
__wur
 
wch¨_t
 *

415 
	$fgëws_u∆ocked
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
__n
, 
__FILE
 *__ª°ri˘ 
__°ªam
)

417 i‡(
	`__bos
 (
__s
Ë!(
size_t
) -1)

419 i‡(!
	`__buûtö_c⁄°™t_p
 (
__n
) || __n <= 0)

420  
	`__fgëws_u∆ocked_chk
 (
__s
, 
	`__bos
 (__sË/  (
wch¨_t
),

421 
__n
, 
__°ªam
);

423 i‡((
size_t
Ë
__n
 > 
	`__bos
 (
__s
Ë/  (
wch¨_t
))

424  
	`__fgëws_u∆ocked_chk_w¨n
 (
__s
, 
	`__bos
 (__sË/  (
wch¨_t
),

425 
__n
, 
__°ªam
);

427  
	`__fgëws_u∆ocked_Æüs
 (
__s
, 
__n
, 
__°ªam
);

428 
	}
}

432 
size_t
 
	$__w¸tomb_chk
 (*
__ª°ri˘
 
__s
, 
wch¨_t
 
__wch¨
,

433 
mb°©e_t
 *
__ª°ri˘
 
__p
,

434 
size_t
 
__buÊí
Ë
__THROW
 
__wur
;

435 
size_t
 
	`__REDIRECT_NTH
 (
__w¸tomb_Æüs
,

436 (*
__ª°ri˘
 
__s
, 
wch¨_t
 
__wch¨
,

437 
mb°©e_t
 *
__ª°ri˘
 
__ps
), 
w¸tomb
Ë
__wur
;

439 
__f‹tify_fun˘i⁄
 
__wur
 
size_t


440 
	`__NTH
 (
	$w¸tomb
 (*
__ª°ri˘
 
__s
, 
wch¨_t
 
__wch¨
,

441 
mb°©e_t
 *
__ª°ri˘
 
__ps
))

446 
	#__WCHAR_MB_LEN_MAX
 16

	)

447 #i‡
deföed
 
MB_LEN_MAX
 && MB_LEN_MAX !
__WCHAR_MB_LEN_MAX


450 i‡(
	`__bos
 (
__s
Ë!(
size_t
Ë-1 && 
__WCHAR_MB_LEN_MAX
 > __bos (__s))

451  
	`__w¸tomb_chk
 (
__s
, 
__wch¨
, 
__ps
, 
	`__bos
 (__s));

452  
	`__w¸tomb_Æüs
 (
__s
, 
__wch¨
, 
__ps
);

453 
	}
}

456 
size_t
 
	$__mb§towcs_chk
 (
wch¨_t
 *
__ª°ri˘
 
__d°
,

457 c⁄° **
__ª°ri˘
 
__§c
,

458 
size_t
 
__Àn
, 
mb°©e_t
 *
__ª°ri˘
 
__ps
,

459 
size_t
 
__d°Àn
Ë
__THROW
;

460 
size_t
 
	`__REDIRECT_NTH
 (
__mb§towcs_Æüs
,

461 (
wch¨_t
 *
__ª°ri˘
 
__d°
,

462 c⁄° **
__ª°ri˘
 
__§c
,

463 
size_t
 
__Àn
, 
mb°©e_t
 *
__ª°ri˘
 
__ps
),

464 
mb§towcs
);

465 
size_t
 
	`__REDIRECT_NTH
 (
__mb§towcs_chk_w¨n
,

466 (
wch¨_t
 *
__ª°ri˘
 
__d°
,

467 c⁄° **
__ª°ri˘
 
__§c
,

468 
size_t
 
__Àn
, 
mb°©e_t
 *
__ª°ri˘
 
__ps
,

469 
size_t
 
__d°Àn
), 
__mb§towcs_chk
)

470 
	`__w¨«âr
 ("mbsrtowcs called with dst buffer smallerÅhanÜen "

473 
__f‹tify_fun˘i⁄
 
size_t


474 
	`__NTH
 (
	$mb§towcs
 (
wch¨_t
 *
__ª°ri˘
 
__d°
, c⁄° **__ª°ri˘ 
__§c
,

475 
size_t
 
__Àn
, 
mb°©e_t
 *
__ª°ri˘
 
__ps
))

477 i‡(
	`__bos
 (
__d°
Ë!(
size_t
) -1)

479 i‡(!
	`__buûtö_c⁄°™t_p
 (
__Àn
))

480  
	`__mb§towcs_chk
 (
__d°
, 
__§c
, 
__Àn
, 
__ps
,

481 
	`__bos
 (
__d°
Ë/  (
wch¨_t
));

483 i‡(
__Àn
 > 
	`__bos
 (
__d°
Ë/  (
wch¨_t
))

484  
	`__mb§towcs_chk_w¨n
 (
__d°
, 
__§c
, 
__Àn
, 
__ps
,

485 
	`__bos
 (
__d°
Ë/  (
wch¨_t
));

487  
	`__mb§towcs_Æüs
 (
__d°
, 
__§c
, 
__Àn
, 
__ps
);

488 
	}
}

491 
size_t
 
	$__wc§tombs_chk
 (*
__ª°ri˘
 
__d°
,

492 c⁄° 
wch¨_t
 **
__ª°ri˘
 
__§c
,

493 
size_t
 
__Àn
, 
mb°©e_t
 *
__ª°ri˘
 
__ps
,

494 
size_t
 
__d°Àn
Ë
__THROW
;

495 
size_t
 
	`__REDIRECT_NTH
 (
__wc§tombs_Æüs
,

496 (*
__ª°ri˘
 
__d°
,

497 c⁄° 
wch¨_t
 **
__ª°ri˘
 
__§c
,

498 
size_t
 
__Àn
, 
mb°©e_t
 *
__ª°ri˘
 
__ps
),

499 
wc§tombs
);

500 
size_t
 
	`__REDIRECT_NTH
 (
__wc§tombs_chk_w¨n
,

501 (*
__ª°ri˘
 
__d°
,

502 c⁄° 
wch¨_t
 **
__ª°ri˘
 
__§c
,

503 
size_t
 
__Àn
, 
mb°©e_t
 *
__ª°ri˘
 
__ps
,

504 
size_t
 
__d°Àn
), 
__wc§tombs_chk
)

505 
	`__w¨«âr
 ("wcsrtombs called with dst buffer smallerÅhanÜen");

507 
__f‹tify_fun˘i⁄
 
size_t


508 
	`__NTH
 (
	$wc§tombs
 (*
__ª°ri˘
 
__d°
, c⁄° 
wch¨_t
 **__ª°ri˘ 
__§c
,

509 
size_t
 
__Àn
, 
mb°©e_t
 *
__ª°ri˘
 
__ps
))

511 i‡(
	`__bos
 (
__d°
Ë!(
size_t
) -1)

513 i‡(!
	`__buûtö_c⁄°™t_p
 (
__Àn
))

514  
	`__wc§tombs_chk
 (
__d°
, 
__§c
, 
__Àn
, 
__ps
, 
	`__bos
 (__dst));

516 i‡(
__Àn
 > 
	`__bos
 (
__d°
))

517  
	`__wc§tombs_chk_w¨n
 (
__d°
, 
__§c
, 
__Àn
, 
__ps
, 
	`__bos
 (__dst));

519  
	`__wc§tombs_Æüs
 (
__d°
, 
__§c
, 
__Àn
, 
__ps
);

520 
	}
}

523 #ifde‡
__USE_GNU


524 
size_t
 
	$__mb¢πowcs_chk
 (
wch¨_t
 *
__ª°ri˘
 
__d°
,

525 c⁄° **
__ª°ri˘
 
__§c
, 
size_t
 
__nmc
,

526 
size_t
 
__Àn
, 
mb°©e_t
 *
__ª°ri˘
 
__ps
,

527 
size_t
 
__d°Àn
Ë
__THROW
;

528 
size_t
 
	`__REDIRECT_NTH
 (
__mb¢πowcs_Æüs
,

529 (
wch¨_t
 *
__ª°ri˘
 
__d°
,

530 c⁄° **
__ª°ri˘
 
__§c
, 
size_t
 
__nmc
,

531 
size_t
 
__Àn
, 
mb°©e_t
 *
__ª°ri˘
 
__ps
),

532 
mb¢πowcs
);

533 
size_t
 
	`__REDIRECT_NTH
 (
__mb¢πowcs_chk_w¨n
,

534 (
wch¨_t
 *
__ª°ri˘
 
__d°
,

535 c⁄° **
__ª°ri˘
 
__§c
, 
size_t
 
__nmc
,

536 
size_t
 
__Àn
, 
mb°©e_t
 *
__ª°ri˘
 
__ps
,

537 
size_t
 
__d°Àn
), 
__mb¢πowcs_chk
)

538 
	`__w¨«âr
 ("mbsnrtowcs called with dst buffer smallerÅhanÜen "

541 
__f‹tify_fun˘i⁄
 
size_t


542 
	`__NTH
 (
	$mb¢πowcs
 (
wch¨_t
 *
__ª°ri˘
 
__d°
, c⁄° **__ª°ri˘ 
__§c
,

543 
size_t
 
__nmc
, size_à
__Àn
, 
mb°©e_t
 *
__ª°ri˘
 
__ps
))

545 i‡(
	`__bos
 (
__d°
Ë!(
size_t
) -1)

547 i‡(!
	`__buûtö_c⁄°™t_p
 (
__Àn
))

548  
	`__mb¢πowcs_chk
 (
__d°
, 
__§c
, 
__nmc
, 
__Àn
, 
__ps
,

549 
	`__bos
 (
__d°
Ë/  (
wch¨_t
));

551 i‡(
__Àn
 > 
	`__bos
 (
__d°
Ë/  (
wch¨_t
))

552  
	`__mb¢πowcs_chk_w¨n
 (
__d°
, 
__§c
, 
__nmc
, 
__Àn
, 
__ps
,

553 
	`__bos
 (
__d°
Ë/  (
wch¨_t
));

555  
	`__mb¢πowcs_Æüs
 (
__d°
, 
__§c
, 
__nmc
, 
__Àn
, 
__ps
);

556 
	}
}

559 
size_t
 
	$__wc¢πombs_chk
 (*
__ª°ri˘
 
__d°
,

560 c⁄° 
wch¨_t
 **
__ª°ri˘
 
__§c
,

561 
size_t
 
__nwc
, size_à
__Àn
,

562 
mb°©e_t
 *
__ª°ri˘
 
__ps
, 
size_t
 
__d°Àn
)

563 
__THROW
;

564 
size_t
 
	`__REDIRECT_NTH
 (
__wc¢πombs_Æüs
,

565 (*
__ª°ri˘
 
__d°
,

566 c⁄° 
wch¨_t
 **
__ª°ri˘
 
__§c
,

567 
size_t
 
__nwc
, size_à
__Àn
,

568 
mb°©e_t
 *
__ª°ri˘
 
__ps
), 
wc¢πombs
);

569 
size_t
 
	`__REDIRECT_NTH
 (
__wc¢πombs_chk_w¨n
,

570 (*
__ª°ri˘
 
__d°
,

571 c⁄° 
wch¨_t
 **
__ª°ri˘
 
__§c
,

572 
size_t
 
__nwc
, size_à
__Àn
,

573 
mb°©e_t
 *
__ª°ri˘
 
__ps
,

574 
size_t
 
__d°Àn
), 
__wc¢πombs_chk
)

575 
	`__w¨«âr
 ("wcsnrtombs called with dst buffer smallerÅhanÜen");

577 
__f‹tify_fun˘i⁄
 
size_t


578 
	`__NTH
 (
	$wc¢πombs
 (*
__ª°ri˘
 
__d°
, c⁄° 
wch¨_t
 **__ª°ri˘ 
__§c
,

579 
size_t
 
__nwc
, size_à
__Àn
, 
mb°©e_t
 *
__ª°ri˘
 
__ps
))

581 i‡(
	`__bos
 (
__d°
Ë!(
size_t
) -1)

583 i‡(!
	`__buûtö_c⁄°™t_p
 (
__Àn
))

584  
	`__wc¢πombs_chk
 (
__d°
, 
__§c
, 
__nwc
, 
__Àn
, 
__ps
,

585 
	`__bos
 (
__d°
));

587 i‡(
__Àn
 > 
	`__bos
 (
__d°
))

588  
	`__wc¢πombs_chk_w¨n
 (
__d°
, 
__§c
, 
__nwc
, 
__Àn
, 
__ps
,

589 
	`__bos
 (
__d°
));

591  
	`__wc¢πombs_Æüs
 (
__d°
, 
__§c
, 
__nwc
, 
__Àn
, 
__ps
);

592 
	}
}

	@/usr/include/pthread.h

18 #i‚de‡
_PTHREAD_H


19 
	#_PTHREAD_H
 1

	)

21 
	~<„©uªs.h
>

22 
	~<ídün.h
>

23 
	~<sched.h
>

24 
	~<time.h
>

26 
	~<bôs/±hªadty≥s.h
>

27 
	~<bôs/£tjmp.h
>

28 
	~<bôs/w‹dsize.h
>

34 
	mPTHREAD_CREATE_JOINABLE
,

35 
	#PTHREAD_CREATE_JOINABLE
 
PTHREAD_CREATE_JOINABLE


	)

36 
	mPTHREAD_CREATE_DETACHED


37 
	#PTHREAD_CREATE_DETACHED
 
PTHREAD_CREATE_DETACHED


	)

44 
	mPTHREAD_MUTEX_TIMED_NP
,

45 
	mPTHREAD_MUTEX_RECURSIVE_NP
,

46 
	mPTHREAD_MUTEX_ERRORCHECK_NP
,

47 
	mPTHREAD_MUTEX_ADAPTIVE_NP


48 #i‡
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K8


50 
	mPTHREAD_MUTEX_NORMAL
 = 
PTHREAD_MUTEX_TIMED_NP
,

51 
	mPTHREAD_MUTEX_RECURSIVE
 = 
PTHREAD_MUTEX_RECURSIVE_NP
,

52 
	mPTHREAD_MUTEX_ERRORCHECK
 = 
PTHREAD_MUTEX_ERRORCHECK_NP
,

53 
	mPTHREAD_MUTEX_DEFAULT
 = 
PTHREAD_MUTEX_NORMAL


55 #ifde‡
__USE_GNU


57 , 
	mPTHREAD_MUTEX_FAST_NP
 = 
PTHREAD_MUTEX_TIMED_NP


62 #ifde‡
__USE_XOPEN2K


66 
	mPTHREAD_MUTEX_STALLED
,

67 
	mPTHREAD_MUTEX_STALLED_NP
 = 
PTHREAD_MUTEX_STALLED
,

68 
	mPTHREAD_MUTEX_ROBUST
,

69 
	mPTHREAD_MUTEX_ROBUST_NP
 = 
PTHREAD_MUTEX_ROBUST


74 #i‡
deföed
 
__USE_POSIX199506
 || deföed 
__USE_UNIX98


78 
	mPTHREAD_PRIO_NONE
,

79 
	mPTHREAD_PRIO_INHERIT
,

80 
	mPTHREAD_PRIO_PROTECT


85 #ifde‡
__PTHREAD_MUTEX_HAVE_PREV


86 
	#PTHREAD_MUTEX_INITIALIZER
 \

87 { { 0, 0, 0, 0, 0, 
__PTHREAD_SPINS
, { 0, 0 } } }

	)

88 #ifde‡
__USE_GNU


89 
	#PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP
 \

90 { { 0, 0, 0, 0, 
PTHREAD_MUTEX_RECURSIVE_NP
, 
__PTHREAD_SPINS
, { 0, 0 } } }

	)

91 
	#PTHREAD_ERRORCHECK_MUTEX_INITIALIZER_NP
 \

92 { { 0, 0, 0, 0, 
PTHREAD_MUTEX_ERRORCHECK_NP
, 
__PTHREAD_SPINS
, { 0, 0 } } }

	)

93 
	#PTHREAD_ADAPTIVE_MUTEX_INITIALIZER_NP
 \

94 { { 0, 0, 0, 0, 
PTHREAD_MUTEX_ADAPTIVE_NP
, 
__PTHREAD_SPINS
, { 0, 0 } } }

	)

95 
	#PTHREAD_ADAPTIVE_MUTEX_INITIALIZER_NP
 \

96 { { 0, 0, 0, 0, 
PTHREAD_MUTEX_ADAPTIVE_NP
, 
__PTHREAD_SPINS
, { 0, 0 } } }

	)

100 
	#PTHREAD_MUTEX_INITIALIZER
 \

101 { { 0, 0, 0, 0, 0, { 
__PTHREAD_SPINS
 } } }

	)

102 #ifde‡
__USE_GNU


103 
	#PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP
 \

104 { { 0, 0, 0, 
PTHREAD_MUTEX_RECURSIVE_NP
, 0, { 
__PTHREAD_SPINS
 } } }

	)

105 
	#PTHREAD_ERRORCHECK_MUTEX_INITIALIZER_NP
 \

106 { { 0, 0, 0, 
PTHREAD_MUTEX_ERRORCHECK_NP
, 0, { 
__PTHREAD_SPINS
 } } }

	)

107 
	#PTHREAD_ADAPTIVE_MUTEX_INITIALIZER_NP
 \

108 { { 0, 0, 0, 
PTHREAD_MUTEX_ADAPTIVE_NP
, 0, { 
__PTHREAD_SPINS
 } } }

	)

115 #i‡
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K


118 
	mPTHREAD_RWLOCK_PREFER_READER_NP
,

119 
	mPTHREAD_RWLOCK_PREFER_WRITER_NP
,

120 
	mPTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
,

121 
	mPTHREAD_RWLOCK_DEFAULT_NP
 = 
PTHREAD_RWLOCK_PREFER_READER_NP


127 #i‚de‡
__PTHREAD_RWLOCK_INT_FLAGS_SHARED


128 #i‡
__WORDSIZE
 == 64

129 
	#__PTHREAD_RWLOCK_INT_FLAGS_SHARED
 1

	)

134 
	#PTHREAD_RWLOCK_INITIALIZER
 \

135 { { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 } }

	)

136 #ifde‡
__USE_GNU


137 #ifde‡
__PTHREAD_RWLOCK_INT_FLAGS_SHARED


138 
	#PTHREAD_RWLOCK_WRITER_NONRECURSIVE_INITIALIZER_NP
 \

140 
PTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
 } }

	)

142 #i‡
__BYTE_ORDER
 =
__LITTLE_ENDIAN


143 
	#PTHREAD_RWLOCK_WRITER_NONRECURSIVE_INITIALIZER_NP
 \

144 { { 0, 0, 0, 0, 0, 0, 
PTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
, \

145 0, 0, 0, 0 } }

	)

147 
	#PTHREAD_RWLOCK_WRITER_NONRECURSIVE_INITIALIZER_NP
 \

148 { { 0, 0, 0, 0, 0, 0, 0, 0, 0, 
PTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
,\

149 0 } }

	)

159 
	mPTHREAD_INHERIT_SCHED
,

160 
	#PTHREAD_INHERIT_SCHED
 
PTHREAD_INHERIT_SCHED


	)

161 
	mPTHREAD_EXPLICIT_SCHED


162 
	#PTHREAD_EXPLICIT_SCHED
 
PTHREAD_EXPLICIT_SCHED


	)

169 
	mPTHREAD_SCOPE_SYSTEM
,

170 
	#PTHREAD_SCOPE_SYSTEM
 
PTHREAD_SCOPE_SYSTEM


	)

171 
	mPTHREAD_SCOPE_PROCESS


172 
	#PTHREAD_SCOPE_PROCESS
 
PTHREAD_SCOPE_PROCESS


	)

179 
	mPTHREAD_PROCESS_PRIVATE
,

180 
	#PTHREAD_PROCESS_PRIVATE
 
PTHREAD_PROCESS_PRIVATE


	)

181 
	mPTHREAD_PROCESS_SHARED


182 
	#PTHREAD_PROCESS_SHARED
 
PTHREAD_PROCESS_SHARED


	)

188 
	#PTHREAD_COND_INITIALIZER
 { { 0, 0, 0, 0, 0, (*Ë0, 0, 0 } }

	)

192 
	s_±hªad_˛ónup_buf„r


194 (*
	m__routöe
) (*);

195 *
	m__¨g
;

196 
	m__ˇn˚…y≥
;

197 
_±hªad_˛ónup_buf„r
 *
	m__¥ev
;

203 
	mPTHREAD_CANCEL_ENABLE
,

204 
	#PTHREAD_CANCEL_ENABLE
 
PTHREAD_CANCEL_ENABLE


	)

205 
	mPTHREAD_CANCEL_DISABLE


206 
	#PTHREAD_CANCEL_DISABLE
 
PTHREAD_CANCEL_DISABLE


	)

210 
	mPTHREAD_CANCEL_DEFERRED
,

211 
	#PTHREAD_CANCEL_DEFERRED
 
PTHREAD_CANCEL_DEFERRED


	)

212 
	mPTHREAD_CANCEL_ASYNCHRONOUS


213 
	#PTHREAD_CANCEL_ASYNCHRONOUS
 
PTHREAD_CANCEL_ASYNCHRONOUS


	)

215 
	#PTHREAD_CANCELED
 ((*Ë-1)

	)

219 
	#PTHREAD_ONCE_INIT
 0

	)

222 #ifde‡
__USE_XOPEN2K


226 
	#PTHREAD_BARRIER_SERIAL_THREAD
 -1

	)

230 
__BEGIN_DECLS


235 
±hªad_¸óã
 (
±hªad_t
 *
__ª°ri˘
 
__√wthªad
,

236 c⁄° 
±hªad_©å_t
 *
__ª°ri˘
 
__©å
,

237 *(*
__°¨t_routöe
) (*),

238 *
__ª°ri˘
 
__¨g
Ë
__THROWNL
 
__n⁄nuŒ
 ((1, 3));

244 
	$±hªad_exô
 (*
__ªtvÆ
Ë
	`__©åibuã__
 ((
__n‹ëu∫__
));

252 
	`±hªad_joö
 (
±hªad_t
 
__th
, **
__thªad_ªtu∫
);

254 #ifde‡
__USE_GNU


257 
	$±hªad_åyjoö_≈
 (
±hªad_t
 
__th
, **
__thªad_ªtu∫
Ë
__THROW
;

265 
	`±hªad_timedjoö_≈
 (
±hªad_t
 
__th
, **
__thªad_ªtu∫
,

266 c⁄° 
time•ec
 *
__ab°ime
);

273 
	$±hªad_dëach
 (
±hªad_t
 
__th
Ë
__THROW
;

277 
±hªad_t
 
	$±hªad_£lf
 (Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

280 
	$±hªad_equÆ
 (
±hªad_t
 
__thªad1
,Öthªad_à
__thªad2
)

281 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

289 
	$±hªad_©å_öô
 (
±hªad_©å_t
 *
__©å
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

292 
	$±hªad_©å_de°roy
 (
±hªad_©å_t
 *
__©å
)

293 
__THROW
 
	`__n⁄nuŒ
 ((1));

296 
	$±hªad_©å_gëdëach°©e
 (c⁄° 
±hªad_©å_t
 *
__©å
,

297 *
__dëach°©e
)

298 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

301 
	$±hªad_©å_£tdëach°©e
 (
±hªad_©å_t
 *
__©å
,

302 
__dëach°©e
)

303 
__THROW
 
	`__n⁄nuŒ
 ((1));

307 
	$±hªad_©å_gëgu¨dsize
 (c⁄° 
±hªad_©å_t
 *
__©å
,

308 
size_t
 *
__gu¨dsize
)

309 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

312 
	$±hªad_©å_£tgu¨dsize
 (
±hªad_©å_t
 *
__©å
,

313 
size_t
 
__gu¨dsize
)

314 
__THROW
 
	`__n⁄nuŒ
 ((1));

318 
	$±hªad_©å_gësched∑øm
 (c⁄° 
±hªad_©å_t
 *
__ª°ri˘
 
__©å
,

319 
sched_∑øm
 *
__ª°ri˘
 
__∑øm
)

320 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

323 
	$±hªad_©å_£tsched∑øm
 (
±hªad_©å_t
 *
__ª°ri˘
 
__©å
,

324 c⁄° 
sched_∑øm
 *
__ª°ri˘


325 
__∑øm
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

328 
	$±hªad_©å_gëschedpﬁicy
 (c⁄° 
±hªad_©å_t
 *
__ª°ri˘


329 
__©å
, *
__ª°ri˘
 
__pﬁicy
)

330 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

333 
	$±hªad_©å_£tschedpﬁicy
 (
±hªad_©å_t
 *
__©å
, 
__pﬁicy
)

334 
__THROW
 
	`__n⁄nuŒ
 ((1));

337 
	$±hªad_©å_gëöhîôsched
 (c⁄° 
±hªad_©å_t
 *
__ª°ri˘


338 
__©å
, *
__ª°ri˘
 
__öhîô
)

339 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

342 
	$±hªad_©å_£töhîôsched
 (
±hªad_©å_t
 *
__©å
,

343 
__öhîô
)

344 
__THROW
 
	`__n⁄nuŒ
 ((1));

348 
	$±hªad_©å_gësc›e
 (c⁄° 
±hªad_©å_t
 *
__ª°ri˘
 
__©å
,

349 *
__ª°ri˘
 
__sc›e
)

350 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

353 
	$±hªad_©å_£tsc›e
 (
±hªad_©å_t
 *
__©å
, 
__sc›e
)

354 
__THROW
 
	`__n⁄nuŒ
 ((1));

357 
	$±hªad_©å_gë°ackaddr
 (c⁄° 
±hªad_©å_t
 *
__ª°ri˘


358 
__©å
, **
__ª°ri˘
 
__°ackaddr
)

359 
__THROW
 
	`__n⁄nuŒ
 ((1, 2)Ë
__©åibuã_dïªˇãd__
;

365 
	$±hªad_©å_£t°ackaddr
 (
±hªad_©å_t
 *
__©å
,

366 *
__°ackaddr
)

367 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__©åibuã_dïªˇãd__
;

370 
	$±hªad_©å_gë°acksize
 (c⁄° 
±hªad_©å_t
 *
__ª°ri˘


371 
__©å
, 
size_t
 *
__ª°ri˘
 
__°acksize
)

372 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

377 
	$±hªad_©å_£t°acksize
 (
±hªad_©å_t
 *
__©å
,

378 
size_t
 
__°acksize
)

379 
__THROW
 
	`__n⁄nuŒ
 ((1));

381 #ifde‡
__USE_XOPEN2K


383 
	$±hªad_©å_gë°ack
 (c⁄° 
±hªad_©å_t
 *
__ª°ri˘
 
__©å
,

384 **
__ª°ri˘
 
__°ackaddr
,

385 
size_t
 *
__ª°ri˘
 
__°acksize
)

386 
__THROW
 
	`__n⁄nuŒ
 ((1, 2, 3));

391 
	$±hªad_©å_£t°ack
 (
±hªad_©å_t
 *
__©å
, *
__°ackaddr
,

392 
size_t
 
__°acksize
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

395 #ifde‡
__USE_GNU


398 
	$±hªad_©å_£èfföôy_≈
 (
±hªad_©å_t
 *
__©å
,

399 
size_t
 
__˝u£tsize
,

400 c⁄° 
˝u_£t_t
 *
__˝u£t
)

401 
__THROW
 
	`__n⁄nuŒ
 ((1, 3));

405 
	$±hªad_©å_gëafföôy_≈
 (c⁄° 
±hªad_©å_t
 *
__©å
,

406 
size_t
 
__˝u£tsize
,

407 
˝u_£t_t
 *
__˝u£t
)

408 
__THROW
 
	`__n⁄nuŒ
 ((1, 3));

414 
	$±hªad_gë©å_≈
 (
±hªad_t
 
__th
, 
±hªad_©å_t
 *
__©å
)

415 
__THROW
 
	`__n⁄nuŒ
 ((2));

423 
	$±hªad_£tsched∑øm
 (
±hªad_t
 
__èrgë_thªad
, 
__pﬁicy
,

424 c⁄° 
sched_∑øm
 *
__∑øm
)

425 
__THROW
 
	`__n⁄nuŒ
 ((3));

428 
	$±hªad_gësched∑øm
 (
±hªad_t
 
__èrgë_thªad
,

429 *
__ª°ri˘
 
__pﬁicy
,

430 
sched_∑øm
 *
__ª°ri˘
 
__∑øm
)

431 
__THROW
 
	`__n⁄nuŒ
 ((2, 3));

434 
	$±hªad_£tsched¥io
 (
±hªad_t
 
__èrgë_thªad
, 
__¥io
)

435 
__THROW
;

438 #ifde‡
__USE_GNU


440 
	$±hªad_gë«me_≈
 (
±hªad_t
 
__èrgë_thªad
, *
__buf
,

441 
size_t
 
__buÊí
)

442 
__THROW
 
	`__n⁄nuŒ
 ((2));

445 
	$±hªad_£äame_≈
 (
±hªad_t
 
__èrgë_thªad
, c⁄° *
__«me
)

446 
__THROW
 
	`__n⁄nuŒ
 ((2));

450 #ifde‡
__USE_UNIX98


452 
	$±hªad_gëc⁄cuºícy
 (Ë
__THROW
;

455 
	$±hªad_£tc⁄cuºícy
 (
__Àvñ
Ë
__THROW
;

458 #ifde‡
__USE_GNU


463 
	$±hªad_yõld
 (Ë
__THROW
;

468 
	$±hªad_£èfföôy_≈
 (
±hªad_t
 
__th
, 
size_t
 
__˝u£tsize
,

469 c⁄° 
˝u_£t_t
 *
__˝u£t
)

470 
__THROW
 
	`__n⁄nuŒ
 ((3));

473 
	$±hªad_gëafföôy_≈
 (
±hªad_t
 
__th
, 
size_t
 
__˝u£tsize
,

474 
˝u_£t_t
 *
__˝u£t
)

475 
__THROW
 
	`__n⁄nuŒ
 ((3));

488 
	`±hªad_⁄˚
 (
±hªad_⁄˚_t
 *
__⁄˚_c⁄åﬁ
,

489 (*
__öô_routöe
Ë()Ë
	`__n⁄nuŒ
 ((1, 2));

500 
	`±hªad_£tˇn˚l°©e
 (
__°©e
, *
__ﬁd°©e
);

504 
	`±hªad_£tˇn˚…y≥
 (
__ty≥
, *
__ﬁdty≥
);

507 
	`±hªad_ˇn˚l
 (
±hªad_t
 
__th
);

512 
	`±hªad_ã°ˇn˚l
 ();

521 
__jmp_buf
 
__ˇn˚l_jmp_buf
;

522 
__mask_was_ßved
;

523 } 
__ˇn˚l_jmp_buf
[1];

524 *
__∑d
[4];

525 } 
	t__±hªad_unwöd_buf_t
 
	t__©åibuã__
 ((
	t__Æig√d__
));

528 #i‚de‡
__˛ónup_f˘_©åibuã


529 
	#__˛ónup_f˘_©åibuã


	)

534 
	s__±hªad_˛ónup_‰ame


536 (*
__ˇn˚l_routöe
) (*);

537 *
__ˇn˚l_¨g
;

538 
__do_ô
;

539 
__ˇn˚l_ty≥
;

542 #i‡
deföed
 
__GNUC__
 && deföed 
__EXCEPTIONS


543 #ifde‡
__˝lu•lus


545 ˛as†
	c__±hªad_˛ónup_˛ass


547 (*
__ˇn˚l_routöe
) (*);

548 *
__ˇn˚l_¨g
;

549 
__do_ô
;

550 
__ˇn˚l_ty≥
;

552 
public
:

553 
	`__±hªad_˛ónup_˛ass
 ((*
__f˘
Ë(*), *
__¨g
)

554 : 
	`__ˇn˚l_routöe
 (
__f˘
), 
	`__ˇn˚l_¨g
 (
__¨g
), 
	$__do_ô
 (1) { }

555 ~
	$__±hªad_˛ónup_˛ass
 (Ë{ i‡(
__do_ô
Ë
	`__ˇn˚l_routöe
 (
__ˇn˚l_¨g
); 
	}
}

556 
	$__£tdoô
 (
__√wvÆ
Ë{ 
__do_ô
 = __√wvÆ; 
	}
}

557 
	$__de„r
 (Ë{ 
	`±hªad_£tˇn˚…y≥
 (
PTHREAD_CANCEL_DEFERRED
,

558 &
__ˇn˚l_ty≥
); 
	}
}

559 
	$__ª°‹e
 (Ëc⁄° { 
	`±hªad_£tˇn˚…y≥
 (
__ˇn˚l_ty≥
, 0); 
	}
}

569 
	#±hªad_˛ónup_push
(
routöe
, 
¨g
) \

571 
__±hªad_˛ónup_˛ass
 
	`__˛‰ame
 (
routöe
, 
¨g
)

	)

575 
	#±hªad_˛ónup_p›
(
execuã
) \

576 
__˛‰ame
.
	`__£tdoô
 (
execuã
); \

577 } 0)

	)

579 #ifde‡
__USE_GNU


583 
	#±hªad_˛ónup_push_de„r_≈
(
routöe
, 
¨g
) \

585 
__±hªad_˛ónup_˛ass
 
	`__˛‰ame
 (
routöe
, 
¨g
); \

586 
__˛‰ame
.
	`__de„r
 ()

	)

591 
	#±hªad_˛ónup_p›_ª°‹e_≈
(
execuã
) \

592 
__˛‰ame
.
	`__ª°‹e
 (); \

593 
__˛‰ame
.
	`__£tdoô
 (
execuã
); \

594 } 0)

	)

601 
__exã∫_ölöe
 

602 
	$__±hªad_˛ónup_routöe
 (
__±hªad_˛ónup_‰ame
 *
__‰ame
)

604 i‡(
__‰ame
->
__do_ô
)

605 
__‰ame
->
	`__ˇn˚l_routöe
 (__‰ame->
__ˇn˚l_¨g
);

606 
	}
}

615 
	#±hªad_˛ónup_push
(
routöe
, 
¨g
) \

617 
__±hªad_˛ónup_‰ame
 
__˛‰ame
 \

618 
	`__©åibuã__
 ((
	`__˛ónup__
 (
__±hªad_˛ónup_routöe
))) \

619 { .
__ˇn˚l_routöe
 = (
routöe
), .
__ˇn˚l_¨g
 = (
¨g
), \

620 .
__do_ô
 = 1 };

	)

624 
	#±hªad_˛ónup_p›
(
execuã
) \

625 
__˛‰ame
.
__do_ô
 = (
execuã
); \

626 } 0)

	)

628 #ifde‡
__USE_GNU


632 
	#±hªad_˛ónup_push_de„r_≈
(
routöe
, 
¨g
) \

634 
__±hªad_˛ónup_‰ame
 
__˛‰ame
 \

635 
	`__©åibuã__
 ((
	`__˛ónup__
 (
__±hªad_˛ónup_routöe
))) \

636 { .
__ˇn˚l_routöe
 = (
routöe
), .
__ˇn˚l_¨g
 = (
¨g
), \

637 .
__do_ô
 = 1 }; \

638 (Ë
	`±hªad_£tˇn˚…y≥
 (
PTHREAD_CANCEL_DEFERRED
, \

639 &
__˛‰ame
.
__ˇn˚l_ty≥
)

	)

644 
	#±hªad_˛ónup_p›_ª°‹e_≈
(
execuã
) \

645 (Ë
	`±hªad_£tˇn˚…y≥
 (
__˛‰ame
.
__ˇn˚l_ty≥
, 
NULL
); \

646 
__˛‰ame
.
__do_ô
 = (
execuã
); \

647 } 0)

	)

658 
	#±hªad_˛ónup_push
(
routöe
, 
¨g
) \

660 
__±hªad_unwöd_buf_t
 
__ˇn˚l_buf
; \

661 (*
__ˇn˚l_routöe
Ë(*Ë(
routöe
); \

662 *
__ˇn˚l_¨g
 = (
¨g
); \

663 
__nŸ_fú°_ˇŒ
 = 
	`__sig£tjmp
 ((
__jmp_buf_èg
 *) (*) \

664 
__ˇn˚l_buf
.
__ˇn˚l_jmp_buf
, 0); \

665 i‡(
	`__glibc_u∆ikñy
 (
__nŸ_fú°_ˇŒ
)) \

667 
	`__ˇn˚l_routöe
 (
__ˇn˚l_¨g
); \

668 
	`__±hªad_unwöd_√xt
 (&
__ˇn˚l_buf
); \

672 
	`__±hªad_ªgi°î_ˇn˚l
 (&
__ˇn˚l_buf
); \

673 dÿ{

	)

674 
__±hªad_ªgi°î_ˇn˚l
 (
__±hªad_unwöd_buf_t
 *
__buf
)

675 
__˛ónup_f˘_©åibuã
;

679 
	#±hªad_˛ónup_p›
(
execuã
) \

682 
	`__±hªad_uƒegi°î_ˇn˚l
 (&
__ˇn˚l_buf
); \

683 i‡(
execuã
) \

684 
	`__ˇn˚l_routöe
 (
__ˇn˚l_¨g
); \

685 } 0)

	)

686 
	$__±hªad_uƒegi°î_ˇn˚l
 (
__±hªad_unwöd_buf_t
 *
__buf
)

687 
__˛ónup_f˘_©åibuã
;

689 #ifde‡
__USE_GNU


693 
	#±hªad_˛ónup_push_de„r_≈
(
routöe
, 
¨g
) \

695 
__±hªad_unwöd_buf_t
 
__ˇn˚l_buf
; \

696 (*
__ˇn˚l_routöe
Ë(*Ë(
routöe
); \

697 *
__ˇn˚l_¨g
 = (
¨g
); \

698 
__nŸ_fú°_ˇŒ
 = 
	`__sig£tjmp
 ((
__jmp_buf_èg
 *) (*) \

699 
__ˇn˚l_buf
.
__ˇn˚l_jmp_buf
, 0); \

700 i‡(
	`__glibc_u∆ikñy
 (
__nŸ_fú°_ˇŒ
)) \

702 
	`__ˇn˚l_routöe
 (
__ˇn˚l_¨g
); \

703 
	`__±hªad_unwöd_√xt
 (&
__ˇn˚l_buf
); \

707 
	`__±hªad_ªgi°î_ˇn˚l_de„r
 (&
__ˇn˚l_buf
); \

708 dÿ{

	)

709 
	`__±hªad_ªgi°î_ˇn˚l_de„r
 (
__±hªad_unwöd_buf_t
 *
__buf
)

710 
__˛ónup_f˘_©åibuã
;

715 
	#±hªad_˛ónup_p›_ª°‹e_≈
(
execuã
) \

718 
	`__±hªad_uƒegi°î_ˇn˚l_ª°‹e
 (&
__ˇn˚l_buf
); \

719 i‡(
execuã
) \

720 
	`__ˇn˚l_routöe
 (
__ˇn˚l_¨g
); \

721 
	}
} 0)

	)

722 
	$__±hªad_uƒegi°î_ˇn˚l_ª°‹e
 (
__±hªad_unwöd_buf_t
 *
__buf
)

723 
__˛ónup_f˘_©åibuã
;

727 
	$__±hªad_unwöd_√xt
 (
__±hªad_unwöd_buf_t
 *
__buf
)

728 
__˛ónup_f˘_©åibuã
 
	`__©åibuã__
 ((
__n‹ëu∫__
))

729 #i‚de‡
SHARED


730 
	`__©åibuã__
 ((
__wók__
))

736 
__jmp_buf_èg
;

737 
	$__sig£tjmp
 (
__jmp_buf_èg
 *
__ív
, 
__ßvemask
Ë
__THROWNL
;

743 
	$±hªad_muãx_öô
 (
±hªad_muãx_t
 *
__muãx
,

744 c⁄° 
±hªad_muãx©å_t
 *
__muãx©å
)

745 
__THROW
 
	`__n⁄nuŒ
 ((1));

748 
	$±hªad_muãx_de°roy
 (
±hªad_muãx_t
 *
__muãx
)

749 
__THROW
 
	`__n⁄nuŒ
 ((1));

752 
	$±hªad_muãx_åylock
 (
±hªad_muãx_t
 *
__muãx
)

753 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

756 
	$±hªad_muãx_lock
 (
±hªad_muãx_t
 *
__muãx
)

757 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

759 #ifde‡
__USE_XOPEN2K


761 
	$±hªad_muãx_timedlock
 (
±hªad_muãx_t
 *
__ª°ri˘
 
__muãx
,

762 c⁄° 
time•ec
 *
__ª°ri˘


763 
__ab°ime
Ë
__THROWNL
 
	`__n⁄nuŒ
 ((1, 2));

767 
	$±hªad_muãx_u∆ock
 (
±hªad_muãx_t
 *
__muãx
)

768 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

772 
	$±hªad_muãx_gë¥io˚ûög
 (c⁄° 
±hªad_muãx_t
 *

773 
__ª°ri˘
 
__muãx
,

774 *
__ª°ri˘
 
__¥io˚ûög
)

775 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

779 
	$±hªad_muãx_£çrio˚ûög
 (
±hªad_muãx_t
 *
__ª°ri˘
 
__muãx
,

780 
__¥io˚ûög
,

781 *
__ª°ri˘
 
__ﬁd_˚ûög
)

782 
__THROW
 
	`__n⁄nuŒ
 ((1, 3));

785 #ifde‡
__USE_XOPEN2K8


787 
	$±hªad_muãx_c⁄si°ít
 (
±hªad_muãx_t
 *
__muãx
)

788 
__THROW
 
	`__n⁄nuŒ
 ((1));

789 #ifde‡
__USE_GNU


790 
	$±hªad_muãx_c⁄si°ít_≈
 (
±hªad_muãx_t
 *
__muãx
)

791 
__THROW
 
	`__n⁄nuŒ
 ((1));

800 
	$±hªad_muãx©å_öô
 (
±hªad_muãx©å_t
 *
__©å
)

801 
__THROW
 
	`__n⁄nuŒ
 ((1));

804 
	$±hªad_muãx©å_de°roy
 (
±hªad_muãx©å_t
 *
__©å
)

805 
__THROW
 
	`__n⁄nuŒ
 ((1));

808 
	$±hªad_muãx©å_gëpsh¨ed
 (c⁄° 
±hªad_muãx©å_t
 *

809 
__ª°ri˘
 
__©å
,

810 *
__ª°ri˘
 
__psh¨ed
)

811 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

814 
	$±hªad_muãx©å_£çsh¨ed
 (
±hªad_muãx©å_t
 *
__©å
,

815 
__psh¨ed
)

816 
__THROW
 
	`__n⁄nuŒ
 ((1));

818 #i‡
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K8


820 
	$±hªad_muãx©å_gëty≥
 (c⁄° 
±hªad_muãx©å_t
 *
__ª°ri˘


821 
__©å
, *
__ª°ri˘
 
__köd
)

822 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

827 
	$±hªad_muãx©å_£ây≥
 (
±hªad_muãx©å_t
 *
__©å
, 
__köd
)

828 
__THROW
 
	`__n⁄nuŒ
 ((1));

832 
	$±hªad_muãx©å_gë¥Ÿocﬁ
 (c⁄° 
±hªad_muãx©å_t
 *

833 
__ª°ri˘
 
__©å
,

834 *
__ª°ri˘
 
__¥Ÿocﬁ
)

835 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

839 
	$±hªad_muãx©å_£çrŸocﬁ
 (
±hªad_muãx©å_t
 *
__©å
,

840 
__¥Ÿocﬁ
)

841 
__THROW
 
	`__n⁄nuŒ
 ((1));

844 
	$±hªad_muãx©å_gë¥io˚ûög
 (c⁄° 
±hªad_muãx©å_t
 *

845 
__ª°ri˘
 
__©å
,

846 *
__ª°ri˘
 
__¥io˚ûög
)

847 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

850 
	$±hªad_muãx©å_£çrio˚ûög
 (
±hªad_muãx©å_t
 *
__©å
,

851 
__¥io˚ûög
)

852 
__THROW
 
	`__n⁄nuŒ
 ((1));

854 #ifde‡
__USE_XOPEN2K


856 
	$±hªad_muãx©å_gërobu°
 (c⁄° 
±hªad_muãx©å_t
 *
__©å
,

857 *
__robu°√ss
)

858 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

859 #ifde‡
__USE_GNU


860 
	$±hªad_muãx©å_gërobu°_≈
 (c⁄° 
±hªad_muãx©å_t
 *
__©å
,

861 *
__robu°√ss
)

862 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

866 
	$±hªad_muãx©å_£åobu°
 (
±hªad_muãx©å_t
 *
__©å
,

867 
__robu°√ss
)

868 
__THROW
 
	`__n⁄nuŒ
 ((1));

869 #ifde‡
__USE_GNU


870 
	$±hªad_muãx©å_£åobu°_≈
 (
±hªad_muãx©å_t
 *
__©å
,

871 
__robu°√ss
)

872 
__THROW
 
	`__n⁄nuŒ
 ((1));

877 #i‡
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K


882 
	$±hªad_rwlock_öô
 (
±hªad_rwlock_t
 *
__ª°ri˘
 
__rwlock
,

883 c⁄° 
±hªad_rwlock©å_t
 *
__ª°ri˘


884 
__©å
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

887 
	$±hªad_rwlock_de°roy
 (
±hªad_rwlock_t
 *
__rwlock
)

888 
__THROW
 
	`__n⁄nuŒ
 ((1));

891 
	$±hªad_rwlock_rdlock
 (
±hªad_rwlock_t
 *
__rwlock
)

892 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

895 
	$±hªad_rwlock_åyrdlock
 (
±hªad_rwlock_t
 *
__rwlock
)

896 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

898 #ifde‡
__USE_XOPEN2K


900 
	$±hªad_rwlock_timedrdlock
 (
±hªad_rwlock_t
 *
__ª°ri˘
 
__rwlock
,

901 c⁄° 
time•ec
 *
__ª°ri˘


902 
__ab°ime
Ë
__THROWNL
 
	`__n⁄nuŒ
 ((1, 2));

906 
	$±hªad_rwlock_wæock
 (
±hªad_rwlock_t
 *
__rwlock
)

907 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

910 
	$±hªad_rwlock_åywæock
 (
±hªad_rwlock_t
 *
__rwlock
)

911 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

913 #ifde‡
__USE_XOPEN2K


915 
	$±hªad_rwlock_timedwæock
 (
±hªad_rwlock_t
 *
__ª°ri˘
 
__rwlock
,

916 c⁄° 
time•ec
 *
__ª°ri˘


917 
__ab°ime
Ë
__THROWNL
 
	`__n⁄nuŒ
 ((1, 2));

921 
	$±hªad_rwlock_u∆ock
 (
±hªad_rwlock_t
 *
__rwlock
)

922 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

928 
	$±hªad_rwlock©å_öô
 (
±hªad_rwlock©å_t
 *
__©å
)

929 
__THROW
 
	`__n⁄nuŒ
 ((1));

932 
	$±hªad_rwlock©å_de°roy
 (
±hªad_rwlock©å_t
 *
__©å
)

933 
__THROW
 
	`__n⁄nuŒ
 ((1));

936 
	$±hªad_rwlock©å_gëpsh¨ed
 (c⁄° 
±hªad_rwlock©å_t
 *

937 
__ª°ri˘
 
__©å
,

938 *
__ª°ri˘
 
__psh¨ed
)

939 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

942 
	$±hªad_rwlock©å_£çsh¨ed
 (
±hªad_rwlock©å_t
 *
__©å
,

943 
__psh¨ed
)

944 
__THROW
 
	`__n⁄nuŒ
 ((1));

947 
	$±hªad_rwlock©å_gëköd_≈
 (c⁄° 
±hªad_rwlock©å_t
 *

948 
__ª°ri˘
 
__©å
,

949 *
__ª°ri˘
 
__¥ef
)

950 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

953 
	$±hªad_rwlock©å_£tköd_≈
 (
±hªad_rwlock©å_t
 *
__©å
,

954 
__¥ef
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

962 
	$±hªad_c⁄d_öô
 (
±hªad_c⁄d_t
 *
__ª°ri˘
 
__c⁄d
,

963 c⁄° 
±hªad_c⁄d©å_t
 *
__ª°ri˘
 
__c⁄d_©å
)

964 
__THROW
 
	`__n⁄nuŒ
 ((1));

967 
	$±hªad_c⁄d_de°roy
 (
±hªad_c⁄d_t
 *
__c⁄d
)

968 
__THROW
 
	`__n⁄nuŒ
 ((1));

971 
	$±hªad_c⁄d_sig«l
 (
±hªad_c⁄d_t
 *
__c⁄d
)

972 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

975 
	$±hªad_c⁄d_brﬂdˇ°
 (
±hªad_c⁄d_t
 *
__c⁄d
)

976 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

983 
	$±hªad_c⁄d_waô
 (
±hªad_c⁄d_t
 *
__ª°ri˘
 
__c⁄d
,

984 
±hªad_muãx_t
 *
__ª°ri˘
 
__muãx
)

985 
	`__n⁄nuŒ
 ((1, 2));

994 
	$±hªad_c⁄d_timedwaô
 (
±hªad_c⁄d_t
 *
__ª°ri˘
 
__c⁄d
,

995 
±hªad_muãx_t
 *
__ª°ri˘
 
__muãx
,

996 c⁄° 
time•ec
 *
__ª°ri˘
 
__ab°ime
)

997 
	`__n⁄nuŒ
 ((1, 2, 3));

1002 
	$±hªad_c⁄d©å_öô
 (
±hªad_c⁄d©å_t
 *
__©å
)

1003 
__THROW
 
	`__n⁄nuŒ
 ((1));

1006 
	$±hªad_c⁄d©å_de°roy
 (
±hªad_c⁄d©å_t
 *
__©å
)

1007 
__THROW
 
	`__n⁄nuŒ
 ((1));

1010 
	$±hªad_c⁄d©å_gëpsh¨ed
 (c⁄° 
±hªad_c⁄d©å_t
 *

1011 
__ª°ri˘
 
__©å
,

1012 *
__ª°ri˘
 
__psh¨ed
)

1013 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

1016 
	$±hªad_c⁄d©å_£çsh¨ed
 (
±hªad_c⁄d©å_t
 *
__©å
,

1017 
__psh¨ed
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

1019 #ifde‡
__USE_XOPEN2K


1021 
	$±hªad_c⁄d©å_gë˛ock
 (c⁄° 
±hªad_c⁄d©å_t
 *

1022 
__ª°ri˘
 
__©å
,

1023 
__˛ockid_t
 *
__ª°ri˘
 
__˛ock_id
)

1024 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

1027 
	$±hªad_c⁄d©å_£t˛ock
 (
±hªad_c⁄d©å_t
 *
__©å
,

1028 
__˛ockid_t
 
__˛ock_id
)

1029 
__THROW
 
	`__n⁄nuŒ
 ((1));

1033 #ifde‡
__USE_XOPEN2K


1038 
	$±hªad_•ö_öô
 (
±hªad_•ölock_t
 *
__lock
, 
__psh¨ed
)

1039 
__THROW
 
	`__n⁄nuŒ
 ((1));

1042 
	$±hªad_•ö_de°roy
 (
±hªad_•ölock_t
 *
__lock
)

1043 
__THROW
 
	`__n⁄nuŒ
 ((1));

1046 
	$±hªad_•ö_lock
 (
±hªad_•ölock_t
 *
__lock
)

1047 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

1050 
	$±hªad_•ö_åylock
 (
±hªad_•ölock_t
 *
__lock
)

1051 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

1054 
	$±hªad_•ö_u∆ock
 (
±hªad_•ölock_t
 *
__lock
)

1055 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

1062 
	$±hªad_b¨rõr_öô
 (
±hªad_b¨rõr_t
 *
__ª°ri˘
 
__b¨rõr
,

1063 c⁄° 
±hªad_b¨rõøâr_t
 *
__ª°ri˘


1064 
__©å
, 
__cou¡
)

1065 
__THROW
 
	`__n⁄nuŒ
 ((1));

1068 
	$±hªad_b¨rõr_de°roy
 (
±hªad_b¨rõr_t
 *
__b¨rõr
)

1069 
__THROW
 
	`__n⁄nuŒ
 ((1));

1072 
	$±hªad_b¨rõr_waô
 (
±hªad_b¨rõr_t
 *
__b¨rõr
)

1073 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

1077 
	$±hªad_b¨rõøâr_öô
 (
±hªad_b¨rõøâr_t
 *
__©å
)

1078 
__THROW
 
	`__n⁄nuŒ
 ((1));

1081 
	$±hªad_b¨rõøâr_de°roy
 (
±hªad_b¨rõøâr_t
 *
__©å
)

1082 
__THROW
 
	`__n⁄nuŒ
 ((1));

1085 
	$±hªad_b¨rõøâr_gëpsh¨ed
 (c⁄° 
±hªad_b¨rõøâr_t
 *

1086 
__ª°ri˘
 
__©å
,

1087 *
__ª°ri˘
 
__psh¨ed
)

1088 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

1091 
	$±hªad_b¨rõøâr_£çsh¨ed
 (
±hªad_b¨rõøâr_t
 *
__©å
,

1092 
__psh¨ed
)

1093 
__THROW
 
	`__n⁄nuŒ
 ((1));

1105 
	`±hªad_key_¸óã
 (
±hªad_key_t
 *
__key
,

1106 (*
__de°r_fun˘i⁄
) (*))

1107 
__THROW
 
	`__n⁄nuŒ
 ((1));

1110 
	$±hªad_key_dñëe
 (
±hªad_key_t
 
__key
Ë
__THROW
;

1113 *
	$±hªad_gë•ecific
 (
±hªad_key_t
 
__key
Ë
__THROW
;

1116 
	$±hªad_£t•ecific
 (
±hªad_key_t
 
__key
,

1117 c⁄° *
__poöãr
Ë
__THROW
 ;

1120 #ifde‡
__USE_XOPEN2K


1122 
	$±hªad_gë˝u˛ockid
 (
±hªad_t
 
__thªad_id
,

1123 
__˛ockid_t
 *
__˛ock_id
)

1124 
__THROW
 
	`__n⁄nuŒ
 ((2));

1139 
	`±hªad_©f‹k
 ((*
__¥ï¨e
) (),

1140 (*
__∑ª¡
) (),

1141 (*
__chûd
Ë()Ë
__THROW
;

1144 #ifde‡
__USE_EXTERN_INLINES


1146 
__exã∫_ölöe
 

1147 
	`__NTH
 (
	$±hªad_equÆ
 (
±hªad_t
 
__thªad1
,Öthªad_à
__thªad2
))

1149  
__thªad1
 =
__thªad2
;

1150 
	}
}

1153 
	g__END_DECLS


	@/usr/include/wctype.h

23 #i‚de‡
_WCTYPE_H


25 
	~<„©uªs.h
>

26 
	~<bôs/ty≥s.h
>

28 #i‚de‡
__√ed_iswxxx


29 
	#_WCTYPE_H
 1

	)

32 
	#__√ed_wöt_t


	)

33 
	~<wch¨.h
>

37 #i‚de‡
WEOF


38 
	#WEOF
 (0xffffffffu)

	)

41 #unde‡
__√ed_iswxxx


46 #i‚de‡
__iswxxx_deföed


47 
	#__iswxxx_deföed
 1

	)

49 
__BEGIN_NAMESPACE_C99


52 
	tw˘y≥_t
;

53 
	g__END_NAMESPACE_C99


55 #i‚de‡
_ISwbô


60 
	~<ídün.h
>

61 #i‡
__BYTE_ORDER
 =
__BIG_ENDIAN


62 
	#_ISwbô
(
bô
Ë(1 << (bô))

	)

64 
	#_ISwbô
(
bô
) \

65 ((
bô
) < 8 ? () ((1UL << (bit)) << 24) \

66 : ((
bô
) < 16 ? () ((1UL << (bit)) << 8) \

67 : ((
bô
) < 24 ? () ((1UL << (bit)) >> 8) \

68 : (Ë((1UL << (
bô
)Ë>> 24))))

	)

73 
	m__ISwuµî
 = 0,

74 
	m__ISwlowî
 = 1,

75 
	m__ISwÆpha
 = 2,

76 
	m__ISwdigô
 = 3,

77 
	m__ISwxdigô
 = 4,

78 
	m__ISw•a˚
 = 5,

79 
	m__ISw¥öt
 = 6,

80 
	m__ISwgøph
 = 7,

81 
	m__ISwbœnk
 = 8,

82 
	m__ISw˙ål
 = 9,

83 
	m__ISwpun˘
 = 10,

84 
	m__ISwÆnum
 = 11,

86 
	m_ISwuµî
 = 
_ISwbô
 (
__ISwuµî
),

87 
	m_ISwlowî
 = 
_ISwbô
 (
__ISwlowî
),

88 
	m_ISwÆpha
 = 
_ISwbô
 (
__ISwÆpha
),

89 
	m_ISwdigô
 = 
_ISwbô
 (
__ISwdigô
),

90 
	m_ISwxdigô
 = 
_ISwbô
 (
__ISwxdigô
),

91 
	m_ISw•a˚
 = 
_ISwbô
 (
__ISw•a˚
),

92 
	m_ISw¥öt
 = 
_ISwbô
 (
__ISw¥öt
),

93 
	m_ISwgøph
 = 
_ISwbô
 (
__ISwgøph
),

94 
	m_ISwbœnk
 = 
_ISwbô
 (
__ISwbœnk
),

95 
	m_ISw˙ål
 = 
_ISwbô
 (
__ISw˙ål
),

96 
	m_ISwpun˘
 = 
_ISwbô
 (
__ISwpun˘
),

97 
	m_ISwÆnum
 = 
_ISwbô
 (
__ISwÆnum
)

102 
__BEGIN_DECLS


104 
__BEGIN_NAMESPACE_C99


111 
	$iswÆnum
 (
wöt_t
 
__wc
Ë
__THROW
;

117 
	$iswÆpha
 (
wöt_t
 
__wc
Ë
__THROW
;

120 
	$isw˙ål
 (
wöt_t
 
__wc
Ë
__THROW
;

124 
	$iswdigô
 (
wöt_t
 
__wc
Ë
__THROW
;

128 
	$iswgøph
 (
wöt_t
 
__wc
Ë
__THROW
;

133 
	$iswlowî
 (
wöt_t
 
__wc
Ë
__THROW
;

136 
	$isw¥öt
 (
wöt_t
 
__wc
Ë
__THROW
;

141 
	$iswpun˘
 (
wöt_t
 
__wc
Ë
__THROW
;

146 
	$isw•a˚
 (
wöt_t
 
__wc
Ë
__THROW
;

151 
	$iswuµî
 (
wöt_t
 
__wc
Ë
__THROW
;

156 
	$iswxdigô
 (
wöt_t
 
__wc
Ë
__THROW
;

161 #ifde‡
__USE_ISOC99


162 
	$iswbœnk
 (
wöt_t
 
__wc
Ë
__THROW
;

171 
w˘y≥_t
 
	$w˘y≥
 (c⁄° *
__¥›îty
Ë
__THROW
;

175 
	$isw˘y≥
 (
wöt_t
 
__wc
, 
w˘y≥_t
 
__desc
Ë
__THROW
;

176 
__END_NAMESPACE_C99


183 
__BEGIN_NAMESPACE_C99


186 c⁄° 
	t__öt32_t
 *
	tw˘øns_t
;

187 
__END_NAMESPACE_C99


188 #ifde‡
__USE_GNU


189 
	$__USING_NAMESPACE_C99
(
w˘øns_t
)

192 
__BEGIN_NAMESPACE_C99


194 
wöt_t
 
	$towlowî
 (
wöt_t
 
__wc
Ë
__THROW
;

197 
wöt_t
 
	$towuµî
 (
wöt_t
 
__wc
Ë
__THROW
;

198 
__END_NAMESPACE_C99


200 
__END_DECLS


207 #ifde‡
_WCTYPE_H


213 
__BEGIN_DECLS


215 
__BEGIN_NAMESPACE_C99


218 
w˘øns_t
 
	$w˘øns
 (c⁄° *
__¥›îty
Ë
__THROW
;

221 
wöt_t
 
	$tow˘øns
 (
wöt_t
 
__wc
, 
w˘øns_t
 
__desc
Ë
__THROW
;

222 
__END_NAMESPACE_C99


224 #ifde‡
__USE_XOPEN2K8


226 
	~<xloˇÀ.h
>

230 
	$iswÆnum_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

236 
	$iswÆpha_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

239 
	$isw˙ål_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

243 
	$iswdigô_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

247 
	$iswgøph_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

252 
	$iswlowî_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

255 
	$isw¥öt_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

260 
	$iswpun˘_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

265 
	$isw•a˚_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

270 
	$iswuµî_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

275 
	$iswxdigô_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

280 
	$iswbœnk_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

284 
w˘y≥_t
 
	$w˘y≥_l
 (c⁄° *
__¥›îty
, 
__loˇÀ_t
 
__loˇÀ
)

285 
__THROW
;

289 
	$isw˘y≥_l
 (
wöt_t
 
__wc
, 
w˘y≥_t
 
__desc
, 
__loˇÀ_t
 
__loˇÀ
)

290 
__THROW
;

298 
wöt_t
 
	$towlowî_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

301 
wöt_t
 
	$towuµî_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

305 
w˘øns_t
 
	$w˘øns_l
 (c⁄° *
__¥›îty
, 
__loˇÀ_t
 
__loˇÀ
)

306 
__THROW
;

309 
wöt_t
 
	$tow˘øns_l
 (
wöt_t
 
__wc
, 
w˘øns_t
 
__desc
,

310 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

314 
__END_DECLS


	@/usr/include/bits/setjmp.h

19 #i‚de‡
_BITS_SETJMP_H


20 
	#_BITS_SETJMP_H
 1

	)

22 #i‡!
deföed
 
_SETJMP_H
 && !deföed 
_PTHREAD_H


26 
	~<bôs/w‹dsize.h
>

28 #i‚de‡
_ASM


30 #i‡
__WORDSIZE
 == 64

31 
	t__jmp_buf
[8];

32 #ñi‡
deföed
 
__x86_64__


33 
	t__jmp_buf
[8];

35 
	t__jmp_buf
[6];

	@/usr/include/sched.h

20 #i‚def 
_SCHED_H


21 
	#_SCHED_H
 1

	)

23 
	~<„©uªs.h
>

26 
	~<bôs/ty≥s.h
>

28 
	#__√ed_size_t


	)

29 
	~<°ddef.h
>

31 
	#__√ed_time_t


	)

32 
	#__√ed_time•ec


	)

33 
	~<time.h
>

35 #i‚de‡
__pid_t_deföed


36 
__pid_t
 
	tpid_t
;

37 
	#__pid_t_deföed


	)

42 
	~<bôs/sched.h
>

44 
	#sched_¥i‹ôy
 
__sched_¥i‹ôy


	)

47 
__BEGIN_DECLS


50 
	$sched_£ç¨am
 (
__pid_t
 
__pid
, c⁄° 
sched_∑øm
 *
__∑øm
)

51 
__THROW
;

54 
	$sched_gë∑øm
 (
__pid_t
 
__pid
, 
sched_∑øm
 *
__∑øm
Ë
__THROW
;

57 
	$sched_£tscheduÀr
 (
__pid_t
 
__pid
, 
__pﬁicy
,

58 c⁄° 
sched_∑øm
 *
__∑øm
Ë
__THROW
;

61 
	$sched_gëscheduÀr
 (
__pid_t
 
__pid
Ë
__THROW
;

64 
	$sched_yõld
 (Ë
__THROW
;

67 
	$sched_gë_¥i‹ôy_max
 (
__Æg‹ôhm
Ë
__THROW
;

70 
	$sched_gë_¥i‹ôy_mö
 (
__Æg‹ôhm
Ë
__THROW
;

73 
	$sched_º_gë_öãrvÆ
 (
__pid_t
 
__pid
, 
time•ec
 *
__t
Ë
__THROW
;

76 #ifde‡
__USE_GNU


78 
	#CPU_SETSIZE
 
__CPU_SETSIZE


	)

79 
	#CPU_SET
(
˝u
, 
˝u£ç
Ë
	`__CPU_SET_S
 (˝u,  (
˝u_£t_t
), cpu£ç)

	)

80 
	#CPU_CLR
(
˝u
, 
˝u£ç
Ë
	`__CPU_CLR_S
 (˝u,  (
˝u_£t_t
), cpu£ç)

	)

81 
	#CPU_ISSET
(
˝u
, 
˝u£ç
Ë
	`__CPU_ISSET_S
 (˝u,  (
˝u_£t_t
), \

82 
˝u£ç
)

	)

83 
	#CPU_ZERO
(
˝u£ç
Ë
	`__CPU_ZERO_S
 ( (
˝u_£t_t
), cpu£ç)

	)

84 
	#CPU_COUNT
(
˝u£ç
Ë
	`__CPU_COUNT_S
 ( (
˝u_£t_t
), cpu£ç)

	)

86 
	#CPU_SET_S
(
˝u
, 
£tsize
, 
˝u£ç
Ë
	`__CPU_SET_S
 (˝u, sësize, cpu£ç)

	)

87 
	#CPU_CLR_S
(
˝u
, 
£tsize
, 
˝u£ç
Ë
	`__CPU_CLR_S
 (˝u, sësize, cpu£ç)

	)

88 
	#CPU_ISSET_S
(
˝u
, 
£tsize
, 
˝u£ç
Ë
	`__CPU_ISSET_S
 (cpu, setsize, \

89 
˝u£ç
)

	)

90 
	#CPU_ZERO_S
(
£tsize
, 
˝u£ç
Ë
	`__CPU_ZERO_S
 (£tsize, cpu£ç)

	)

91 
	#CPU_COUNT_S
(
£tsize
, 
˝u£ç
Ë
	`__CPU_COUNT_S
 (£tsize, cpu£ç)

	)

93 
	#CPU_EQUAL
(
˝u£ç1
, 
˝u£ç2
) \

94 
	`__CPU_EQUAL_S
 ( (
˝u_£t_t
), 
˝u£ç1
, 
˝u£ç2
)

	)

95 
	#CPU_EQUAL_S
(
£tsize
, 
˝u£ç1
, 
˝u£ç2
) \

96 
	`__CPU_EQUAL_S
 (
£tsize
, 
˝u£ç1
, 
˝u£ç2
)

	)

98 
	#CPU_AND
(
de°£t
, 
§c£t1
, 
§c£t2
) \

99 
	`__CPU_OP_S
 ( (
˝u_£t_t
), 
de°£t
, 
§c£t1
, 
§c£t2
, &)

	)

100 
	#CPU_OR
(
de°£t
, 
§c£t1
, 
§c£t2
) \

101 
	`__CPU_OP_S
 ( (
˝u_£t_t
), 
de°£t
, 
§c£t1
, 
§c£t2
, |)

	)

102 
	#CPU_XOR
(
de°£t
, 
§c£t1
, 
§c£t2
) \

103 
	`__CPU_OP_S
 ( (
˝u_£t_t
), 
de°£t
, 
§c£t1
, 
§c£t2
, ^)

	)

104 
	#CPU_AND_S
(
£tsize
, 
de°£t
, 
§c£t1
, 
§c£t2
) \

105 
	`__CPU_OP_S
 (
£tsize
, 
de°£t
, 
§c£t1
, 
§c£t2
, &)

	)

106 
	#CPU_OR_S
(
£tsize
, 
de°£t
, 
§c£t1
, 
§c£t2
) \

107 
	`__CPU_OP_S
 (
£tsize
, 
de°£t
, 
§c£t1
, 
§c£t2
, |)

	)

108 
	#CPU_XOR_S
(
£tsize
, 
de°£t
, 
§c£t1
, 
§c£t2
) \

109 
	`__CPU_OP_S
 (
£tsize
, 
de°£t
, 
§c£t1
, 
§c£t2
, ^)

	)

111 
	#CPU_ALLOC_SIZE
(
cou¡
Ë
	`__CPU_ALLOC_SIZE
 (cou¡)

	)

112 
	#CPU_ALLOC
(
cou¡
Ë
	`__CPU_ALLOC
 (cou¡)

	)

113 
	#CPU_FREE
(
˝u£t
Ë
	`__CPU_FREE
 (˝u£t)

	)

117 
	$sched_£èfföôy
 (
__pid_t
 
__pid
, 
size_t
 
__˝u£tsize
,

118 c⁄° 
˝u_£t_t
 *
__˝u£t
Ë
__THROW
;

121 
	$sched_gëafföôy
 (
__pid_t
 
__pid
, 
size_t
 
__˝u£tsize
,

122 
˝u_£t_t
 *
__˝u£t
Ë
__THROW
;

125 
__END_DECLS


	@/usr/include/bits/sched.h

21 #i‚de‡
__√ed_sched∑øm


23 #i‚de‡
_SCHED_H


29 
	#SCHED_OTHER
 0

	)

30 
	#SCHED_FIFO
 1

	)

31 
	#SCHED_RR
 2

	)

32 #ifde‡
__USE_GNU


33 
	#SCHED_BATCH
 3

	)

34 
	#SCHED_IDLE
 5

	)

36 
	#SCHED_RESET_ON_FORK
 0x40000000

	)

39 #ifde‡
__USE_GNU


41 
	#CSIGNAL
 0x000000f‡

	)

42 
	#CLONE_VM
 0x00000100

	)

43 
	#CLONE_FS
 0x00000200

	)

44 
	#CLONE_FILES
 0x00000400

	)

45 
	#CLONE_SIGHAND
 0x00000800

	)

46 
	#CLONE_PTRACE
 0x00002000

	)

47 
	#CLONE_VFORK
 0x00004000

	)

49 
	#CLONE_PARENT
 0x00008000

	)

51 
	#CLONE_THREAD
 0x00010000

	)

52 
	#CLONE_NEWNS
 0x00020000

	)

53 
	#CLONE_SYSVSEM
 0x00040000

	)

54 
	#CLONE_SETTLS
 0x00080000

	)

55 
	#CLONE_PARENT_SETTID
 0x00100000

	)

57 
	#CLONE_CHILD_CLEARTID
 0x00200000

	)

59 
	#CLONE_DETACHED
 0x00400000

	)

60 
	#CLONE_UNTRACED
 0x00800000

	)

62 
	#CLONE_CHILD_SETTID
 0x01000000

	)

64 
	#CLONE_NEWUTS
 0x04000000

	)

65 
	#CLONE_NEWIPC
 0x08000000

	)

66 
	#CLONE_NEWUSER
 0x10000000

	)

67 
	#CLONE_NEWPID
 0x20000000

	)

68 
	#CLONE_NEWNET
 0x40000000

	)

69 
	#CLONE_IO
 0x80000000

	)

73 
	ssched_∑øm


75 
	m__sched_¥i‹ôy
;

78 
	g__BEGIN_DECLS


80 #ifde‡
__USE_GNU


82 
˛⁄e
 ((*
__‚
Ë(*
__¨g
), *
__chûd_°ack
,

83 
__Êags
, *
__¨g
, ...Ë
__THROW
;

86 
	$unsh¨e
 (
__Êags
Ë
__THROW
;

89 
	$sched_gë˝u
 (Ë
__THROW
;

92 
	$£äs
 (
__fd
, 
__n°y≥
Ë
__THROW
;

96 
__END_DECLS


100 #i‡!
deföed
 
__deföed_sched∑øm
 \

101 && (
deföed
 
__√ed_sched∑øm
 || deföed 
_SCHED_H
)

102 
	#__deföed_sched∑øm
 1

	)

104 
	s__sched_∑øm


106 
__sched_¥i‹ôy
;

108 #unde‡
__√ed_sched∑øm


112 #i‡
deföed
 
_SCHED_H
 && !deföed 
__˝u_£t_t_deföed


113 
	#__˝u_£t_t_deföed


	)

115 
	#__CPU_SETSIZE
 1024

	)

116 
	#__NCPUBITS
 (8 *  (
__˝u_mask
))

	)

119 
	t__˝u_mask
;

122 
	#__CPUELT
(
˝u
Ë((˝uË/ 
__NCPUBITS
)

	)

123 
	#__CPUMASK
(
˝u
Ë((
__˝u_mask
Ë1 << ((˝uË% 
__NCPUBITS
))

	)

128 
__˝u_mask
 
__bôs
[
__CPU_SETSIZE
 / 
__NCPUBITS
];

129 } 
	t˝u_£t_t
;

132 #i‡
	`__GNUC_PREREQ
 (2, 91)

133 
	#__CPU_ZERO_S
(
£tsize
, 
˝u£ç
) \

134 dÿ
	`__buûtö_mem£t
 (
˝u£ç
, '\0', 
£tsize
); 0)

	)

136 
	#__CPU_ZERO_S
(
£tsize
, 
˝u£ç
) \

138 
size_t
 
__i
; \

139 
size_t
 
__imax
 = (
£tsize
Ë/  (
__˝u_mask
); \

140 
__˝u_mask
 *
__bôs
 = (
˝u£ç
)->__bits; \

141 
__i
 = 0; __ò< 
__imax
; ++__i) \

142 
__bôs
[
__i
] = 0; \

143 
	}
} 0)

	)

145 
	#__CPU_SET_S
(
˝u
, 
£tsize
, 
˝u£ç
) \

146 (
__exãnsi⁄__
 \

147 ({ 
size_t
 
__˝u
 = (
˝u
); \

148 
__˝u
 < 8 * (
£tsize
) \

149 ? (((
__˝u_mask
 *Ë((
˝u£ç
)->
__bôs
))[
	`__CPUELT
 (
__˝u
)] \

150 |
	`__CPUMASK
 (
__˝u
)) \

151 : 0; }))

	)

152 
	#__CPU_CLR_S
(
˝u
, 
£tsize
, 
˝u£ç
) \

153 (
__exãnsi⁄__
 \

154 ({ 
size_t
 
__˝u
 = (
˝u
); \

155 
__˝u
 < 8 * (
£tsize
) \

156 ? (((
__˝u_mask
 *Ë((
˝u£ç
)->
__bôs
))[
	`__CPUELT
 (
__˝u
)] \

157 &~
	`__CPUMASK
 (
__˝u
)) \

158 : 0; }))

	)

159 
	#__CPU_ISSET_S
(
˝u
, 
£tsize
, 
˝u£ç
) \

160 (
__exãnsi⁄__
 \

161 ({ 
size_t
 
__˝u
 = (
˝u
); \

162 
__˝u
 < 8 * (
£tsize
) \

163 ? ((((c⁄° 
__˝u_mask
 *Ë((
˝u£ç
)->
__bôs
))[
	`__CPUELT
 (
__˝u
)] \

164 & 
	`__CPUMASK
 (
__˝u
))) != 0 \

165 : 0; }))

	)

167 
	#__CPU_COUNT_S
(
£tsize
, 
˝u£ç
) \

168 
	`__sched_˝ucou¡
 (
£tsize
, 
˝u£ç
)

	)

170 #i‡
__GNUC_PREREQ
 (2, 91)

171 
	#__CPU_EQUAL_S
(
£tsize
, 
˝u£ç1
, 
˝u£ç2
) \

172 (
	`__buûtö_memcmp
 (
˝u£ç1
, 
˝u£ç2
, 
£tsize
Ë=0)

	)

174 
	#__CPU_EQUAL_S
(
£tsize
, 
˝u£ç1
, 
˝u£ç2
) \

175 (
__exãnsi⁄__
 \

176 ({ c⁄° 
__˝u_mask
 *
__¨r1
 = (
˝u£ç1
)->
__bôs
; \

177 c⁄° 
__˝u_mask
 *
__¨r2
 = (
˝u£ç2
)->
__bôs
; \

178 
size_t
 
__imax
 = (
£tsize
Ë/  (
__˝u_mask
); \

179 
size_t
 
__i
; \

180 
__i
 = 0; __ò< 
__imax
; ++__i) \

181 i‡(
__¨r1
[
__i
] !
__¨r2
[__i]) \

183 
__i
 =
__imax
; }))

	)

186 
	#__CPU_OP_S
(
£tsize
, 
de°£t
, 
§c£t1
, 
§c£t2
, 
›
) \

187 (
__exãnsi⁄__
 \

188 ({ 
˝u_£t_t
 *
__de°
 = (
de°£t
); \

189 c⁄° 
__˝u_mask
 *
__¨r1
 = (
§c£t1
)->
__bôs
; \

190 c⁄° 
__˝u_mask
 *
__¨r2
 = (
§c£t2
)->
__bôs
; \

191 
size_t
 
__imax
 = (
£tsize
Ë/  (
__˝u_mask
); \

192 
size_t
 
__i
; \

193 
__i
 = 0; __ò< 
__imax
; ++__i) \

194 ((
__˝u_mask
 *Ë
__de°
->
__bôs
)[
__i
] = 
__¨r1
[__i] 
›
 
__¨r2
[__i]; \

195 
__de°
; }))

	)

197 
	#__CPU_ALLOC_SIZE
(
cou¡
) \

198 ((((
cou¡
Ë+ 
__NCPUBITS
 - 1Ë/ __NCPUBITSË*  (
__˝u_mask
))

	)

199 
	#__CPU_ALLOC
(
cou¡
Ë
	`__sched_˝uÆloc
 (cou¡)

	)

200 
	#__CPU_FREE
(
˝u£t
Ë
	`__sched_˝u‰ì
 (˝u£t)

	)

202 
__BEGIN_DECLS


204 
	$__sched_˝ucou¡
 (
size_t
 
__£tsize
, c⁄° 
˝u_£t_t
 *
__£ç
)

205 
__THROW
;

206 
˝u_£t_t
 *
	$__sched_˝uÆloc
 (
size_t
 
__cou¡
Ë
__THROW
 
__wur
;

207 
	$__sched_˝u‰ì
 (
˝u_£t_t
 *
__£t
Ë
__THROW
;

209 
__END_DECLS


	@
1
.
1
/usr/include
137
2997
AccessUnit.h
CommonDef.h
ContextModel.cpp
ContextModel.h
ContextModel3DBuffer.cpp
ContextModel3DBuffer.h
ContextTables.h
Debug.cpp
Debug.h
NAL.h
ProfileLevelTierFeatures.cpp
ProfileLevelTierFeatures.h
SEI.cpp
SEI.h
SEIFilmGrainSynthesizer.cpp
SEIFilmGrainSynthesizer.h
TComBitCounter.h
TComBitStream.cpp
TComBitStream.h
TComCABACTables.cpp
TComCABACTables.h
TComChromaFormat.cpp
TComChromaFormat.h
TComCodingStatistics.h
TComDataCU.cpp
TComDataCU.h
TComInterpolationFilter.cpp
TComInterpolationFilter.h
TComList.h
TComLoopFilter.cpp
TComLoopFilter.h
TComMotionInfo.cpp
TComMotionInfo.h
TComMv.h
TComPattern.cpp
TComPattern.h
TComPic.cpp
TComPic.h
TComPicSym.cpp
TComPicSym.h
TComPicYuv.cpp
TComPicYuv.h
TComPicYuvMD5.cpp
TComPrediction.cpp
TComPrediction.h
TComRdCost.cpp
TComRdCost.h
TComRdCostWeightPrediction.cpp
TComRdCostWeightPrediction.h
TComRectangle.h
TComRom.cpp
TComRom.h
TComSampleAdaptiveOffset.cpp
TComSampleAdaptiveOffset.h
TComSlice.cpp
TComSlice.h
TComTU.cpp
TComTU.h
TComTrQuant.cpp
TComTrQuant.h
TComWeightPrediction.cpp
TComWeightPrediction.h
TComYuv.cpp
TComYuv.h
TypeDef.h
/usr/include/assert.h
/usr/include/malloc.h
/usr/include/math.h
/usr/include/memory.h
/usr/include/stdint.h
/usr/include/stdio.h
/usr/include/stdlib.h
/usr/include/string.h
/usr/include/alloca.h
/usr/include/bits/huge_val.h
/usr/include/bits/huge_valf.h
/usr/include/bits/huge_vall.h
/usr/include/bits/inf.h
/usr/include/bits/math-finite.h
/usr/include/bits/mathcalls.h
/usr/include/bits/mathdef.h
/usr/include/bits/mathinline.h
/usr/include/bits/nan.h
/usr/include/bits/stdio-ldbl.h
/usr/include/bits/stdio.h
/usr/include/bits/stdio2.h
/usr/include/bits/stdio_lim.h
/usr/include/bits/stdlib-float.h
/usr/include/bits/stdlib-ldbl.h
/usr/include/bits/stdlib.h
/usr/include/bits/string.h
/usr/include/bits/string2.h
/usr/include/bits/string3.h
/usr/include/bits/sys_errlist.h
/usr/include/bits/types.h
/usr/include/bits/waitflags.h
/usr/include/bits/waitstatus.h
/usr/include/bits/wchar.h
/usr/include/bits/wordsize.h
/usr/include/features.h
/usr/include/getopt.h
/usr/include/libio.h
/usr/include/sys/types.h
/usr/include/xlocale.h
/usr/include/_G_config.h
/usr/include/bits/libio-ldbl.h
/usr/include/bits/pthreadtypes.h
/usr/include/bits/stdio-lock.h
/usr/include/bits/typesizes.h
/usr/include/ctype.h
/usr/include/endian.h
/usr/include/gnu/stubs.h
/usr/include/stdc-predef.h
/usr/include/sys/cdefs.h
/usr/include/sys/select.h
/usr/include/sys/sysmacros.h
/usr/include/time.h
/usr/include/bits/byteswap.h
/usr/include/bits/endian.h
/usr/include/bits/libc-lock.h
/usr/include/bits/select.h
/usr/include/bits/select2.h
/usr/include/bits/sigset.h
/usr/include/bits/time.h
/usr/include/gconv.h
/usr/include/gnu/stubs-32.h
/usr/include/gnu/stubs-64.h
/usr/include/wchar.h
/usr/include/bits/byteswap-16.h
/usr/include/bits/timex.h
/usr/include/bits/wchar-ldbl.h
/usr/include/bits/wchar2.h
/usr/include/pthread.h
/usr/include/wctype.h
/usr/include/bits/setjmp.h
/usr/include/sched.h
/usr/include/bits/sched.h
